"use strict";(self.webpackChunksleeperstats=self.webpackChunksleeperstats||[]).push([[179],{3338:(Z,z,F)=>{var C=F(5879);let Y=null;function ie(){return Y}class K{}const ue=new C.OlP("DocumentToken");let Q=(()=>{class r{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:function(){return(0,C.f3M)(X)},providedIn:"platform"})}return r})();const le=new C.OlP("Location Initialized");let X=(()=>{class r extends Q{constructor(){super(),this._doc=(0,C.f3M)(ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(e){const n=ie().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=ie().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,i){this._history.pushState(e,n,i)}replaceState(e,n,i){this._history.replaceState(e,n,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:function(){return new r},providedIn:"platform"})}return r})();function q(r,t){if(0==r.length)return t;if(0==t.length)return r;let e=0;return r.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?r+t.substring(1):1==e?r+t:r+"/"+t}function ee(r){const t=r.match(/#|\?|$/),e=t&&t.index||r.length;return r.slice(0,e-("/"===r[e-1]?1:0))+r.slice(e)}function oe(r){return r&&"?"!==r[0]?"?"+r:r}let be=(()=>{class r{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:function(){return(0,C.f3M)(Xe)},providedIn:"root"})}return r})();const Oe=new C.OlP("appBaseHref");let Xe=(()=>{class r extends be{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??(0,C.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return q(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+oe(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${n}${i}`:n}pushState(e,n,i,o){const s=this.prepareExternalUrl(i+oe(o));this._platformLocation.pushState(e,n,s)}replaceState(e,n,i,o){const s=this.prepareExternalUrl(i+oe(o));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(Q),C.LFG(Oe,8))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Me=(()=>{class r extends be{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=q(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,i,o){let s=this.prepareExternalUrl(i+oe(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,n,s)}replaceState(e,n,i,o){let s=this.prepareExternalUrl(i+oe(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(Q),C.LFG(Oe,8))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})(),ct=(()=>{class r{constructor(e){this._subject=new C.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function he(r){if(new RegExp("^(https?:)?//").test(r)){const[,e]=r.split(/\/\/[^\/]+/);return e}return r}(ee(_t(n))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+oe(n))}normalize(e){return r.stripTrailingSlash(function ft(r,t){if(!r||!t.startsWith(r))return t;const e=t.substring(r.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,_t(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",i=null){this._locationStrategy.pushState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+oe(n)),i)}replaceState(e,n="",i=null){this._locationStrategy.replaceState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+oe(n)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(i=>i(e,n))}subscribe(e,n,i){return this._subject.subscribe({next:e,error:n,complete:i})}static#e=this.normalizeQueryParams=oe;static#t=this.joinWithSlash=q;static#n=this.stripTrailingSlash=ee;static#i=this.\u0275fac=function(n){return new(n||r)(C.LFG(be))};static#r=this.\u0275prov=C.Yz7({token:r,factory:function(){return function st(){return new ct((0,C.LFG)(be))}()},providedIn:"root"})}return r})();function _t(r){return r.replace(/\/index.html$/,"")}function js(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const n=e.indexOf("="),[i,o]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}let cc=(()=>{class r{constructor(e,n){this._viewContainer=e,this._context=new ES,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ch("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ch("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||r)(C.Y36(C.s_b),C.Y36(C.Rgc))};static#t=this.\u0275dir=C.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return r})();class ES{constructor(){this.$implicit=null,this.ngIf=null}}function Ch(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,C.AaK)(t)}'.`)}let dc=(()=>{class r{constructor(e,n,i){this._ngEl=e,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){const[i,o]=e.split("."),s=-1===i.indexOf("-")?void 0:C.JOm.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${n}${o}`:n,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static#e=this.\u0275fac=function(n){return new(n||r)(C.Y36(C.SBq),C.Y36(C.aQg),C.Y36(C.Qsj))};static#t=this.\u0275dir=C.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return r})(),Xn=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=C.oAB({type:r});static#n=this.\u0275inj=C.cJS({})}return r})();function zl(r){return"server"===r}let ss=(()=>{class r{static#e=this.\u0275prov=(0,C.Yz7)({token:r,providedIn:"root",factory:()=>new Rh((0,C.LFG)(ue),window)})}return r})();class Rh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function TS(r,t){const e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if("function"==typeof r.createTreeWalker&&r.body&&"function"==typeof r.body.attachShadow){const n=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class as{}class NS extends K{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hy extends NS{static makeCurrent(){!function ge(r){Y||(Y=r)}(new hy)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function IT(){return Mh=Mh||document.querySelector("base"),Mh?Mh.getAttribute("href"):null}();return null==e?null:function FT(r){Jp=Jp||document.createElement("a"),Jp.setAttribute("href",r);const t=Jp.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Mh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return js(document.cookie,t)}}let Jp,Mh=null,LT=(()=>{class r{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();const GS=new C.OlP("EventManagerPlugins");let VS=(()=>{class r{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,i){return this._findPluginFor(n).addEventListener(e,n,i)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new C.vHH(5101,!1);return this._eventNameToPlugin.set(e,n),n}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(GS),C.LFG(C.R0b))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();class eg{constructor(t){this._doc=t}}const tg="ng-app-id";let HS=(()=>{class r{constructor(e,n,i,o={}){this.doc=e,this.appId=n,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zl(o),this.resetHostNodes()}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.elements?.forEach(i=>i.remove()),n.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${tg}="${this.appId}"]`);if(e?.length){const n=new Map;return e.forEach(i=>{null!=i.textContent&&n.set(i.textContent,i)}),n}return null}changeUsageCount(e,n){const i=this.styleRef;if(i.has(e)){const o=i.get(e);return o.usage+=n,o.usage}return i.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){const i=this.styleNodesInDOM,o=i?.get(n);if(o?.parentNode===e)return i.delete(n),o.removeAttribute(tg),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=n,this.platformIsServer&&s.setAttribute(tg,this.appId),s}}addStyleToHost(e,n){const i=this.getStyleElement(e,n);e.appendChild(i);const o=this.styleRef,s=o.get(n)?.elements;s?s.push(i):o.set(n,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(ue),C.LFG(C.AFp),C.LFG(C.Ojb,8),C.LFG(C.Lbi))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();const fy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ng=/%COMP%/g,us=new C.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Dn(r,t){return t.map(e=>e.replace(ng,r))}let Ph=(()=>{class r{constructor(e,n,i,o,s,a,c,h=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=zl(a),this.defaultRenderer=new gc(e,s,c,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===C.ifc.ShadowDom&&(n={...n,encapsulation:C.ifc.Emulated});const i=this.getOrCreateRenderer(e,n);return i instanceof US?i.applyToHost(e):i instanceof Qi&&i.applyStyles(),i}getOrCreateRenderer(e,n){const i=this.rendererByCompId;let o=i.get(n.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(n.encapsulation){case C.ifc.Emulated:o=new US(c,h,n,this.appId,p,s,a,g);break;case C.ifc.ShadowDom:return new vc(c,h,e,n,s,a,this.nonce,g);default:o=new Qi(c,h,n,p,s,a,g)}i.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(VS),C.LFG(HS),C.LFG(C.AFp),C.LFG(us),C.LFG(ue),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(C.Ojb))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();class gc{constructor(t,e,n,i){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(fy[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(vy(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(vy(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new C.vHH(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const o=fy[i];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=fy[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(C.JOm.DashCase|C.JOm.Important)?t.style.setProperty(e,n,i&C.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&C.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){if("string"==typeof t&&!(t=ie().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function vy(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class vc extends gc{constructor(t,e,n,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=Dn(i.id,i.styles);for(const p of h){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qi extends gc{constructor(t,e,n,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=c?Dn(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class US extends Qi{constructor(t,e,n,i,o,s,a,c){const h=i+"-"+n.id;super(t,e,n,o,s,a,c,h),this.contentAttr=function BS(r){return"_ngcontent-%COMP%".replace(ng,r)}(h),this.hostAttr=function jS(r){return"_nghost-%COMP%".replace(ng,r)}(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}let GT=(()=>{class r extends eg{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,i){return e.addEventListener(n,i,!1),()=>this.removeEventListener(e,n,i)}removeEventListener(e,n,i){return e.removeEventListener(n,i)}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(ue))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();const WS=["alt","control","meta","shift"],Fa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zS={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let VT=(()=>{class r extends eg{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,n,i){const o=r.parseEventName(n),s=r.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ie().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const o=r._normalizeKey(n.pop());let s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),WS.forEach(h=>{const p=n.indexOf(h);p>-1&&(n.splice(p,1),s+=h+".")}),s+=o,0!=n.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(e,n){let i=Fa[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WS.forEach(s=>{s!==i&&(0,zS[s])(e)&&(o+=s+".")}),o+=i,o===n)}static eventCallback(e,n,i){return o=>{r.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>n(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(ue))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();const jT=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:"browser"},{provide:C.g9A,useValue:function xt(){hy.makeCurrent()},multi:!0},{provide:ue,useFactory:function yN(){return(0,C.RDi)(document),document},deps:[]}]),UT=new C.OlP(""),yy=[{provide:C.rWj,useClass:class kS{addToWindow(t){C.dqk.getAngularTestability=(n,i=!0)=>{const o=t.findTestabilityInTree(n,i);if(null==o)throw new C.vHH(5103,!1);return o},C.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(n=>{const i=C.dqk.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&n(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?ie().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:C.lri,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]}],Xl=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function $S(){return new C.qLn},deps:[]},{provide:GS,useClass:GT,multi:!0,deps:[ue,C.R0b,C.Lbi]},{provide:GS,useClass:VT,multi:!0,deps:[ue]},Ph,HS,VS,{provide:C.FYo,useExisting:Ph},{provide:as,useClass:LT,deps:[]},[]];let YS=(()=>{class r{constructor(e){}static withServerTransition(e){return{ngModule:r,providers:[{provide:C.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(UT,12))};static#t=this.\u0275mod=C.oAB({type:r});static#n=this.\u0275inj=C.cJS({providers:[...Xl,...yy],imports:[Xn,C.hGG]})}return r})(),xe=(()=>{class r{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(ue))};static#t=this.\u0275prov=C.Yz7({token:r,factory:function(n){let i=null;return i=n?new n:function zT(){return new xe((0,C.LFG)(ue))}(),i},providedIn:"root"})}return r})();typeof window<"u"&&window;var yt=F(2096),di=F(9666),cs=F(5592),Zl=F(6328),wr=F(2181),Kt=F(7398),$r=F(9360);function Fh(r){return(0,$r.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(r)}})}var bn=F(4664);class ds{}class xn{}class hs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const i=e.slice(0,n),o=i.toLowerCase(),s=e.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof hs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new hs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof hs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ZT{encodeKey(t){return Lh(t)}encodeValue(t){return Lh(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const iE=/%(\d[a-f0-9])/gi,rE={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lh(r){return encodeURIComponent(r).replace(iE,(t,e)=>rE[e]??t)}function Po(r){return`${r}`}class ka{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ZT,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function QT(r,t){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],i=Array.isArray(n)?n.map(Po):[Po(n)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ka({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Po(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const i=n.indexOf(Po(t.value));-1!==i&&n.splice(i,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class rg{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function sg(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function _y(r){return typeof Blob<"u"&&r instanceof Blob}function wy(r){return typeof FormData<"u"&&r instanceof FormData}class fs{constructor(t,e,n,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function og(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new hs),this.context||(this.context=new rg),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new ka,this.urlWithParams=e}serializeBody(){return null===this.body?null:sg(this.body)||_y(this.body)||wy(this.body)||function JT(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ka?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wy(this.body)?null:_y(this.body)?this.body.type||null:sg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ka?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,h=t.params||this.params;const p=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((g,m)=>g.set(m,t.setHeaders[m]),c)),t.setParams&&(h=Object.keys(t.setParams).reduce((g,m)=>g.set(m,t.setParams[m]),h)),new fs(e,n,o,{params:h,headers:c,context:p,reportProgress:a,responseType:i,withCredentials:s})}}var ps=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(ps||{});class Sy{constructor(t,e=200,n="OK"){this.headers=t.headers||new hs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class oE extends Sy{constructor(t={}){super(t),this.type=ps.ResponseHeader}clone(t={}){return new oE({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ga extends Sy{constructor(t={}){super(t),this.type=ps.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ga({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class eA extends Sy{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ey(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let sE=(()=>{class r{constructor(e){this.handler=e}request(e,n,i={}){let o;if(e instanceof fs)o=e;else{let c,h;c=i.headers instanceof hs?i.headers:new hs(i.headers),i.params&&(h=i.params instanceof ka?i.params:new ka({fromObject:i.params})),o=new fs(e,n,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:h,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=(0,yt.of)(o).pipe((0,Zl.b)(c=>this.handler.handle(c)));if(e instanceof fs||"events"===i.observe)return s;const a=s.pipe((0,wr.h)(c=>c instanceof Ga));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe((0,Kt.U)(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe((0,Kt.U)(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe((0,Kt.U)(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe((0,Kt.U)(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new ka).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,i={}){return this.request("PATCH",e,Ey(i,n))}post(e,n,i={}){return this.request("POST",e,Ey(i,n))}put(e,n,i={}){return this.request("PUT",e,Ey(i,n))}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(ds))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();function Nh(r,t){return t(r)}function RN(r,t){return(e,n)=>t.intercept(e,{handle:i=>r(i,n)})}const cE=new C.OlP(""),kh=new C.OlP(""),Io=new C.OlP("");function tA(){let r=null;return(t,e)=>{null===r&&(r=((0,C.f3M)(cE,{optional:!0})??[]).reduceRight(RN,Nh));const n=(0,C.f3M)(C.HDt),i=n.add();return r(t,e).pipe(Fh(()=>n.remove(i)))}}let Gh=(()=>{class r extends ds{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=(0,C.f3M)(C.HDt)}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(kh),...this.injector.get(Io,[])]));this.chain=i.reduceRight((o,s)=>function uE(r,t,e){return(n,i)=>e.runInContext(()=>t(n,o=>r(o,i)))}(o,s,this.injector),Nh)}const n=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Fh(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(xn),C.LFG(C.lqb))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();const Ql=/^\)\]\}',?\n/;let Ry=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new C.vHH(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?(0,di.D)(n.\u0275loadImpl()):(0,yt.of)(null)).pipe((0,bn.w)(()=>new cs.y(o=>{const s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((E,b)=>s.setRequestHeader(E,b.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const E=e.detectContentTypeHeader();null!==E&&s.setRequestHeader("Content-Type",E)}if(e.responseType){const E=e.responseType.toLowerCase();s.responseType="json"!==E?E:"text"}const a=e.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const E=s.statusText||"OK",b=new hs(s.getAllResponseHeaders()),R=function oA(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(s)||e.url;return c=new oE({headers:b,status:s.status,statusText:E,url:R}),c},p=()=>{let{headers:E,status:b,statusText:R,url:T}=h(),A=null;204!==b&&(A=typeof s.response>"u"?s.responseText:s.response),0===b&&(b=A?200:0);let x=b>=200&&b<300;if("json"===e.responseType&&"string"==typeof A){const P=A;A=A.replace(Ql,"");try{A=""!==A?JSON.parse(A):null}catch(k){A=P,x&&(x=!1,A={error:k,text:A})}}x?(o.next(new Ga({body:A,headers:E,status:b,statusText:R,url:T||void 0})),o.complete()):o.error(new eA({error:A,headers:E,status:b,statusText:R,url:T||void 0}))},g=E=>{const{url:b}=h(),R=new eA({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(R)};let m=!1;const _=E=>{m||(o.next(h()),m=!0);let b={type:ps.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(b.total=E.total),"text"===e.responseType&&s.responseText&&(b.partialText=s.responseText),o.next(b)},w=E=>{let b={type:ps.UploadProgress,loaded:E.loaded};E.lengthComputable&&(b.total=E.total),o.next(b)};return s.addEventListener("load",p),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),e.reportProgress&&(s.addEventListener("progress",_),null!==a&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:ps.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",p),s.removeEventListener("timeout",g),e.reportProgress&&(s.removeEventListener("progress",_),null!==a&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(as))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();const ag=new C.OlP("XSRF_ENABLED"),gE=new C.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),vE=new C.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ty{}let Ay=(()=>{class r{constructor(e,n,i){this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=js(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(ue),C.LFG(C.Lbi),C.LFG(gE))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();function sA(r,t){const e=r.url.toLowerCase();if(!(0,C.f3M)(ag)||"GET"===r.method||"HEAD"===r.method||e.startsWith("http://")||e.startsWith("https://"))return t(r);const n=(0,C.f3M)(Ty).getToken(),i=(0,C.f3M)(vE);return null!=n&&!r.headers.has(i)&&(r=r.clone({headers:r.headers.set(i,n)})),t(r)}var gs=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(gs||{});function _c(...r){const t=[sE,Ry,Gh,{provide:ds,useExisting:Gh},{provide:xn,useExisting:Ry},{provide:kh,useValue:sA,multi:!0},{provide:ag,useValue:!0},{provide:Ty,useClass:Ay}];for(const e of r)t.push(...e.\u0275providers);return(0,C.MR2)(t)}const xy=new C.OlP("LEGACY_INTERCEPTOR_FN");function My(){return function po(r,t){return{\u0275kind:r,\u0275providers:t}}(gs.LegacyInterceptors,[{provide:xy,useFactory:tA},{provide:kh,useExisting:xy,multi:!0}])}let xN=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=C.oAB({type:r});static#n=this.\u0275inj=C.cJS({providers:[_c(My())]})}return r})();const{isArray:dA}=Array,{getPrototypeOf:go,prototype:Sc,keys:mE}=Object;function jh(r){if(1===r.length){const t=r[0];if(dA(t))return{args:t,keys:null};if(function Uh(r){return r&&"object"==typeof r&&go(r)===Sc}(t)){const e=mE(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:r,keys:null}}var Wh=F(4829),ug=F(4564),er=F(8251);const{isArray:MN}=Array;function cg(r){return(0,Kt.U)(t=>function Kr(r,t){return MN(t)?r(...t):r(t)}(r,t))}function Jl(r,t){return r.reduce((e,n,i)=>(e[n]=t[i],e),{})}let Iy=(()=>{class r{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(n){return new(n||r)(C.Y36(C.Qsj),C.Y36(C.SBq))};static#t=this.\u0275dir=C.lG2({type:r})}return r})(),eu=(()=>{class r extends Iy{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=C.n5z(r)))(i||r)}}();static#t=this.\u0275dir=C.lG2({type:r,features:[C.qOj]})}return r})();const vs=new C.OlP("NgValueAccessor"),fA={provide:vs,useExisting:(0,C.Gpc)(()=>tu),multi:!0},Fy=new C.OlP("CompositionEventMode");let tu=(()=>{class r extends Iy{constructor(e,n,i){super(e,n),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pA(){const r=ie()?ie().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(n){return new(n||r)(C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(Fy,8))};static#t=this.\u0275dir=C.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&C.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[C._Bn([fA]),C.qOj]})}return r})();const Vi=new C.OlP("NgValidators"),Fo=new C.OlP("NgAsyncValidators");function ky(r){return null!=r}function SE(r){return(0,C.QGY)(r)?(0,di.D)(r):r}function mA(r){let t={};return r.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function EE(r,t){return t.map(e=>e(r))}function DE(r){return r.map(t=>function yA(r){return!r.validate}(t)?t:e=>t.validate(e))}function hg(r){return null!=r?function Kh(r){if(!r)return null;const t=r.filter(ky);return 0==t.length?null:function(e){return mA(EE(e,t))}}(DE(r)):null}function fg(r){return null!=r?function bE(r){if(!r)return null;const t=r.filter(ky);return 0==t.length?null:function(e){return function PN(...r){const t=(0,ug.jO)(r),{args:e,keys:n}=jh(r),i=new cs.y(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let c=s,h=s;for(let p=0;p<s;p++){let g=!1;(0,Wh.Xf)(e[p]).subscribe((0,er.x)(o,m=>{g||(g=!0,h--),a[p]=m},()=>c--,void 0,()=>{(!c||!g)&&(h||o.next(n?Jl(n,a):a),o.complete())}))}});return t?i.pipe(cg(t)):i}(EE(e,t).map(SE)).pipe((0,Kt.U)(mA))}}(DE(r)):null}function CA(r,t){return null===r?[t]:Array.isArray(r)?[...r,t]:[r,t]}function Vy(r){return r?Array.isArray(r)?r:[r]:[]}function pg(r,t){return Array.isArray(r)?r.includes(t):r===t}function gg(r,t){const e=Vy(t);return Vy(r).forEach(i=>{pg(e,i)||e.push(i)}),e}function wA(r,t){return Vy(t).filter(e=>!pg(r,e))}class SA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=hg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=fg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ri extends SA{get formDirective(){return null}get path(){return null}}class iu extends SA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class EA{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let DA=(()=>{class r extends EA{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||r)(C.Y36(iu,2))};static#t=this.\u0275dir=C.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&C.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[C.qOj]})}return r})(),OE=(()=>{class r extends EA{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||r)(C.Y36(Ri,10))};static#t=this.\u0275dir=C.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,i){2&n&&C.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[C.qOj]})}return r})();const qh="VALID",mg="INVALID",ou="PENDING",Xh="DISABLED";function Uy(r){return(bc(r)?r.validators:r)||null}function Zh(r,t){return(bc(t)?t.asyncValidators:r)||null}function bc(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class Wy{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===qh}get invalid(){return this.status===mg}get pending(){return this.status==ou}get disabled(){return this.status===Xh}get enabled(){return this.status!==Xh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(gg(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(gg(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(wA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(wA(t,this._rawAsyncValidators))}hasValidator(t){return pg(this._rawValidators,t)}hasAsyncValidator(t){return pg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ou,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Xh,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=qh,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qh||this.status===ou)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xh:qh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ou,this._hasOwnPendingAsyncValidator=!0;const e=SE(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,i)=>n&&n._find(i),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new C.vpe,this.statusChanges=new C.vpe}_calculateStatus(){return this._allControlsDisabled()?Xh:this.errors?mg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ou)?ou:this._anyControlsHaveStatus(mg)?mg:qh}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Sr(r){return Array.isArray(r)?hg(r):r||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function ME(r){return Array.isArray(r)?fg(r):r||null}(this._rawAsyncValidators)}}class yg extends Wy{constructor(t,e,n){super(Uy(e),Zh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Oc(r,t,e){r._forEachChild((n,i)=>{if(void 0===e[i])throw new C.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function Ti(r,t,e){const n=r.controls;if(!(t?Object.keys(n):n).length)throw new C.vHH(1e3,"");if(!n[e])throw new C.vHH(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const i=this.controls[n];i&&i.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,i)=>((n.enabled||this.disabled)&&(e[i]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((i,o)=>{n=e(n,i,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Rc=new C.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Qh}),Qh="always";function Jh(r,t,e=Qh){su(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(r.disabled),function IA(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&zy(r,t)})}(r,t),function IE(r,t){const e=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,t),function PE(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&zy(r,t),"submit"!==r.updateOn&&r.markAsTouched()})}(r,t),function PA(r,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,t)}function Ac(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function su(r,t){const e=function Gy(r){return r._rawValidators}(r);null!==t.validator?r.setValidators(CA(e,t.validator)):"function"==typeof e&&r.setValidators([e]);const n=function _A(r){return r._rawAsyncValidators}(r);null!==t.asyncValidator?r.setAsyncValidators(CA(n,t.asyncValidator)):"function"==typeof n&&r.setAsyncValidators([n]);const i=()=>r.updateValueAndValidity();Ac(t._rawValidators,i),Ac(t._rawAsyncValidators,i)}function zy(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}const Xy={provide:Ri,useExisting:(0,C.Gpc)(()=>Sg)},lu=(()=>Promise.resolve())();let Sg=(()=>{class r extends Ri{constructor(e,n,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new C.vpe,this.form=new yg({},hg(e),fg(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){lu.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Jh(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){lu.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){lu.then(()=>{const n=this._findContainer(e.path),i=new yg({});(function au(r,t){su(r,t)})(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){lu.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){lu.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function FE(r,t){r._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(n){return new(n||r)(C.Y36(Vi,10),C.Y36(Fo,10),C.Y36(Rc,8))};static#t=this.\u0275dir=C.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,i){1&n&&C.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([Xy]),C.qOj]})}return r})();function NE(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}function Eg(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const Zy=class extends Wy{constructor(t=null,e,n){super(Uy(e),Zh(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Eg(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){NE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){NE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Eg(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},VE={provide:iu,useExisting:(0,C.Gpc)(()=>bg)},Dg=(()=>Promise.resolve())();let bg=(()=>{class r extends iu{constructor(e,n,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Zy,this._registered=!1,this.name="",this.update=new C.vpe,this._parent=e,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=function Yy(r,t){if(!t)return null;let e,n,i;return Array.isArray(t),t.forEach(o=>{o.constructor===tu?e=o:function LA(r){return Object.getPrototypeOf(r.constructor)===eu}(o)?n=o:i=o}),i||n||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Ky(r,t){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Jh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Dg.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const n=e.isDisabled.currentValue,i=0!==n&&(0,C.VuI)(n);Dg.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Cg(r,t){return[...t.path,r]}(e,this._parent):[e]}static#e=this.\u0275fac=function(n){return new(n||r)(C.Y36(Ri,9),C.Y36(Vi,10),C.Y36(Fo,10),C.Y36(vs,10),C.Y36(C.sBO,8),C.Y36(Rc,8))};static#t=this.\u0275dir=C.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[C._Bn([VE]),C.qOj,C.TTD]})}return r})(),ef=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275dir=C.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return r})(),rC=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=C.oAB({type:r});static#n=this.\u0275inj=C.cJS({})}return r})(),UN=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=C.oAB({type:r});static#n=this.\u0275inj=C.cJS({imports:[rC]})}return r})(),qA=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:Rc,useValue:e.callSetDisabledState??Qh}]}}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=C.oAB({type:r});static#n=this.\u0275inj=C.cJS({imports:[UN]})}return r})();function ms(r){return null==r||""===r?null:r}function _e(r,t){return void 0===t&&(t=!1),null!=r&&(""!==r||t)}function ht(r){return!_e(r)}function Yr(r){return null==r||0===r.length}function cu(r){return null!=r&&"function"==typeof r.toString?r.toString():null}function vo(r){if(void 0!==r){if(null===r||""===r)return null;if("number"==typeof r)return isNaN(r)?void 0:r;var t=parseInt(r,10);return isNaN(t)?void 0:t}}function tr(r){if(void 0!==r)return null!==r&&""!==r&&("boolean"==typeof r?r:/true/i.test(r))}function du(r){if(r instanceof Set||r instanceof Map){var t=[];return r.forEach(function(e){return t.push(e)}),t}return Object.values(r)}var QA=Object.freeze({__proto__:null,makeNull:ms,exists:_e,missing:ht,missingOrEmpty:Yr,toStringOrNull:cu,attrToNumber:vo,attrToBoolean:tr,attrToString:function XA(r){if(null!=r&&""!==r)return r},referenceCompare:function ZA(r,t){return null==r&&null==t||!(null==r&&null!=t||null!=r&&null==t)&&r===t},jsonEquals:function n0(r,t){return(r?JSON.stringify(r):null)===(t?JSON.stringify(t):null)},defaultComparator:function r0(r,t,e){void 0===e&&(e=!1);var n=null==r,i=null==t;if(r&&r.toNumber&&(r=r.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function o(s,a){return s>a?1:s<a?-1:0}if("string"!=typeof r||!e)return o(r,t);try{return r.localeCompare(t)}catch{return o(r,t)}},values:du}),JA=function(){function r(){this.existingKeys={}}return r.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},r.prototype.getUniqueKey=function(t,e){t=cu(t);for(var n=0;;){var i=void 0;if(t?(i=t,0!==n&&(i+="_"+n)):e?(i=e,0!==n&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}},r}(),ex=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o0=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o};function jn(r,t){var e,n;if(null!=r){if(Array.isArray(r)){for(var i=0;i<r.length;i++)t(i.toString(),r[i]);return}try{for(var o=ex(Object.entries(r)),s=o.next();!s.done;s=o.next()){var a=o0(s.value,2);t(a[0],a[1])}}catch(p){e={error:p}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}}function s0(r){for(var t={},e=Object.keys(r),n=0;n<e.length;n++){var i=e[n];t[i]=r[i]}return t}function on(r,t){if(r){var e=r,n={};return Object.keys(e).forEach(function(i){if(!(t&&t.indexOf(i)>=0)){var o=e[i],s=Vc(o)&&o.constructor===Object;n[i]=s?on(o):o}}),n}}function Gc(r,t){return r[t]}function hC(r,t,e){r[t]=e}function Ag(r,t,e,n){var i=Gc(r,e);void 0!==i&&hC(t,e,n?n(i):i)}function xg(r){var t={};return r.filter(function(e){return null!=e}).forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=null})}),Object.keys(t)}function ys(r){if(!r)return[];var t=Object;if("function"==typeof t.values)return t.values(r);var e=[];for(var n in r)r.hasOwnProperty(n)&&r.propertyIsEnumerable(n)&&e.push(r[n]);return e}function Er(r,t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),_e(t)&&jn(t,function(i,o){var s=r[i];s!==o&&(n&&null==s&&null!=o&&"object"==typeof o&&o.constructor===Object&&(r[i]=s={}),Vc(o)&&Vc(s)&&!Array.isArray(s)?Er(s,o,e,n):(e||void 0!==o)&&(r[i]=o))})}function Ha(r,t,e){if(t&&r){if(!e)return r[t];for(var n=t.split("."),i=r,o=0;o<n.length;o++){if(null==i)return;i=i[n[o]]}return i}}function u0(r,t){Object.keys(r).forEach(function(i){"object"==typeof r[i]&&(r[i]=void 0)});var e=Object.getPrototypeOf(r),n={};Object.keys(e).forEach(function(i){"function"==typeof e[i]&&(n[i]={value:function(){console.warn("AG Grid: "+t+" function "+i+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(r,n)}function Vc(r){return"object"==typeof r&&null!==r}var c0=Object.freeze({__proto__:null,iterateObject:jn,cloneObject:s0,deepCloneObject:function rf(r){return JSON.parse(JSON.stringify(r))},deepCloneDefinition:on,getProperty:Gc,setProperty:hC,copyPropertiesIfPresent:function a0(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];e.forEach(function(i){return Ag(r,t,i)})},copyPropertyIfPresent:Ag,getAllKeysInObjects:xg,getAllValuesInObject:ys,mergeDeep:Er,missingOrEmptyObject:function l0(r){return ht(r)||0===Object.keys(r).length},get:function Mg(r,t,e){if(null==r)return e;for(var n=t.split("."),i=r;n.length>1;)if(null==(i=i[n.shift()]))return e;return i[n[0]]??e},set:function KN(r,t,e){if(null!=r){var n=t.split("."),i=r;n.forEach(function(o,s){i[o]||(i[o]={}),s<n.length-1&&(i=i[o])}),i[n[n.length-1]]=e}},getValueUsingField:Ha,removeAllReferences:u0,isNonNullObject:Vc}),fC={};function Lt(r,t){fC[t]||(r(),fC[t]=!0)}function Pg(r){if(r.name)return r.name;var t=/function\s+([^\(]+)/.exec(r.toString());return t&&2===t.length?t[1].trim():null}function Hc(r){return!!(r&&r.constructor&&r.call&&r.apply)}function sf(r){Lo(r,400)}var pC=[],af=!1;function Bc(r){pC.push(r),!af&&(af=!0,window.setTimeout(function(){var t=pC.slice();pC.length=0,af=!1,t.forEach(function(e){return e()})},0))}function Lo(r,t){void 0===t&&(t=0),r.length>0&&window.setTimeout(function(){return r.forEach(function(e){return e()})},t)}function Dr(r,t){var e;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this;window.clearTimeout(e),e=window.setTimeout(function(){r.apply(o,n)},t)}}function lf(r,t){var e=0;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=(new Date).getTime();s-e<t||(e=s,r.apply(this,n))}}function gC(r,t,e,n){void 0===e&&(e=100);var i=(new Date).getTime(),o=null,s=!1,a=function(){var c=(new Date).getTime()-i>e;(r()||c)&&(t(),s=!0,null!=o&&(window.clearInterval(o),o=null),c&&n&&console.warn(n))};a(),s||(o=window.setInterval(a,10))}function vC(r){r&&r()}var nx=Object.freeze({__proto__:null,doOnce:Lt,getFunctionName:Pg,isFunction:Hc,executeInAWhile:sf,executeNextVMTurn:Bc,executeAfter:Lo,debounce:Dr,throttle:lf,waitUntil:gC,compose:function tx(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return r.reduce(function(n,i){return i(n)},e)}},callIfPresent:vC,noop:function(){}}),it=function(r){return r.CommunityCoreModule="@ag-grid-community/core",r.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",r.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",r.CsvExportModule="@ag-grid-community/csv-export",r.EnterpriseCoreModule="@ag-grid-enterprise/core",r.RowGroupingModule="@ag-grid-enterprise/row-grouping",r.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",r.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",r.MenuModule="@ag-grid-enterprise/menu",r.SetFilterModule="@ag-grid-enterprise/set-filter",r.MultiFilterModule="@ag-grid-enterprise/multi-filter",r.StatusBarModule="@ag-grid-enterprise/status-bar",r.SideBarModule="@ag-grid-enterprise/side-bar",r.RangeSelectionModule="@ag-grid-enterprise/range-selection",r.MasterDetailModule="@ag-grid-enterprise/master-detail",r.RichSelectModule="@ag-grid-enterprise/rich-select",r.GridChartsModule="@ag-grid-enterprise/charts",r.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",r.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",r.ExcelExportModule="@ag-grid-enterprise/excel-export",r.ClipboardModule="@ag-grid-enterprise/clipboard",r.SparklinesModule="@ag-grid-enterprise/sparklines",r.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",r.AngularModule="@ag-grid-community/angular",r.ReactModule="@ag-grid-community/react",r.VueModule="@ag-grid-community/vue",r}(it||{}),uf=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Ig=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},vt=function(){function r(){}return r.register=function(t){r.__register(t,!0,void 0)},r.registerModules=function(t){r.__registerModules(t,!0,void 0)},r.__register=function(t,e,n){r.runVersionChecks(t),void 0!==n?(r.areGridScopedModules=!0,void 0===r.gridModulesMap[n]&&(r.gridModulesMap[n]={}),r.gridModulesMap[n][t.moduleName]=t):r.globalModulesMap[t.moduleName]=t,r.setModuleBased(e)},r.__unRegisterGridModules=function(t){delete r.gridModulesMap[t]},r.__registerModules=function(t,e,n){r.setModuleBased(e),t&&t.forEach(function(i){return r.__register(i,e,n)})},r.isValidModuleVersion=function(t){var e=uf(t.version.split(".")||[],2),n=e[0],i=e[1],o=uf(r.currentModuleVersion.split(".")||[],2);return n===o[0]&&i===o[1]},r.runVersionChecks=function(t){if(r.currentModuleVersion||(r.currentModuleVersion=t.version),t.version?r.isValidModuleVersion(t)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+t.moduleName+"' is version "+t.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+t.moduleName+"' is incompatible. Please update all modules to the same version."),t.validate){var e=t.validate();e.isValid||console.error("AG Grid: "+e.message)}},r.setModuleBased=function(t){void 0===r.moduleBased?r.moduleBased=t:r.moduleBased!==t&&Lt(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},r.__setIsBundled=function(){r.isBundled=!0},r.__assertRegistered=function(t,e,n){var i;if(this.__isRegistered(t,n))return!0;var s,o=e+t;if(r.isBundled)s="AG Grid: unable to use "+e+" as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise";else if(r.moduleBased||void 0===r.moduleBased){var a=null===(i=Object.entries(it).find(function(c){return uf(c,2)[1]===t}))||void 0===i?void 0:i[0];s="AG Grid: unable to use "+e+" as the "+a+" is not registered"+(r.areGridScopedModules?" for gridId: "+n:"")+". Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { "+a+" } from '"+t+"';\n    \n    ModuleRegistry.registerModules([ "+a+" ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/"}else s="AG Grid: unable to use "+e+" as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/";return Lt(function(){console.warn(s)},o),!1},r.__isRegistered=function(t,e){var n;return!!r.globalModulesMap[t]||!(null===(n=r.gridModulesMap[e])||void 0===n||!n[t])},r.__getRegisteredModules=function(t){return Ig(Ig([],uf(du(r.globalModulesMap))),uf(du(r.gridModulesMap[t]||{})))},r.__getGridRegisteredModules=function(t){var e;return du(null!==(e=r.gridModulesMap[t])&&void 0!==e?e:{})||[]},r.__isPackageBased=function(){return!r.moduleBased},r.globalModulesMap={},r.gridModulesMap={},r.areGridScopedModules=!1,r}(),mC=function(){function r(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return r.prototype.getBeanInstances=function(){return du(this.beanWrappers).map(function(t){return t.beanInstance})},r.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},r.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),_e(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},r.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),jn(this.beanWrappers,function(n,i){var o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var s=t.getBeansForParameters(o,i.bean.name),a=new(i.bean.bind.apply(i.bean,function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r}([null],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(s))));i.beanInstance=a});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},r.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var n;return n=t.prototype.constructor?Pg(t.prototype.constructor):""+t,void console.error("Context item "+n+" is not a bean")}this.beanWrappers[e.beanName]={bean:t,beanInstance:null,beanName:e.beanName}},r.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(n){e.forEachMetaDataInHierarchy(n,function(i,o){var s=i.agClassAttributes;s&&s.forEach(function(a){var c=e.lookupBeanInstance(o,a.beanName,a.optional);n[a.attributeName]=c})})})},r.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(n){e.forEachMetaDataInHierarchy(n,function(i,o){jn(i.autowireMethods,function(s,a){if("agConstructor"!==s){var c=e.getBeansForParameters(a,o);n[s].apply(n,c)}})})})},r.prototype.forEachMetaDataInHierarchy=function(t,e){for(var n=Object.getPrototypeOf(t);null!=n;){var i=n.constructor;i.hasOwnProperty("__agBeanMetaData")&&e(i.__agBeanMetaData,this.getBeanName(i)),n=Object.getPrototypeOf(n)}},r.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},r.prototype.getBeansForParameters=function(t,e){var n=this,i=[];return t&&jn(t,function(o,s){var a=n.lookupBeanInstance(e,s);i[Number(o)]=a}),i},r.prototype.lookupBeanInstance=function(t,e,n){if(void 0===n&&(n=!1),this.destroyed)return this.logger.log("AG Grid: bean reference "+e+" is used after the grid is destroyed!"),null;if("context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var i=this.beanWrappers[e];return i?i.beanInstance:(n||console.error("AG Grid: unable to find bean reference "+e+" while initialising "+t),null)},r.prototype.callLifeCycleMethods=function(t,e){var n=this;t.forEach(function(i){return n.callLifeCycleMethodsOnBean(i,e)})},r.prototype.callLifeCycleMethodsOnBean=function(t,e,n){var i={};this.forEachMetaDataInHierarchy(t,function(s){var a=s[e];a&&a.forEach(function(c){c!=n&&(i[c]=!0)})}),Object.keys(i).forEach(function(s){return t[s]()})},r.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},r.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,vt.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},r.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},r.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(n){e.callLifeCycleMethodsOnBean(n,"preDestroyMethods","destroy"),"function"==typeof n.destroy&&n.destroy()}),[]):[]},r.prototype.isDestroyed=function(){return this.destroyed},r.prototype.getGridId=function(){return this.contextParams.gridId},r}();function rx(r,t,e){var n=Ys(r.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(t)}function ke(r,t,e){var n=Ys(r.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(t)}function hi(r,t,e){var n=Ys(r.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(t)}function tt(r){return function(t){Ys(t).beanName=r}}function I(r){return function(t,e,n){cf(t,r,!1,0,e,null)}}function sn(r){return function(t,e,n){cf(t,r,!0,0,e,null)}}function cf(r,t,e,n,i,o){if(null!==t)if("number"!=typeof o){var s=Ys(r.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:i,beanName:t,optional:e})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Hi(r){return function(t,e,n){var o,i="function"==typeof t?t:t.constructor;if("number"==typeof n){var s=void 0;e?(o=Ys(i),s=e):(o=Ys(i),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][n]=r}}}function Ys(r){return r.hasOwnProperty("__agBeanMetaData")||(r.__agBeanMetaData={}),r.__agBeanMetaData}var Fg=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Cs=function(r,t){return function(e,n){t(e,n,r)}},_s=function(){function r(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return r.prototype.setBeans=function(t,e,n,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),this.frameworkOverrides=n,this.gridOptionsService=e,i){var s=e.useAsyncEvents();this.addGlobalListener(i,s)}o&&this.addGlobalListener(o,!1)},r.prototype.getListeners=function(t,e,n){var i=e?this.allAsyncListeners:this.allSyncListeners,o=i.get(t);return!o&&n&&i.set(t,o=new Set),o},r.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},r.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n,!0).add(e)},r.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!1);var i=this.getListeners(t,n,!1);i&&(i.delete(e),0===i.size)&&(n?this.allAsyncListeners:this.allSyncListeners).delete(t)},r.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},r.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},r.prototype.dispatchEvent=function(t){var e=t;if(this.gridOptionsService){var n=this.gridOptionsService,o=n.columnApi,s=n.context;e.api=n.api,e.columnApi=o,e.context=s}this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},r.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},r.prototype.dispatchToListeners=function(t,e){var n=this,i=t.type;if(e&&"event"in t){var o=t.event;o instanceof Event&&(t.eventPath=o.composedPath())}var a=new Set(this.getListeners(i,e,!1));a.size>0&&a.forEach(function(p){e?n.dispatchAsync(function(){return p(t)}):p(t)}),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(h){e?n.dispatchAsync(function(){return n.frameworkOverrides.dispatchEvent(i,function(){return h(i,t)},!0)}):n.frameworkOverrides.dispatchEvent(i,function(){return h(i,t)},!0)})},r.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},r.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},Fg([Cs(0,Hi("loggerFactory")),Cs(1,Hi("gridOptionsService")),Cs(2,Hi("frameworkOverrides")),Cs(3,Hi("globalEventListener")),Cs(4,Hi("globalSyncEventListener"))],r.prototype,"setBeans",null),Fg([tt("eventService")],r)}(),Uc=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wc=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},df=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},zc=0;function Lg(){return zc++}var hn=function(){function r(t,e,n,i){this.instanceId=Lg(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new _s,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=n,this.primary=i,this.setState(t)}return r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setState=function(t){void 0!==t.sort?("asc"===t.sort||"desc"===t.sort)&&(this.sort=t.sort):("asc"===t.initialSort||"desc"===t.initialSort)&&(this.sort=t.initialSort);var e=vo(t.sortIndex),n=vo(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==n&&(this.sortIndex=n);var i=tr(t.hide),o=tr(t.initialHide);this.visible=void 0!==i?!i:!o,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);var s=vo(t.flex),a=vo(t.initialFlex);void 0!==s?this.flex=s:void 0!==a&&(this.flex=a)},r.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},r.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},r.prototype.setParent=function(t){this.parent=t},r.prototype.getParent=function(){return this.parent},r.prototype.setOriginalParent=function(t){this.originalParent=t},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()},r.prototype.initDotNotation=function(){var t=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=_e(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=_e(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},r.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},r.prototype.initTooltip=function(){this.tooltipEnabled=_e(this.colDef.tooltipField)||_e(this.colDef.tooltipValueGetter)||_e(this.colDef.tooltipComponent)},r.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},r.prototype.isEmptyGroup=function(){return!1},r.prototype.isRowGroupDisplayed=function(t){return!(ht(this.colDef)||ht(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==t)},r.prototype.isPrimary=function(){return this.primary},r.prototype.isFilterAllowed=function(){return!!this.colDef.filter},r.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},r.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},r.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},r.prototype.validate=function(){var t=this.colDef;function e(h,p,g){Lt(function(){g?console.warn(h,g):Lt(function(){return console.warn(h)},p)},p)}if(this.gridOptionsService.isRowModelType("clientSide")&&!vt.__isRegistered(it.RowGroupingModule,this.gridOptionsService.getGridId())&&(o=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter(function(h){return _e(t[h])})).length>0&&vt.__assertRegistered(it.RowGroupingModule,o.map(function(h){return"colDef."+h}).join(", "),this.gridOptionsService.getGridId()),("agRichSelect"===this.colDef.cellEditor||"agRichSelectCellEditor"===this.colDef.cellEditor)&&vt.__assertRegistered(it.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.is("treeData")&&(o=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter(function(p){return _e(t[p])})).length>0&&e("AG Grid: "+o.join()+" is not possible when doing tree data, your column definition should not have "+o.join(),"TreeDataCannotRowGroup"),_e(t.menuTabs))if(Array.isArray(t.menuTabs)){var o,a=["filterMenuTab"],c=["columnsMenuTab","generalMenuTab"];(o=c.filter(function(p){return t.menuTabs.includes(p)})).length>0&&vt.__assertRegistered(it.MenuModule,"menuTab(s): "+o.map(function(p){return"'"+p+"'"}).join(),this.gridOptionsService.getGridId()),t.menuTabs.forEach(function(p){!c.includes(p)&&!a.includes(p)&&e("AG Grid: '"+p+"' is not valid for 'colDef.menuTabs'. Valid values are: "+df(df([],Wc(a)),Wc(c)).map(function(g){return"'"+g+"'"}).join()+".","wrongValue_menuTabs_"+p)})}else e("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof t.menuTabs,"wrongType_menuTabs");_e(t.columnsMenuParams)&&vt.__assertRegistered(it.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),_e(t.columnsMenuParams)&&vt.__assertRegistered(it.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),_e(this.colDef.width)&&"number"!=typeof this.colDef.width&&e("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),_e(t.columnGroupShow)&&"closed"!==t.columnGroupShow&&"open"!==t.columnGroupShow&&e("AG Grid: '"+t.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null","columnGroupShow_invalid")},r.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},r.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},r.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},r.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)},r.prototype.isSuppressFillHandle=function(){return!!tr(this.colDef.suppressFillHandle)},r.prototype.isAutoHeight=function(){return!!tr(this.colDef.autoHeight)},r.prototype.isAutoHeaderHeight=function(){return!!tr(this.colDef.autoHeaderHeight)},r.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},r.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},r.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},r.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},r.prototype.isResizable=function(){return!!tr(this.colDef.resizable)},r.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},r.prototype.setMoving=function(t,e){void 0===e&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},r.prototype.createColumnEvent=function(t,e){return{type:t,column:this,columns:[this],source:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},r.prototype.isMoving=function(){return this.moving},r.prototype.getSort=function(){return this.sort},r.prototype.setSort=function(t,e){void 0===e&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")},r.prototype.setMenuVisible=function(t,e){void 0===e&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},r.prototype.isMenuVisible=function(){return this.menuVisible},r.prototype.isSortAscending=function(){return"asc"===this.sort},r.prototype.isSortDescending=function(){return"desc"===this.sort},r.prototype.isSortNone=function(){return ht(this.sort)},r.prototype.isSorting=function(){return _e(this.sort)},r.prototype.getSortIndex=function(){return this.sortIndex},r.prototype.setSortIndex=function(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")},r.prototype.setAggFunc=function(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")},r.prototype.getAggFunc=function(){return this.aggFunc},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.getRight=function(){return this.left+this.actualWidth},r.prototype.setLeft=function(t,e){void 0===e&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},r.prototype.isFilterActive=function(){return this.filterActive},r.prototype.setFilterActive=function(t,e,n){void 0===e&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var i=this.createColumnEvent("filterChanged",e);n&&Er(i,n),this.eventService.dispatchEvent(i)},r.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},r.prototype.setPinned=function(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null,this.dispatchStateUpdatedEvent("pinned")},r.prototype.setFirstRightPinned=function(t,e){void 0===e&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},r.prototype.setLastLeftPinned=function(t,e){void 0===e&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},r.prototype.isFirstRightPinned=function(){return this.firstRightPinned},r.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},r.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},r.prototype.isPinnedLeft=function(){return"left"===this.pinned},r.prototype.isPinnedRight=function(){return"right"===this.pinned},r.prototype.getPinned=function(){return this.pinned},r.prototype.setVisible=function(t,e){void 0===e&&(e="api");var n=!0===t;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")},r.prototype.isVisible=function(){return this.visible},r.prototype.isSpanHeaderHeight=function(){var t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight},r.prototype.getColDef=function(){return this.colDef},r.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},r.prototype.getColId=function(){return this.colId},r.prototype.getId=function(){return this.colId},r.prototype.getUniqueId=function(){return this.colId},r.prototype.getDefinition=function(){return this.colDef},r.prototype.getActualWidth=function(){return this.actualWidth},r.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},r.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},r.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},r.prototype.getColSpan=function(t){if(ht(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)},r.prototype.getRowSpan=function(t){if(ht(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)},r.prototype.setActualWidth=function(t,e,n){void 0===e&&(e="api"),void 0===n&&(n=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),n||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")},r.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},r.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},r.prototype.getMinWidth=function(){return this.minWidth},r.prototype.getMaxWidth=function(){return this.maxWidth},r.prototype.getFlex=function(){return this.flex||0},r.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")},r.prototype.setMinimum=function(t){void 0===t&&(t="api"),_e(this.minWidth)&&this.setActualWidth(this.minWidth,t)},r.prototype.setRowGroupActive=function(t,e){void 0===e&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")},r.prototype.isRowGroupActive=function(){return this.rowGroupActive},r.prototype.setPivotActive=function(t,e){void 0===e&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")},r.prototype.isPivotActive=function(){return this.pivotActive},r.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},r.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},r.prototype.setValueActive=function(t,e){void 0===e&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},r.prototype.isValueActive=function(){return this.aggregationActive},r.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},r.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},r.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},r.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},r.prototype.dispatchStateUpdatedEvent=function(t){this.eventService.dispatchEvent({type:r.EVENT_STATE_UPDATED,key:t})},r.EVENT_MOVING_CHANGED="movingChanged",r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_WIDTH_CHANGED="widthChanged",r.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",r.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",r.EVENT_VISIBLE_CHANGED="visibleChanged",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_COL_DEF_CHANGED="colDefChanged",r.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",r.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_PIVOT_CHANGED="columnPivotChanged",r.EVENT_VALUE_CHANGED="columnValueChanged",r.EVENT_STATE_UPDATED="columnStateUpdated",Uc([I("gridOptionsService")],r.prototype,"gridOptionsService",void 0),Uc([I("columnUtils")],r.prototype,"columnUtils",void 0),Uc([I("columnHoverService")],r.prototype,"columnHoverService",void 0),Uc([ke],r.prototype,"initialise",null),r}(),ni=function(){function r(t,e,n,i){this.localEventService=new _s,this.expandable=!1,this.instanceId=Lg(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=i}return r.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},r.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setOriginalParent=function(t){this.originalParent=t},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.getLevel=function(){return this.level},r.prototype.isVisible=function(){return!!this.children&&this.children.some(function(t){return t.isVisible()})},r.prototype.isPadding=function(){return this.padding},r.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:r.EVENT_EXPANDED_CHANGED})},r.prototype.isExpandable=function(){return this.expandable},r.prototype.isExpanded=function(){return this.expanded},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getId=function(){return this.getGroupId()},r.prototype.setChildren=function(t){this.children=t},r.prototype.getChildren=function(){return this.children},r.prototype.getColGroupDef=function(){return this.colGroupDef},r.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},r.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(e){e instanceof hn?t.push(e):e instanceof r&&e.addLeafColumns(t)})},r.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},r.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(n){return n.addEventListener("visibleChanged",e)}),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach(function(n){return n.removeEventListener("visibleChanged",e)}),t.expandableListenerRemoveCallback=null}},r.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,n=!1,i=this.findChildrenRemovingPadding(),o=0,s=i.length;o<s;o++){var a=i[o];if(a.isVisible()){var c=a.getColumnGroupShow();"open"===c?(t=!0,n=!0):"closed"===c?(e=!0,n=!0):(t=!0,e=!0)}}var h=t&&e&&n;this.expandable!==h&&(this.expandable=h,this.localEventService.dispatchEvent({type:r.EVENT_EXPANDABLE_CHANGED}))}},r.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(n){n.forEach(function(i){i instanceof r&&i.isPadding()?e(i.children):t.push(i)})};return e(this.children),t},r.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},r.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_EXPANDABLE_CHANGED="expandableChanged",function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([hi],r.prototype,"destroy",null),r}(),yC={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function $c(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=0;e<r.length;e++){var n=r[e];if(_e(n))return n}return null}function fn(r){if(r&&r.length)return r[r.length-1]}function Ba(r,t,e){return null==r&&null==t||null!=r&&null!=t&&r.length===t.length&&r.every(function(n,i){return e?e(n,t[i]):t[i]===n})}function kg(r){return r.sort(function(t,e){return t-e})}function CC(r,t){var e=r.indexOf(t);e>=0&&(r[e]=r[r.length-1],r.pop())}function qr(r,t){var e=r.indexOf(t);e>=0&&r.splice(e,1)}function ax(r,t){for(var e=0;e<t.length;e++)CC(r,t[e])}function f0(r,t){for(var e=0;e<t.length;e++)qr(r,t[e])}function ja(r,t,e){r.splice(e,0,t)}function wC(r,t,e){f0(r,t),t.slice().reverse().forEach(function(n){return ja(r,n,e)})}function Xr(r,t){return r.indexOf(t)>-1}function Gg(r){return[].concat.apply([],r)}function Kc(r,t){null==t||null==r||t.forEach(function(e){return r.push(e)})}var ux=Object.freeze({__proto__:null,firstExistingValue:$c,existsAndNotEmpty:function ox(r){return null!=r&&r.length>0},last:fn,areEqual:Ba,shallowCompare:function sx(r,t){return Ba(r,t)},sortNumerically:kg,removeRepeatsFromArray:function h0(r,t){if(r)for(var e=r.length-2;e>=0;e--)r[e]===t&&r[e+1]===t&&r.splice(e+1,1)},removeFromUnorderedArray:CC,removeFromArray:qr,removeAllFromUnorderedArray:ax,removeAllFromArray:f0,insertIntoArray:ja,insertArrayIntoArray:function _C(r,t,e){if(null!=r&&null!=t)for(var n=t.length-1;n>=0;n--)ja(r,t[n],e)},moveInArray:wC,includes:Xr,flatten:Gg,pushAll:Kc,toStrings:function lx(r){return r.map(cu)},forEachReverse:function p0(r,t){if(null!=r)for(var e=r.length-1;e>=0;e--)t(r[e],e)}}),SC="__ag_Grid_Stop_Propagation",YN=["touchstart","touchend","touchmove","touchcancel","scroll"],EC={};function br(r){r[SC]=!0}function No(r){return!0===r[SC]}var r,Ua=(r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e){if("boolean"==typeof EC[e])return EC[e];var n=document.createElement(r[e]||"div");return EC[e="on"+e]=e in n});function Wa(r,t,e){for(var n=t;n;){var i=r.getDomData(n,e);if(i)return i;n=n.parentElement}return null}function Vg(r,t){return!(!t||!r)&&g0(t).indexOf(r)>=0}function DC(r){for(var t=[],e=r.target;e;)t.push(e),e=e.parentElement;return t}function g0(r){var t=r;return t.path?t.path:t.composedPath?t.composedPath():DC(t)}function v0(r,t,e,n){var i=Xr(YN,e);r&&r.addEventListener&&r.addEventListener(t,e,n,i?{passive:!0}:void 0)}var cx=Object.freeze({__proto__:null,stopPropagationForAgGrid:br,isStopPropagationForAgGrid:No,isEventSupported:Ua,getCtrlForEventTarget:Wa,isElementInEventPath:Vg,createEventPath:DC,getEventPath:g0,addSafePassiveEventListener:v0}),za=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Re=function(){function r(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!t.destroyed}}return r.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},r.prototype.getContext=function(){return this.context},r.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:r.EVENT_DESTROYED})},r.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new _s),this.localEventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},r.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout(function(){return e.dispatchEvent(t)},0)},r.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},r.prototype.addManagedListener=function(t,e,n){var i=this;if(!this.destroyed){t instanceof HTMLElement?v0(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);var o=function(){return t.removeEventListener(e,n),i.destroyFunctions=i.destroyFunctions.filter(function(s){return s!==o}),null};return this.destroyFunctions.push(o),o}},r.prototype.setupGridOptionListener=function(t,e){var n=this;this.gridOptionsService.addEventListener(t,e);var i=function(){return n.gridOptionsService.removeEventListener(t,e),n.destroyFunctions=n.destroyFunctions.filter(function(o){return o!==i}),null};this.destroyFunctions.push(i)},r.prototype.addManagedPropertyListener=function(t,e){this.destroyed||this.setupGridOptionListener(t,e)},r.prototype.addManagedPropertyListeners=function(t,e){var n=this;if(!this.destroyed){var i=t.join("-")+this.propertyListenerId++,o=function(s){if(s.changeSet){if(s.changeSet&&s.changeSet.id===n.lastChangeSetIdLookup[i])return;n.lastChangeSetIdLookup[i]=s.changeSet.id}e({type:"gridPropertyChanged",changeSet:s.changeSet})};t.forEach(function(s){return n.setupGridOptionListener(s,o)})}},r.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},r.prototype.createManagedBean=function(t,e){var n=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),n},r.prototype.createBean=function(t,e,n){return(e||this.getContext()).createBean(t,n)},r.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},r.prototype.destroyBeans=function(t,e){var n=this;return t&&t.forEach(function(i){return n.destroyBean(i,e)}),[]},r.EVENT_DESTROYED="destroyed",za([I("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),za([I("context")],r.prototype,"context",void 0),za([I("eventService")],r.prototype,"eventService",void 0),za([I("gridOptionsService")],r.prototype,"gridOptionsService",void 0),za([I("localeService")],r.prototype,"localeService",void 0),za([I("environment")],r.prototype,"environment",void 0),za([hi],r.prototype,"destroy",null),r}(),bC=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),OC=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Hg=function(r,t){return function(e,n){t(e,n,r)}},m0=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return bC(t,r),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,n,i){var o=new JA,s=this.extractExistingTreeData(i),a=s.existingCols,c=s.existingGroups;o.addExistingKeys(s.existingColKeys);var p=this.recursivelyCreateColumns(e,0,n,a,o,c),g=this.findMaxDept(p,0);this.logger.log("Number of levels for grouped columns is "+g);var m=this.balanceColumnTree(p,0,g,o);return this.columnUtils.depthFirstOriginalTreeSearch(null,m,function(w,E){w instanceof ni&&w.setupExpandable(),w.setOriginalParent(E)}),{columnTree:m,treeDept:g}},t.prototype.extractExistingTreeData=function(e){var n=[],i=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(s){if(s instanceof ni)i.push(s);else{var c=s;o.push(c.getId()),n.push(c)}}),{existingCols:n,existingGroups:i,existingColKeys:o}},t.prototype.createForAutoGroups=function(e,n){var i=this;return e.map(function(o){return i.createAutoGroupTreeItem(n,o)})},t.prototype.createAutoGroupTreeItem=function(e,n){for(var i=this.findDepth(e),o=n,s=i-1;s>=0;s--){var a=new ni(null,"FAKE_PATH_"+n.getId()+"}_"+s,!0,s);this.createBean(a),a.setChildren([o]),o.setOriginalParent(a),o=a}return 0===i&&n.setOriginalParent(null),o},t.prototype.findDepth=function(e){for(var n=0,i=e;i&&i[0]&&i[0]instanceof ni;)n++,i=i[0].getChildren();return n},t.prototype.balanceColumnTree=function(e,n,i,o){for(var s=[],a=0;a<e.length;a++){var c=e[a];if(c instanceof ni){var h=c,p=this.balanceColumnTree(h.getChildren(),n+1,i,o);h.setChildren(p),s.push(h)}else{for(var g=void 0,m=void 0,_=i-1;_>=n;_--){var w=o.getUniqueKey(null,null),E=this.createMergedColGroupDef(null),b=new ni(E,w,!0,n);this.createBean(b),m&&m.setChildren([b]),m=b,g||(g=m)}if(g&&m){if(s.push(g),e.some(function(T){return T instanceof ni})){m.setChildren([c]);continue}m.setChildren(e);break}s.push(c)}}return s},t.prototype.findMaxDept=function(e,n){for(var i=n,o=0;o<e.length;o++){var s=e[o];if(s instanceof ni){var c=this.findMaxDept(s.getChildren(),n+1);i<c&&(i=c)}}return i},t.prototype.recursivelyCreateColumns=function(e,n,i,o,s,a){if(!e)return[];for(var c=new Array(e.length),h=0;h<c.length;h++){var p=e[h];c[h]=this.isColumnGroup(p)?this.createColumnGroup(i,p,n,o,s,a):this.createColumn(i,p,o,s)}return c},t.prototype.createColumnGroup=function(e,n,i,o,s,a){var c=this.createMergedColGroupDef(n),h=s.getUniqueKey(c.groupId||null,null),p=new ni(c,h,!1,i);this.createBean(p);var g=this.findExistingGroup(n,a);g&&a.splice(g.idx,1);var m=g?.group;m&&p.setExpanded(m.isExpanded());var _=this.recursivelyCreateColumns(c.children,i+1,e,o,s,a);return p.setChildren(_),p},t.prototype.createMergedColGroupDef=function(e){var n={};return Object.assign(n,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(n,e),n},t.prototype.createColumn=function(e,n,i,o){var s=this.findExistingColumn(n,i);s&&i?.splice(s.idx,1);var a=s?.column;if(a){var h=this.addColumnDefaultAndTypes(n,a.getColId());a.setColDef(h,n),this.applyColumnState(a,h)}else{var c=o.getUniqueKey(n.colId,n.field);h=this.addColumnDefaultAndTypes(n,c),a=new hn(h,n,c,e),this.context.createBean(a)}return this.dataTypeService.addColumnListeners(a),a},t.prototype.applyColumnState=function(e,n){var i=vo(n.flex);if(void 0!==i&&e.setFlex(i),e.getFlex()<=0){var s=vo(n.width);if(null!=s)e.setActualWidth(s);else{var a=e.getActualWidth();e.setActualWidth(a)}}void 0!==n.sort&&e.setSort("asc"==n.sort||"desc"==n.sort?n.sort:void 0);var c=vo(n.sortIndex);void 0!==c&&e.setSortIndex(c);var h=tr(n.hide);void 0!==h&&e.setVisible(!h),void 0!==n.pinned&&e.setPinned(n.pinned)},t.prototype.findExistingColumn=function(e,n){if(n)for(var i=0;i<n.length;i++){var o=n[i].getUserProvidedColDef();if(o){if(null!=e.colId){if(n[i].getId()===e.colId)return{idx:i,column:n[i]};continue}if(null!=e.field){if(o.field===e.field)return{idx:i,column:n[i]};continue}if(o===e)return{idx:i,column:n[i]}}}},t.prototype.findExistingGroup=function(e,n){if(null!=e.groupId)for(var o=0;o<n.length;o++){var s=n[o];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:o,group:s}}},t.prototype.addColumnDefaultAndTypes=function(e,n){var i={};Er(i,this.gridOptionsService.get("defaultColDef"),!1,!0);var s=this.dataTypeService.updateColDefAndGetColumnType(i,e,n);s&&this.assignColumnTypes(s,i),Er(i,e,!1,!0);var a=this.gridOptionsService.get("autoGroupColumnDef"),c=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&a&&c&&Er(i,{sort:a.sort,initialSort:a.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i},t.prototype.assignColumnTypes=function(e,n){if(e.length){var i=Object.assign({},yC);jn(this.gridOptionsService.get("columnTypes")||{},function(s,a){s in i?console.warn("AG Grid: the column type '"+s+"' is a default column type and cannot be overridden."):i[s]=a}),e.forEach(function(s){var a=i[s.trim()];a?Er(n,a,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},OC([I("columnUtils")],t.prototype,"columnUtils",void 0),OC([I("dataTypeService")],t.prototype,"dataTypeService",void 0),OC([Hg(0,Hi("loggerFactory"))],t.prototype,"setBeans",null),OC([tt("columnFactory")],t)}(Re),Ai=function(){function r(t,e,n,i){this.displayedChildren=[],this.localEventService=new _s,this.groupId=e,this.partId=n,this.providedColumnGroup=t,this.pinned=i}return r.createUniqueId=function(t,e){return t+"_"+e},r.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},r.prototype.getParent=function(){return this.parent},r.prototype.setParent=function(t){this.parent=t},r.prototype.getUniqueId=function(){return r.createUniqueId(this.groupId,this.partId)},r.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},r.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(function(e){return e.isMoving()})},r.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(i){i instanceof r&&i.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var e=fn(this.displayedChildren).getLeft();this.setLeft(e)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_LEFT_CHANGED)))},r.prototype.getPinned=function(){return this.pinned},r.prototype.createAgEvent=function(t){return{type:t}},r.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getPartId=function(){return this.partId},r.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(n){t===n&&(e=!0),n instanceof r&&n.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},r.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},r.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},r.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},r.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},r.prototype.getDisplayedChildren=function(){return this.displayedChildren},r.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},r.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},r.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},r.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},r.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},r.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},r.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof hn?t.push(e):e instanceof r&&e.addDisplayedLeafColumns(t)})},r.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof hn?t.push(e):e instanceof r&&e.addLeafColumns(t)})},r.prototype.getChildren=function(){return this.children},r.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},r.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},r.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},r.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(i){if(!(i instanceof r)||i.displayedChildren&&i.displayedChildren.length)switch(i.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(i);break;case"closed":e.providedColumnGroup.isExpanded()||t.displayedChildren.push(i);break;default:t.displayedChildren.push(i)}}),this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED))},r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([I("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),N=function(){function r(){}return r.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",r.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",r.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",r.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",r.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",r.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",r.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",r.EVENT_COLUMN_MOVED="columnMoved",r.EVENT_COLUMN_VISIBLE="columnVisible",r.EVENT_COLUMN_PINNED="columnPinned",r.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",r.EVENT_COLUMN_RESIZED="columnResized",r.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",r.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",r.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",r.EVENT_ROW_GROUP_OPENED="rowGroupOpened",r.EVENT_ROW_DATA_CHANGED="rowDataChanged",r.EVENT_ROW_DATA_UPDATED="rowDataUpdated",r.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",r.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",r.EVENT_CHART_CREATED="chartCreated",r.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",r.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",r.EVENT_CHART_DESTROYED="chartDestroyed",r.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",r.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",r.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",r.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",r.EVENT_MODEL_UPDATED="modelUpdated",r.EVENT_CUT_START="cutStart",r.EVENT_CUT_END="cutEnd",r.EVENT_PASTE_START="pasteStart",r.EVENT_PASTE_END="pasteEnd",r.EVENT_FILL_START="fillStart",r.EVENT_FILL_END="fillEnd",r.EVENT_RANGE_DELETE_START="rangeDeleteStart",r.EVENT_RANGE_DELETE_END="rangeDeleteEnd",r.EVENT_UNDO_STARTED="undoStarted",r.EVENT_UNDO_ENDED="undoEnded",r.EVENT_REDO_STARTED="redoStarted",r.EVENT_REDO_ENDED="redoEnded",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",r.EVENT_CELL_CLICKED="cellClicked",r.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",r.EVENT_CELL_MOUSE_DOWN="cellMouseDown",r.EVENT_CELL_CONTEXT_MENU="cellContextMenu",r.EVENT_CELL_VALUE_CHANGED="cellValueChanged",r.EVENT_CELL_EDIT_REQUEST="cellEditRequest",r.EVENT_ROW_VALUE_CHANGED="rowValueChanged",r.EVENT_CELL_FOCUSED="cellFocused",r.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",r.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_SELECTION_CHANGED="selectionChanged",r.EVENT_TOOLTIP_SHOW="tooltipShow",r.EVENT_TOOLTIP_HIDE="tooltipHide",r.EVENT_CELL_KEY_DOWN="cellKeyDown",r.EVENT_CELL_MOUSE_OVER="cellMouseOver",r.EVENT_CELL_MOUSE_OUT="cellMouseOut",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_MODIFIED="filterModified",r.EVENT_FILTER_OPENED="filterOpened",r.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",r.EVENT_ROW_CLICKED="rowClicked",r.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",r.EVENT_GRID_READY="gridReady",r.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",r.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",r.EVENT_VIEWPORT_CHANGED="viewportChanged",r.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",r.EVENT_FIRST_DATA_RENDERED="firstDataRendered",r.EVENT_DRAG_STARTED="dragStarted",r.EVENT_DRAG_STOPPED="dragStopped",r.EVENT_CHECKBOX_CHANGED="checkboxChanged",r.EVENT_ROW_EDITING_STARTED="rowEditingStarted",r.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",r.EVENT_CELL_EDITING_STARTED="cellEditingStarted",r.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",r.EVENT_BODY_SCROLL="bodyScroll",r.EVENT_BODY_SCROLL_END="bodyScrollEnd",r.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",r.EVENT_PAGINATION_CHANGED="paginationChanged",r.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",r.EVENT_STORE_REFRESHED="storeRefreshed",r.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",r.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",r.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",r.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",r.EVENT_FLASH_CELLS="flashCells",r.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",r.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",r.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",r.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",r.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",r.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",r.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",r.EVENT_ROW_DRAG_ENTER="rowDragEnter",r.EVENT_ROW_DRAG_MOVE="rowDragMove",r.EVENT_ROW_DRAG_LEAVE="rowDragLeave",r.EVENT_ROW_DRAG_END="rowDragEnd",r.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",r.EVENT_POPUP_TO_FRONT="popupToFront",r.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",r.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",r.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",r.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",r.EVENT_KEYBOARD_FOCUS="keyboardFocus",r.EVENT_MOUSE_FOCUS="mouseFocus",r.EVENT_STORE_UPDATED="storeUpdated",r.EVENT_FILTER_DESTROYED="filterDestroyed",r.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",r.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",r.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",r.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",r.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",r}(),y0=function(){function r(){this.existingIds={}}return r.prototype.getInstanceIdForKey=function(t){var n,e=this.existingIds[t];return this.existingIds[t]=n="number"!=typeof e?0:e+1,n},r}(),C0=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),RC=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Yc="ag-Grid-AutoColumn",qN=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return C0(t,r),t.prototype.createAutoGroupColumns=function(e){var n=this,i=[],o=this.gridOptionsService.is("treeData"),s=this.gridOptionsService.isGroupMultiAutoColumn();return o&&s&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),s=!1),s?e.forEach(function(a,c){i.push(n.createOneAutoGroupColumn(a,c))}):i.push(this.createOneAutoGroupColumn()),i},t.prototype.updateAutoGroupColumns=function(e){var n=this;e.forEach(function(i,o){return n.updateOneAutoGroupColumn(i,o)})},t.prototype.createOneAutoGroupColumn=function(e,n){var i;i=e?Yc+"-"+e.getId():Yc;var o=this.createAutoGroupColDef(i,e,n);o.colId=i;var s=new hn(o,null,i,!0);return this.context.createBean(s),s},t.prototype.updateOneAutoGroupColumn=function(e,n){var i=e.getColDef(),o="string"==typeof i.showRowGroup?i.showRowGroup:void 0,s=null!=o?this.columnModel.getPrimaryColumn(o):void 0,a=this.createAutoGroupColDef(e.getId(),s??void 0,n);e.setColDef(a,null),this.columnFactory.applyColumnState(e,a)},t.prototype.createAutoGroupColDef=function(e,n,i){var o=this.createBaseColDef(n);return Er(o,this.gridOptionsService.get("autoGroupColumnDef")),o=this.columnFactory.addColumnDefaultAndTypes(o,e),this.gridOptionsService.is("treeData")||ht(o.field)&&ht(o.valueGetter)&&ht(o.filterValueGetter)&&"agGroupColumnFilter"!==o.filter&&(o.filter=!1),i&&i>0&&(o.headerCheckboxSelection=!1),this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!(o.valueGetter||null!=o.field)&&(o.sortIndex=void 0,o.initialSort=void 0),o},t.prototype.createBaseColDef=function(e){var n=this.gridOptionsService.get("autoGroupColumnDef"),o={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(n&&(n.cellRenderer||n.cellRendererSelector)||(o.cellRenderer="agGroupCellRenderer"),e){var a=e.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:a.headerValueGetter}),a.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:a.cellRenderer,innerRendererParams:a.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},RC([I("columnModel")],t.prototype,"columnModel",void 0),RC([I("columnFactory")],t.prototype,"columnFactory",void 0),RC([tt("autoGroupColService")],t)}(Re),_0=/[&<>"']/g,w0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ai(r,t){if(null==r)return null;var e=r.toString().toString();return t?e:e.replace(_0,function(n){return w0[n]})}function Bg(r){return r&&null!=r?r.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(function(i){return i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")}).join(" "):null}function qs(r){return r.replace(/[A-Z]/g,function(t){return"-"+t.toLocaleLowerCase()})}var hf=Object.freeze({__proto__:null,utf8_encode:function ko(r){var t=String.fromCharCode;function i(g,m){return t(g>>m&63|128)}function o(g){if(g>=0&&g<=31&&10!==g)return"_x"+g.toString(16).toUpperCase().padStart(4,"0")+"_";if(!(4294967168&g))return t(g);var w="";return 4294965248&g?4294901760&g?4292870144&g||(w=t(g>>18&7|240),w+=i(g,12),w+=i(g,6)):(function n(g){if(g>=55296&&g<=57343)throw Error("Lone surrogate U+"+g.toString(16).toUpperCase()+" is not a scalar value")}(g),w=t(g>>12&15|224),w+=i(g,6)):w=t(g>>6&31|192),w+t(63&g|128)}for(var s=function e(g){var m=[];if(!g)return[];for(var E,b,_=g.length,w=0;w<_;)(E=g.charCodeAt(w++))>=55296&&E<=56319&&w<_?56320==(64512&(b=g.charCodeAt(w++)))?m.push(((1023&E)<<10)+(1023&b)+65536):(m.push(E),w--):m.push(E);return m}(r),a=s.length,c=-1,p="";++c<a;)p+=o(s[c]);return p},capitalise:function S0(r){return r[0].toUpperCase()+r.substr(1).toLowerCase()},escapeString:ai,camelCaseToHumanText:Bg,camelCaseToHyphenated:qs});function $a(r){var t=new Map;return r.forEach(function(e){return t.set(e[0],e[1])}),t}var TC=Object.freeze({__proto__:null,convertToMap:$a,mapById:function hx(r,t){var e=new Map;return r.forEach(function(n){return e.set(t(n),n)}),e},keys:function fx(r){var t=[];return r.forEach(function(e,n){return t.push(n)}),t}}),ws=function(){function r(){}return r.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},r.ALL_PROPERTIES=Object.keys(r.ColDefPropertyMap),r}(),Xs=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Ka=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},Ya=function(){function r(){}return r.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],r.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams"],r.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],r.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],r.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard","enableAdvancedFilter","includeHiddenColumnsInAdvancedFilter"],r.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],r.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],r.FUNCTION_PROPERTIES=Ka(Ka([],Xs(r.FUNCTIONAL_PROPERTIES)),Xs(r.CALLBACK_PROPERTIES)),r.ALL_PROPERTIES=Ka(Ka(Ka(Ka(Ka(Ka([],Xs(r.ARRAY_PROPERTIES)),Xs(r.OBJECT_PROPERTIES)),Xs(r.STRING_PROPERTIES)),Xs(r.NUMBER_PROPERTIES)),Xs(r.FUNCTION_PROPERTIES)),Xs(r.BOOLEAN_PROPERTIES)),r}(),ii=function(){return ii=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},ii.apply(this,arguments)},ff=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},hu=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},qc=function(){function r(){}return r.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},r.getCoercionLookup=function(){var t={};return hu(hu(hu(hu(hu([],ff(r.ARRAY_PROPERTIES)),ff(r.OBJECT_PROPERTIES)),ff(r.STRING_PROPERTIES)),ff(r.FUNCTION_PROPERTIES)),ff(r.EVENT_CALLBACKS)).forEach(function(e){return t[e]="none"}),r.BOOLEAN_PROPERTIES.forEach(function(e){return t[e]="boolean"}),r.NUMBER_PROPERTIES.forEach(function(e){return t[e]="number"}),t},r.getValue=function(t,e){var n=r.coercionLookup[t];if(n){var i=e;switch(n){case"number":i=r.toNumber(e);break;case"boolean":i=r.toBoolean(e);break;case"none":"groupAggFiltering"===t&&"function"!=typeof e&&(i=r.toBoolean(e))}return i}},r.getGridOptionKeys=function(t,e){return Object.keys(e?r.coercionLookup:t)},r.copyAttributesToGridOptions=function(t,e,n){void 0===n&&(n=!1),"object"!=typeof t&&(t={});var i=t;return r.getGridOptionKeys(e,n).forEach(function(s){var a=e[s];if(typeof a<"u"){var c=r.getValue(s,a);void 0!==c&&(i[s]=c)}}),t},r.processOnChange=function(t,e){var n=this;if(t&&0!==Object.keys(t).length){this.changeSetId++;var i=ii({},t);i.columnTypes&&(e.setColumnTypes(i.columnTypes.currentValue,"gridOptionsChanged"),delete i.columnTypes),i.autoGroupColumnDef&&(e.setAutoGroupColumnDef(i.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete i.autoGroupColumnDef),i.defaultColDef&&(e.setDefaultColDef(i.defaultColDef.currentValue,"gridOptionsChanged"),delete i.defaultColDef),i.columnDefs&&(e.setColumnDefs(i.columnDefs.currentValue,"gridOptionsChanged"),delete i.columnDefs);var o=Object.keys(i).map(function(c){var h=c,p=r.getValue(h,i[h].currentValue);return{gridKey:h,coercedValue:p,isChanged:e.__setPropertyOnly(h,p)}}).filter(function(c){return c.isChanged}),s=o.map(function(c){return c.gridKey});o.forEach(function(c){return e.__updateProperty(c.gridKey,c.coercedValue,c.isChanged,{id:n.changeSetId,properties:s})});var a={type:N.EVENT_COMPONENT_STATE_CHANGED};jn(t,function(c,h){a[c]=h}),e.dispatchEvent(a)}},r.toBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)},r.toNumber=function(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0},r.EVENTS=du(N),r.EXCLUDED_INTERNAL_EVENTS=[N.EVENT_SCROLLBAR_WIDTH_CHANGED,N.EVENT_CHECKBOX_CHANGED,N.EVENT_HEIGHT_SCALE_CHANGED,N.EVENT_BODY_HEIGHT_CHANGED,N.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,N.EVENT_SCROLL_VISIBILITY_CHANGED,N.EVENT_COLUMN_HOVER_CHANGED,N.EVENT_FLASH_CELLS,N.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,N.EVENT_DISPLAYED_ROWS_CHANGED,N.EVENT_LEFT_PINNED_WIDTH_CHANGED,N.EVENT_RIGHT_PINNED_WIDTH_CHANGED,N.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,N.EVENT_POPUP_TO_FRONT,N.EVENT_KEYBOARD_FOCUS,N.EVENT_MOUSE_FOCUS,N.EVENT_STORE_UPDATED,N.EVENT_COLUMN_PANEL_ITEM_DRAG_START,N.EVENT_COLUMN_PANEL_ITEM_DRAG_END,N.EVENT_FILL_START,N.EVENT_FILL_END,N.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,N.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,N.EVENT_FULL_WIDTH_ROW_FOCUSED,N.EVENT_HEADER_HEIGHT_CHANGED,N.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,N.EVENT_CELL_FOCUS_CLEARED,N.EVENT_GRID_STYLES_CHANGED,N.EVENT_FILTER_DESTROYED,N.EVENT_ROW_DATA_UPDATE_STARTED,N.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,N.EVENT_DATA_TYPES_INFERRED,N.EVENT_FIELD_VALUE_CHANGED,N.EVENT_FIELD_PICKER_VALUE_SELECTED],r.PUBLIC_EVENTS=r.EVENTS.filter(function(t){return!Xr(r.EXCLUDED_INTERNAL_EVENTS,t)}),r.EVENT_CALLBACKS=r.EVENTS.map(function(t){return r.getCallbackForEvent(t)}),r.STRING_PROPERTIES=Ya.STRING_PROPERTIES,r.OBJECT_PROPERTIES=Ya.OBJECT_PROPERTIES,r.ARRAY_PROPERTIES=Ya.ARRAY_PROPERTIES,r.NUMBER_PROPERTIES=Ya.NUMBER_PROPERTIES,r.BOOLEAN_PROPERTIES=Ya.BOOLEAN_PROPERTIES,r.FUNCTION_PROPERTIES=Ya.FUNCTION_PROPERTIES,r.ALL_PROPERTIES=Ya.ALL_PROPERTIES,r.ALL_PROPERTIES_SET=new Set(Ya.ALL_PROPERTIES),r.changeSetId=0,r.coercionLookup=r.getCoercionLookup(),r}(),px=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function jg(r,t,e){var n={},i=r.filter(function(o){return!t.some(function(s){return s===o})});return i.length>0&&i.forEach(function(o){return n[o]=Xc(o,e).values}),n}function Xc(r,t,e,n){var i,o,s=t.map(function(w,E){return{value:w,relevance:E0(r.toLowerCase(),w.toLocaleLowerCase()),idx:E}});if(s.sort(function(w,E){return E.relevance-w.relevance}),e&&(s=s.filter(function(w){return 0!==w.relevance})),s.length>0&&n&&n>0){var c=s[0].relevance*n;s=s.filter(function(w){return c-w.relevance<0})}var h=[],p=[];try{for(var g=px(s),m=g.next();!m.done;m=g.next()){var _=m.value;h.push(_.value),p.push(_.idx)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}return{values:h,indices:p}}function E0(r,t){for(var e=r.replace(/\s/g,""),n=t.replace(/\s/g,""),i=0,o=-1,s=0;s<e.length;s++){var a=n.indexOf(e[s],o+1);-1!==a&&(i+=100-100*(o=a)/1e4*100)}return i}var gx=Object.freeze({__proto__:null,fuzzyCheckStrings:jg,fuzzySuggestions:Xc}),pf=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Zs=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},qa=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r};function mo(r,t,e,n){var i=e?"Please use '"+e+"' instead. ":"";Lt(function(){return console.warn("AG Grid: since v"+r+", '"+t+"' is deprecated. "+i+(n??""))},"Deprecated_"+t)}var D0=["__ob__","__v_skip","__metadata__"],b0=function(){function r(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."}}}return r.prototype.pickOneWarning=function(t,e){console.warn("AG Grid: "+t+" and "+e+" do not work with each other, you need to pick one.")},r.prototype.init=function(){var t=this;if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&"multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){var e=function(i,o){return"AG Grid: '"+i+"' is not supported on the Server-Side Row Model."+(o?" Please use "+o+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(e("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(e("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(e("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?vt.__assertRegistered(it.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var n=function(i,o){return t.gridOptionsService.exists(i)&&vt.__assertRegistered(o,i,t.gridOptionsService.getGridId())};n("sideBar",it.SideBarModule),n("statusBar",it.StatusBarModule),n("enableCharts",it.GridChartsModule),n("getMainMenuItems",it.MenuModule),n("getContextMenuItems",it.MenuModule),n("allowContextMenuWithControlKey",it.MenuModule),n("enableAdvancedFilter",it.AdvancedFilterModule),n("treeData",it.RowGroupingModule),n("enableRangeSelection",it.RangeSelectionModule),n("masterDetail",it.MasterDetailModule)},r.prototype.checkColumnDefProperties=function(){var t=this;if(null!=this.gridOptions.columnDefs){var e=ws.ALL_PROPERTIES,n=function(i,o){var s=Object.getOwnPropertyNames(i);t.checkProperties(s,qa(qa([],Zs(e)),Zs(D0)),e,o,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),i.children&&i.children.forEach(function(a){return n(a,"columnDefs.children")})};this.gridOptions.columnDefs.forEach(function(i){return n(i,"columnDefs")}),this.gridOptions.defaultColDef&&n(this.gridOptions.defaultColDef,"defaultColDef")}},r.prototype.checkColumnDefViolations=function(){var t,e=null!==(t=this.gridOptionsService.get("rowModelType"))&&void 0!==t?t:"clientSide",i={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[e];if(i){var o="multiple"===this.gridOptionsService.get("rowSelection"),s=["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],a=function(c){o||s.forEach(function(h){h in c&&c[h]&&console.warn("AG Grid: Column property "+h+" is not supported unless rowSelection='multiple'.")}),i.forEach(function(h){h in c&&c[h]&&console.warn("AG Grid: Column property "+h+" is not supported with the row model type "+e+".")})};null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(c){return a(c)}),null!=this.gridOptions.autoGroupColumnDef&&a(this.gridOptions.autoGroupColumnDef),null!=this.gridOptions.defaultColDef&&a(this.gridOptions.defaultColDef)}},r.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),e=qa(qa([],Zs(Ya.ALL_PROPERTIES)),Zs(qc.EVENT_CALLBACKS)),n=qa(qa(qa(qa([],Zs(e)),["api","columnApi"]),Zs(D0)),Zs(Object.keys(this.deprecatedProperties)));this.checkProperties(t,n,e,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},r.prototype.checkProperties=function(t,e,n,i,o){var s=jg(t,e,n);jn(s,function(a,c){Lt(function(){return console.warn("AG Grid: invalid "+i+" property '"+a+"' did you mean any of these: "+c.slice(0,8).join(", "))},"invalidProperty"+i+a)}),Object.keys(s).length>0&&Lt(function(){return console.warn("AG Grid: to see all the valid "+i+" properties please check: "+o)},"invalidProperties"+i+o)},r.prototype.checkForDeprecated=function(){var t=this.gridOptions;Object.entries(this.deprecatedProperties).forEach(function(e){var n,i=Zs(e,2),o=i[0],s=i[1],a=t[o];a&&(mo(s.version,o,s.newProp,s.message),s.copyToNewProp&&s.newProp&&null==t[s.newProp]&&(t[s.newProp]=null!==(n=s.newPropValue)&&void 0!==n?n:a))}),t.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),t.suppressServerSideInfiniteScroll="partial"!==t.serverSideStoreType)},r.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},r.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},pf([I("gridOptions")],r.prototype,"gridOptions",void 0),pf([I("gridOptionsService")],r.prototype,"gridOptionsService",void 0),pf([ke],r.prototype,"init",null),pf([tt("gridOptionsValidator")],r)}();function Xa(r,t){var e=["groupRows","multipleColumns","custom","singleColumn"];return e.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid groupDisplayType value - possible values are: '"+e.join("', '")+"'"),!1):t===r}var Zc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xi=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vx=function(r,t){return function(e,n){t(e,n,r)}},yo=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Zr=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},Qc=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ug=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.shouldQueueResizeOperations=!1,e.resizeOperationQueue=[],e}return Zc(t,r),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var n=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(n)&&(this.pivotMode=n),this.addManagedPropertyListeners(["groupDisplayType","treeData"],function(){return e.buildAutoGroupColumns()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListener("defaultColDef",function(i){return e.onSharedColDefChanged(i.source)}),this.addManagedPropertyListener("columnTypes",function(i){return e.onSharedColDefChanged(i.source)})},t.prototype.buildAutoGroupColumns=function(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))},t.prototype.onAutoGroupColumnDefChanged=function(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)},t.prototype.onSharedColDefChanged=function(e){void 0===e&&(e="api"),this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,e)},t.prototype.setColumnDefs=function(e,n){void 0===n&&(n="api");var i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,n)},t.prototype.recreateColumnDefs=function(e){void 0===e&&(e="api"),this.onSharedColDefChanged(e)},t.prototype.destroyOldColumns=function(e,n){var i={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(s){i[s.getInstanceId()]=s}),n&&this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(s){i[s.getInstanceId()]=null});var o=Object.values(i).filter(function(s){return null!=s});this.destroyBeans(o)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,n){var i=this;void 0===n&&(n="api");var o=e?this.compareColumnStatesAndDispatchEvents(n):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var s=this.primaryColumns,c=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.destroyOldColumns(this.primaryColumnTree,c.columnTree),this.primaryColumnTree=c.columnTree,this.primaryHeaderRowCount=c.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(g){return i.primaryColumnsMap[g.getId()]=g}),this.extractRowGroupColumns(n,s),this.extractPivotColumns(n,s),this.extractValueColumns(n,s),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(n),this.checkViewportColumns()),this.dispatchEverythingChanged(n),o&&o(),this.dispatchNewColumnsLoaded(n)},t.prototype.dispatchNewColumnsLoaded=function(e){this.eventService.dispatchEvent({type:N.EVENT_NEW_COLUMNS_LOADED,source:e})},t.prototype.dispatchEverythingChanged=function(e){void 0===e&&(e="api"),this.eventService.dispatchEvent({type:N.EVENT_COLUMN_EVERYTHING_CHANGED,source:e})},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,n=this.primaryColumns;if(n){var i=n.filter(function(s){return e.gridColumns.indexOf(s)>=0}),o=this.gridColumns.filter(function(s){return i.indexOf(s)<0});this.gridColumns=Zr(Zr([],yo(o)),yo(i)),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var n=e,i=[];null!=n;)i.push(n),n=this.getDisplayedColAfter(n);return i},t.prototype.checkViewportColumns=function(e){void 0===e&&(e=!1),null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:N.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e})},t.prototype.setViewportPosition=function(e,n,i){void 0===i&&(i=!1),(e!==this.scrollWidth||n!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=n,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsService.is("treeData")||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,n){void 0===n&&(n="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(n),this.eventService.dispatchEvent({type:N.EVENT_COLUMN_PIVOT_MODE_CHANGED}))},t.prototype.getSecondaryPivotColumn=function(e,n){if(ht(this.secondaryColumns))return null;var i=this.getPrimaryColumn(n),o=null;return this.secondaryColumns.forEach(function(s){var a=s.getColDef().pivotKeys,c=s.getColDef().pivotValueColumn;Ba(a,e)&&c===i&&(o=s)}),o},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var n,i;this.gridOptionsService.is("enableRtl")?(n=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?fn(this.displayedColumnsRight):null):(n=this.displayedColumnsLeft?fn(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===n,e),o.setFirstRightPinned(o===i,e)})},t.prototype.autoSizeColumns=function(e){var n=this;if(this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return n.autoSizeColumns(e)});else{var i=e.columns,o=e.skipHeader,s=e.skipHeaderGroups,a=e.stopAtGroup,c=e.source,h=void 0===c?"api":c;this.animationFrameService.flushAllFrames();for(var p=[],g=-1,m=o??this.gridOptionsService.is("skipHeaderOnAutoSize"),_=s??m;0!==g;)g=0,this.actionOnGridColumns(i,function(w){if(p.indexOf(w)>=0)return!1;var E=n.autoWidthCalculator.getPreferredWidthForColumn(w,m);if(E>0){var b=n.normaliseColumnWidth(w,E);w.setActualWidth(b,h),p.push(w),g++}return!0},h);_||this.autoSizeColumnGroupsByColumns(i,h,a),this.dispatchColumnResizedEvent(p,!0,"autosizeColumns")}},t.prototype.dispatchColumnResizedEvent=function(e,n,i,o){void 0===o&&(o=null),e&&e.length&&this.eventService.dispatchEvent({type:N.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:o,finished:n,source:i})},t.prototype.dispatchColumnChangedEvent=function(e,n,i){this.eventService.dispatchEvent({type:e,columns:n,column:n&&1==n.length?n[0]:null,source:i})},t.prototype.dispatchColumnMovedEvent=function(e){var n=e.movedColumns;this.eventService.dispatchEvent({type:N.EVENT_COLUMN_MOVED,columns:n,column:n&&1===n.length?n[0]:null,toIndex:e.toIndex,finished:e.finished,source:e.source})},t.prototype.dispatchColumnPinnedEvent=function(e,n){if(e.length){var i=1===e.length?e[0]:null,o=this.getCommonValue(e,function(a){return a.getPinned()});this.eventService.dispatchEvent({type:N.EVENT_COLUMN_PINNED,pinned:o??null,columns:e,column:i,source:n})}},t.prototype.dispatchColumnVisibleEvent=function(e,n){if(e.length){var i=1===e.length?e[0]:null,o=this.getCommonValue(e,function(a){return a.isVisible()});this.eventService.dispatchEvent({type:N.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:i,source:n})}},t.prototype.autoSizeColumn=function(e,n,i){void 0===i&&(i="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:n,skipHeaderGroups:!0,source:i})},t.prototype.autoSizeColumnGroupsByColumns=function(e,n,i){var o,s,a,c,g,h=new Set;this.getGridColumns(e).forEach(function(A){for(var x=A.getParent();x&&x!=i;)x.isPadding()||h.add(x),x=x.getParent()});try{for(var _=Qc(h),w=_.next();!w.done;w=_.next()){var E=w.value;try{for(var b=(a=void 0,Qc(this.ctrlsService.getHeaderRowContainerCtrls())),R=b.next();!R.done&&!(g=R.value.getHeaderCtrlForColumn(E));R=b.next());}catch(A){a={error:A}}finally{try{R&&!R.done&&(c=b.return)&&c.call(b)}finally{if(a)throw a.error}}g&&g.resizeLeafColumnsToFit(n)}}catch(A){o={error:A}}finally{try{w&&!w.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}return[]},t.prototype.autoSizeAllColumns=function(e,n){var i=this;if(void 0===n&&(n="api"),this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return i.autoSizeAllColumns(e,n)});else{var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:e,source:n})}},t.prototype.getColumnsFromTree=function(e){var n=[],i=function(o){for(var s=0;s<o.length;s++){var a=o[s];a instanceof hn?n.push(a):a instanceof ni&&i(a.getChildren())}};return i(e),n},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.isColSpanActive=function(){return this.colSpanActive},t.prototype.getDisplayedColumnsForRow=function(e,n,i,o){for(var h,s=[],a=null,c=function(g){var T,m=n[g],_=n.length-g,w=Math.min(m.getColSpan(e),_),E=[m];if(w>1){for(var b=w-1,R=1;R<=b;R++)E.push(n[g+R]);g+=b}i?(T=!1,E.forEach(function(x){i(x)&&(T=!0)})):T=!0,T&&(0===s.length&&a&&o&&o(m)&&s.push(a),s.push(m)),a=m,h=g},p=0;p<n.length;p++)c(p),p=h;return s},t.prototype.getViewportCenterColumnsForRow=function(e){var n=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var o=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,function(s){var a=s.getLeft();return _e(a)&&a>n.viewportLeft})},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInHeaderViewport=function(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var n=e.getLeft()||0,i=n+e.getActualWidth(),o=this.viewportLeft-200,s=this.viewportRight+200;return!(n<o&&i<o||n>s&&i>s)},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,n,i,o,s,a){var c=this;if(void 0===a&&(a="api"),e&&!Yr(e)){var h=!1;e.forEach(function(g){var m=c.getPrimaryColumn(g);if(m){if(i){if(n.indexOf(m)>=0)return;n.push(m)}else{if(n.indexOf(m)<0)return;qr(n,m)}o(m),h=!0}}),h&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.eventService.dispatchEvent({type:s,columns:n,column:1===n.length?n[0]:null,source:a}))}},t.prototype.setRowGroupColumns=function(e,n){void 0===n&&(n="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,N.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),n)},t.prototype.setRowGroupActive=function(e,n,i){e!==n.isRowGroupActive()&&(n.setRowGroupActive(e,i),e&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(n,!1,i),!e&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(n,!0,i))},t.prototype.addRowGroupColumn=function(e,n){void 0===n&&(n="api"),e&&this.addRowGroupColumns([e],n)},t.prototype.addRowGroupColumns=function(e,n){void 0===n&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),N.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},t.prototype.removeRowGroupColumns=function(e,n){void 0===n&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),N.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},t.prototype.removeRowGroupColumn=function(e,n){void 0===n&&(n="api"),e&&this.removeRowGroupColumns([e],n)},t.prototype.addPivotColumns=function(e,n){void 0===n&&(n="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(i){return i.setPivotActive(!0,n)},N.EVENT_COLUMN_PIVOT_CHANGED,n)},t.prototype.setPivotColumns=function(e,n){void 0===n&&(n="api"),this.setPrimaryColumnList(e,this.pivotColumns,N.EVENT_COLUMN_PIVOT_CHANGED,!0,function(i,o){o.setPivotActive(i,n)},n)},t.prototype.addPivotColumn=function(e,n){void 0===n&&(n="api"),this.addPivotColumns([e],n)},t.prototype.removePivotColumns=function(e,n){void 0===n&&(n="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(i){return i.setPivotActive(!1,n)},N.EVENT_COLUMN_PIVOT_CHANGED,n)},t.prototype.removePivotColumn=function(e,n){void 0===n&&(n="api"),this.removePivotColumns([e],n)},t.prototype.setPrimaryColumnList=function(e,n,i,o,s,a){var c=this,h=new Map;n.forEach(function(p,g){return h.set(p,g)}),n.length=0,_e(e)&&e.forEach(function(p){var g=c.getPrimaryColumn(p);g&&n.push(g)}),n.forEach(function(p,g){var m=h.get(p);void 0!==m?o&&m!==g||h.delete(p):h.set(p,0)}),(this.primaryColumns||[]).forEach(function(p){var g=n.indexOf(p)>=0;s(g,p)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.dispatchColumnChangedEvent(i,Zr([],yo(h.keys())),a)},t.prototype.setValueColumns=function(e,n){void 0===n&&(n="api"),this.setPrimaryColumnList(e,this.valueColumns,N.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),n)},t.prototype.setValueActive=function(e,n,i){if(e!==n.isValueActive()&&(n.setValueActive(e,i),e&&!n.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(n);n.setAggFunc(o)}},t.prototype.addValueColumns=function(e,n){void 0===n&&(n="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),N.EVENT_COLUMN_VALUE_CHANGED,n)},t.prototype.addValueColumn=function(e,n){void 0===n&&(n="api"),e&&this.addValueColumns([e],n)},t.prototype.removeValueColumn=function(e,n){void 0===n&&(n="api"),this.removeValueColumns([e],n)},t.prototype.removeValueColumns=function(e,n){void 0===n&&(n="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),N.EVENT_COLUMN_VALUE_CHANGED,n)},t.prototype.normaliseColumnWidth=function(e,n){var i=e.getMinWidth();_e(i)&&n<i&&(n=i);var o=e.getMaxWidth();return _e(o)&&e.isGreaterThanMax(n)&&(n=o),n},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,n,i,o){var s=this;void 0===o&&(o="api");var a=[];e.forEach(function(c){var h=s.getPrimaryOrGridColumn(c.key);if(h&&(a.push({width:c.newWidth,ratios:[1],columns:[h]}),"shift"===s.gridOptionsService.get("colResizeDefault")&&(n=!n),n)){var g=s.getDisplayedColAfter(h);if(!g)return;var m=h.getActualWidth()-c.newWidth,_=g.getActualWidth()+m;a.push({width:_,ratios:[1],columns:[g]})}}),0!==a.length&&this.resizeColumnSets({resizeSets:a,finished:i,source:o})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var i=e.width,o=0,s=0,a=!0;return e.columns.forEach(function(p){var g=p.getMinWidth();o+=g||0;var m=p.getMaxWidth();_e(m)&&m>0?s+=m:a=!1}),i>=o&&(!a||i<=s)},t.prototype.resizeColumnSets=function(e){var n=this,i=e.resizeSets,o=e.finished,s=e.source;if(!i||i.every(function(w){return n.checkMinAndMaxWidthsForSet(w)})){var h=[],p=[];i.forEach(function(w){var E=w.width,b=w.columns,R=w.ratios,T={},A={};b.forEach(function(H){return p.push(H)});for(var x=!0,P=0,k=function(){if(++P>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";x=!1;var H=[],U=0,W=E;b.forEach(function(ne,Ce){A[ne.getId()]?W-=T[ne.getId()]:(H.push(ne),U+=R[Ce])});var re=1/U;H.forEach(function(ne,Ce){var Ve;Ce===H.length-1?Ve=W:(Ve=Math.round(R[Ce]*E*re),W-=Ve);var de=ne.getMinWidth(),fe=ne.getMaxWidth();_e(de)&&Ve<de?(Ve=de,A[ne.getId()]=!0,x=!0):_e(fe)&&fe>0&&Ve>fe&&(Ve=fe,A[ne.getId()]=!0,x=!0),T[ne.getId()]=Ve})};x&&"break"!==k(););b.forEach(function(H){var U=T[H.getId()];H.getActualWidth()!==U&&(H.setActualWidth(U,s),h.push(H))})});var g=h.length>0,m=[];g&&(m=this.refreshFlexedColumns({resizingCols:p,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());var _=p.concat(m);(g||o)&&this.dispatchColumnResizedEvent(_,o,s,m)}else o&&this.dispatchColumnResizedEvent(i&&i.length>0?i[0].columns:null,o,s)},t.prototype.setColumnAggFunc=function(e,n,i){if(void 0===i&&(i="api"),e){var o=this.getPrimaryColumn(e);o&&(o.setAggFunc(n),this.dispatchColumnChangedEvent(N.EVENT_COLUMN_VALUE_CHANGED,[o],i))}},t.prototype.moveRowGroupColumn=function(e,n,i){void 0===i&&(i="api");var o=this.rowGroupColumns[e],s=this.rowGroupColumns.slice(e,n);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(n,0,o),this.eventService.dispatchEvent({type:N.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:1===s.length?s[0]:null,source:i})},t.prototype.moveColumns=function(e,n,i,o){if(void 0===i&&(i="api"),void 0===o&&(o=!0),this.columnAnimationService.start(),n>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+n),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var s=this.getGridColumns(e);!this.doesMovePassRules(s,n)||(wC(this.gridColumns,s,n),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:s,source:i,toIndex:n,finished:o}),this.columnAnimationService.finish())},t.prototype.doesMovePassRules=function(e,n){var i=this.getProposedColumnOrder(e,n);return this.doesOrderPassRules(i)},t.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},t.prototype.getProposedColumnOrder=function(e,n){var i=this.gridColumns.slice();return wC(i,e,n),i},t.prototype.sortColumnsLikeGridColumns=function(e){var n=this;!e||e.length<=1||e.filter(function(o){return n.gridColumns.indexOf(o)<0}).length>0||e.sort(function(o,s){return n.gridColumns.indexOf(o)-n.gridColumns.indexOf(s)})},t.prototype.doesMovePassLockedPositions=function(e){var n=0,i=!0;return e.forEach(function(s){var a=function(s){return s?!0===s||"left"===s?0:2:1}(s.getColDef().lockPosition);a<n&&(i=!1),n=a}),i},t.prototype.doesMovePassMarryChildren=function(e){var n=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof ni){var o=i,s=o.getColGroupDef();if(s&&s.marryChildren){var c=[];o.getLeafColumns().forEach(function(_){var w=e.indexOf(_);c.push(w)}),Math.max.apply(Math,c)-Math.min.apply(Math,c)>o.getLeafColumns().length-1&&(n=!1)}}}),n},t.prototype.moveColumn=function(e,n,i){void 0===i&&(i="api"),this.moveColumns([e],n,i)},t.prototype.moveColumnByIndex=function(e,n,i){void 0===i&&(i="api"),this.moveColumn(this.gridColumns[e],n,i)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var n=this.primaryColumns.slice();return this.gridColsArePrimary?n.sort(function(i,o){return e.gridColumns.indexOf(i)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&n.sort(function(i,o){return e.lastPrimaryOrder.indexOf(i)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(n,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),n=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==n||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=n,this.rightWidth=i,this.eventService.dispatchEvent({type:N.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return Yr(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return Yr(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,n,i){void 0===i&&(i="api"),this.setColumnsVisible([e],n,i)},t.prototype.setColumnsVisible=function(e,n,i){void 0===n&&(n=!1),void 0===i&&(i="api"),this.applyColumnState({state:e.map(function(o){return{colId:"string"==typeof o?o:o.getColId(),hide:!n}})},i)},t.prototype.setColumnPinned=function(e,n,i){void 0===i&&(i="api"),e&&this.setColumnsPinned([e],n,i)},t.prototype.setColumnsPinned=function(e,n,i){var o;void 0===i&&(i="api"),this.gridOptionsService.isDomLayout("print")?console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'"):(this.columnAnimationService.start(),o=!0===n||"left"===n?"left":"right"===n?"right":null,this.actionOnGridColumns(e,function(s){return s.getPinned()!==o&&(s.setPinned(o),!0)},i,function(){return{type:N.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:i}}),this.columnAnimationService.finish())},t.prototype.actionOnGridColumns=function(e,n,i,o){var s=this;if(!Yr(e)){var a=[];if(e.forEach(function(h){var p=s.getGridColumn(h);p&&!1!==n(p)&&a.push(p)}),a.length&&(this.updateDisplayedColumns(i),_e(o)&&o)){var c=o();c.columns=a,c.column=1===a.length?a[0]:null,this.eventService.dispatchEvent(c)}}},t.prototype.getDisplayedColBefore=function(e){var n=this.getAllDisplayedColumns(),i=n.indexOf(e);return i>0?n[i-1]:null},t.prototype.getDisplayedColAfter=function(e){var n=this.getAllDisplayedColumns(),i=n.indexOf(e);return i<n.length-1?n[i+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,n){for(var i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),s="After"===n?fn(o):o[0],a="getDisplayedCol"+n;;){var c=this[a](s);if(!c)return null;var h=this.getColumnGroupAtLevel(c,i);if(h!==e)return h}},t.prototype.getColumnGroupAtLevel=function(e,n){for(var i=e.getParent();!(i.getProvidedColumnGroup().getLevel()+i.getPaddingLevel()<=n);)i=i.getParent();return i},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},t.prototype.createStateItemFromColumn=function(e){var n=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,s=null!=e.getSort()?e.getSort():null,a=null!=e.getSortIndex()?e.getSortIndex():null,c=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:a,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:i,flex:c}},t.prototype.getColumnState=function(){if(ht(this.primaryColumns)||!this.isAlive())return[];var n=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(n),n},t.prototype.orderColumnStateList=function(e){var n=$a(this.gridColumns.map(function(i,o){return[i.getColId(),o]}));e.sort(function(i,o){return(n.has(i.colId)?n.get(i.colId):-1)-(n.has(o.colId)?n.get(o.colId):-1)})},t.prototype.resetColumnState=function(e){var n=this;void 0===e&&(e="api");var i=this.getColumnsFromTree(this.primaryColumnTree),o=[],s=1e3,a=1e3,c=[];this.groupAutoColumns&&(c=c.concat(this.groupAutoColumns)),i&&(c=c.concat(i)),c.forEach(function(h){var p=n.getColumnStateFromColDef(h);ht(p.rowGroupIndex)&&p.rowGroup&&(p.rowGroupIndex=s++),ht(p.pivotIndex)&&p.pivot&&(p.pivotIndex=a++),o.push(p)}),this.applyColumnState({state:o,applyOrder:!0},e)},t.prototype.getColumnStateFromColDef=function(e){var n=function(b,R){return b??R??null},i=e.getColDef(),o=n(i.sort,i.initialSort),s=n(i.sortIndex,i.initialSortIndex),a=n(i.hide,i.initialHide),c=n(i.pinned,i.initialPinned),h=n(i.width,i.initialWidth),p=n(i.flex,i.initialFlex),g=n(i.rowGroupIndex,i.initialRowGroupIndex),m=n(i.rowGroup,i.initialRowGroup);null==g&&(null==m||0==m)&&(g=null,m=null);var _=n(i.pivotIndex,i.initialPivotIndex),w=n(i.pivot,i.initialPivot);null==_&&(null==w||0==w)&&(_=null,w=null);var E=n(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:o,sortIndex:s,hide:a,pinned:c,width:h,flex:p,rowGroup:m,rowGroupIndex:g,pivot:w,pivotIndex:_,aggFunc:E}},t.prototype.applyColumnState=function(e,n){var i=this;if(Yr(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(h,p,g){var m=i.compareColumnStatesAndDispatchEvents(n);i.autoGroupsNeedBuilding=!0;var _=p.slice(),w={},E={},b=[],R=[],T=0,A=i.rowGroupColumns.slice(),x=i.pivotColumns.slice();h.forEach(function(H){var U=H.colId||"";if(U.startsWith(Yc))return b.push(H),void R.push(H);var re=g(U);re?(i.syncColumnWithStateItem(re,H,e.defaultState,w,E,!1,n),qr(_,re)):(R.push(H),T+=1)});var P=function(H){return i.syncColumnWithStateItem(H,null,e.defaultState,w,E,!1,n)};_.forEach(P);var k=function(H,U,W,re){var ne=H[W.getId()],Ce=H[re.getId()],Ie=null!=ne,Ve=null!=Ce;if(Ie&&Ve)return ne-Ce;if(Ie)return-1;if(Ve)return 1;var de=U.indexOf(W),fe=U.indexOf(re),ae=de>=0;return ae&&fe>=0?de-fe:ae?-1:1};i.rowGroupColumns.sort(k.bind(i,w,A)),i.pivotColumns.sort(k.bind(i,E,x)),i.updateGridColumns();var V=i.groupAutoColumns?i.groupAutoColumns.slice():[];return b.forEach(function(H){var U=i.getAutoColumn(H.colId);qr(V,U),i.syncColumnWithStateItem(U,H,e.defaultState,null,null,!0,n)}),V.forEach(P),i.applyOrderAfterApplyState(e),i.updateDisplayedColumns(n),i.dispatchEverythingChanged(n),m(),{unmatchedAndAutoStates:R,unmatchedCount:T}};this.columnAnimationService.start();var s=o(e.state||[],this.primaryColumns||[],function(h){return i.getPrimaryColumn(h)}),a=s.unmatchedAndAutoStates,c=s.unmatchedCount;return(a.length>0||_e(e.defaultState))&&(c=o(a,this.secondaryColumns||[],function(h){return i.getSecondaryColumn(h)}).unmatchedCount),this.columnAnimationService.finish(),0===c},t.prototype.applyOrderAfterApplyState=function(e){var n=this;if(e.applyOrder&&e.state){var i=[],o={};e.state.forEach(function(a){if(a.colId&&!o[a.colId]){var c=n.gridColumnsMap[a.colId];c&&(i.push(c),o[a.colId]=!0)}});var s=0;if(this.gridColumns.forEach(function(a){var c=a.getColId();null!=o[c]||(c.startsWith(Yc)?ja(i,a,s++):i.push(a))}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=i}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var n=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),s={};return o.forEach(function(a){s[a.colId]=a}),function(){var a=n.getPrimaryAndSecondaryAndAutoColumns(),c=function(R,T,A,x){if(!Ba(T.map(x),A.map(x))){var H=new Set(T);A.forEach(function(re){H.delete(re)||H.add(re)});var U=Zr([],yo(H));n.eventService.dispatchEvent({type:R,columns:U,column:1===U.length?U[0]:null,source:e})}},h=function(R){var T=[];return a.forEach(function(A){var x=s[A.getColId()];x&&R(x,A)&&T.push(A)}),T},p=function(R){return R.getColId()};c(N.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,n.rowGroupColumns,p),c(N.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,n.pivotColumns,p);var m=h(function(R,T){var A=null!=R.aggFunc,x=A!=T.isValueActive(),P=A&&R.aggFunc!=T.getAggFunc();return x||P});m.length>0&&n.dispatchColumnChangedEvent(N.EVENT_COLUMN_VALUE_CHANGED,m,e),n.dispatchColumnResizedEvent(h(function(R,T){return R.width!=T.getActualWidth()}),!0,e),n.dispatchColumnPinnedEvent(h(function(R,T){return R.pinned!=T.getPinned()}),e),n.dispatchColumnVisibleEvent(h(function(R,T){return R.hide==T.isVisible()}),e),h(function(R,T){return R.sort!=T.getSort()||R.sortIndex!=T.getSortIndex()}).length>0&&n.sortController.dispatchSortChangedEvents(e),n.normaliseColumnMovedEventForColumnState(o,e)}},t.prototype.getCommonValue=function(e,n){if(e&&0!=e.length){for(var i=n(e[0]),o=1;o<e.length;o++)if(i!==n(e[o]))return;return i}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,n){var i=this,o=this.getColumnState(),s={};o.forEach(function(g){return s[g.colId]=g});var a={};e.forEach(function(g){s[g.colId]&&(a[g.colId]=!0)});var c=e.filter(function(g){return a[g.colId]}),h=o.filter(function(g){return a[g.colId]}),p=[];h.forEach(function(g,m){var _=c&&c[m];if(_&&_.colId!==g.colId){var w=i.getGridColumn(_.colId);w&&p.push(w)}}),p.length&&this.dispatchColumnMovedEvent({movedColumns:p,source:n,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,n,i,o,s,a,c){if(e){var h=function(U,W){var re={value1:void 0,value2:void 0},ne=!1;return n&&(void 0!==n[U]&&(re.value1=n[U],ne=!0),_e(W)&&void 0!==n[W]&&(re.value2=n[W],ne=!0)),!ne&&i&&(void 0!==i[U]&&(re.value1=i[U]),_e(W)&&void 0!==i[W]&&(re.value2=i[W])),re},p=h("hide").value1;void 0!==p&&e.setVisible(!p,c);var g=h("pinned").value1;void 0!==g&&e.setPinned(g);var m=this.columnUtils.calculateColMinWidth(e.getColDef()),_=h("flex").value1;if(void 0!==_&&e.setFlex(_),e.getFlex()<=0){var E=h("width").value1;null!=E&&null!=m&&E>=m&&e.setActualWidth(E,c)}var b=h("sort").value1;void 0!==b&&e.setSort("desc"===b||"asc"===b?b:void 0,c);var R=h("sortIndex").value1;if(void 0!==R&&e.setSortIndex(R),!a&&e.isPrimary()){var T=h("aggFunc").value1;void 0!==T&&("string"==typeof T?(e.setAggFunc(T),e.isValueActive()||(e.setValueActive(!0,c),this.valueColumns.push(e))):(_e(T)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,c),qr(this.valueColumns,e))));var A=h("rowGroup","rowGroupIndex"),x=A.value1,P=A.value2;(void 0!==x||void 0!==P)&&("number"==typeof P||x?(e.isRowGroupActive()||(e.setRowGroupActive(!0,c),this.rowGroupColumns.push(e)),o&&"number"==typeof P&&(o[e.getId()]=P)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,c),qr(this.rowGroupColumns,e)));var k=h("pivot","pivotIndex"),V=k.value1,H=k.value2;(void 0!==V||void 0!==H)&&("number"==typeof H||V?(e.isPivotActive()||(e.setPivotActive(!0,c),this.pivotColumns.push(e)),s&&"number"==typeof H&&(s[e.getId()]=H)):e.isPivotActive()&&(e.setPivotActive(!1,c),qr(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,n){var i=[];return e&&e.forEach(function(o){var s=n(o);s&&i.push(s)}),i},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var n=this.getGridColumn(e);return n||console.warn("AG Grid: could not find column "+e),n},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.lookupGridColumn=function(e){return this.gridColumnsMap[e]},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,n,i){if(!e)return null;if("string"==typeof e&&i[e])return i[e];for(var o=0;o<n.length;o++)if(this.columnsMatch(n[o],e))return n[o];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var n=e.getColDef().showRowGroup;if(!n)return null;if(!0===n)return this.rowGroupColumns.slice(0);var i=this.getPrimaryColumn(n);return i?[i]:null},t.prototype.getAutoColumn=function(e){var n=this;return this.groupAutoColumns&&_e(this.groupAutoColumns)&&!ht(this.groupAutoColumns)&&this.groupAutoColumns.find(function(i){return n.columnsMatch(i,e)})||null},t.prototype.columnsMatch=function(e,n){var i=e===n,o=e.getColDef()===n,s=e.getColId()==n;return i||o||s},t.prototype.getDisplayNameForColumn=function(e,n,i){if(void 0===i&&(i=!1),!e)return null;var o=this.getHeaderName(e.getColDef(),e,null,null,n);return i?this.wrapHeaderNameWithAggFunc(e,o):o},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,n,i){var o=n?n.getColGroupDef():null;return o?this.getHeaderName(o,null,e,n,i):null},t.prototype.getDisplayNameForColumnGroup=function(e,n){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),n)},t.prototype.getHeaderName=function(e,n,i,o,s){var a=e.headerValueGetter;if(a){var c={colDef:e,column:n,columnGroup:i,providedColumnGroup:o,location:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof a?a(c):"string"==typeof a?this.expressionService.evaluate(a,c):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?Bg(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,n){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return n;var a,i=e.getColDef().pivotValueColumn,s=null;if(_e(i)){var c=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,h=void 0!==e.getColDef().pivotTotalColumnIds;if(c&&!h)return n;s=i?i.getAggFunc():null,a=!0}else{var p=e.isValueActive(),g=this.pivotMode||!this.isRowGroupEmpty();p&&g?(s=e.getAggFunc(),a=!0):a=!1}if(a){var m="string"==typeof s?s:"func";return this.localeService.getLocaleTextFunc()(m,m)+"("+n+")"}return n},t.prototype.getColumnGroup=function(e,n){if(!e)return null;if(e instanceof Ai)return e;var i=this.getAllDisplayedTrees(),o="number"==typeof n,s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,function(a){if(a instanceof Ai){var c=a;(o?e===c.getGroupId()&&n===c.getPartId():e===c.getGroupId())&&(s=c)}}),s},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,n){this.valueColumns=this.extractColumns(n,this.valueColumns,function(i,o){return i.setValueActive(o,e)},function(){},function(){},function(i){var o=i.aggFunc;return null===o||""===o?null:void 0!==o?!!o:void 0},function(i){return null!=i.initialAggFunc&&""!=i.initialAggFunc}),this.valueColumns.forEach(function(i){var o=i.getColDef();null!=o.aggFunc&&""!=o.aggFunc?i.setAggFunc(o.aggFunc):i.getAggFunc()||i.setAggFunc(o.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,n){this.rowGroupColumns=this.extractColumns(n,this.rowGroupColumns,function(i,o){return i.setRowGroupActive(o,e)},function(i){return i.rowGroupIndex},function(i){return i.initialRowGroupIndex},function(i){return i.rowGroup},function(i){return i.initialRowGroup})},t.prototype.extractColumns=function(e,n,i,o,s,a,c){void 0===e&&(e=[]),void 0===n&&(n=[]);var h=[],p=[];(this.primaryColumns||[]).forEach(function(_){var w=e.indexOf(_)<0,E=_.getColDef(),b=tr(a(E)),R=tr(c(E)),T=vo(o(E)),A=vo(s(E));(void 0!==b?b:void 0!==T?null!==T&&T>=0:w?void 0!==R?R:void 0!==A&&null!=A&&A>=0:n.indexOf(_)>=0)&&((w?null!=T||null!=A:null!=T)?h.push(_):p.push(_))});var g=function(_){var w=o(_.getColDef()),E=s(_.getColDef());return w??E};h.sort(function(_,w){var E=g(_),b=g(w);return E===b?0:E<b?-1:1});var m=[].concat(h);return n.forEach(function(_){p.indexOf(_)>=0&&m.push(_)}),p.forEach(function(_){m.indexOf(_)<0&&m.push(_)}),n.forEach(function(_){m.indexOf(_)<0&&i(_,!1)}),m.forEach(function(_){n.indexOf(_)<0&&i(_,!0)}),m},t.prototype.extractPivotColumns=function(e,n){this.pivotColumns=this.extractColumns(n,this.pivotColumns,function(i,o){return i.setPivotActive(o,e)},function(i){return i.pivotIndex},function(i){return i.initialPivotIndex},function(i){return i.pivot},function(i){return i.initialPivot})},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var n=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(i){if(i instanceof ni){var o=i.getColGroupDef(),s={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof ni&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,n){var i=this;void 0===n&&(n="api"),this.columnAnimationService.start();var o=[];e.forEach(function(s){var c=s.open,h=i.getProvidedColumnGroup(s.groupId);h&&h.isExpanded()!==c&&(i.logger.log("columnGroupOpened("+h.getGroupId()+","+c+")"),h.setExpanded(c),o.push(h))}),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n),o.forEach(function(s){i.eventService.dispatchEvent({type:N.EVENT_COLUMN_GROUP_OPENED,columnGroup:s})}),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,n,i){var o;void 0===i&&(i="api"),o=e instanceof ni?e.getId():e||"",this.setColumnGroupState([{groupId:o,open:n}],i)},t.prototype.getProvidedColumnGroup=function(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");var n=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof ni&&i.getId()===e&&(n=i)}),n},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.pivotMode&&ht(this.secondaryColumns)?this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&Xr(e.groupAutoColumns,i),s=e.valueColumns&&Xr(e.valueColumns,i);return o||s}):this.gridColumns.filter(function(i){return e.groupAutoColumns&&Xr(e.groupAutoColumns,i)||i.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var n=!1;return e.forEach(function(i){_e(i.getColDef().colSpan)&&(n=!0)}),n},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={},this.gridColumns.forEach(function(i){var o=i.getColDef(),s=o.showRowGroup;o&&_e(s)&&(e.groupDisplayColumns.push(i),"string"==typeof s?e.groupDisplayColumnsMap[s]=i:!0===s&&e.getRowGroupColumns().forEach(function(a){e.groupDisplayColumnsMap[a.getId()]=i}))})},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var n=this.calculateColumnsForDisplay();this.buildDisplayedTrees(n),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return _e(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,n){var i=this;void 0===n&&(n="api");var o=e&&e.length>0;if(o||!ht(this.secondaryColumns)){if(o){this.processSecondaryColumnDefinitions(e);var s=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,s.columnTree),this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(a){return i.secondaryColumnsMap[a.getId()]=a}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(n)}},t.prototype.processSecondaryColumnDefinitions=function(e){var n=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(n||i){var o=function(s){s.forEach(function(a){if(_e(a.children)){var h=a;i&&i(h),o(h.children)}else n&&n(a)})};e&&o(e)}},t.prototype.updateGridColumns=function(){var i,e=this,n=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every(function(h){return void 0!==e.gridColumnsMap[h.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(i=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,i=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&i){var a=$a(this.groupAutoColumns.map(function(h){return[h,!0]}));i=i.filter(function(h){return!a.has(h)}),i=Zr(Zr([],yo(this.groupAutoColumns)),yo(i))}this.addAutoGroupToGridColumns(),this.orderGridColsLike(i),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(h){return e.gridColumnsMap[h.getId()]=h}),this.setAutoHeightActive(),Ba(n,this.gridBalancedTree)||this.eventService.dispatchEvent({type:N.EVENT_GRID_COLUMNS_CHANGED})},t.prototype.setAutoHeightActive=function(){this.autoHeightActive=this.gridColumns.filter(function(i){return i.isAutoHeight()}).length>0,!this.autoHeightActive||(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide"))||Lt(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")},t.prototype.orderGridColsLike=function(e){if(!ht(e)){var n=$a(e.map(function(p,g){return[p,g]})),i=!0;if(this.gridColumns.forEach(function(p){n.has(p)&&(i=!1)}),!i){var o=$a(this.gridColumns.map(function(p){return[p,!0]})),s=e.filter(function(p){return o.has(p)}),a=$a(s.map(function(p){return[p,!0]})),c=this.gridColumns.filter(function(p){return!a.has(p)}),h=s.slice();c.forEach(function(p){var g=p.getOriginalParent();if(g){for(var m=[];!m.length&&g;)g.getLeafColumns().forEach(function(b){var R=h.indexOf(b)>=0,T=m.indexOf(b)<0;R&&T&&m.push(b)}),g=g.getOriginalParent();if(m.length){var w=m.map(function(b){return h.indexOf(b)}),E=Math.max.apply(Math,Zr([],yo(w)));ja(h,p,E+1)}else h.push(p)}else h.push(p)}),this.gridColumns=h}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,n=null!==(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)&&void 0!==e?e:[];this.groupAutoColumns&&(n=n.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?n:n.filter(function(i){return i.isVisible()||i.isRowGroupActive()})},t.prototype.placeLockedColumns=function(e){var n=[],i=[],o=[];return e.forEach(function(s){var a=s.getColDef().lockPosition;"right"===a?o.push(s):"left"===a||!0===a?n.push(s):i.push(s)}),Zr(Zr(Zr([],yo(n)),yo(i)),yo(o))},t.prototype.addAutoGroupToGridColumns=function(){if(ht(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:N.EVENT_DISPLAYED_COLUMNS_CHANGED})},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(n){return n.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsService.is("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var n=this;if(this.primaryColumns){var i=this.primaryColumns.slice(0),o=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(s){if(o){var a=n.getWidthOfColsInList(s);s.forEach(function(h){a-=h.getActualWidth(),h.setLeft(a,e)})}else{var c=0;s.forEach(function(h){h.setLeft(c,e),c+=h.getActualWidth()})}ax(i,s)}),i.forEach(function(s){s.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(n){n instanceof Ai&&n.checkLeft()})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,n){n.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(i){i instanceof hn&&n.push(i)})},t.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,n){var i;switch(e){case"left":i=this.viewportRowLeft[n];break;case"right":i=this.viewportRowRight[n];break;default:i=this.viewportRowCenter[n]}return ht(i)&&(i=[]),i},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(i){return e[i.getId()]=!0});var n=function(i,o,s){for(var a=!1,c=0;c<i.length;c++){var h=i[c],p=!1;if(h instanceof hn)p=!0===e[h.getId()];else{var m=h.getDisplayedChildren();m&&(p=n(m,o,s+1))}p&&(a=!0,o[s]||(o[s]=[]),o[s].push(h))}return a};n(this.displayedTreeLeft,this.viewportRowLeft,0),n(this.displayedTreeRight,this.viewportRowRight,0),n(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns();var n=this.viewportColumns.map(function(o){return o.getId()+"-"+(o.getPinned()||"normal")}).join("#"),i=this.viewportColumnsHash!==n;return i&&(this.viewportColumnsHash=n,this.calculateHeaderRows()),i},t.prototype.refreshFlexedColumns=function(e){var n;void 0===e&&(e={});var i=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(e.resizingCols)for(var s=new Set(e.resizingCols),a=this.displayedColumnsCenter,c=a.length-1;c>=0;c--)if(s.has(a[c])){o=c;break}var h=0,p=[],g=0,m=0;for(c=0;c<this.displayedColumnsCenter.length;c++)this.displayedColumnsCenter[c].getFlex()&&c>o?(p.push(this.displayedColumnsCenter[c]),m+=this.displayedColumnsCenter[c].getFlex(),g+=null!==(n=this.displayedColumnsCenter[c].getMinWidth())&&void 0!==n?n:0):h+=this.displayedColumnsCenter[c].getActualWidth();if(!p.length)return[];var w=[];h+g>this.flexViewportWidth&&(p.forEach(function(H){var U;return H.setActualWidth(null!==(U=H.getMinWidth())&&void 0!==U?U:0,i)}),w=p,p=[]);var b,E=[];e:for(;;){var R=(b=this.flexViewportWidth-h)/m;for(c=0;c<p.length;c++){var T=p[c],A=R*T.getFlex(),x=0,P=T.getMinWidth(),k=T.getMaxWidth();if(_e(P)&&A<P?x=P:_e(k)&&A>k&&(x=k),x){T.setActualWidth(x,i),CC(p,T),m-=T.getFlex(),w.push(T),h+=T.getActualWidth();continue e}E[c]=Math.round(A)}break}var V=b;return p.forEach(function(H,U){H.setActualWidth(Math.min(E[U],V),i),w.push(H),V-=E[U]}),e.skipSetLeft||this.setLeftValues(i),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(w,!0,i,p),p},t.prototype.sizeColumnsToFit=function(e,n,i,o){var a,c,h,p,g,s=this;if(void 0===n&&(n="sizeColumnsToFit"),this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return s.sizeColumnsToFit(e,n,i,o)});else{var m={};o&&(null===(a=o?.columnLimits)||void 0===a||a.forEach(function(fe){var ae=fe.key,Fe=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]])}return e}(fe,["key"]);m["string"==typeof ae?ae:ae.getColId()]=Fe}));var _=this.getAllDisplayedColumns(),w=e===this.getWidthOfColsInList(_);if(!(e<=0||!_.length||w)){var E=[],b=[];_.forEach(function(fe){!0===fe.getColDef().suppressSizeToFit?b.push(fe):E.push(fe)});var R=E.slice(0),T=!1,A=function(fe){qr(E,fe),b.push(fe)};for(E.forEach(function(fe){var ae,Fe;fe.resetActualWidth(n);var qe=m?.[fe.getId()],Je=null!==(ae=qe?.minWidth)&&void 0!==ae?ae:o?.defaultMinWidth,Dt=null!==(Fe=qe?.maxWidth)&&void 0!==Fe?Fe:o?.defaultMaxWidth,kt=fe.getActualWidth();"number"==typeof Je&&kt<Je?fe.setActualWidth(Je,n,!0):"number"==typeof Dt&&kt>Dt&&fe.setActualWidth(Dt,n,!0)});!T;){T=!0;var x=e-this.getWidthOfColsInList(b);if(x<=0)E.forEach(function(fe){var ae,Fe,qe=null!==(Fe=null===(ae=m?.[fe.getId()])||void 0===ae?void 0:ae.minWidth)&&void 0!==Fe?Fe:o?.defaultMinWidth;"number"!=typeof qe?fe.setMinimum(n):fe.setActualWidth(qe,n,!0)});else for(var P=x/this.getWidthOfColsInList(E),k=x,V=E.length-1;V>=0;V--){var H=E[V],U=m?.[H.getId()],W=null!==(c=U?.minWidth)&&void 0!==c?c:o?.defaultMinWidth,re=null!==(h=U?.maxWidth)&&void 0!==h?h:o?.defaultMaxWidth,ne=null!==(p=H.getMinWidth())&&void 0!==p?p:0,Ce=null!==(g=H.getMaxWidth())&&void 0!==g?g:Number.MAX_VALUE,Ie="number"==typeof W&&W>ne?W:H.getMinWidth(),Ve="number"==typeof re&&re<Ce?re:H.getMaxWidth(),de=Math.round(H.getActualWidth()*P);_e(Ie)&&de<Ie?(de=Ie,A(H),T=!1):_e(Ve)&&de>Ve?(de=Ve,A(H),T=!1):0===V&&(de=k),H.setActualWidth(de,n,!0),k-=de}}R.forEach(function(fe){fe.fireColumnWidthChangedEvent(n)}),this.setLeftValues(n),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(R,!0,n)}}},t.prototype.buildDisplayedTrees=function(e){var n=[],i=[],o=[];e.forEach(function(a){switch(a.getPinned()){case"left":n.push(a);break;case"right":i.push(a);break;default:o.push(a)}});var s=new y0;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(n,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,s,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var n=function(i){e.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,n)},t.prototype.isDisplayed=function(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(n){n instanceof Ai&&n.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){var e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var n=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.gridOptionsService.is("treeData"))||i||n)this.groupAutoColumns=null;else{var a=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(a,this.groupAutoColumns)||e)return this.groupAutoColumns=a,!0}return!1},t.prototype.isGroupSuppressAutoColumn=function(){var e=this.gridOptionsService.get("groupDisplayType");if(e&&Xa("custom",e))return!0;var i=this.gridOptionsService.get("treeDataDisplayType");return!!i&&function Qs(r,t){var e=["auto","custom"];return e.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid treeDataDisplayType value - possible values are: '"+e.join("', '")+"'"),!1):t===r}("custom",i)},t.prototype.autoColsEqual=function(e,n){return Ba(e,n,function(i,o){return i.getColId()===o.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(n,i){return n+i.getActualWidth()},0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.is("enableRtl"),n=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&n.reverse();for(var i=0;i<n.length;i++){var o=this[n[i]]();if(o.length)return e?fn(o):o[0]}return null},t.prototype.setColumnHeaderHeight=function(e,n){e.setAutoHeaderHeight(n)&&this.eventService.dispatchEvent({type:N.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"})},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.getAllDisplayedColumns().filter(function(i){return i.isAutoHeaderHeight()}).map(function(i){return i.getAutoHeaderHeight()||0});return Math.max.apply(Math,Zr([e],yo(n)))},t.prototype.getHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("headerHeight"))&&void 0!==e?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==e?e:this.getGroupHeaderHeight()},t.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},t.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(e){return e()}),this.resizeOperationQueue=[]},t.prototype.resetColumnDefIntoColumn=function(e){var n=e.getUserProvidedColDef();if(!n)return!1;var i=this.columnFactory.addColumnDefaultAndTypes(n,e.getColId());return e.setColDef(i,n),!0},t.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(e,n){var i=this,o={},s=function(a,c,h,p,g,m){if(!c.length||!i.primaryColumns)return[];for(var _=Object.keys(a),w=new Set(_),E=new Set(_),b=new Set(c.map(function(W){var re=W.getColId();return E.delete(re),re}).concat(_)),R=[],T={},A=0,x=0;x<i.primaryColumns.length;x++){var P=i.primaryColumns[x].getColId();b.has(P)&&(R.push(P),T[P]=A++)}var k=1e3,V=!1,H=0,U=function(W){for(var re=T[W],ne=H;ne<re;ne++){var Ce=R[ne];E.has(Ce)&&(a[Ce][g]=k++,E.delete(Ce))}H=re};c.forEach(function(W){var re=W.getColId();if(w.has(re))U(re),a[re][g]=k++;else{var ne=W.getColDef();(null===ne[g]||void 0===ne[g]&&null==ne[m])&&(V||(ne[h]||void 0===ne[h]&&ne[p]?U(re):(E.forEach(function(Ve){a[Ve][g]=k+T[Ve]}),k+=R.length,V=!0)),o[re]||(o[re]={colId:re}),o[re][g]=k++)}})};return s(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(n,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},xi([I("expressionService")],t.prototype,"expressionService",void 0),xi([I("columnFactory")],t.prototype,"columnFactory",void 0),xi([I("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),xi([I("ctrlsService")],t.prototype,"ctrlsService",void 0),xi([I("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),xi([I("columnUtils")],t.prototype,"columnUtils",void 0),xi([I("columnAnimationService")],t.prototype,"columnAnimationService",void 0),xi([I("autoGroupColService")],t.prototype,"autoGroupColService",void 0),xi([sn("aggFuncService")],t.prototype,"aggFuncService",void 0),xi([sn("valueCache")],t.prototype,"valueCache",void 0),xi([sn("animationFrameService")],t.prototype,"animationFrameService",void 0),xi([I("sortController")],t.prototype,"sortController",void 0),xi([I("columnDefFactory")],t.prototype,"columnDefFactory",void 0),xi([ke],t.prototype,"init",null),xi([hi],t.prototype,"destroyColumns",null),xi([vx(0,Hi("loggerFactory"))],t.prototype,"setBeans",null),xi([tt("columnModel")],t)}(Re),R0=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mx=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return R0(t,r),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var n=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e),s=vo(e.width),a=vo(e.initialWidth);return Math.max(Math.min(null!=s?s:null!=a?a:200,i),n)},t.prototype.getOriginalPathForColumn=function(e,n){var i=[],o=!1,s=function(a,c){for(var h=0;h<a.length;h++){if(o)return;var p=a[h];p instanceof ni?(s(p.getChildren(),c+1),i[c]=p):p===e&&(o=!0)}};return s(n,0),o?i:null},t.prototype.depthFirstOriginalTreeSearch=function(e,n,i){var o=this;n&&n.forEach(function(s){s instanceof ni&&o.depthFirstOriginalTreeSearch(s,s.getChildren(),i),i(s,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,n){var i=this;e&&e.forEach(function(o){o instanceof Ai&&i.depthFirstAllColumnTreeSearch(o.getChildren(),n),n(o)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,n){var i=this;e&&e.forEach(function(o){o instanceof Ai&&i.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),n),n(o)})},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([tt("columnUtils")],t),t}(Re),yx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_x=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return yx(t,r),t.prototype.createDisplayedGroups=function(e,n,i,o){for(var s=this,a=this.mapOldGroupsById(o),c=[],h=e,p=function(){var g=h;h=[];for(var m=0,_=function(P){var k=m;m=P;var V=g[k],U=(V instanceof Ai?V.getProvidedColumnGroup():V).getOriginalParent();if(null!=U){var re=s.createColumnGroup(U,n,a,i);for(W=k;W<P;W++)re.addChild(g[W]);h.push(re)}else for(var W=k;W<P;W++)c.push(g[W])},w=1;w<g.length;w++){var E=g[w],R=(E instanceof Ai?E.getProvidedColumnGroup():E).getOriginalParent(),T=g[m];R!==(T instanceof Ai?T.getProvidedColumnGroup():T).getOriginalParent()&&_(w)}m<g.length&&_(g.length)};h.length;)p();return this.setupParentsIntoColumns(c,null),c},t.prototype.createColumnGroup=function(e,n,i,o){var s=e.getGroupId(),a=n.getInstanceIdForKey(s),h=i[Ai.createUniqueId(s,a)];return h&&h.getProvidedColumnGroup()!==e&&(h=null),_e(h)?h.reset():(h=new Ai(e,s,a,o),this.context.createBean(h)),h},t.prototype.mapOldGroupsById=function(e){var n={},i=function(o){o.forEach(function(s){if(s instanceof Ai){var a=s;n[s.getUniqueId()]=a,i(a.getChildren())}})};return e&&i(e),n},t.prototype.setupParentsIntoColumns=function(e,n){var i=this;e.forEach(function(o){if(o.setParent(n),o instanceof Ai){var s=o;i.setupParentsIntoColumns(s.getChildren(),s)}})},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([tt("displayedGroupCreator")],t),t}(Re),A0=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wx=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.componentsMappedByName={},e}return A0(t,r),t.prototype.setupComponents=function(e){var n=this;e&&e.forEach(function(i){return n.addComponent(i)})},t.prototype.addComponent=function(e){var i=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[i]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([tt("agStackComponentsRegistry")],t),t}(Re);function Ss(r,t,e){null==e||""==e?Wg(r,t):Go(r,t,e)}function Go(r,t,e){r.setAttribute(AC(t),e.toString())}function Wg(r,t){r.removeAttribute(AC(t))}function AC(r){return"aria-"+r}function fi(r,t){t?r.setAttribute("role",t):r.removeAttribute("role")}function gf(r){return"asc"===r?"ascending":"desc"===r?"descending":"mixed"===r?"other":"none"}function xC(r){return parseInt(r.getAttribute("aria-level"),10)}function MC(r){return parseInt(r.getAttribute("aria-posinset"),10)}function Es(r,t){Ss(r,"label",t)}function vf(r,t){Ss(r,"labelledby",t)}function Vt(r,t){Ss(r,"description",t)}function PC(r,t){Ss(r,"describedby",t)}function IC(r,t){Ss(r,"live",t)}function fu(r,t){Ss(r,"level",t)}function zg(r,t){Ss(r,"disabled",t)}function $g(r,t){Ss(r,"hidden",t)}function Jc(r,t){Ss(r,"activedescendant",t)}function Bi(r,t){Go(r,"expanded",t)}function Kg(r){Wg(r,"expanded")}function pu(r,t){Go(r,"setsize",t)}function Yg(r,t){Go(r,"posinset",t)}function qg(r,t){Go(r,"multiselectable",t)}function Xg(r,t){Go(r,"rowcount",t)}function mf(r,t){Go(r,"rowindex",t)}function FC(r,t){Go(r,"colcount",t)}function yf(r,t){Go(r,"colindex",t)}function x0(r,t){Go(r,"colspan",t)}function M0(r,t){Go(r,"sort",t)}function P0(r){Wg(r,"sort")}function Za(r,t){Ss(r,"selected",t)}function I0(r,t){Go(r,"checked",void 0===t?"mixed":t)}function F0(r,t){Ss(r,"controls",t.id),vf(t,r.id)}function Zg(r,t){return void 0===t?r("ariaIndeterminate","indeterminate"):!0===t?r("ariaChecked","checked"):r("ariaUnchecked","unchecked")}var Qg,Cf,LC,NC,nr,kC,GC,L0,Ex=Object.freeze({__proto__:null,setAriaRole:fi,getAriaSortState:gf,getAriaLevel:xC,getAriaPosInSet:MC,getAriaDescribedBy:function Sx(r){return r.getAttribute("aria-describedby")||""},setAriaLabel:Es,setAriaLabelledBy:vf,setAriaDescription:Vt,setAriaDescribedBy:PC,setAriaLive:IC,setAriaLevel:fu,setAriaDisabled:zg,setAriaHidden:$g,setAriaActiveDescendant:Jc,setAriaExpanded:Bi,removeAriaExpanded:Kg,setAriaSetSize:pu,setAriaPosInSet:Yg,setAriaMultiSelectable:qg,setAriaRowCount:Xg,setAriaRowIndex:mf,setAriaColCount:FC,setAriaColIndex:yf,setAriaColSpan:x0,setAriaSort:M0,removeAriaSort:P0,setAriaSelected:Za,setAriaChecked:I0,setAriaControls:F0,getAriaCheckboxStateName:Zg});function Or(){return void 0===Qg&&(Qg=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Qg}function Jg(){if(void 0===Cf)if(Or()){var r=navigator.userAgent.match(/version\/(\d+)/i);r&&(Cf=null!=r[1]?parseFloat(r[1]):0)}else Cf=0;return Cf}function ev(){if(void 0===LC){var r=window;LC=!!r.chrome&&(!!r.chrome.webstore||!!r.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return LC}function VC(){return void 0===NC&&(NC=/(firefox)/i.test(navigator.userAgent)),NC}function HC(){return void 0===nr&&(nr=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),nr}function Js(){return void 0===kC&&(kC=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),kC}function tv(){return!Or()||Jg()>=15}function nv(r){if(!r)return null;var t=r.tabIndex,e=r.getAttribute("tabIndex");return-1!==t||null!==e&&(""!==e||VC())?t.toString():null}function iv(){if(!document.body)return-1;var r=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var n=2*r;if(e.style.height=n+"px",n>t||e.clientHeight!==n)break;r=n}return document.body.removeChild(e),r}function N0(){var r,t,e;return null!==(t=null===(r=document.body)||void 0===r?void 0:r.clientWidth)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientWidth)||-1}function k0(){var r,t,e;return null!==(t=null===(r=document.body)||void 0===r?void 0:r.clientHeight)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientHeight)||-1}function G0(){return null==L0&&V0(),L0}function V0(){var r=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",r.appendChild(t);var e=t.offsetWidth-t.clientWidth;0===e&&0===t.clientWidth&&(e=null),t.parentNode&&t.parentNode.removeChild(t),null!=e&&(L0=e,GC=0===e)}function _f(){return null==GC&&V0(),GC}var Ds=Object.freeze({__proto__:null,isBrowserSafari:Or,getSafariVersion:Jg,isBrowserChrome:ev,isBrowserFirefox:VC,isMacOsUserAgent:HC,isIOSUserAgent:Js,browserSupportsPreventScroll:tv,getTabIndex:nv,getMaxDivHeight:iv,getBodyWidth:N0,getBodyHeight:k0,getScrollbarWidth:G0,isInvisibleScrollbar:_f});function Qa(r,t){return r.toString().padStart(t,"0")}function H0(r,t){for(var e=[],n=r;n<=t;n++)e.push(n);return e}function rv(r,t,e){return"number"!=typeof r?"":r.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t)}var U0=Object.freeze({__proto__:null,padStartWidthZeros:Qa,createArrayOfNumbers:H0,cleanNumber:function B0(r){return"string"==typeof r&&(r=parseInt(r,10)),"number"==typeof r?Math.floor(r):null},decToHex:function Dx(r,t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(255&r),r>>>=8;return e},formatNumberTwoDecimalPlacesAndCommas:function j0(r,t,e){return"number"!=typeof r?"":rv(Math.round(100*r)/100,t,e)},formatNumberCommas:rv,sum:function ov(r){return null==r?null:r.reduce(function(t,e){return t+e},0)},zeroOrGreater:function BC(r,t){return r>=0?r:t},oneOrGreater:function ZN(r,t){var e=parseInt(r,10);return!isNaN(e)&&isFinite(e)&&e>0?e:t}}),sv=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o};function Qr(r,t,e){if(void 0===t&&(t=!0),void 0===e&&(e="-"),!r)return null;var n=[r.getFullYear(),r.getMonth()+1,r.getDate()].map(function(i){return Qa(i,2)}).join(e);return t&&(n+=" "+[r.getHours(),r.getMinutes(),r.getSeconds()].map(function(i){return Qa(i,2)}).join(":")),n}var av=function(r){if(r>3&&r<21)return"th";switch(r%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Ja(r,t){void 0===t&&(t="YYYY-MM-DD");var e=Qa(r.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return""+r.getFullYear()},MMMM:function(){return n[r.getMonth()]},MMM:function(){return n[r.getMonth()].slice(0,3)},MM:function(){return Qa(r.getMonth()+1,2)},Mo:function(){return""+(r.getMonth()+1)+av(r.getMonth()+1)},M:function(){return""+(r.getMonth()+1)},Do:function(){return""+r.getDate()+av(r.getDate())},DD:function(){return Qa(r.getDate(),2)},D:function(){return""+r.getDate()},dddd:function(){return i[r.getDay()]},ddd:function(){return i[r.getDay()].slice(0,3)},dd:function(){return i[r.getDay()].slice(0,2)},do:function(){return""+r.getDay()+av(r.getDay())},d:function(){return""+r.getDay()}},s=new RegExp(Object.keys(o).join("|"),"g");return t.replace(s,function(a){return a in o?o[a]():a})}function $n(r){if(!r)return null;var t=sv(r.split(" "),2),e=t[0],n=t[1];if(!e)return null;var i=e.split("-").map(function(w){return parseInt(w,10)});if(3!==i.filter(function(w){return!isNaN(w)}).length)return null;var o=sv(i,3),s=o[0],a=o[1],c=o[2],h=new Date(s,a-1,c);if(h.getFullYear()!==s||h.getMonth()!==a-1||h.getDate()!==c)return null;if(!n||"00:00:00"===n)return h;var p=sv(n.split(":").map(function(w){return parseInt(w,10)}),3),g=p[0],m=p[1],_=p[2];return g>=0&&g<24&&h.setHours(g),m>=0&&m<60&&h.setMinutes(m),_>=0&&_<60&&h.setSeconds(_),h}var lv,bx=Object.freeze({__proto__:null,serialiseDate:Qr,dateToFormattedString:Ja,parseDateTimeFromString:$n}),jC=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o};function uv(r,t,e){for(var n=r.parentElement,i=n&&n.firstChild;i;)t&&i.classList.toggle(t,i===r),e&&i.classList.toggle(e,i!==r),i=i.nextSibling}var W0="[tabindex], input, select, button, textarea, [href]",ed=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function gu(r){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(r,"input, select, button, textarea"),i=t.call(r,ed),o=Co(r);return n&&!i&&o}function en(r,t,e){void 0===e&&(e={});var n=e.skipAriaHidden;r.classList.toggle("ag-hidden",!t),n||$g(r,!t)}function wf(r,t,e){void 0===e&&(e={});var n=e.skipAriaHidden;r.classList.toggle("ag-invisible",!t),n||$g(r,!t)}function Sf(r,t){var e="disabled",n=t?function(i){return i.setAttribute(e,"")}:function(i){return i.removeAttribute(e)};n(r),qC(r.querySelectorAll("input"),function(i){return n(i)})}function vu(r,t,e){for(var n=0;r;){if(r.classList.contains(t))return!0;if(r=r.parentElement,"number"==typeof e){if(++n>e)break}else if(r===e)break}return!1}function ea(r){var t=window.getComputedStyle(r),n=t.width,i=t.borderTopWidth,o=t.borderRightWidth,s=t.borderBottomWidth,a=t.borderLeftWidth,c=t.paddingTop,h=t.paddingRight,p=t.paddingBottom,g=t.paddingLeft,m=t.marginTop,_=t.marginRight,w=t.marginBottom,E=t.marginLeft,b=t.boxSizing;return{height:parseFloat(t.height),width:parseFloat(n),borderTopWidth:parseFloat(i),borderRightWidth:parseFloat(o),borderBottomWidth:parseFloat(s),borderLeftWidth:parseFloat(a),paddingTop:parseFloat(c),paddingRight:parseFloat(h),paddingBottom:parseFloat(p),paddingLeft:parseFloat(g),marginTop:parseFloat(m),marginRight:parseFloat(_),marginBottom:parseFloat(w),marginLeft:parseFloat(E),boxSizing:b}}function td(r){var t=ea(r);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function cv(r){var t=ea(r);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function UC(r){var t=ea(r);return Math.ceil(r.offsetHeight+(t.marginBottom+t.marginTop))}function nd(r){var t=ea(r);return Math.ceil(r.offsetWidth+(t.marginLeft+t.marginRight))}function dv(r){var t=r.getBoundingClientRect(),e=ea(r);return{top:t.top+(e.borderTopWidth||0),left:t.left+(e.borderLeftWidth||0),right:t.right+(e.borderRightWidth||0),bottom:t.bottom+(e.borderBottomWidth||0)}}function ta(){if("boolean"==typeof lv)return lv;var r=document.createElement("div");return r.style.direction="rtl",r.style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="0px",r.style.overflow="hidden",r.dir="rtl",r.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(r),r.scrollLeft=1,lv=0===Math.floor(r.scrollLeft),document.body.removeChild(r),lv}function Ef(r,t){var e=r.scrollLeft;return t&&(e=Math.abs(e),ev()&&!ta()&&(e=r.scrollWidth-r.clientWidth-e)),e}function id(r,t,e){e&&(ta()?t*=-1:(Or()||ev())&&(t=r.scrollWidth-r.clientWidth-t)),r.scrollLeft=t}function Mi(r){for(;r&&r.firstChild;)r.removeChild(r.firstChild)}function na(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Co(r){return null!==r.offsetParent}function Pi(r){var t=document.createElement("div");return t.innerHTML=(r||"").trim(),t.firstChild}function WC(r){return r&&r.clientHeight?r.clientHeight:0}function zC(r){return r&&r.clientWidth?r.clientWidth:0}function $C(r,t,e){if(!e||e.nextSibling!==t){var n=document.activeElement,i=t.contains(n);e?e.nextSibling?r.insertBefore(t,e.nextSibling):r.appendChild(t):r.firstChild&&r.firstChild!==t&&r.insertAdjacentElement("afterbegin",t),i&&n&&tv()&&n.focus({preventScroll:!0})}}function KC(r,t){for(var e=0;e<t.length;e++){var n=t[e],i=r.children[e];i!==n&&r.insertBefore(n,i)}}function z0(r,t,e){e?e.insertAdjacentElement("afterend",t):r.firstChild?r.insertAdjacentElement("afterbegin",t):r.appendChild(t)}function Df(r,t){var e,n;if(t)try{for(var i=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(t)),o=i.next();!o.done;o=i.next()){var s=jC(o.value,2),a=s[0],c=s[1];if(a&&a.length&&null!=c){var h=qs(a),p=c.toString(),g=p.replace(/\s*!important/g,"");r.style.setProperty(h,g,g.length!=p.length?"important":void 0)}}}catch(_){e={error:_}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}function K0(r){return r.clientWidth<r.scrollWidth}function bf(r){return r.clientHeight<r.scrollHeight}function Of(r,t){"flex"===t?(r.style.removeProperty("width"),r.style.removeProperty("minWidth"),r.style.removeProperty("maxWidth"),r.style.flex="1 1 auto"):_o(r,t)}function _o(r,t){t=hv(t),r.style.width=t.toString(),r.style.maxWidth=t.toString(),r.style.minWidth=t.toString()}function mu(r,t){t=hv(t),r.style.height=t.toString(),r.style.maxHeight=t.toString(),r.style.minHeight=t.toString()}function hv(r){return"number"==typeof r?r+"px":r}function Rf(r){return r instanceof Node||r instanceof HTMLElement}function Y0(r){if(null==r)return[];var t=[];return qC(r,function(e){return t.push(e)}),t}function YC(r,t){if(r)for(var e=0;e<r.length;e++){var n=r[e];t(n.name,n.value)}}function Vo(r,t,e){null==e?r.removeAttribute(t):r.setAttribute(t,e.toString())}function qC(r,t){if(null!=r)for(var e=0;e<r.length;e++)t(r[e])}function q0(r,t){r.then(function(e){var n=e.getGui();null!=n&&("object"==typeof n?t.appendChild(n):t.innerHTML=n)})}var X0=Object.freeze({__proto__:null,radioCssClass:uv,FOCUSABLE_SELECTOR:W0,FOCUSABLE_EXCLUDE:ed,isFocusableFormField:gu,setDisplayed:en,setVisible:wf,setDisabled:Sf,isElementChildOfClass:vu,getElementSize:ea,getInnerHeight:td,getInnerWidth:cv,getAbsoluteHeight:UC,getAbsoluteWidth:nd,getElementRectWithOffset:dv,isRtlNegativeScroll:ta,getScrollLeft:Ef,setScrollLeft:id,clearElement:Mi,removeElement:function Rx(r,t){na(r.querySelector(t))},removeFromParent:na,isVisible:Co,loadTemplate:Pi,appendHtml:function Tx(r,t){r.lastChild?r.insertAdjacentHTML("afterbegin",t):r.innerHTML=t},getElementAttribute:function Ax(r,t){return r.attributes&&r.attributes[t]?r.attributes[t].value:null},offsetHeight:WC,offsetWidth:zC,ensureDomOrder:$C,setDomChildOrder:KC,insertWithDomOrder:z0,prependDC:function $0(r,t){_e(r.firstChild)?r.insertBefore(t,r.firstChild):r.appendChild(t)},addStylesToElement:Df,isHorizontalScrollShowing:K0,isVerticalScrollShowing:bf,setElementWidth:Of,setFixedWidth:_o,setElementHeight:function xx(r,t){"flex"===t?(r.style.removeProperty("height"),r.style.removeProperty("minHeight"),r.style.removeProperty("maxHeight"),r.style.flex="1 1 auto"):mu(r,t)},setFixedHeight:mu,formatSize:hv,isNodeOrElement:Rf,copyNodeList:Y0,iterateNamedNodeMap:YC,addOrRemoveAttribute:Vo,nodeListForEach:qC,bindCellRendererToHtmlElement:q0}),XC={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function Ho(r,t,e){var n=Vn(r,t,e);if(n){var i=n.className;if("string"==typeof i&&i.indexOf("ag-icon")>-1||"object"==typeof i&&i["ag-icon"])return n}var o=document.createElement("span");return o.appendChild(n),o}function Vn(r,t,e,n){var i=null,o=e&&e.getColDef().icons;if(o&&(i=o[r]),t&&!i){var s=t.get("icons");s&&(i=s[r])}if(!i){var c=document.createElement("span"),h=XC[r];return h||(n?h=r:(console.warn("AG Grid: Did not find icon "+r),h="")),c.setAttribute("class","ag-icon ag-icon-"+h),c.setAttribute("unselectable","on"),fi(c,"presentation"),c}var a=void 0;if("function"==typeof i)a=i();else{if("string"!=typeof i)throw new Error("icon from grid options needs to be a string or a function");a=i}return"string"==typeof a?Pi(a):Rf(a)?a:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Mx=Object.freeze({__proto__:null,iconNameClassMap:XC,createIcon:Ho,createIconNoSpan:Vn}),ce=function(){function r(){}return r.BACKSPACE="Backspace",r.TAB="Tab",r.ENTER="Enter",r.ESCAPE="Escape",r.SPACE=" ",r.LEFT="ArrowLeft",r.UP="ArrowUp",r.RIGHT="ArrowRight",r.DOWN="ArrowDown",r.DELETE="Delete",r.F2="F2",r.PAGE_UP="PageUp",r.PAGE_DOWN="PageDown",r.PAGE_HOME="Home",r.PAGE_END="End",r.A="KeyA",r.C="KeyC",r.D="KeyD",r.V="KeyV",r.X="KeyX",r.Y="KeyY",r.Z="KeyZ",r}();function Cu(r){return!(r.altKey||r.ctrlKey||r.metaKey)&&1===r.key.length}function ir(r,t,e,n,i){var o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var s={event:t,editing:i,column:n,api:r.api,node:e,data:e.data,colDef:n.getColDef(),context:r.context,columnApi:r.columnApi};return!(!o||!o(s))}function fv(r,t,e,n){var i=n.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;return!!_e(o)&&!!o({api:r.api,columnApi:r.columnApi,context:r.context,colDef:i,column:n,headerRowIndex:e,event:t})}function _u(r){var e;switch(r.keyCode){case 65:e=ce.A;break;case 67:e=ce.C;break;case 86:e=ce.V;break;case 68:e=ce.D;break;case 90:e=ce.Z;break;case 89:e=ce.Y;break;default:e=r.code}return e}function wu(r,t){return void 0===t&&(t=!1),r===ce.DELETE||!t&&r===ce.BACKSPACE&&HC()}var rd=Object.freeze({__proto__:null,isEventFromPrintableCharacter:Cu,isUserSuppressingKeyboardEvent:ir,isUserSuppressingHeaderKeyboardEvent:fv,normaliseQwertyAzerty:_u,isDeleteKey:wu});function el(r,t,e){if(0===e)return!1;var n=Math.abs(r.clientX-t.clientX),i=Math.abs(r.clientY-t.clientY);return Math.max(n,i)<=e}var od=Object.freeze({__proto__:null,areEventsNear:el}),ld=Object.freeze({__proto__:null,sortRowNodesByOrder:function sd(r,t){if(!r)return!1;for(var e=function(a,c){var h=t[a.id],p=t[c.id],g=void 0!==h,m=void 0!==p;return g&&m?h-p:g||m?g?1:-1:a.__objectId-c.__objectId},o=!1,s=0;s<r.length-1;s++)if(e(r[s],r[s+1])>0){o=!0;break}return!!o&&(r.sort(e),!0)},traverseNodesWithKey:function ad(r,t){var e=[];!function n(i){i&&i.forEach(function(o){if(o.group||o.hasChildren()){e.push(o.key);var s=e.join("|");t(o,s),n(o.childrenAfterGroup),e.pop()}})}(r)}});function tl(r){var t=new Set;return r.forEach(function(e){return t.add(e)}),t}var Z0=Object.freeze({__proto__:null,convertToSet:tl}),Qn=function(){return Qn=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Qn.apply(this,arguments)},gt=Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn({},Ex),ux),Ds),bx),X0),cx),nx),gx),QA),Mx),rd),TC),od),U0),c0),ld),Z0),hf),Su=function(){function r(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return r.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},r.prototype.peek=function(){return this.nextValue},r.prototype.skip=function(t){this.nextValue+=t},r}(),ud=function(r){return r[r.IN_PROGRESS=0]="IN_PROGRESS",r[r.RESOLVED=1]="RESOLVED",r}(ud||{}),rr=function(){function r(t){var e=this;this.status=ud.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(n){return e.onDone(n)},function(n){return e.onReject(n)})}return r.all=function(t){return new r(function(e){var n=t.length,i=new Array(n);t.forEach(function(o,s){o.then(function(a){i[s]=a,0==--n&&e(i)})})})},r.resolve=function(t){return void 0===t&&(t=null),new r(function(e){return e(t)})},r.prototype.then=function(t){var e=this;return new r(function(n){e.status===ud.RESOLVED?n(t(e.resolution)):e.waiters.push(function(i){return n(t(i))})})},r.prototype.resolveNow=function(t,e){return this.status===ud.RESOLVED?e(this.resolution):t},r.prototype.onDone=function(t){this.status=ud.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},r.prototype.onReject=function(t){console.warn("TBI")},r}(),J0=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ia=function(){return ia=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},ia.apply(this,arguments)},QC=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ra=function(r){return r[r.NOTHING=0]="NOTHING",r[r.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",r[r.SHOWING=2]="SHOWING",r}(ra||{}),nl=function(r){return r[r.HOVER=0]="HOVER",r[r.FOCUS=1]="FOCUS",r}(nl||{}),JC=function(r){function t(e,n,i){var o=r.call(this)||this;return o.parentComp=e,o.tooltipShowDelayOverride=n,o.tooltipHideDelayOverride=i,o.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,o.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=ra.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return J0(t,r),t.prototype.postConstruct=function(){this.gridOptionsService.is("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipShowDelay=this.getTooltipDelay("show"),this.tooltipHideDelay=this.getTooltipDelay("hide"),this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var e=this.parentComp.getGui();this.tooltipTrigger===nl.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===nl.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))},t.prototype.getGridOptionsTooltipDelay=function(e){var n=this.gridOptionsService.getNum(e);if(_e(n))return n<0&&Lt(function(){return console.warn("AG Grid: "+e+" should not be lower than 0")},e+"Warn"),Math.max(200,n)},t.prototype.getTooltipDelay=function(e){var n,i,o,s;return"show"===e?null!==(i=null!==(n=this.getGridOptionsTooltipDelay("tooltipShowDelay"))&&void 0!==n?n:this.tooltipShowDelayOverride)&&void 0!==i?i:this.DEFAULT_SHOW_TOOLTIP_DELAY:null!==(s=null!==(o=this.getGridOptionsTooltipDelay("tooltipHideDelay"))&&void 0!==o?o:this.tooltipHideDelayOverride)&&void 0!==s?s:this.DEFAULT_HIDE_TOOLTIP_DELAY},t.prototype.destroy=function(){this.setToDoNothing(),r.prototype.destroy.call(this)},t.prototype.getTooltipTrigger=function(){var e=this.gridOptionsService.get("tooltipTrigger");return e&&"hover"!==e?nl.FOCUS:nl.HOVER},t.prototype.onMouseEnter=function(e){var n=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Js()&&(t.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){n.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))},t.prototype.onMouseMove=function(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===ra.SHOWING&&this.tooltipComp&&this.positionTooltip()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},t.prototype.onFocusIn=function(){this.prepareToShowTooltip()},t.prototype.onFocusOut=function(e){var n,i=e.relatedTarget,o=this.parentComp.getGui(),s=null===(n=this.tooltipComp)||void 0===n?void 0:n.getGui();this.isInteractingWithTooltip||o.contains(i)||this.interactionEnabled&&s?.contains(i)||this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.prepareToShowTooltip=function(e){if(this.state!=ra.NOTHING||t.isLocked)return!1;var n=0;return e&&(n=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=ra.WAITING_TO_SHOW,!0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.setToDoNothing=function(){this.state===ra.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=ra.NOTHING,this.lastMouseEvent=null},t.prototype.showTooltip=function(){var e=ia({},this.parentComp.getTooltipParams());if(_e(e.value)){this.state=ra.SHOWING,this.tooltipInstanceCount++;var n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(n)}else this.setToDoNothing()},t.prototype.hideTooltip=function(e){if(e||!this.isInteractingWithTooltip){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime());var n={type:N.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(n),this.state=ra.NOTHING}},t.prototype.newTooltipComponentCallback=function(e,n){if(this.state!==ra.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(n);else{var o=n.getGui();this.tooltipComp=n,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===nl.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:o,ariaLabel:s("ariaLabelTooltip","Tooltip")});a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===nl.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,N.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,N.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===nl.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var c={type:N.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(c),this.startHideTimeout()}},t.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},t.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},t.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},t.prototype.onTooltipFocusOut=function(e){var n,i=this.parentComp.getGui(),o=null===(n=this.tooltipComp)||void 0===n?void 0:n.getGui(),s=e.relatedTarget;o?.contains(s)||(this.isInteractingWithTooltip=!1,i.contains(s)?this.startHideTimeout():this.hideTooltip())},t.prototype.positionTooltip=function(){var e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(ia(ia({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(ia(ia({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var n=this.tooltipPopupDestroyFunc,i=this.tooltipComp;window.setTimeout(function(){n(),e.getContext().destroyBean(i)},this.tooltipTrigger===nl.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(e){e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},t.prototype.lockService=function(){var e=this;t.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){e.unlockService(),e.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},t.prototype.unlockService=function(){t.isLocked=!1,this.clearInteractiveTimeout()},t.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)},t.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},t.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},t.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},t.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},t.isLocked=!1,QC([I("popupService")],t.prototype,"popupService",void 0),QC([I("userComponentFactory")],t.prototype,"userComponentFactory",void 0),QC([ke],t.prototype,"postConstruct",null),t}(Re),Fx=function(){function r(t){this.cssClassStates={},this.getGui=t}return r.prototype.addCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1)n.forEach(function(s){return e.addCssClass(s)});else if(!0!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},r.prototype.removeCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1)n.forEach(function(s){return e.removeCssClass(s)});else if(!1!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},r.prototype.containsCssClass=function(t){var e=this.getGui();return!!e&&e.classList.contains(t)},r.prototype.addOrRemoveCssClass=function(t,e){var n=this;if(t){if(t.indexOf(" ")>=0){var i=(t||"").split(" ");if(i.length>1)return void i.forEach(function(a){return n.addOrRemoveCssClass(a,e)})}if(this.cssClassStates[t]!==e&&t.length){var s=this.getGui();s&&s.classList.toggle(t,e),this.cssClassStates[t]=e}}},r}(),QN=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),e_=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JN=new Su,Nt=function(r){function t(e){var n=r.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=JN.next(),n.cssClassManager=new Fx(function(){return n.eGui}),e&&n.setTemplate(e),n}return QN(t,r),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e,n,i){var o=this;this.tooltipText!=e&&(this.tooltipText&&(o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)),null!=e&&(this.tooltipText=e,this.tooltipText&&(o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new JC(o,n,i)))))},t.prototype.createChildComponentsFromTags=function(e,n){var i=this;Y0(e.childNodes).forEach(function(s){if(s instanceof HTMLElement){var a=i.createComponentFromElement(s,function(h){h.getGui()&&i.copyAttributesFromNode(s,h.getGui())},n);if(a){if(a.addItems&&s.children.length){i.createChildComponentsFromTags(s,n);var c=Array.prototype.slice.call(s.children);a.addItems(c)}i.swapComponentForNode(a,e,s)}else s.childNodes&&i.createChildComponentsFromTags(s,n)}})},t.prototype.createComponentFromElement=function(e,n,i){var o=e.nodeName,s=i?i[e.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(o);if(a){t.elementGettingCreated=e;var c=new a(s);return c.setParentComponent(this),this.createBean(c,null,n),c}return null},t.prototype.copyAttributesFromNode=function(e,n){YC(e.attributes,function(i,o){return n.setAttribute(i,o)})},t.prototype.swapComponentForNode=function(e,n,i){var o=e.getGui();n.replaceChild(o,i),n.insertBefore(document.createComment(i.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)},t.prototype.swapInComponentForQuerySelectors=function(e,n){var i=this;this.iterateOverQuerySelectors(function(o){i[o.attributeName]===n&&(i[o.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var n=Object.getPrototypeOf(this);null!=n;){var i=n.__agComponentMetaData,o=Pg(n.constructor);i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach(function(s){return e(s)}),n=Object.getPrototypeOf(n)}},t.prototype.activateTabIndex=function(e){var n=this.gridOptionsService.getNum("tabIndex")||0;e||(e=[]),e.length||e.push(this.getGui()),e.forEach(function(i){return i.setAttribute("tabindex",n.toString())})},t.prototype.setTemplate=function(e,n){var i=Pi(e);this.setTemplateFromElement(i,n)},t.prototype.setTemplateFromElement=function(e,n){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),n)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var n=this;this.iterateOverQuerySelectors(function(i){var o=function(c){return n[i.attributeName]=c};if(i.refSelector&&e.getAttribute("ref")===i.refSelector)o(e.eGui);else{var a=e.eGui.querySelector(i.querySelector);a&&o(a.__agComponent||a)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.getAriaElement=function(){return this.getFocusableElement()},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,n){null!=e&&(n||(n=this.eGui),Rf(e)?n.appendChild(e):n.appendChild(e.getGui()))},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,n){void 0===n&&(n={}),e!==this.visible&&(this.visible=e,wf(this.eGui,e,{skipAriaHidden:n.skipAriaHidden}))},t.prototype.setDisplayed=function(e,n){void 0===n&&(n={}),e!==this.displayed&&(this.displayed=e,en(this.eGui,e,{skipAriaHidden:n.skipAriaHidden}),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),r.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,n,i){var o=this;this.eGui.addEventListener(e,n,i),this.addDestroyFunc(function(){return o.eGui.removeEventListener(e,n)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,n){this.cssClassManager.addOrRemoveCssClass(e,n)},t.prototype.getAttribute=function(e){var n=this.eGui;return n?n.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",e_([I("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),e_([rx],t.prototype,"preConstructOnComponent",null),e_([rx],t.prototype,"createChildComponentsPreConstruct",null),t}(Re);function He(r){return pv.bind(this,"[ref="+r+"]",r)}function pv(r,t,e,n,i){null!==r?"number"!=typeof i?function Af(r,t,e){var n=function t_(r,t){return r.__agComponentMetaData||(r.__agComponentMetaData={}),r.__agComponentMetaData[t]||(r.__agComponentMetaData[t]={}),r.__agComponentMetaData[t]}(r,Pg(r.constructor));n[t]||(n[t]=[]),n[t].push(e)}(e,"querySelectors",{attributeName:n,querySelector:r,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var gv=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),n_=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xf=function(r){function t(){return r.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return gv(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(n+" "+i("ariaFilterInput","Filter Input"))},t.prototype.onParentModelChanged=function(e){var n=this;e?this.params.parentFilterInstance(function(i){if(i.getModelAsString){var o=i.getModelAsString(e);n.eFloatingFilterText.setValue(o)}}):this.eFloatingFilterText.setValue("")},t.prototype.onParamsUpdated=function(e){this.init(e)},n_([He("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),n_([I("columnModel")],t.prototype,"columnModel",void 0),t}(Nt),i_=function(){function r(t,e,n,i){var o=this;this.alive=!0,this.context=t,this.eParent=i,e.getDateCompDetails(n).newAgStackInstance().then(function(c){o.alive?(o.dateComp=c,c&&(i.appendChild(c.getGui()),c.afterGuiAttached&&c.afterGuiAttached(),o.tempValue&&c.setDate(o.tempValue),null!=o.disabled&&o.setDateCompDisabled(o.disabled))):t.destroyBean(c)})}return r.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},r.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},r.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},r.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},r.prototype.setDisplayed=function(t){en(this.eParent,t)},r.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},r.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},r.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},r.prototype.updateParams=function(t){var e;null!==(e=this.dateComp)&&void 0!==e&&e.onParamsUpdated&&"function"==typeof this.dateComp.onParamsUpdated&&this.dateComp.onParamsUpdated(t)},r.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},r}(),eD=function(){function r(){this.customFilterOptions={}}return r.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},r.prototype.getFilterOptions=function(){return this.filterOptions},r.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach(function(e){if("string"!=typeof e){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(o){return!!o.some(function(s){return null!=e[s]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+o+"'"),!1)}))return void(t.filterOptions=t.filterOptions.filter(function(o){return o===e})||[]);t.customFilterOptions[e.displayKey]=e}})},r.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},r.prototype.getDefaultOption=function(){return this.defaultOption},r.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},r}(),cd={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Lx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r_=function(){return r_=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},r_.apply(this,arguments)},tD=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},il=function(r){function t(e,n){void 0===n&&(n={});var i=r.call(this)||this;return i.eFocusableElement=e,i.callbacks=n,i.callbacks=r_({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var s=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,o.shiftKey);s&&(s.focus(),o.preventDefault())}}},n),i}return Lx(t,r),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var n=this;this.addManagedListener(e,"keydown",function(i){if(!i.defaultPrevented&&!No(i)){if(n.callbacks.shouldStopEventPropagation(i))return void br(i);i.key===ce.TAB?n.callbacks.onTabKeyDown(i):n.callbacks.handleKeyDown&&n.callbacks.handleKeyDown(i)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",tD([I("focusService")],t.prototype,"focusService",void 0),tD([ke],t.prototype,"postConstruct",null),t}(Re),o_=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dd=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Mf="ag-resizer-wrapper",tk='<div class="'+Mf+'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',nD=function(r){function t(e,n){var i=r.call(this)||this;return i.element=e,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},n),i}return o_(t,r),t.prototype.center=function(){var e=this.offsetParent,n=e.clientHeight,o=e.clientWidth/2-this.getWidth()/2,s=n/2-this.getHeight()/2;this.offsetElement(o,s)},t.prototype.initialisePosition=function(){if(!this.positioned){var e=this.config,n=e.centered,i=e.forcePopupParentAsOffsetParent,o=e.minWidth,s=e.width,a=e.minHeight,c=e.height,h=e.x,p=e.y;this.offsetParent||this.setOffsetParent();var g=0,m=0,_=!!this.element.offsetParent;if(_){var w=this.findBoundaryElement(),E=window.getComputedStyle(w);if(null!=E.minWidth){var b=w.offsetWidth-this.element.offsetWidth;m=parseInt(E.minWidth,10)-b}if(null!=E.minHeight){var R=w.offsetHeight-this.element.offsetHeight;g=parseInt(E.minHeight,10)-R}}if(this.minHeight=a||g,this.minWidth=o||m,s&&this.setWidth(s),c&&this.setHeight(c),(!s||!c)&&this.refreshSize(),n)this.center();else if(h||p)this.offsetElement(h,p);else if(_&&i){var T=!0;if((w=this.boundaryEl)||(w=this.findBoundaryElement(),T=!1),w){var A=parseFloat(w.style.top),x=parseFloat(w.style.left);T?this.offsetElement(isNaN(x)?0:x,isNaN(A)?0:A):this.setPosition(x,A)}}this.positioned=!!this.offsetParent}},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,n){if(this.config.popup&&e!==this.movable){this.movable=e;var i=this.moveElementDragListener||{eElement:n,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var n=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(i){var s=!!e[i],a=n.getResizerElement(i),c={dragStartPixels:0,eElement:a,onDragStart:function(h){return n.onResizeStart(h,i)},onDragging:n.onResize.bind(n),onDragStop:function(h){return n.onResizeEnd(h,i)}};(s||!n.isAlive()&&!s)&&(s?(n.dragService.addDragSource(c),n.resizeListeners.push(c),a.style.pointerEvents="all"):a.style.pointerEvents="none",n.resizable[i]=s)})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,n=e.height,i=e.width;-1!==i&&(this.element.style.width=i+"px"),-1!==n&&(this.element.style.height=n+"px")},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var n=this.config.popup,i=this.element,o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))mu(i,e),e=UC(i),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){var s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):n?mu(i,e):(i.style.height=e+"px",i.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))},t.prototype.getAvailableHeight=function(){var e=this.config,n=e.popup,i=e.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),c=n?this.position.y:s.top,h=n?0:a.top,p=0;if(i){var g=this.element.parentElement;g&&(p=g.getBoundingClientRect().bottom-s.bottom)}return o+h-c-p},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var n=this.element,i=this.config.popup,o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))_o(n,e),e=nd(n),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var s=this.offsetParent.clientWidth,a=i?this.position.x:this.element.getBoundingClientRect().left;s&&e+a>s&&(e=s-a)}this.getWidth()!==e&&(o?(n.style.maxWidth="unset",n.style.minWidth="unset"):this.config.popup?_o(n,e):(n.style.width=e+"px",n.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,n){void 0===e&&(e=0),void 0===n&&(n=0);var o=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:n}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},t.prototype.constrainSizeToAvailableHeight=function(e){var n=this;this.config.forcePopupParentAsOffsetParent&&(e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),function(){var o=n.getAvailableHeight();n.element.style.setProperty("max-height",o+"px")}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))},t.prototype.setPosition=function(e,n){this.position.x=e,this.position.y=n},t.prototype.updateDragStartPosition=function(e,n){this.dragStartPosition={x:e,y:n}},t.prototype.calculateMouseMovement=function(e){var n=e.e,o=e.isTop,a=e.topBuffer,c=n.clientX-this.dragStartPosition.x,h=n.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(n,!!e.isLeft,!!e.anywhereWithin,c)?0:c,movementY:this.shouldSkipY(n,!!o,a,h)?0:h}},t.prototype.shouldSkipX=function(e,n,i,o){var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),c=this.boundaryEl.getBoundingClientRect(),h=this.config.popup?this.position.x:s.left,p=h<=0&&a.left>=e.clientX||a.right<=e.clientX&&a.right<=c.right;return!!p||(n?o<0&&e.clientX>h+a.left||o>0&&e.clientX<h+a.left:i?o<0&&e.clientX>c.right||o>0&&e.clientX<h+a.left:o<0&&e.clientX>c.right||o>0&&e.clientX<c.right)},t.prototype.shouldSkipY=function(e,n,i,o){void 0===i&&(i=0);var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),c=this.boundaryEl.getBoundingClientRect(),h=this.config.popup?this.position.y:s.top,p=h<=0&&a.top>=e.clientY||a.bottom<=e.clientY&&a.bottom<=c.bottom;return!!p||(n?o<0&&e.clientY>h+a.top+i||o>0&&e.clientY<h+a.top:o<0&&e.clientY>c.bottom||o>0&&e.clientY<c.bottom)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var i=(new DOMParser).parseFromString(tk,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector("."+Mf);e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!n.match(/top/i),isRight:!!n.match(/right/i),isBottom:!!n.match(/bottom/i),isLeft:!!n.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[n].element.classList.add("ag-active");var i=this.config;!i.popup&&!i.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var n=this.element.parentElement;return n?Array.prototype.slice.call(n.children).filter(function(i){return!i.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],n=0,i=0,o=0;o<e.length;o++){var s=e[o];if(s!==this.element){var c=this.minHeight||0,h=this.minWidth||0;if(s.style.flex&&"0 0 auto"!==s.style.flex){var p=window.getComputedStyle(s);p.minHeight&&(c=parseInt(p.minHeight,10)),p.minWidth&&(h=parseInt(p.minWidth,10))}else c=s.offsetHeight,h=s.offsetWidth;n+=c,i+=h}}return{height:n,width:i}},t.prototype.applySizeToSiblings=function(e){var n=null,i=this.getSiblings();if(i){for(var o=0;o<i.length;o++){var s=i[o];s!==n&&(e?s.style.height=s.offsetHeight+"px":s.style.width=s.offsetWidth+"px",s.style.flex="0 0 auto",s===this.element&&(n=i[o+1]))}n&&(n.style.removeProperty("height"),n.style.removeProperty("min-height"),n.style.removeProperty("max-height"),n.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var n=this.config,i=n.popup,o=n.forcePopupParentAsOffsetParent,s=this.currentResizer,a=s.isTop,p=s.isLeft,g=s.isRight||p,m=s.isBottom||a,_=this.calculateMouseMovement({e,isLeft:p,isTop:a}),w=_.movementX,E=_.movementY,b=this.position.x,R=this.position.y,T=0,A=0;if(g&&w){var x=p?-1:1,P=this.getWidth(),k=P+w*x,V=!1;p&&(b+(T=P-k)<=0||k<=this.minWidth)&&(V=!0,T=0),V||this.setWidth(k)}if(m&&E){x=a?-1:1;var H=this.getHeight(),U=H+E*x,W=!1;a?(R+(A=H-U)<=0||U<=this.minHeight)&&(W=!0,A=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&H<U&&this.getMinSizeOfSiblings().height+U>this.element.parentElement.offsetHeight&&(W=!0),W||this.setHeight(U)}this.updateDragStartPosition(e.clientX,e.clientY),((i||o)&&T||A)&&this.offsetElement(b+T,R+A)}},t.prototype.onResizeEnd=function(e,n){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[n].element.classList.remove("ag-active"),this.dispatchEvent(i)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var s,n=this.position,i=n.x,o=n.y;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());var a=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(i+a.movementX,o+a.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},dd([I("popupService")],t.prototype,"popupService",void 0),dd([I("resizeObserverService")],t.prototype,"resizeObserverService",void 0),dd([I("dragService")],t.prototype,"dragService",void 0),t}(Re),Nx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pf=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vv=function(r){function t(e){var n=r.call(this)||this;return n.filterNameKey=e,n.applyActive=!1,n.hidePopup=null,n.debouncePending=!1,n.appliedModel=null,n}return Nx(t,r),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new il(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new nD(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var n=this.getGui();n&&n.removeEventListener("submit",this.onFormSubmit);var i='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper" ref="eFilterBody">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </form>";this.setTemplate(i,e),(n=this.getGui())&&n.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var n=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,n=this.providedFilterParams.buttons;if(!(!n||n.length<1||this.isReadOnly())){var i=document.createElement("div");i.classList.add("ag-filter-apply-panel"),tl(n).forEach(function(s){return function(s){var a,c;switch(s){case"apply":a=e.translate("applyFilter"),c=function(g){return e.onBtApply(!1,!1,g)};break;case"clear":a=e.translate("clearFilter"),c=function(){return e.onBtClear()};break;case"reset":a=e.translate("resetFilter"),c=function(){return e.onBtReset()};break;case"cancel":a=e.translate("cancelFilter"),c=function(g){e.onBtCancel(g)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var p=Pi('<button\n                    type="'+("apply"===s?"submit":"button")+'"\n                    ref="'+s+'FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >'+a+"\n                </button>");i.appendChild(p),e.addManagedListener(p,"click",c)}(s)}),this.getGui().appendChild(i)}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=this,n=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=Dr(this.checkApplyDebounce.bind(this),n);this.onBtApplyDebounce=function(){e.debouncePending=!0,i()}},t.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var n=this;return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){n.updateUiVisibility(),n.applyModel("api")})},t.prototype.onBtCancel=function(e){var n=this;this.resetUiToActiveModel(this.getModel(),function(){n.handleCancelEnd(e)})},t.prototype.handleCancelEnd=function(e){this.providedFilterParams.closeOnApply&&this.close(e)},t.prototype.resetUiToActiveModel=function(e,n){var i=this,o=function(){i.onUiChanged(!1,"prevent"),n?.()};null!=e?this.setModelIntoUi(e).then(o):this.resetUiToDefaults().then(o)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){var n=this.getModelFromUi();if(!this.isModelValid(n))return!1;var i=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(i,n)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1),i&&i.preventDefault(),this.applyModel(n?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:n,source:"columnFilter"}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!n&&this.close(i)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var o,i=e&&e.key;("Enter"===i||"Space"===i)&&(o={keyboardEvent:e}),this.hidePopup(o),this.hidePopup=null}},t.prototype.onUiChanged=function(e,n){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var i=this.isModelValid(this.getModelFromUi());Sf(this.getRefElement("applyFilterButton"),!i)}e&&!n||"immediately"===n?this.onBtApply(e):(!this.applyActive&&!n||"debounce"===n)&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)},t.prototype.refreshFilterResizer=function(e){if(this.positionableFeature&&"toolPanel"!==e){var o=this.positionableFeature,s=this.gridOptionsService;"floatingFilter"===e?(o.restoreLastSize(),o.setResizable(s.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},t.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},t.getDebounceMs=function(e,n){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:n},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),r.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.localeService.getLocaleTextFunc()(e,cd[e])},t.prototype.getCellValue=function(e){var n=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:n.api,colDef:n.colDef,column:n.column,columnApi:n.columnApi,context:n.context,data:e.data,getValue:function(h){return e.data[h]},node:e})},t.prototype.getPositionableElement=function(){return this.eFilterBody},Pf([I("rowModel")],t.prototype,"rowModel",void 0),Pf([He("eFilterBody")],t.prototype,"eFilterBody",void 0),Pf([ke],t.prototype,"postConstruct",null),t}(Nt),iD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rD=function(r){function t(e,n){var i=r.call(this,n)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=e||{},i}return iD(t,r),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,n=e.labelSeparator,i=e.label,o=e.labelWidth,s=e.labelAlignment;null!=n&&this.setLabelSeparator(n),null!=i&&this.setLabel(i),null!=o&&this.setLabelWidth(o),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){Mi(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(en(this.eLabel,!1),fi(this.eLabel,"presentation")):(en(this.eLabel,!0),fi(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var i=this.getGui().classList;return i.toggle("ag-label-align-left","left"===e),i.toggle("ag-label-align-right","right"===e),i.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return null==this.label||Of(this.eLabel,e),this},t.prototype.setDisabled=function(e){e=!!e;var n=this.getGui();return Sf(n,e),n.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([ke],t.prototype,"postConstruct",null),t}(Nt),oD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),s_=function(r){function t(e,n,i){var o=r.call(this,e,n)||this;return o.className=i,o}return oD(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},t.prototype.onValueChange=function(e){var n=this;return this.addManagedListener(this,N.EVENT_FIELD_VALUE_CHANGED,function(){return e(n.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return _o(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,n){return this.value===e||(this.previousValue=this.value,this.value=e,n||this.dispatchEvent({type:N.EVENT_FIELD_VALUE_CHANGED})),this},t}(rD),sD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),If=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aD=function(r){function t(e){var n=r.call(this,e,e?.template||'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',e?.className)||this;if(n.isPickerDisplayed=!1,n.skipClick=!1,n.pickerGap=4,n.hideCurrentPicker=null,n.ariaRole=e?.ariaRole,n.onPickerFocusIn=n.onPickerFocusIn.bind(n),n.onPickerFocusOut=n.onPickerFocusOut.bind(n),!e)return n;var i=e.pickerGap,o=e.maxPickerHeight,s=e.variableWidth,a=e.minPickerWidth,c=e.maxPickerWidth;return null!=i&&(n.pickerGap=i),n.variableWidth=!!s,null!=o&&n.setPickerMaxHeight(o),null!=a&&n.setPickerMinWidth(a),null!=c&&n.setPickerMaxWidth(c),n}return sD(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setupAria();var e="ag-"+this.getCompId()+"-display";this.eDisplayField.setAttribute("id",e);var n=this.getAriaElement();PC(n,e),this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var i=this.config.pickerIcon;if(i){var o=Vn(i,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},t.prototype.setupAria=function(){var e=this.getAriaElement();e.setAttribute("tabindex",(this.gridOptionsService.getNum("tabIndex")||0).toString()),Bi(e,!1),this.ariaRole&&fi(e,this.ariaRole)},t.prototype.refreshLabel=function(){var e;vf(this.getAriaElement(),null!==(e=this.getLabelId())&&void 0!==e?e:""),r.prototype.refreshLabel.call(this)},t.prototype.onLabelOrWrapperMouseDown=function(){this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},t.prototype.onKeyDown=function(e){switch(e.key){case ce.UP:case ce.DOWN:case ce.ENTER:case ce.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ce.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}},t.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},t.prototype.renderAndPositionPicker=function(){var e=this,n=this.gridOptionsService.getDocument(),i=this.pickerComponent.getGui();this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(n.body,"wheel",function(k){i.contains(k.target)||e.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),s=this.config,a=s.pickerType,p=s.modalPicker,m={modal:void 0===p||p,eChild:i,closeOnEsc:!0,closedCallback:function(){var k=n.activeElement===n.body;e.beforeHidePicker(),k&&e.isAlive()&&e.getFocusableElement().focus()},ariaLabel:o(s.pickerAriaLabelKey,s.pickerAriaLabelValue)},_=this.popupService.addPopup(m),w=this,E=w.maxPickerHeight,b=w.minPickerWidth,R=w.maxPickerWidth,T=w.pickerGap;w.variableWidth?(b&&(i.style.minWidth=b),i.style.width=hv(nd(this.eWrapper)),R&&(i.style.maxWidth=R)):Of(i,R??nd(this.eWrapper));var x=E??td(this.popupService.getPopupParent())+"px";i.style.setProperty("max-height",x),i.style.position="absolute";var P=this.gridOptionsService.is("enableRtl")?"right":"left";return this.popupService.positionPopupByComponent({type:a,eventSource:this.eWrapper,ePopup:i,position:"under",alignSide:P,keepWithinBounds:!0,nudgeY:T}),_.hideFunc},t.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},t.prototype.toggleExpandedStyles=function(e){this.isAlive()&&(Bi(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e))},t.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},t.prototype.onPickerFocusOut=function(e){var n;null!==(n=this.pickerComponent)&&void 0!==n&&n.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)},t.prototype.togglePickerHasFocus=function(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)},t.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},t.prototype.setAriaLabel=function(e){return Es(this.getAriaElement(),e),this},t.prototype.setInputWidth=function(e){return Of(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.setPickerGap=function(e){return this.pickerGap=e,this},t.prototype.setPickerMinWidth=function(e){return"number"==typeof e&&(e+="px"),this.minPickerWidth=e??void 0,this},t.prototype.setPickerMaxWidth=function(e){return"number"==typeof e&&(e+="px"),this.maxPickerWidth=e??void 0,this},t.prototype.setPickerMaxHeight=function(e){return"number"==typeof e&&(e+="px"),this.maxPickerHeight=e??void 0,this},t.prototype.destroy=function(){this.hidePicker(),r.prototype.destroy.call(this)},If([I("popupService")],t.prototype,"popupService",void 0),If([He("eLabel")],t.prototype,"eLabel",void 0),If([He("eWrapper")],t.prototype,"eWrapper",void 0),If([He("eDisplayField")],t.prototype,"eDisplayField",void 0),If([He("eIcon")],t.prototype,"eIcon",void 0),t}(s_),Vx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mv=function(r){function t(e){void 0===e&&(e="default");var n=r.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return n.cssIdentifier=e,n.options=[],n.itemEls=[],n}return Vx(t,r),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var n=e.key;switch(n){case ce.ENTER:if(this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}else this.setValue(this.getValue());break;case ce.DOWN:case ce.UP:var o=n===ce.DOWN,s=void 0;if(e.preventDefault(),this.highlightedEl){var c=this.itemEls.indexOf(this.highlightedEl)+(o?1:-1);c=Math.min(Math.max(c,0),this.itemEls.length-1),s=this.itemEls[c]}else s=this.itemEls[o?0:this.itemEls.length-1];this.highlightItem(s)}},t.prototype.addOptions=function(e){var n=this;return e.forEach(function(i){return n.addOption(i)}),this},t.prototype.addOption=function(e){var n=e.value,o=ai(e.text||n);return this.options.push({value:n,text:o}),this.renderOption(n,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(n,i){Yg(n,i+1),pu(n,e.length)})},t.prototype.renderOption=function(e,n){var i=this,o=document.createElement("div");fi(o,"option"),o.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),o.innerHTML="<span>"+n+"</span>",o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return i.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return i.clearHighlighted()}),this.addManagedListener(o,"click",function(){return i.setValue(e)}),this.getGui().appendChild(o)},t.prototype.setValue=function(e,n){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var i=this.options.findIndex(function(s){return s.value===e});if(-1!==i){var o=this.options[i];this.value=o.value,this.displayValue=null!=o.text?o.text:o.value,this.highlightItem(this.itemEls[i]),n||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var n=this.options.findIndex(function(i){return i.value===e.value});-1!==n&&this.highlightItem(this.itemEls[n])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),Za(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),Za(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:N.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([ke],t.prototype,"init",null),t}(Nt),Hx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hd=function(){return hd=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},hd.apply(this,arguments)},fd=function(r){function t(e){return r.call(this,hd({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"listbox"},e))||this}return Hx(t,r),t.prototype.postConstruct=function(){var e;r.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=null!==(e=this.gridOptionsService.getNum("tabIndex"))&&void 0!==e?e:0},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new mv("select")),this.listComponent.setParentComponent(this),this.listComponent.addGuiEventListener("keydown",function(n){n.key===ce.TAB&&(n.preventDefault(),n.stopImmediatePropagation(),e.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:n.key,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,mv.EVENT_ITEM_SELECTED,function(){e.hidePicker(),e.dispatchEvent({type:t.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,N.EVENT_FIELD_VALUE_CHANGED,function(){e.listComponent&&(e.setValue(e.listComponent.getValue(),!1,!0),e.hidePicker())})},t.prototype.createPickerComponent=function(){return this.listComponent},t.prototype.showPicker=function(){this.listComponent&&(r.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},t.prototype.addOptions=function(e){var n=this;return e.forEach(function(i){return n.addOption(i)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,n,i){return this.value!==e&&this.listComponent?(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),r.prototype.setValue.call(this,e,n))):this},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),r.prototype.destroy.call(this)},t.EVENT_ITEM_SELECTED="selectedItem",t}(aD),l_=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yv=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rl=function(r){function t(e,n,i,o){void 0===i&&(i="text"),void 0===o&&(o="input");var s=r.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+o+' ref="eInput" class="ag-input-field-input"></'+o+">\n                </div>\n            </div>",n)||this;return s.inputType=i,s.displayFieldTag=o,s}return l_(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,n=e.width,i=e.value;null!=n&&this.setWidth(n),null!=i&&this.setValue(i),this.addInputListeners(),this.activateTabIndex([this.eInput])},t.prototype.refreshLabel=function(){_e(this.getLabel())?vf(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),r.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(n){return e.setValue(n.target.value)})},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return Of(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Vo(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return Es(this.eInput,e),this},t.prototype.setDisabled=function(e){return Sf(this.eInput,e),r.prototype.setDisabled.call(this,e)},t.prototype.setAutoComplete=function(e){return Vo(this.eInput,"autocomplete",!0===e?null:"string"==typeof e?e:"off"),this},yv([He("eLabel")],t.prototype,"eLabel",void 0),yv([He("eWrapper")],t.prototype,"eWrapper",void 0),yv([He("eInput")],t.prototype,"eInput",void 0),t}(s_),Bx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cv=function(r){function t(e,n,i){void 0===n&&(n="ag-checkbox"),void 0===i&&(i="checkbox");var o=r.call(this,e,n,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return Bx(t,r),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),r.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),n=this.getNextValue();this.passive?this.dispatchChange(n,e):this.setValue(n)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,n){return this.refreshSelectedClass(e),this.setSelected(e,n),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,n){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,n||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,n,i){this.dispatchEvent({type:N.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:n,event:i});var o=this.getInputElement();this.eventService.dispatchEvent({type:N.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:n})},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var n=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,n,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(rl),_v=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ff=function(r){function t(e){return r.call(this,e,"ag-radio-button","radio")||this}return _v(t,r),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){r.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,N.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Cv),lD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),u_=function(){function r(t,e,n){this.localeService=t,this.optionsFactory=e,this.valueFormatter=n}return r.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var n=null!=t.operator,i=this.localeService.getLocaleTextFunc();if(n){var o=t,s=o.conditions;s||(s=[o.condition1,o.condition2]);var h=s.map(function(R){return e.getModelAsString(R)}),p="AND"===o.operator?"andCondition":"orCondition";return h.join(" "+i(p,cd[p])+" ")}if(t.type===Ln.BLANK||t.type===Ln.NOT_BLANK)return i(t.type,t.type);var g=t,m=this.optionsFactory.getCustomOption(g.type),_=m||{},w=_.displayKey,E=_.displayName;return w&&E&&0===_.numberOfInputs?(i(w,E),E):this.conditionToString(g,m)},r.prototype.updateParams=function(t){this.optionsFactory=t.optionsFactory},r.prototype.formatValue=function(t){var e;return this.valueFormatter?null!==(e=this.valueFormatter(t??null))&&void 0!==e?e:"":String(t)},r}(),Ln=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return lD(t,r),t.prototype.getNumberOfInputs=function(e){var n=this.optionsFactory.getCustomOption(e);return n?n.numberOfInputs??1:e&&[t.EMPTY,t.NOT_BLANK,t.BLANK].indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,n){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(n),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){var n=this;this.eTypes.forEach(function(i,o){i.setValue(0===o?e:n.optionsFactory.getDefaultOption(),!0)})},t.prototype.getModelFromUi=function(){var e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]},t.prototype.getConditionTypes=function(){return this.eTypes.map(function(e){return e.getValue()})},t.prototype.getConditionType=function(e){return this.eTypes[e].getValue()},t.prototype.getJoinOperator=function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,n){var i=this;if(!e&&!n)return!0;if(!e&&n||e&&!n)return!1;var o=!e.operator,s=!n.operator;return!(!o&&s||o&&!s)&&(o?this.areSimpleModelsEqual(e,n):e.operator===n.operator&&Ba(e.conditions,n.conditions,function(_,w){return i.areSimpleModelsEqual(_,w)}))},t.prototype.setModelIntoUi=function(e){var n=this;if(e.operator){var o=e;o.conditions||(o.conditions=[o.condition1,o.condition2]);var s=this.validateAndUpdateConditions(o.conditions),a=this.getNumConditions();if(s<a)this.removeConditionsAndOperators(s);else if(s>a)for(var c=a;c<s;c++)this.createJoinOperatorPanel(),this.createOption();var h="OR"===o.operator;this.eJoinOperatorsAnd.forEach(function(g){return g.setValue(!h,!0)}),this.eJoinOperatorsOr.forEach(function(g){return g.setValue(h,!0)}),o.conditions.forEach(function(g,m){n.eTypes[m].setValue(g.type,!0),n.setConditionIntoUi(g,m)})}else{var p=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(p.type,!0),this.setConditionIntoUi(p,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),rr.resolve()},t.prototype.validateAndUpdateConditions=function(e){var n=e.length;return n>this.maxNumConditions&&(e.splice(this.maxNumConditions),Lt(function(){return console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.')},"simpleFilterSetModelMaxNumConditions"),n=this.maxNumConditions),n},t.prototype.doesFilterPass=function(e){var i,n=this,o=this.getModel();if(null==o)return!0;var s=o.operator,a=[];return s?a.push.apply(a,function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(null!==(i=o.conditions)&&void 0!==i?i:[]))):a.push(o),a[s&&"OR"===s?"some":"every"](function(p){return n.individualConditionPasses(e,p)})},t.prototype.setParams=function(e){r.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new eD,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},t.prototype.setNumConditions=function(e){var n,i;null!=e.suppressAndOrCondition&&Lt(function(){return console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.')},"simpleFilterSuppressAndOrCondition"),null!=e.alwaysShowBothConditions&&Lt(function(){return console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.')},"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=null!==(n=e.maxNumConditions)&&void 0!==n?n:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Lt(function(){return console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.')},"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(i=e.numAlwaysVisibleConditions)&&void 0!==i?i:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Lt(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.')},"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Lt(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".')},"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)},t.prototype.createOption=function(){var e=this,n=this.createManagedBean(new fd);this.eTypes.push(n),n.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(n.getGui());var i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(n),this.resetType(n);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(s){return e.resetInput(s)}),this.addChangedListeners(n,o)},t.prototype.createJoinOperatorPanel=function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var n=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var o=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(n,o,s),this.resetJoinOperatorOr(i,o,s),this.isReadOnly()||(n.onValueChange(this.listener),i.onValueChange(this.listener))},t.prototype.createJoinOperator=function(e,n,i){var o=this.createManagedBean(new Ff);return e.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-"+i),n.appendChild(o.getGui()),o},t.prototype.getDefaultJoinOperator=function(e){return"AND"===e||"OR"===e?e:"AND"},t.prototype.createFilterListOptions=function(){var e=this,n=this.optionsFactory.getFilterOptions();this.filterListOptions=n.map(function(i){return"string"==typeof i?e.createBoilerplateListOption(i):e.createCustomListOption(i)})},t.prototype.putOptionsIntoDropdown=function(e){this.filterListOptions.forEach(function(n){e.addOption(n)}),e.setDisabled(this.filterListOptions.length<=1)},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var n=e.displayKey,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:n,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(n)}},t.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},t.prototype.createBodyTemplate=function(){return""},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)},t.prototype.updateNumConditions=function(){for(var e,n=-1,i=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?n=o:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{var s=null!==(e=this.lastUiCompletePosition)&&void 0!==e?e:this.getNumConditions()-2;if(n<s){this.removeConditionsAndOperators(s+1);var a=n+1,c=s-a;c>0&&this.removeConditionsAndOperators(a,c),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=n},t.prototype.updateConditionStatusesAndValues=function(e,n){var i=this;this.eTypes.forEach(function(s,a){var c=i.isConditionDisabled(a,e);s.setDisabled(c||i.filterListOptions.length<=1),1===a&&(Sf(i.eJoinOperatorPanels[0],c),i.eJoinOperatorsAnd[0].setDisabled(c),i.eJoinOperatorsOr[0].setDisabled(c))}),this.eConditionBodies.forEach(function(s,a){en(s,i.isConditionBodyVisible(a))});var o="OR"===(n??this.getJoinOperator());this.eJoinOperatorsAnd.forEach(function(s,a){s.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(s,a){s.setValue(o,!0)}),this.forEachInput(function(s,a,c,h){i.setElementDisplayed(s,a<h),i.setElementDisabled(s,i.isConditionDisabled(c,e))}),this.resetPlaceholder()},t.prototype.shouldAddNewConditionAtEnd=function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},t.prototype.removeConditionsAndOperators=function(e,n){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,n),this.removeElements(this.eConditionBodies,e,n),this.removeValueElements(e,n);var i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,n),this.removeComponents(this.eJoinOperatorsAnd,i,n),this.removeComponents(this.eJoinOperatorsOr,i,n)}},t.prototype.removeElements=function(e,n,i){this.removeItems(e,n,i).forEach(function(s){return na(s)})},t.prototype.removeComponents=function(e,n,i){var o=this;this.removeItems(e,n,i).forEach(function(a){na(a.getGui()),o.destroyBean(a)})},t.prototype.removeItems=function(e,n,i){return null==i?e.splice(n):e.splice(n,i)},t.prototype.afterGuiAttached=function(e){if(r.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{var n=this.getInputs(0)[0];if(!n)return;n instanceof rl&&n.getInputElement().focus()}},t.prototype.afterGuiDetached=function(){r.prototype.afterGuiDetached.call(this);var e=this.getModel();(!this.areModelsEqual(e,this.getModelFromUi())||this.hasInvalidInputs())&&this.resetUiToActiveModel(e);for(var n=-1,i=-1,o=!1,s=this.getJoinOperator(),a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))-1===n&&(n=a,i=a);else{var h=a<n;(a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1)||h)&&(this.removeConditionsAndOperators(a,1),o=!0,h&&i--)}var p=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),p=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),p=!0),p&&this.updateConditionStatusesAndValues(i,s),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i},t.prototype.getPlaceholderText=function(e,n){var i=this.translate(e);if(Hc(this.filterPlaceholder)){var o=this.filterPlaceholder,s=this.eTypes[n].getValue();i=o({filterOptionKey:s,filterOption:this.translate(s),placeholder:i})}else"string"==typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i},t.prototype.resetPlaceholder=function(){var e=this,n=this.localeService.getLocaleTextFunc();this.forEachInput(function(i,o,s,a){if(i instanceof rl){var c=0===o&&a>1?"inRangeStart":0===o?"filterOoo":"inRangeEnd",h=0===o&&a>1?n("ariaFilterFromValue","Filter from value"):0===o?n("ariaFilterValue","Filter Value"):n("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(e.getPlaceholderText(c,s)),i.setInputAriaLabel(h)}})},t.prototype.setElementValue=function(e,n,i){e instanceof rl&&e.setValue(null!=n?String(n):null,!0)},t.prototype.setElementDisplayed=function(e,n){e instanceof Nt&&en(e.getGui(),n)},t.prototype.setElementDisabled=function(e,n){e instanceof Nt&&Sf(e.getGui(),n)},t.prototype.attachElementOnChange=function(e,n){e instanceof rl&&e.onValueChange(n)},t.prototype.forEachInput=function(e){var n=this;this.getConditionTypes().forEach(function(i,o){n.forEachPositionTypeInput(o,i,e)})},t.prototype.forEachPositionInput=function(e,n){var i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,n)},t.prototype.forEachPositionTypeInput=function(e,n,i){for(var o=this.getNumberOfInputs(n),s=this.getInputs(e),a=0;a<s.length;a++){var c=s[a];null!=c&&i(c,a,e,o)}},t.prototype.isConditionDisabled=function(e,n){return!!this.isReadOnly()||0!==e&&e>n+1},t.prototype.isConditionBodyVisible=function(e){var n=this.getConditionType(e);return this.getNumberOfInputs(n)>0},t.prototype.isConditionUiComplete=function(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===t.EMPTY||this.getValues(e).some(function(i){return null==i}))},t.prototype.getNumConditions=function(){return this.eTypes.length},t.prototype.getUiCompleteConditions=function(){for(var e=[],n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)&&e.push(this.createCondition(n));return e},t.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()},t.prototype.resetUiToDefaults=function(e){var n=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(i){return n.resetType(i)}),this.eJoinOperatorsAnd.forEach(function(i,o){return n.resetJoinOperatorAnd(i,o,n.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(i,o){return n.resetJoinOperatorOr(i,o,n.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(i){return n.resetInput(i)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),rr.resolve()},t.prototype.resetType=function(e){var i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},t.prototype.resetJoinOperatorAnd=function(e,n,i){this.resetJoinOperator(e,n,this.isDefaultOperator("AND"),this.translate("andCondition"),i)},t.prototype.resetJoinOperatorOr=function(e,n,i){this.resetJoinOperator(e,n,this.isDefaultOperator("OR"),this.translate("orCondition"),i)},t.prototype.resetJoinOperator=function(e,n,i,o,s){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName("ag-simple-filter-and-or-"+this.getCompId()+"-"+s).setLabel(o),n)},t.prototype.updateJoinOperatorsDisabled=function(){var e=this;this.eJoinOperatorsAnd.forEach(function(n,i){return e.updateJoinOperatorDisabled(n,i)}),this.eJoinOperatorsOr.forEach(function(n,i){return e.updateJoinOperatorDisabled(n,i)})},t.prototype.updateJoinOperatorDisabled=function(e,n){e.setDisabled(this.isReadOnly()||n>0)},t.prototype.resetInput=function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())},t.prototype.setConditionIntoUi=function(e,n){var i=this,o=this.mapValuesFromModel(e);this.forEachInput(function(s,a,c,h){c===n&&i.setElementValue(s,null!=o[a]?o[a]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var n=this;this.forEachInput(function(i,o,s,a){n.setElementValue(i,0===o&&0===s?e:null,!0)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(e,n){var i=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(n,function(o){i.attachElementOnChange(o,i.listener)}))},t.prototype.individualConditionPasses=function(e,n){var i=this.getCellValue(e.node),o=this.mapValuesFromModel(n),s=this.optionsFactory.getCustomOption(n.type);return this.evaluateCustomFilter(s,o,i)??(null==i?this.evaluateNullValue(n.type):this.evaluateNonNullValue(o,i,n,e))},t.prototype.evaluateCustomFilter=function(e,n,i){if(null!=e){var o=e.predicate;if(null!=o&&!n.some(function(s){return null==s}))return o(n,i)}},t.prototype.isBlank=function(e){return null==e||"string"==typeof e&&0===e.trim().length},t.prototype.hasInvalidInputs=function(){return!1},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",t}(vv),c_=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),li=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return c_(t,r),t.prototype.setParams=function(e){r.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,n,i){var o=this.comparator(),s=null!=e[0]?o(e[0],n):0;switch(i.type){case t.EQUALS:return 0===s;case t.NOT_EQUAL:return 0!==s;case t.GREATER_THAN:return s>0;case t.GREATER_THAN_OR_EQUAL:return s>=0;case t.LESS_THAN:return s<0;case t.LESS_THAN_OR_EQUAL:return s<=0;case t.IN_RANGE:var a=o(e[1],n);return this.scalarFilterParams.inRangeInclusive?s>=0&&a<=0:s>0&&a<0;case t.BLANK:return this.isBlank(n);case t.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(Ln),wv=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sv=function(){return Sv=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Sv.apply(this,arguments)},f_=function(r){function t(e,n,i){var o=r.call(this,n,i)||this;return o.dateFilterParams=e,o}return wv(t,r),t.prototype.conditionToString=function(e,n){var i=e.type,s=i==Ln.IN_RANGE||2===(n||{}).numberOfInputs,a=$n(e.dateFrom),c=$n(e.dateTo),h=this.dateFilterParams.inRangeFloatingFilterDateFormat;return s?(null!==a?Ja(a,h):"null")+"-"+(null!==c?Ja(c,h):"null"):null!=a?Ja(a,h):""+i},t.prototype.updateParams=function(e){r.prototype.updateParams.call(this,e),this.dateFilterParams=e.dateFilterParams},t}(u_),p_=function(r){function t(){var e=r.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=1e3,e.maxValidYear=1/0,e.minValidDate=null,e.maxValidDate=null,e}return wv(t,r),t.prototype.afterGuiAttached=function(e){r.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var n=e||{},i=n.dateFrom,o=n.dateTo,s=n.type;return[i&&$n(i)||null,o&&$n(o)||null].slice(0,this.getNumberOfInputs(s))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,n){return null==n||n<e?-1:n>e?1:0},t.prototype.setParams=function(e){this.dateFilterParams=e,r.prototype.setParams.call(this,e);var n=function(i,o){if(null!=e[i]){if(!isNaN(e[i]))return null==e[i]?o:Number(e[i]);console.warn("AG Grid: DateFilter "+i+" is not a number")}return o};this.minValidYear=n("minValidYear",1e3),this.maxValidYear=n("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:$n(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:$n(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new f_(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateCompWrapper=function(e){var n=this,i=new i_(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return n.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc(function(){return i.destroy()}),i},t.prototype.setElementValue=function(e,n){e.setDate(n)},t.prototype.setElementDisplayed=function(e,n){e.setDisplayed(n)},t.prototype.setElementDisabled=function(e,n){e.setDisabled(n)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e},t.prototype.createFromToElement=function(e,n,i,o){var s=document.createElement("div");s.classList.add("ag-filter-"+o),s.classList.add("ag-filter-date-"+o),n.push(s),e.appendChild(s),i.push(this.createDateCompWrapper(s))},t.prototype.removeValueElements=function(e,n){this.removeDateComps(this.dateConditionFromComps,e,n),this.removeDateComps(this.dateConditionToComps,e,n),this.removeItems(this.eConditionPanelsFrom,e,n),this.removeItems(this.eConditionPanelsTo,e,n)},t.prototype.removeDateComps=function(e,n,i){this.removeItems(e,n,i).forEach(function(s){return s.destroy()})},t.prototype.isValidDateValue=function(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0},t.prototype.isConditionUiComplete=function(e){var n=this;if(!r.prototype.isConditionUiComplete.call(this,e))return!1;var i=!0;return this.forEachInput(function(o,s,a,c){a!==e||!i||s>=c||(i=i&&n.isValidDateValue(o.getDate()))}),i},t.prototype.areSimpleModelsEqual=function(e,n){return e.dateFrom===n.dateFrom&&e.dateTo===n.dateTo&&e.type===n.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var n=this.getConditionType(e),i={},o=this.getValues(e);return o.length>0&&(i.dateFrom=Qr(o[0])),o.length>1&&(i.dateTo=Qr(o[1])),Sv({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:n},i)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),n=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(n),o.setInputAriaLabel(i)})},t.prototype.getInputs=function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]},t.prototype.getValues=function(e){var n=[];return this.forEachPositionInput(e,function(i,o,s,a){o<a&&n.push(i.getDate())}),n},t.prototype.getModelAsString=function(e){var n;return null!==(n=this.filterModelFormatter.getModelAsString(e))&&void 0!==n?n:""},t.DEFAULT_FILTER_OPTIONS=[li.EQUALS,li.GREATER_THAN,li.LESS_THAN,li.NOT_EQUAL,li.IN_RANGE,li.BLANK,li.NOT_BLANK],function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([I("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(li),Wx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cD=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Wx(t,r),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return e?.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){e?this.lastType=(e.operator?e.conditions[0]:e).type:this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.setSimpleParams(e)},t.prototype.setSimpleParams=function(e){this.optionsFactory=new eD,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;var n=this.isTypeEditable(this.lastType);this.setEditable(n)},t.prototype.onParamsUpdated=function(e){this.setSimpleParams(e)},t.prototype.doesFilterHaveSingleInput=function(e){var i=(this.optionsFactory.getCustomOption(e)||{}).numberOfInputs;return null==i||1==i},t.prototype.isTypeEditable=function(e){var n=[Ln.IN_RANGE,Ln.EMPTY,Ln.BLANK,Ln.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&n.indexOf(e)<0},t}(Nt),zx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ev=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},g_=function(r){function t(){return r.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return zx(t,r),t.prototype.getDefaultFilterOptions=function(){return p_.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(e){r.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new f_(this.filterParams,this.localeService,this.optionsFactory);var n=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},t.prototype.onParamsUpdated=function(e){r.prototype.onParamsUpdated.call(this,e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams})},t.prototype.setEditable=function(e){en(this.eDateWrapper,e),en(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,n){if(!this.isEventFromFloatingFilter(n)&&!this.isEventFromDataChange(n)){r.prototype.setLastTypeFromModel.call(this,e);var i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(i),i?(this.dateComp.setDate(e?$n(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))}},t.prototype.onDateChanged=function(){var e=this,i=Qr(this.dateComp.getDate());this.params.parentFilterInstance(function(o){if(o){var s=$n(i);o.onFloatingFilterChanged(e.getLastType()||null,s)}})},t.prototype.getDateComponentParams=function(){var e=vv.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Dr(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}},t.prototype.createDateComponent=function(){var e=this;this.dateComp=new i_(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},t.prototype.updateDateComponent=function(){var e=this.getDateComponentParams(),n=this.gridOptionsService,o=n.columnApi,s=n.context;e.api=n.api,e.columnApi=o,e.context=s,this.dateComp.updateParams(e)},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},Ev([I("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ev([He("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),Ev([He("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(cD),dD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pD=function(r){function t(){return r.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return dD(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this;this.params=e,this.setParams(e);var i=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){n.eDateInput.isDisabled()||n.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(s){s.target===i.activeElement&&(n.eDateInput.isDisabled()||n.params.onDateChanged())})},t.prototype.setParams=function(e){var n=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Or(),n.type=i?"date":"text";var o=e.filterParams||{},s=o.minValidYear,a=o.maxValidYear,c=o.minValidDate,h=o.maxValidDate;if(c&&s&&Lt(function(){return console.warn("AG Grid: DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.")},"DateFilter.minValidDateAndMinValidYearWarning"),h&&a&&Lt(function(){return console.warn("AG Grid: DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.")},"DateFilter.maxValidDateAndMaxValidYearWarning"),c&&h){var p=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}([c,h].map(function(_){return _ instanceof Date?_:$n(_)}),2),g=p[0],m=p[1];g&&m&&g.getTime()>m.getTime()&&Lt(function(){return console.warn("AG Grid: DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")},"DateFilter.minValidDateAndMaxValidDateWarning")}c?n.min=c instanceof Date?Ja(c):c:s&&(n.min=s+"-01-01"),h?n.max=h instanceof Date?Ja(h):h:a&&(n.max=a+"-12-31")},t.prototype.onParamsUpdated=function(e){this.params=e,this.setParams(e)},t.prototype.getDate=function(){return $n(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(Qr(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:ev()||VC()||Or()&&Jg()>=14.1},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([He("eDateInput")],t.prototype,"eDateInput",void 0),t}(Nt),gD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ol=function(r){function t(e,n,i){return void 0===n&&(n="ag-text-field"),void 0===i&&(i="text"),r.call(this,e,n,i)||this}return gD(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,n){return this.eInput.value!==e&&(this.eInput.value=_e(e)?e:""),r.prototype.setValue.call(this,e,n)},t.prototype.setStartValue=function(e){this.setValue(e,!0)},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keydown",function(i){Cu(i)&&i.key&&!e.test(i.key)&&i.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(i){var o,s=null===(o=i.clipboardData)||void 0===o?void 0:o.getData("text");s&&s.split("").some(function(a){return!e.test(a)})&&i.preventDefault()})},t}(rl),vD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dv=function(r){function t(e){return r.call(this,e,"ag-number-field","number")||this}return vD(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var n=parseFloat(e.eInput.value),i=isNaN(n)?"":e.normalizeValue(n.toString());e.value!==i&&e.setValue(i)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));var n=parseFloat(e);return null!=this.min&&n<this.min?e=this.min.toString():null!=this.max&&n>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e,n){if(null==this.precision)return e;if(n){var i=parseFloat(e).toFixed(this.precision);return parseFloat(i).toString()}var o=String(e).split(".");if(o.length>1){if(o[1].length<=this.precision)return e;if(this.precision>0)return o[0]+"."+o[1].slice(0,this.precision)}return o[0]},t.prototype.setMin=function(e){return this.min===e||(this.min=e,Vo(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,Vo(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Vo(this.eInput,"step",e)),this},t.prototype.setValue=function(e,n){var i=this;return this.setValueOrInputValue(function(o){return r.prototype.setValue.call(i,o,n)},function(){return i},e)},t.prototype.setStartValue=function(e){var n=this;return this.setValueOrInputValue(function(i){return r.prototype.setValue.call(n,i,!0)},function(i){n.eInput.value=i},e)},t.prototype.setValueOrInputValue=function(e,n,i){if(_e(i)){var o=this.isScientificNotation(i);if(o&&this.eInput.validity.valid)return e(i);if(o||(o=(i=this.adjustPrecision(i))!=this.normalizeValue(i)),o)return n(i)}return e(i)},t.prototype.getValue=function(){if(this.eInput.validity.valid){var e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):r.prototype.getValue.call(this)}},t.prototype.isScientificNotation=function(e){return"string"==typeof e&&e.includes("e")},t}(ol),Lf=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oa=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Lf(t,r),t.prototype.conditionToString=function(e,n){return e.type==Ln.IN_RANGE||2===(n||{}).numberOfInputs?this.formatValue(e.filter)+"-"+this.formatValue(e.filterTo):null!=e.filter?this.formatValue(e.filter):""+e.type},t}(u_);function v_(r){return(r??{}).allowedCharPattern??null}var mD=function(r){function t(){var e=r.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return Lf(t,r),t.prototype.mapValuesFromModel=function(e){var n=e||{},o=n.filterTo,s=n.type;return[this.processValue(n.filter),this.processValue(o)].slice(0,this.getNumberOfInputs(s))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,n){return e===n?0:e<n?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e,r.prototype.setParams.call(this,e),this.filterModelFormatter=new oa(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.setElementValue=function(e,n,i){var o=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(n??null):n;r.prototype.setElementValue.call(this,e,o)},t.prototype.createValueElement=function(){var e=v_(this.numberFilterParams),n=document.createElement("div");return n.classList.add("ag-filter-body"),fi(n,"presentation"),this.createFromToElement(n,this.eValuesFrom,"from",e),this.createFromToElement(n,this.eValuesTo,"to",e),n},t.prototype.createFromToElement=function(e,n,i,o){var s=this.createManagedBean(o?new ol({allowedCharPattern:o}):new Dv);s.addCssClass("ag-filter-"+i),s.addCssClass("ag-filter-filter"),n.push(s),e.appendChild(s.getGui())},t.prototype.removeValueElements=function(e,n){this.removeComponents(this.eValuesFrom,e,n),this.removeComponents(this.eValuesTo,e,n)},t.prototype.getValues=function(e){var n=this,i=[];return this.forEachPositionInput(e,function(o,s,a,c){s<c&&i.push(n.processValue(n.stringToFloat(o.getValue())))}),i},t.prototype.areSimpleModelsEqual=function(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type},t.prototype.getFilterType=function(){return"number"},t.prototype.processValue=function(e){return null==e||isNaN(e)?null:e},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var n=ms(e);return null!=n&&""===n.trim()&&(n=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(n):null==n||"-"===n.trim()?null:parseFloat(n)},t.prototype.createCondition=function(e){var n=this.getConditionType(e),i={filterType:this.getFilterType(),type:n},o=this.getValues(e);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getModelAsString=function(e){var n;return null!==(n=this.filterModelFormatter.getModelAsString(e))&&void 0!==n?n:""},t.prototype.hasInvalidInputs=function(){var e=!1;return this.forEachInput(function(n){n.getInputElement().validity.valid||(e=!0)}),e},t.DEFAULT_FILTER_OPTIONS=[li.EQUALS,li.NOT_EQUAL,li.LESS_THAN,li.LESS_THAN_OR_EQUAL,li.GREATER_THAN,li.GREATER_THAN_OR_EQUAL,li.IN_RANGE,li.BLANK,li.NOT_BLANK],t}(li),bv=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Os=function(){return Os=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Os.apply(this,arguments)},Ov=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return bv(t,r),t.prototype.conditionToString=function(e,n){return e.type==Ln.IN_RANGE||2===(n||{}).numberOfInputs?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}(u_),m_=function(r){function t(){var e=r.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return bv(t,r),t.trimInput=function(e){var n=e&&e.trim();return""===n?e:n},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){this.textFilterParams=e,r.prototype.setParams.call(this,e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Ov(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(gt.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(n){return e(n.filterOption,n.value,n.filterText)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var n=this.getConditionType(e),i={filterType:this.getFilterType(),type:n},o=this.getValuesWithSideEffects(e,!0);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getValues=function(e){return this.getValuesWithSideEffects(e,!1)},t.prototype.getValuesWithSideEffects=function(e,n){var i=this,o=[];return this.forEachPositionInput(e,function(s,a,c,h){var p;if(a<h){var g=ms(s.getValue());n&&i.textFilterParams.trimInput&&(g=null!==(p=t.trimInput(g))&&void 0!==p?p:null,s.setValue(g,!0)),o.push(g)}}),o},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),fi(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e},t.prototype.createFromToElement=function(e,n,i){var o=this.createManagedBean(new ol);o.addCssClass("ag-filter-"+i),o.addCssClass("ag-filter-filter"),n.push(o),e.appendChild(o.getGui())},t.prototype.removeValueElements=function(e,n){this.removeComponents(this.eValuesFrom,e,n),this.removeComponents(this.eValuesTo,e,n)},t.prototype.mapValuesFromModel=function(e){var n=e||{};return[n.filter||null,n.filterTo||null].slice(0,this.getNumberOfInputs(n.type))},t.prototype.evaluateNullValue=function(e){return!!e&&[Ln.NOT_EQUAL,Ln.NOT_CONTAINS,Ln.BLANK].indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,n,i,o){var s=this,a=e.map(function(R){return s.formatter(R)})||[],c=this.formatter(n),h=this.textFilterParams,p=h.api,g=h.colDef,m=h.column,_=h.columnApi,w=h.context,E=h.textFormatter;if(i.type===Ln.BLANK)return this.isBlank(n);if(i.type===Ln.NOT_BLANK)return!this.isBlank(n);var b={api:p,colDef:g,column:m,columnApi:_,context:w,node:o.node,data:o.data,filterOption:i.type,value:c,textFormatter:E};return a.some(function(R){return s.matcher(Os(Os({},b),{filterText:R}))})},t.prototype.getModelAsString=function(e){var n;return null!==(n=this.filterModelFormatter.getModelAsString(e))&&void 0!==n?n:""},t.DEFAULT_FILTER_OPTIONS=[Ln.CONTAINS,Ln.NOT_CONTAINS,Ln.EQUALS,Ln.NOT_EQUAL,Ln.STARTS_WITH,Ln.ENDS_WITH,Ln.BLANK,Ln.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var i=e.value,o=e.filterText;if(null==o)return!1;switch(e.filterOption){case t.CONTAINS:return i.indexOf(o)>=0;case t.NOT_CONTAINS:return i.indexOf(o)<0;case t.EQUALS:return i===o;case t.NOT_EQUAL:return i!=o;case t.STARTS_WITH:return 0===i.indexOf(o);case t.ENDS_WITH:var s=i.lastIndexOf(o);return s>=0&&s===i.length-o.length;default:return!1}},t}(Ln),Rv=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yD=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$x=function(r){function t(e){var n=r.call(this)||this;return n.params=e,n.valueChangedListener=function(){},n}return Rv(t,r),t.prototype.setupGui=function(e){var i,n=this;this.eFloatingFilterTextInput=this.createManagedBean(new ol(null===(i=this.params)||void 0===i?void 0:i.config));var o=this.eFloatingFilterTextInput.getGui();e.appendChild(o),this.addManagedListener(o,"input",function(s){return n.valueChangedListener(s)}),this.addManagedListener(o,"keydown",function(s){return n.valueChangedListener(s)})},t.prototype.setEditable=function(e){this.eFloatingFilterTextInput.setDisabled(!e)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},t.prototype.setValue=function(e,n){this.eFloatingFilterTextInput.setValue(e,n)},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(Re),CD=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Rv(t,r),t.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))},t.prototype.init=function(e){this.setupFloatingFilterInputService(e),r.prototype.init.call(this,e),this.setTextInputParams(e)},t.prototype.setupFloatingFilterInputService=function(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},t.prototype.setTextInputParams=function(e){var n;this.params=e;var i=null!==(n=e.browserAutoComplete)&&void 0!==n&&n;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=vv.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=vv.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=Dr(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(s)}},t.prototype.onParamsUpdated=function(e){r.prototype.onParamsUpdated.call(this,e),this.setTextInputParams(e)},t.prototype.recreateFloatingFilterInputService=function(e){var n=this.floatingFilterInputService.getValue();Mi(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(n,!0)},t.prototype.getAriaLabel=function(e){return this.columnModel.getDisplayNameForColumn(e.column,"header",!0)+" "+this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")},t.prototype.syncUpWithParentFilter=function(e){var n=this;if(!this.applyActive||e.key===ce.ENTER){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=m_.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(s){s&&s.onFloatingFilterChanged(n.getLastType()||null,o||null)})}},t.prototype.setEditable=function(e){this.floatingFilterInputService.setEditable(e)},yD([I("columnModel")],t.prototype,"columnModel",void 0),yD([He("eFloatingFilterInputContainer")],t.prototype,"eFloatingFilterInputContainer",void 0),yD([ke],t.prototype,"postConstruct",null),t}(cD),_D=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wD=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.valueChangedListener=function(){},e.numberInputActive=!0,e}return _D(t,r),t.prototype.setupGui=function(e){var n=this;this.eFloatingFilterNumberInput=this.createManagedBean(new Dv),this.eFloatingFilterTextInput=this.createManagedBean(new ol),this.eFloatingFilterTextInput.setDisabled(!0);var i=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();e.appendChild(i),e.appendChild(o),this.setupListeners(i,function(s){return n.valueChangedListener(s)}),this.setupListeners(o,function(s){return n.valueChangedListener(s)})},t.prototype.setEditable=function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.getActiveInputElement().getValue()},t.prototype.setValue=function(e,n){this.getActiveInputElement().setValue(e,n)},t.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setupListeners=function(e,n){this.addManagedListener(e,"input",n),this.addManagedListener(e,"keydown",n)},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(Re),Kx=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return _D(t,r),t.prototype.init=function(e){var n;r.prototype.init.call(this,e),this.filterModelFormatter=new oa(this.localeService,this.optionsFactory,null===(n=e.filterParams)||void 0===n?void 0:n.numberFormatter)},t.prototype.onParamsUpdated=function(e){v_(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),r.prototype.onParamsUpdated.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return mD.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){return this.allowedCharPattern=v_(e.filterParams),this.createManagedBean(this.allowedCharPattern?new $x({config:{allowedCharPattern:this.allowedCharPattern}}):new wD)},t}(CD),ui=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),SD=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ui(t,r),t.prototype.init=function(e){r.prototype.init.call(this,e),this.filterModelFormatter=new Ov(this.localeService,this.optionsFactory)},t.prototype.onParamsUpdated=function(e){r.prototype.onParamsUpdated.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return m_.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new $x)},t}(CD),Jr=function(){function r(t,e){var n=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new _s,this.eElement=t,this.preventMouseClick=e;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(function(){n.eElement.removeEventListener("touchstart",i,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",s,{passive:!1})})}return r.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},r.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},r.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout(function(){e.touching&&e.touchStart===n&&!e.moved&&(e.moved=!0,e.eventService.dispatchEvent({type:r.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t}))},500)}},r.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);e&&!el(e,this.touchStart,4)&&(this.moved=!0)}},r.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:r.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1)},r.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>r.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:r.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},r.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},r.EVENT_TAP="tap",r.EVENT_DOUBLE_TAP="doubleTap",r.EVENT_LONG_TAP="longTap",r.DOUBLE_TAP_MILLIS=500,r}(),Yx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sl=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},y_=function(r){function t(e){var n=r.call(this)||this;return e||n.setTemplate(t.TEMPLATE),n}return Yx(t,r),t.prototype.attachCustomElements=function(e,n,i,o,s){this.eSortOrder=e,this.eSortAsc=n,this.eSortDesc=i,this.eSortMixed=o,this.eSortNone=s},t.prototype.setupSort=function(e,n){var i=this;void 0===n&&(n=!1),this.column=e,this.suppressOrder=n,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedListener(this.eventService,N.EVENT_SORT_CHANGED,function(){return i.onSortChanged()}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,n,i){if(null!=n){var o=Vn(e,this.gridOptionsService,i);o&&n.appendChild(o)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&en(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&en(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon");en(this.eSortNone,!o&&null==e,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var n=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&n&&(this.addManagedListener(this.eventService,N.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e="mixed"===this.sortController.getDisplaySortForColumn(this.column);en(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var n,e=this;if(this.eSortOrder){var i=this.sortController.getColumnsWithSortingOrdered(),o=null!==(n=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==n?n:-1,s=i.some(function(c){var h;return null!==(h=e.sortController.getDisplaySortIndexForColumn(c))&&void 0!==h&&h});en(this.eSortOrder,o>=0&&s,{skipAriaHidden:!0}),o>=0?this.eSortOrder.innerHTML=(o+1).toString():Mi(this.eSortOrder)}},t.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',sl([He("eSortOrder")],t.prototype,"eSortOrder",void 0),sl([He("eSortAsc")],t.prototype,"eSortAsc",void 0),sl([He("eSortDesc")],t.prototype,"eSortDesc",void 0),sl([He("eSortMixed")],t.prototype,"eSortMixed",void 0),sl([He("eSortNone")],t.prototype,"eSortNone",void 0),sl([I("columnModel")],t.prototype,"columnModel",void 0),sl([I("sortController")],t.prototype,"sortController",void 0),t}(Nt),ED=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rr=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pd=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return ED(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=$c(this.params.template,t.TEMPLATE);return e&&e.trim?e.trim():e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var n=ai(this.currentDisplayName);this.eText&&(this.eText.innerHTML=n)}},t.prototype.setupIcons=function(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,n,i){if(null!=n){var o=Vn(e,this.gridOptionsService,i);o&&n.appendChild(o)}},t.prototype.setupTap=function(){var e=this,n=this.gridOptionsService;if(!n.is("suppressTouch")){var i=new Jr(this.getGui(),!0),o=n.is("suppressMenuHide"),s=o&&_e(this.eMenu),a=s?new Jr(this.eMenu,!0):i;this.params.enableMenu&&this.addManagedListener(a,Jr[s?"EVENT_TAP":"EVENT_LONG_TAP"],function(g){n.api.showColumnMenuAfterMouseClick(e.params.column,g.touchStart)}),this.params.enableSorting&&this.addManagedListener(i,Jr.EVENT_TAP,function(g){o&&e.eMenu.contains(g.touchStart.target)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return i.destroy()}),s&&this.addDestroyFunc(function(){return a.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsService.is("suppressMenuHide"),n=Js()&&e;return this.params.enableMenu&&!n},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void na(this.eMenu);var n=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",n)}},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new y_(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){var n="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,hn.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(o){var s=e.params.column.isMoving(),a=(new Date).getTime();s||a-e.lastMovingChanged<50||e.params.progressSort(n?o.ctrlKey||o.metaKey:o.shiftKey)});var i=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var o=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),s=o?.every(function(c){return e.params.column.getSort()==c.getSort()});e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!s)}};this.addManagedListener(this.eventService,N.EVENT_SORT_CHANGED,i),this.addManagedListener(this.eventService,N.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,hn.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();en(this.eFilter,e,{skipAriaHidden:!0})},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',Rr([I("sortController")],t.prototype,"sortController",void 0),Rr([I("menuFactory")],t.prototype,"menuFactory",void 0),Rr([I("columnModel")],t.prototype,"columnModel",void 0),Rr([He("eFilter")],t.prototype,"eFilter",void 0),Rr([He("eSortIndicator")],t.prototype,"eSortIndicator",void 0),Rr([He("eMenu")],t.prototype,"eMenu",void 0),Rr([He("eLabel")],t.prototype,"eLabel",void 0),Rr([He("eText")],t.prototype,"eText",void 0),Rr([He("eSortOrder")],t.prototype,"eSortOrder",void 0),Rr([He("eSortAsc")],t.prototype,"eSortAsc",void 0),Rr([He("eSortDesc")],t.prototype,"eSortDesc",void 0),Rr([He("eSortMixed")],t.prototype,"eSortMixed",void 0),Rr([He("eSortNone")],t.prototype,"eSortNone",void 0),t}(Nt),qx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),C_=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DD=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return qx(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){this.params.template&&Lt(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var n=function(s){if(!No(s)){var a=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),a,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,n),this.addTouchAndClickListeners(this.eOpenIcon,n);var i=function(s){br(s)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",n),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,ni.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,ni.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,n){var i=new Jr(e,!0);this.addManagedListener(i,Jr.EVENT_TAP,n),this.addDestroyFunc(function(){return i.destroy()}),this.addManagedListener(e,"click",n)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var n=this.params.columnGroup.isExpanded();en(this.eOpenIcon,n),en(this.eCloseIcon,!n)}else en(this.eOpenIcon,!1),en(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,n){var i=Vn(e,this.gridOptionsService,null);i&&this.getRefElement(n).appendChild(i)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return en(this.eOpenIcon,!1),void en(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e,n=this.params,i=n.displayName,o=n.columnGroup;if(_e(i)){var s=ai(i);this.getRefElement("agLabel").innerHTML=s}this.addOrRemoveCssClass("ag-sticky-label",!(null!==(e=o.getColGroupDef())&&void 0!==e&&e.suppressStickyLabel))},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',C_([I("columnModel")],t.prototype,"columnModel",void 0),C_([He("agOpened")],t.prototype,"eOpenIcon",void 0),C_([He("agClosed")],t.prototype,"eCloseIcon",void 0),t}(Nt),Xx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),al=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Xx(t,r),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),r.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),r.prototype.destroy.call(this)},t}(Nt),nk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return nk(t,r),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),_e(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},t.prototype.onKeyDown=function(e){var n=e.key;(n===ce.LEFT||n===ce.UP||n===ce.RIGHT||n===ce.DOWN||e.shiftKey&&n===ce.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){var e=this.eTextArea.getValue();return _e(e)||_e(this.params.value)?this.params.parseValue(e):this.params.value},t.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([He("eTextArea")],t.prototype,"eTextArea",void 0),t}(al),Rs=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),OD=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Zx=function(r){function t(){var e=r.call(this,'<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>')||this;return e.startedByEnter=!1,e}return Rs(t,r),t.prototype.init=function(e){this.focusAfterAttached=e.cellStartedEdit;var n=this,i=n.eSelect,o=n.valueFormatterService,s=n.gridOptionsService,a=e.values,c=e.value,h=e.eventKey;if(ht(a))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=h&&h===ce.ENTER;var p=!1;a.forEach(function(w){var E={value:w},b=o.formatValue(e.column,null,w);E.text=null!=b?b:w,i.addOption(E),p=p||c===w}),p?i.setValue(e.value,!0):e.values.length&&i.setValue(e.values[0],!0);var g=e.valueListGap,m=e.valueListMaxWidth,_=e.valueListMaxHeight;null!=g&&i.setPickerGap(g),null!=_&&i.setPickerMaxHeight(_),null!=m&&i.setPickerMaxWidth(m),"fullRow"!==s.get("editType")&&this.addManagedListener(this.eSelect,fd.EVENT_ITEM_SELECTED,function(){return e.stopEditing()})}},t.prototype.afterGuiAttached=function(){var e=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){e.isAlive()&&e.eSelect.showPicker()})},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},OD([I("valueFormatterService")],t.prototype,"valueFormatterService",void 0),OD([He("eSelect")],t.prototype,"eSelect",void 0),t}(al),Ts=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tr=function(r){function t(e){var n=r.call(this,'\n            <div class="ag-cell-edit-wrapper">\n                '+e.getTemplate()+"\n            </div>")||this;return n.cellEditorInput=e,n}return Ts(t,r),t.prototype.init=function(e){this.params=e;var i,n=this.eInput;if(this.cellEditorInput.init(n,e),e.cellStartedEdit){this.focusAfterAttached=!0;var o=e.eventKey;o===ce.BACKSPACE||e.eventKey===ce.DELETE?i="":o&&1===o.length?i=o:(i=this.cellEditorInput.getStartValue(),o!==ce.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();null!=i&&n.setStartValue(i),this.addManagedListener(n.getGui(),"keydown",function(s){var a=s.key;(a===ce.PAGE_UP||a===ce.PAGE_DOWN)&&s.preventDefault()})},t.prototype.afterGuiAttached=function(){var e,n,i=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(i("ariaInputEditor","Input Editor")),this.focusAfterAttached){Or()||o.getFocusableElement().focus();var s=o.getInputElement();this.highlightAllOnFocus?s.select():null===(n=(e=this.cellEditorInput).setCaret)||void 0===n||n.call(e)}},t.prototype.focusIn=function(){var e=this.eInput,n=e.getFocusableElement(),i=e.getInputElement();n.focus(),i.select()},t.prototype.getValue=function(){return this.cellEditorInput.getValue()},t.prototype.isPopup=function(){return!1},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([He("eInput")],t.prototype,"eInput",void 0),t}(al),RD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),TD=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.maxLength&&t.setMaxLength(e.maxLength)},r.prototype.getValue=function(){var t=this.eInput.getValue();return _e(t)||_e(this.params.value)?this.params.parseValue(t):this.params.value},r.prototype.getStartValue=function(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value},r.prototype.setCaret=function(){var t=this.eInput.getValue(),e=_e(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)},r}(),AD=function(r){function t(){return r.call(this,new TD)||this}return RD(t,r),t}(Tr),Qx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nf=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e}return Qx(t,r),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,n){var i=Math.abs(n),o=e.formatValue(i),s=_e(o)?o:i,a=n>=0;this.eDelta.innerHTML=a?"\u2191"+s:"\u2193"+s,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var n=this.refreshCount;window.setTimeout(function(){n===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Mi(this.eDelta)},t.prototype.refresh=function(e){var n=e.value;return n!==this.lastValue&&(_e(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:_e(e.value)?this.eValue.innerHTML=n:Mi(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof n&&"number"==typeof this.lastValue&&this.showDelta(e,n-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=n,!0)},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([I("filterManager")],t.prototype,"filterManager",void 0),t}(Nt),tM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nM=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return tM(t,r),t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var n=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Pi('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){n===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){n===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var n=e.value;return ht(n)&&(n=""),n!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=n,_e(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:_e(e.value)?this.eCurrent.innerHTML=n:Mi(this.eCurrent),!0)},t.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([I("filterManager")],t.prototype,"filterManager",void 0),t}(Nt),gd=function(){return gd=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},gd.apply(this,arguments)},Bt=function(){function r(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=r.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}return r.prototype.setData=function(t){this.setDataCommon(t,!1)},r.prototype.updateData=function(t){this.setDataCommon(t,!0)},r.prototype.setDataCommon=function(t,e){var n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var i=this.createDataChangedEvent(t,n,e);this.dispatchLocalEvent(i)},r.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},r.prototype.createDataChangedEvent=function(t,e,n){return{type:r.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:n}},r.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},r.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},r.prototype.createDaemonNode=function(){var t=new r(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},r.prototype.setDataAndId=function(t,e){var n=_e(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);var o=this.createDataChangedEvent(t,i,!1);this.dispatchLocalEvent(o)},r.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))},r.prototype.setRowSelectable=function(t){if(this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){var n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:n??!1,source:"selectableChanged"})}},r.prototype.setId=function(t){var e=this.beans.gridOptionsService.getCallback("getRowId");if(e)if(this.data){var n=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(r.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+r.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},r.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],n=this;for(t&&(n=n.parent);n&&n.level>=0;)e.push(n.key),n=n.parent;return e.reverse(),e},r.prototype.isPixelInRange=function(t){return!(!_e(this.rowTop)||!_e(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight},r.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_FIRST_CHILD_CHANGED)))},r.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_LAST_CHILD_CHANGED)))},r.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_CHILD_INDEX_CHANGED)))},r.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},r.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},r.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DISPLAYED_CHANGED)))},r.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DRAGGING_CHANGED)))},r.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HIGHLIGHT_CHANGED)))},r.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},r.prototype.isHovered=function(){return this.hovered},r.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},r.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_MASTER_CHANGED)))},r.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_GROUP_CHANGED)))},r.prototype.setRowHeight=function(t,e){void 0===e&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HEIGHT_CHANGED))},r.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Dr(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},r.prototype.checkAutoHeights=function(){var t=this,e=!1,n=!0,i=0,o=this.__autoHeights;if(null!=o&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(c){var h=o[c.getId()];if(null==h){if(!t.beans.columnModel.isColSpanActive())return void(e=!0);var p=[];switch(c.getPinned()){case"left":p=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":p=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:p=t.beans.columnModel.getViewportCenterColumnsForRow(t)}if(p.includes(c))return void(e=!0);h=-1}else n=!1;h>i&&(i=h)}),!e&&((n||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i!=this.rowHeight))){this.setRowHeight(i);var a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}},r.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ROW_INDEX_CHANGED)))},r.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_UI_LEVEL_CHANGED)))},r.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(N.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},r.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},r.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},r.prototype.setDataValue=function(t,e,n){var h,s="string"!=typeof t?t:null!==(h=this.beans.columnModel.getGridColumn(t))&&void 0!==h?h:this.beans.columnModel.getPrimaryColumn(t),a=this.getValueFromValueService(s);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,a,e,n),!1;var c=this.beans.valueService.setValue(this,s,e,n);return this.dispatchCellChangedEvent(s,e,a),this.checkRowSelectable(),c},r.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!e,o=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),s=this.beans.gridOptionsService.is("groupSuppressBlankHeader");return this.beans.valueService.getValue(t,this,!1,n&&o&&!s)},r.prototype.dispatchEventForSaveValueReadOnly=function(t,e,n,i){var o={type:N.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:e,newValue:n,value:n,source:i};this.beans.eventService.dispatchEvent(o)},r.prototype.setGroupValue=function(t,e){var n=this.beans.columnModel.getGridColumn(t);ht(this.groupData)&&(this.groupData={});var i=n.getColId(),o=this.groupData[i];o!==e&&(this.groupData[i]=e,this.dispatchCellChangedEvent(n,e,o))},r.prototype.setAggData=function(t){var e=this,n=xg([this.aggData,t]),i=this.aggData;this.aggData=t,this.eventService&&n.forEach(function(o){var s=e.aggData?e.aggData[o]:void 0,a=i?i[o]:void 0;if(s!==a){var c=e.beans.columnModel.lookupGridColumn(o);c&&e.dispatchCellChangedEvent(c,s,a)}})},r.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){var n=this.beans.gridOptionsService.is("treeData"),i=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HAS_CHILDREN_CHANGED)))},r.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},r.prototype.isEmptyRowGroupNode=function(){return this.group&&Yr(this.childrenAfterGroup)},r.prototype.dispatchCellChangedEvent=function(t,e,n){this.dispatchLocalEvent({type:r.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:n})},r.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},r.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},r.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},r.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},r.prototype.calculateSelectedFromChildren=function(){var t,e=!1,n=!1,i=!1;if(null===(t=this.childrenAfterGroup)||void 0===t||!t.length)return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var s=this.childrenAfterGroup[o],a=s.isSelected();if(!s.selectable){var c=s.calculateSelectedFromChildren();if(null===c)continue;a=c}switch(a){case!0:e=!0;break;case!1:n=!0;break;default:i=!0}}return i||e&&n?void 0:!!e||!n&&(this.selectable?this.selected:null)},r.prototype.setSelectedInitialValue=function(t){this.selected=t},r.prototype.selectThisNode=function(t,e,n){if(void 0===n&&(n="api"),!this.selectable&&t||this.selected===t)return!1;if(this.selected=t,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_ROW_SELECTED));var s=this.sibling;s&&s.footer&&s.dispatchLocalEvent(s.createLocalRowEvent(r.EVENT_ROW_SELECTED))}var a=gd(gd({},this.createGlobalRowEvent(N.EVENT_ROW_SELECTED)),{event:e||null,source:n});return this.beans.eventService.dispatchEvent(a),!0},r.prototype.setSelected=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n="api"),"boolean"!=typeof n?this.setSelectedParams({newValue:t,clearSelection:e,rangeSelect:!1,source:n}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")},r.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(gd(gd({},t),{nodes:[this.footer?this.sibling:this]}))},r.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},r.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},r.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new _s),this.eventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.eventService&&(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},r.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_ENTER))},r.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_LEAVE))},r.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,n=!0,i=!1,o=null;n&&!i;){var s=e.parent;_e(s)&&e.firstChild?s.rowGroupColumn===t&&(i=!0,o=s):n=!1,e=s}return i?o:null},r.prototype.isFullWidthCell=function(){if(this.detail)return!0;var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!t&&t({rowNode:this})},r.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},r.prototype.createFooter=function(){var t=this;if(!this.sibling){var e=new Set(["eventService","__objectId","sticky"]),n=new r(this.beans);Object.keys(this).forEach(function(i){e.has(i)||(n[i]=t[i])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}},r.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},r.ID_PREFIX_ROW_GROUP="row-group-",r.ID_PREFIX_TOP_PINNED="t-",r.ID_PREFIX_BOTTOM_PINNED="b-",r.OBJECT_ID_SEQUENCE=0,r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_DATA_CHANGED="dataChanged",r.EVENT_CELL_CHANGED="cellChanged",r.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",r.EVENT_MASTER_CHANGED="masterChanged",r.EVENT_GROUP_CHANGED="groupChanged",r.EVENT_MOUSE_ENTER="mouseEnter",r.EVENT_MOUSE_LEAVE="mouseLeave",r.EVENT_HEIGHT_CHANGED="heightChanged",r.EVENT_TOP_CHANGED="topChanged",r.EVENT_DISPLAYED_CHANGED="displayedChanged",r.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",r.EVENT_LAST_CHILD_CHANGED="lastChildChanged",r.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",r.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",r.EVENT_SELECTABLE_CHANGED="selectableChanged",r.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",r.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",r.EVENT_DRAGGING_CHANGED="draggingChanged",r}(),MD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Eu=function(){return Eu=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Eu.apply(this,arguments)},PD=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},S_=function(r){function t(){return r.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return MD(t,r),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0),IC(this.eCheckbox.getInputElement(),"polite")},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.localeService.getLocaleTextFunc(),n=this.rowNode.isSelected(),i=Zg(e,n),o=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(n,!0),this.eCheckbox.setInputAriaLabel(o+" ("+i+")")},t.prototype.onClicked=function(e,n,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:n,event:i,source:"checkboxSelected"})},t.prototype.init=function(e){var n=this;if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(a){br(a)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(a){br(a);var c=n.gridOptionsService.is("groupSelectsFiltered"),h=n.eCheckbox.getValue();n.shouldHandleIndeterminateState(h,c)?0===n.onClicked(!0,c,a||{})&&n.onClicked(!1,c,a):h?n.onClicked(!1,c,a):n.onClicked(!0,c,a||{})}),this.addManagedListener(this.rowNode,Bt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){var s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,Bt.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,Bt.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.shouldHandleIndeterminateState=function(e,n){return n&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gridOptionsService.isRowModelType("clientSide")},t.prototype.showOrHideSelect=function(){var e,n,i,o,s=this.rowNode.selectable,a=this.getIsVisible();if(s)if("function"==typeof a){var c=null===(e=this.overrides)||void 0===e?void 0:e.callbackParams,h=null===(n=this.column)||void 0===n?void 0:n.createColumnFunctionCallbackParams(this.rowNode);s=!!h&&a(Eu(Eu({},c),h))}else s=a??!1;if(null===(i=this.column)||void 0===i?void 0:i.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!s),this.setVisible(!0),void this.setDisplayed(!0);null!==(o=this.overrides)&&void 0!==o&&o.removeHidden?this.setDisplayed(s):this.setVisible(s)},t.prototype.getIsVisible=function(){var e,n;return this.overrides?this.overrides.isVisible:null===(n=null===(e=this.column)||void 0===e?void 0:e.getColDef())||void 0===n?void 0:n.checkboxSelection},PD([He("eCheckbox")],t.prototype,"eCheckbox",void 0),PD([ke],t.prototype,"postConstruct",null),t}(Nt),ID=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ll=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Tv=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ar=function(r){return r[r.ToolPanel=0]="ToolPanel",r[r.HeaderCell=1]="HeaderCell",r[r.RowDrag=2]="RowDrag",r[r.ChartPanel=3]="ChartPanel",r[r.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",r}(Ar||{}),vd=function(r){return r[r.Up=0]="Up",r[r.Down=1]="Down",r}(vd||{}),jo=function(r){return r[r.Left=0]="Left",r[r.Right=1]="Right",r}(jo||{}),ri=function(r){function t(){var n=null!==r&&r.apply(this,arguments)||this;return n.dragSourceAndParamsList=[],n.dropTargets=[],n}var e;return ID(t,r),e=t,t.prototype.init=function(){this.ePinnedIcon=Ho("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Ho("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Ho("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Ho("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Ho("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Ho("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Ho("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Ho("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Ho("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(n,i){void 0===i&&(i=!1);var o={eElement:n.eElement,dragStartPixels:n.dragStartPixels,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:o,dragSource:n}),this.dragService.addDragSource(o)},t.prototype.removeDragSource=function(n){var i=this.dragSourceAndParamsList.find(function(o){return o.dragSource===n});i&&(this.dragService.removeDragSource(i.params),qr(this.dragSourceAndParamsList,i))},t.prototype.clearDragSourceParamsList=function(){var n=this;this.dragSourceAndParamsList.forEach(function(i){return n.dragService.removeDragSource(i.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(n,i){this.dragging=!0,this.dragSource=n,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(n){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var i=this.createDropTargetEvent(this.lastDropTarget,n,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(n,i){var s,a,c,h,o=this,p=this.getHorizontalDirection(n),g=this.getVerticalDirection(n);this.eventLastTime=n,this.positionGhost(n);var m=this.dropTargets.filter(function(E){return o.isMouseOnDropTarget(n,E)}),_=this.findCurrentDropTarget(n,m);if(_!==this.lastDropTarget)this.leaveLastTargetIfExists(n,p,g,i),null!==this.lastDropTarget&&null===_&&(null===(a=(s=this.dragSource).onGridExit)||void 0===a||a.call(s,this.dragItem)),null===this.lastDropTarget&&null!==_&&(null===(h=(c=this.dragSource).onGridEnter)||void 0===h||h.call(c,this.dragItem)),this.enterDragTargetIfExists(_,n,p,g,i),this.lastDropTarget=_;else if(_&&_.onDragging){var w=this.createDropTargetEvent(_,n,p,g,i);_.onDragging(w)}},t.prototype.getAllContainersFromDropTarget=function(n){var i=n.getSecondaryContainers?n.getSecondaryContainers():null,o=[[n.getContainer()]];return i?o.concat(i):o},t.prototype.allContainersIntersect=function(n,i){var o,s;try{for(var a=Tv(i),c=a.next();!c.done;c=a.next()){var p=c.value.getBoundingClientRect();if(0===p.width||0===p.height)return!1;if(!(n.clientX>=p.left&&n.clientX<p.right&&n.clientY>=p.top&&n.clientY<p.bottom))return!1}}catch(_){o={error:_}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(n,i){var o,s,a=this.getAllContainersFromDropTarget(i),c=!1;try{for(var h=Tv(a),p=h.next();!p.done;p=h.next())if(this.allContainersIntersect(n,p.value)){c=!0;break}}catch(m){o={error:m}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}return!(i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement))&&c&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(n,i){var o,s,a,c,h=i.length;if(0===h)return null;if(1===h)return i[0];var g=this.gridOptionsService.getRootNode().elementsFromPoint(n.clientX,n.clientY);try{for(var m=Tv(g),_=m.next();!_.done;_=m.next()){var w=_.value;try{for(var E=(a=void 0,Tv(i)),b=E.next();!b.done;b=E.next()){var R=b.value;if(-1!==Gg(this.getAllContainersFromDropTarget(R)).indexOf(w))return R}}catch(A){a={error:A}}finally{try{b&&!b.done&&(c=E.return)&&c.call(E)}finally{if(a)throw a.error}}}}catch(A){o={error:A}}finally{try{_&&!_.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}return null},t.prototype.enterDragTargetIfExists=function(n,i,o,s,a){if(n){if(n.onDragEnter){var c=this.createDropTargetEvent(n,i,o,s,a);n.onDragEnter(c)}this.setGhostIcon(n.getIconName?n.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(n,i,o,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var a=this.createDropTargetEvent(this.lastDropTarget,n,i,o,s);this.lastDropTarget.onDragLeave(a)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(n){this.dropTargets.push(n)},t.prototype.removeDropTarget=function(n){this.dropTargets=this.dropTargets.filter(function(i){return i.getContainer()!==n.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(n){return n.external})},t.prototype.findExternalZone=function(n){return this.dropTargets.filter(function(o){return o.external}).find(function(o){return o.getContainer()===n.getContainer()})||null},t.prototype.getHorizontalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientX,o=n.clientX;return i===o?null:i>o?jo.Left:jo.Right},t.prototype.getVerticalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientY,o=n.clientY;return i===o?null:i>o?vd.Up:vd.Down},t.prototype.createDropTargetEvent=function(n,i,o,s,a){var c=n.getContainer(),h=c.getBoundingClientRect(),p=this;return{event:i,x:i.clientX-h.left,y:i.clientY-h.top,vDirection:s,hDirection:o,dragSource:p.dragSource,fromNudge:a,dragItem:p.dragItem,api:p.gridApi,columnApi:p.columnApi,dropZoneTarget:c}},t.prototype.positionGhost=function(n){var i=this.eGhost;if(i){var s=i.getBoundingClientRect().height,a=N0()-2,c=k0()-2,h=dv(i.offsetParent),m=n.clientY-h.top-s/2,_=n.clientX-h.left-10,w=this.gridOptionsService.getDocument(),E=w.defaultView||window,b=E.pageYOffset||w.documentElement.scrollTop,R=E.pageXOffset||w.documentElement.scrollLeft;a>0&&_+i.clientWidth>a+R&&(_=a+R-i.clientWidth),_<0&&(_=0),c>0&&m+i.clientHeight>c+b&&(m=c+b-i.clientHeight),m<0&&(m=0),i.style.left=_+"px",i.style.top=m+"px"}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=Pi(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var n=this.environment.getTheme().theme;n&&this.eGhost.classList.add(n),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var i=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;Hc(o)&&(o=o()),i.innerHTML=ai(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var s=this.gridOptionsService.getDocument(),a=null;try{a=s.fullscreenElement}catch{}finally{if(!a){var c=this.gridOptionsService.getRootNode();a=c.querySelector("body")||(c instanceof ShadowRoot?c:c?.documentElement)}}this.eGhostParent=a,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(n,i){void 0===i&&(i=!1),Mi(this.eGhostIcon);var o=null;switch(n||(n=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():e.ICON_NOT_ALLOWED),n){case e.ICON_PINNED:o=this.ePinnedIcon;break;case e.ICON_MOVE:o=this.eMoveIcon;break;case e.ICON_LEFT:o=this.eLeftIcon;break;case e.ICON_RIGHT:o=this.eRightIcon;break;case e.ICON_GROUP:o=this.eGroupIcon;break;case e.ICON_AGGREGATE:o=this.eAggregateIcon;break;case e.ICON_PIVOT:o=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:o=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),(o!==this.eHideIcon||!this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',ll([I("dragService")],t.prototype,"dragService",void 0),ll([I("mouseEventService")],t.prototype,"mouseEventService",void 0),ll([I("columnApi")],t.prototype,"columnApi",void 0),ll([I("gridApi")],t.prototype,"gridApi",void 0),ll([ke],t.prototype,"init",null),ll([hi],t.prototype,"clearDragSourceParamsList",null),e=ll([tt("dragAndDropService")],t)}(Re),kf=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),md=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gf=function(r){function t(e,n,i,o,s,a){var c=r.call(this)||this;return c.cellValueFn=e,c.rowNode=n,c.column=i,c.customGui=o,c.dragStartPixels=s,c.suppressVisibilityChange=a,c.dragSource=null,c}return kf(t,r),t.prototype.isCustomGui=function(){return null!=this.customGui},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Vn("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.gridOptionsService.is("rowDragManaged")?new LD(this,this.beans,this.rowNode,this.column):new FD(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,n){this.setTemplateFromElement(e),this.addDragSource(n)},t.prototype.getSelectedNodes=function(){if(!this.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];var n=this.beans.selectionService.getSelectedNodes();return-1!==n.indexOf(this.rowNode)?n:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.gridOptionsService.is("rowDragManaged");this.gridOptionsService.is("treeData")&&e&&Lt(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var n=e.getColDef();if(n.rowDragText)return n.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var n=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var i=this.getRowDragText(this.column),o=this.localeService.getLocaleTextFunc();this.dragSource={type:Ar.RowDrag,eElement:this.getGui(),dragItemName:function(){var s,a=n.getDragItem(),c=(null===(s=a.rowNodes)||void 0===s?void 0:s.length)||1;return i?i(a,c):1===c?n.cellValueFn():c+" "+o("rowDragRows","rows")},getDragItem:function(){return n.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},md([I("beans")],t.prototype,"beans",void 0),md([ke],t.prototype,"postConstruct",null),md([hi],t.prototype,"removeDragSource",null),t}(Nt),E_=function(r){function t(e,n,i){var o=r.call(this)||this;return o.parent=e,o.rowNode=n,o.column=i,o}return kf(t,r),t.prototype.setDisplayedOrVisible=function(e){var n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{var i=!0,o=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=Hc(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,n),this.parent.setVisible(i,n)):(this.parent.setDisplayed(i,n),this.parent.setVisible(!0,n))}},t}(Re),FD=function(r){function t(e,n,i,o){var s=r.call(this,e,i,o)||this;return s.beans=n,s}return kf(t,r),t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,N.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(e)},md([ke],t.prototype,"postConstruct",null),t}(E_),LD=function(r){function t(e,n,i,o){var s=r.call(this,e,i,o)||this;return s.beans=n,s}return kf(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,N.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,N.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,N.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,N.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var n=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=n&&n.shouldPreventRowMove(),o=this.gridOptionsService.is("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(i&&!s||o)},md([ke],t.prototype,"postConstruct",null),t}(E_),ND=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Av=function(){return Av=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Av.apply(this,arguments)},Vf=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iM=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ND(t,r),t.prototype.init=function(e,n,i,o,s,a,c){this.params=c,this.eGui=n,this.eCheckbox=i,this.eExpanded=o,this.eContracted=s,this.comp=e,this.compClass=a;var h=c.node,p=c.value,g=c.colDef;if(!this.isTopLevelFooter()){if(this.isEmbeddedRowMismatch())return;if(!0!==g?.showRowGroup&&null==p&&!h.master)return;if(h.footer&&this.gridOptionsService.is("groupHideOpenParents")&&(g&&g.showRowGroup)!==(h.rowGroupColumn&&h.rowGroupColumn.getColId()))return}this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,n=e.node,i=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var o=function(){Bi(i,!!n.expanded)};this.expandListener=this.addManagedListener(n,Bt.EVENT_EXPANDED_CHANGED,o)||null,o()}else Kg(i)},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;var i=this.columnModel.getRowGroupColumns();return!i||0===i.length||i[0].getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var e="left"===this.params.pinned,n="right"===this.params.pinned,i=!e&&!n;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!n:!i:this.columnModel.isPinningLeft()?!e:!i},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,n=this.params.node;if(this.showingValueForOpenedParent)for(var i=n.parent;null!=i;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}ht(this.displayedGroupNode)&&(this.displayedGroupNode=n)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,n=this.params.column;if(this.gridOptionsService.is("groupHideOpenParents"))if(e.groupData){if(null!=e.rowGroupColumn){var o=e.rowGroupColumn.getId();if(n.isRowGroupDisplayed(o))return void(this.showingValueForOpenedParent=!1)}var a=null!=e.groupData[n.getId()];this.showingValueForOpenedParent=a}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e=this.adjustParamsWithDetailsFromRelatedColumn(),n=this.getInnerCompDetails(e),o=e.value,s=e.valueFormatted;null==s&&(s=""===o&&this.params.node.group?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):o??null),this.comp.setInnerRenderer(n,s)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,n=this.params.column;if(!e)return this.params;if(null!=n&&!n.isRowGroupDisplayed(e.getId()))return this.params;var s=this.params,a=this.params,p=this.valueFormatterService.formatValue(e,a.node,a.value);return Av(Av({},s),{valueFormatted:p})},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,n="";if(e){var i=s0(this.params);i.value=this.params.value,"function"==typeof e?n=e(i):"string"==typeof e?n=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else n="Total "+(null!=this.params.value?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,n)},t.prototype.getInnerCompDetails=function(e){var n=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var i=this.userComponentFactory.getInnerRendererDetails(e,e),o=function(p){return p&&p.componentClass==n.compClass};if(i&&!o(i))return i;var s=this.displayedGroupNode.rowGroupColumn,a=s?s.getColDef():void 0;if(a){var c=this.userComponentFactory.getCellRendererDetails(a,e);if(c&&!o(c))return c;if(o(c)&&a.cellRendererParams&&a.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(a.cellRendererParams,e)}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Bt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow();this.comp.setChildCount(n&&null!=e&&e>=0?"("+e+")":"")},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.is("treeData"))return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var n=this.params.column;return null==n||n.isRowGroupDisplayed(e.getId())},t.prototype.addExpandAndContract=function(){var e,n=this.params,i=Vn("groupExpanded",this.gridOptionsService,null),o=Vn("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),o&&this.eContracted.appendChild(o);var s=n.eGridCell;!((null===(e=this.params.column)||void 0===e?void 0:e.isCellEditable(n.node))&&this.gridOptionsService.is("enableGroupEdit"))&&this.isExpandable()&&!n.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(n.node,Bt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var c=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Bt.EVENT_ALL_CHILDREN_COUNT_CHANGED,c),this.addManagedListener(this.displayedGroupNode,Bt.EVENT_MASTER_CHANGED,c),this.addManagedListener(this.displayedGroupNode,Bt.EVENT_GROUP_CHANGED,c),this.addManagedListener(this.displayedGroupNode,Bt.EVENT_HAS_CHILDREN_CHANGED,c)},t.prototype.onExpandClicked=function(e){No(e)||(br(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var n=this.displayedGroupNode,i=!n.expanded;!i&&n.sticky&&this.scrollToStickyNode(n),n.setExpanded(i,e)},t.prototype.scrollToStickyNode=function(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,n=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||n)return!1;var o=this.params.column;return null==o||"string"!=typeof o.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},t.prototype.showExpandAndContractIcons=function(){var e=this,i=e.displayedGroupNode,o=e.columnModel,s=e.params.node,a=this.isExpandable();if(a){var c=!!this.showingValueForOpenedParent||s.expanded;this.comp.setExpandedDisplayed(c),this.comp.setContractedDisplayed(!c)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var h=o.isPivotMode(),p=h&&i.leafGroup,g=a&&!p,m=s.footer&&-1===s.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",g),this.comp.addOrRemoveCssClass("ag-row-group",g),h?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",p):m||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!g)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,Bt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var e=this.params,n=e.node,i=!!e.colDef,o=this.gridOptionsService.is("treeData"),a=!i||o||!0===e.colDef.showRowGroup?n.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+a,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var n=new Gf(function(){return e.params.value},this.params.node);this.createManagedBean(n,this.context),this.eGui.insertAdjacentElement("afterbegin",n.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e||!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,n=this.displayedGroupNode,i=this.isUserWantsSelected()&&!n.footer&&!n.rowPinned&&!n.detail;if(i){var o=new S_;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(i)},t.prototype.onKeyDown=function(e){e.key!==ce.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)},t.prototype.onCellDblClicked=function(e){No(e)||Vg(this.eExpanded,e)||Vg(this.eContracted,e)||this.onExpandOrContract(e)},Vf([I("expressionService")],t.prototype,"expressionService",void 0),Vf([I("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Vf([I("columnModel")],t.prototype,"columnModel",void 0),Vf([I("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Vf([I("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(Re),rM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hf=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kD=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return rM(t,r),t.prototype.init=function(e){var n=this,i={setInnerRenderer:function(c,h){return n.setRenderDetails(c,h)},setChildCount:function(c){return n.eChildCount.innerHTML=c},addOrRemoveCssClass:function(c,h){return n.addOrRemoveCssClass(c,h)},setContractedDisplayed:function(c){return en(n.eContracted,c)},setExpandedDisplayed:function(c){return en(n.eExpanded,c)},setCheckboxVisible:function(c){return n.eCheckbox.classList.toggle("ag-invisible",!c)}},o=this.createManagedBean(new iM),s=!e.colDef,a=this.getGui();o.init(i,a,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),s&&fi(a,"gridcell")},t.prototype.setRenderDetails=function(e,n){var i=this;if(e){var o=e.newAgStackInstance();if(!o)return;o.then(function(s){if(s){var a=function(){return i.context.destroyBean(s)};i.isAlive()?(i.eValue.appendChild(s.getGui()),i.addDestroyFunc(a)):a()}})}else this.eValue.innerText=n},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),r.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Hf([He("eExpanded")],t.prototype,"eExpanded",void 0),Hf([He("eContracted")],t.prototype,"eContracted",void 0),Hf([He("eCheckbox")],t.prototype,"eCheckbox",void 0),Hf([He("eValue")],t.prototype,"eValue",void 0),Hf([He("eChildCount")],t.prototype,"eChildCount",void 0),t}(Nt),oM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),GD=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sM=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return oM(t,r),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=Vn("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var n=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',GD([He("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),GD([He("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(Nt),aM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lM=function(r){function t(){return r.call(this)||this}return aM(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var n,i=null!==(n=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==n?n:t.DEFAULT_LOADING_OVERLAY_TEMPLATE,o=this.localeService.getLocaleTextFunc(),s=i.replace("[LOADING...]",o("loadingOoo","Loading..."));this.setTemplate(s)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(Nt),uM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cM=function(r){function t(){return r.call(this)||this}return uM(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var n,i=null!==(n=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==n?n:t.DEFAULT_NO_ROWS_TEMPLATE,o=this.localeService.getLocaleTextFunc(),s=i.replace("[NO_ROWS_TO_SHOW]",o("noRowsToShow","No Rows To Show"));this.setTemplate(s)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(Nt),dM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hM=function(r){function t(){return r.call(this,'<div class="ag-tooltip"></div>')||this}return dM(t,r),t.prototype.init=function(e){var n=e.value;this.getGui().innerHTML=ai(n)},t}(al),fM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pM=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.max&&t.setMax(e.max),null!=e.min&&t.setMin(e.min),null!=e.precision&&t.setPrecision(e.precision),null!=e.step&&t.setStep(e.step),e.showStepperButtons&&t.getInputElement().classList.add("ag-number-field-input-stepper")},r.prototype.getValue=function(){var t=this.eInput.getValue();if(!_e(t)&&!_e(this.params.value))return this.params.value;var e=this.params.parseValue(t);if(null==e)return e;if("string"==typeof e){if(""===e)return null;e=Number(e)}return isNaN(e)?null:e},r.prototype.getStartValue=function(){return this.params.value},r}(),gM=function(r){function t(){return r.call(this,new pM)||this}return fM(t,r),t}(Tr),VD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HD=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)},r.prototype.getValue=function(){var t=this.eInput.getDate();return _e(t)||_e(this.params.value)?t??null:this.params.value},r.prototype.getStartValue=function(){var t=this.params.value;if(t instanceof Date)return Qr(t,!1)},r}(),BD=function(r){function t(){return r.call(this,new HD)||this}return VD(t,r),t}(Tr),jD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),WD=function(){function r(t){this.getDataTypeService=t}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)},r.prototype.getValue=function(){var t=this.formatDate(this.eInput.getDate());return _e(t)||_e(this.params.value)?this.params.parseValue(t??""):this.params.value},r.prototype.getStartValue=function(){var t,e;return Qr(null!==(e=this.parseDate(null!==(t=this.params.value)&&void 0!==t?t:void 0))&&void 0!==e?e:null,!1)},r.prototype.parseDate=function(t){return this.getDataTypeService().getDateParserFunction()(t)},r.prototype.formatDate=function(t){return this.getDataTypeService().getDateFormatterFunction()(t)},r}(),zD=function(r){function t(){var e=r.call(this,new WD(function(){return e.dataTypeService}))||this;return e}return jD(t,r),function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([I("dataTypeService")],t.prototype,"dataTypeService",void 0),t}(Tr),$D=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),YD=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return $D(t,r),t.prototype.init=function(e){var n=this;this.params=e,this.updateCheckbox(e),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(o){if(br(o),!n.eCheckbox.isDisabled()){var s=n.eCheckbox.getValue();n.onCheckboxChanged(s)}}),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(o){br(o)});var i=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(o){if(o.key===ce.SPACE&&!n.eCheckbox.isDisabled()){n.params.eGridCell===i.activeElement&&n.eCheckbox.toggle();var s=n.eCheckbox.getValue();n.onCheckboxChanged(s),o.preventDefault()}})},t.prototype.refresh=function(e){return this.params=e,this.updateCheckbox(e),!0},t.prototype.updateCheckbox=function(e){var n,i,o,s,a=!0;if(e.node.group&&e.column){var c=e.column.getColId();c.startsWith(Yc)?s=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[c]?s=null!==(n=e.value)&&void 0!==n?n:void 0:a=!1}else s=null!==(i=e.value)&&void 0!==i?i:void 0;if(a){this.eCheckbox.setValue(s);var h=null!=e.disabled?e.disabled:!(null!==(o=e.column)&&void 0!==o&&o.isCellEditable(e.node));this.eCheckbox.setDisabled(h);var p=this.localeService.getLocaleTextFunc(),g=Zg(p,s),m=h?g:p("ariaToggleCellValue","Press SPACE to toggle cell value")+" ("+g+")";this.eCheckbox.setInputAriaLabel(m)}else this.eCheckbox.setDisplayed(!1)},t.prototype.onCheckboxChanged=function(e){var n=this.params,i=n.column,o=n.node,s=n.rowIndex,a=n.value,c={type:N.EVENT_CELL_EDITING_STARTED,column:i,colDef:i?.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a};this.eventService.dispatchEvent(c);var h=this.params.node.setDataValue(this.params.column,e,"edit"),p={type:N.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i?.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a,oldValue:a,newValue:e,valueChanged:h};this.eventService.dispatchEvent(p)},t.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([He("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(Nt),qD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vM=function(r){function t(){return r.call(this,'\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return qD(t,r),t.prototype.init=function(e){var i,n=this;this.params=e;var o=null!==(i=e.value)&&void 0!==i?i:void 0;this.eCheckbox.setValue(o),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,N.EVENT_FIELD_VALUE_CHANGED,function(s){return n.setAriaLabel(s.selected)})},t.prototype.getValue=function(){return this.eCheckbox.getValue()},t.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},t.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},t.prototype.isPopup=function(){return!1},t.prototype.setAriaLabel=function(e){var n=this.localeService.getLocaleTextFunc(),i=Zg(n,e),o=n("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(o+" ("+i+")")},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([He("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(al),mM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ul=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yM=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},xv=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},ik=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:pD,agColumnHeader:pd,agColumnGroupHeader:DD,agSortIndicator:y_,agTextColumnFloatingFilter:SD,agNumberColumnFloatingFilter:Kx,agDateColumnFloatingFilter:g_,agReadOnlyFloatingFilter:xf,agAnimateShowChangeCellRenderer:Nf,agAnimateSlideCellRenderer:nM,agGroupCellRenderer:kD,agGroupRowRenderer:kD,agLoadingCellRenderer:sM,agCheckboxCellRenderer:YD,agCellEditor:AD,agTextCellEditor:AD,agNumberCellEditor:gM,agDateCellEditor:BD,agDateStringCellEditor:zD,agSelectCellEditor:Zx,agLargeTextCellEditor:__,agCheckboxCellEditor:vM,agTextColumnFilter:m_,agNumberColumnFilter:mD,agDateColumnFilter:p_,agLoadingOverlay:lM,agNoRowsOverlay:cM,agTooltipComponent:hM},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:it.SetFilterModule,agSetColumnFloatingFilter:it.SetFilterModule,agMultiColumnFilter:it.MultiFilterModule,agMultiColumnFloatingFilter:it.MultiFilterModule,agGroupColumnFilter:it.RowGroupingModule,agGroupColumnFloatingFilter:it.RowGroupingModule,agRichSelect:it.RichSelectModule,agRichSelectCellEditor:it.RichSelectModule,agDetailCellRenderer:it.MasterDetailModule,agSparklineCellRenderer:it.SparklinesModule},e.jsComps={},e}return mM(t,r),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&jn(this.gridOptions.components,function(n,i){return e.registerJsComponent(n,i)})},t.prototype.registerDefaultComponent=function(e,n){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=n},t.prototype.registerJsComponent=function(e,n){this.jsComps[e]=n},t.prototype.retrieve=function(e,n){var i=this,o=function(g,m){return{componentFromFramework:m,component:g}},s=this.getFrameworkOverrides().frameworkComponent(n,this.gridOptions.components);if(null!=s)return o(s,!0);var a=this.jsComps[n];if(a)return o(a,this.getFrameworkOverrides().isFrameworkComponent(a));var h=this.agGridDefaults[n];if(h)return o(h,!1);var p=this.enterpriseAgDefaultCompsModule[n];return p?vt.__assertRegistered(p,"AG Grid '"+e+"' component: "+n,this.context.getGridId()):Lt(function(){i.warnAboutMissingComponent(e,n)},"MissingComp"+n),null},t.prototype.warnAboutMissingComponent=function(e,n){var o=Xc(n,xv(xv([],yM(Object.keys(this.agGridDefaults).filter(function(s){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)}))),yM(Object.keys(this.jsComps))),!0,.8).values;console.warn("AG Grid: Could not find '"+n+"' component. It was configured as \""+e+": '"+n+"'\" but it wasn't found in the list of registered components."),o.length>0&&console.warn("         Did you mean: ["+o.slice(0,3)+"]?"),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")},ul([I("gridOptions")],t.prototype,"gridOptions",void 0),ul([ke],t.prototype,"init",null),ul([tt("userComponentRegistry")],t)}(Re),XD={propertyName:"dateComponent",cellRenderer:!1},ZD={propertyName:"headerComponent",cellRenderer:!1},rk={propertyName:"headerGroupComponent",cellRenderer:!1},bu={propertyName:"cellRenderer",cellRenderer:!0},CM={propertyName:"cellEditor",cellRenderer:!1},QD={propertyName:"innerRenderer",cellRenderer:!0},_M={propertyName:"loadingOverlayComponent",cellRenderer:!1},yd={propertyName:"noRowsOverlayComponent",cellRenderer:!1},wM={propertyName:"tooltipComponent",cellRenderer:!1},Cd={propertyName:"filter",cellRenderer:!1},Mv={propertyName:"floatingFilterComponent",cellRenderer:!1},xr={propertyName:"toolPanel",cellRenderer:!1},ok={propertyName:"statusPanel",cellRenderer:!1},JD={propertyName:"fullWidthCellRenderer",cellRenderer:!0},eb={propertyName:"loadingCellRenderer",cellRenderer:!0},SM={propertyName:"groupRowRenderer",cellRenderer:!0},tb={propertyName:"detailCellRenderer",cellRenderer:!0},nb=function(){function r(){}return r.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},r.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},r}(),ib=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ou=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EM=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ib(t,r),t.prototype.getHeaderCompDetails=function(e,n){return this.getCompDetails(e,ZD,"agColumnHeader",n)},t.prototype.getHeaderGroupCompDetails=function(e){var n=e.columnGroup.getColGroupDef();return this.getCompDetails(n,rk,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,JD,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,eb,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,SM,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,tb,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,n){return this.getCompDetails(e,QD,null,n)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,n){return this.getCompDetails(e,QD,null,n)},t.prototype.getCellRendererDetails=function(e,n){return this.getCompDetails(e,bu,null,n)},t.prototype.getCellEditorDetails=function(e,n){return this.getCompDetails(e,CM,"agCellEditor",n,!0)},t.prototype.getFilterDetails=function(e,n,i){return this.getCompDetails(e,Cd,i,n,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,XD,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,_M,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,yd,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,wM,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,n){return this.getCompDetails(e,bu,null,n)},t.prototype.getFloatingFilterCompDetails=function(e,n,i){return this.getCompDetails(e,Mv,i,n)},t.prototype.getToolPanelCompDetails=function(e,n){return this.getCompDetails(e,xr,null,n,!0)},t.prototype.getStatusPanelCompDetails=function(e,n){return this.getCompDetails(e,ok,null,n,!0)},t.prototype.getCompDetails=function(e,n,i,o,s){var a=this;void 0===s&&(s=!1);var c=n.propertyName,h=n.cellRenderer,p=this.getCompKeys(e,n,o),g=p.compName,m=p.jsComp,_=p.fwComp,w=p.paramsFromSelector,E=p.popupFromSelector,b=p.popupPositionFromSelector,R=function(P){var k=a.userComponentRegistry.retrieve(c,P);k&&(m=k.componentFromFramework?void 0:k.component,_=k.componentFromFramework?k.component:void 0)};if(null!=g&&R(g),null==m&&null==_&&null!=i&&R(i),m&&h&&!this.agComponentUtils.doesImplementIComponent(m)&&(m=this.agComponentUtils.adaptFunction(c,m)),m||_){var T=this.mergeParamsWithApplicationProvidedParams(e,n,o,w),A=null==m,x=m||_;return{componentFromFramework:A,componentClass:x,params:T,type:n,popupFromSelector:E,popupPositionFromSelector:b,newAgStackInstance:function(){return a.newAgStackInstance(x,A,T,n)}}}s&&console.error("AG Grid: Could not find component "+g+", did you forget to configure this component?")},t.prototype.getCompKeys=function(e,n,i){var a,c,h,p,g,m,o=this,s=n.propertyName;if(e){var _=e,w=_[s+"Selector"],E=w?w(i):null,b=function(R){"string"==typeof R?a=R:null!=R&&!0!==R&&(o.getFrameworkOverrides().isFrameworkComponent(R)?h=R:c=R)};E?(b(E.component),p=E.params,g=E.popup,m=E.popupPosition):b(_[s])}return{compName:a,jsComp:c,fwComp:h,paramsFromSelector:p,popupFromSelector:g,popupPositionFromSelector:m}},t.prototype.newAgStackInstance=function(e,n,i,o){var c;if(n){var h=this.componentMetadataProvider.retrieve(o.propertyName);c=this.frameworkComponentWrapper.wrap(e,h.mandatoryMethodList,h.optionalMethodList,o)}else c=new e;var p=this.initComponent(c,i);return null==p?rr.resolve(c):p.then(function(){return c})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,n,i,o){void 0===o&&(o=null);var s={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};Er(s,i);var c=e&&e[n.propertyName+"Params"];return"function"==typeof c?Er(s,c(i)):"object"==typeof c&&Er(s,c),Er(s,o),s},t.prototype.initComponent=function(e,n){if(this.context.createBean(e),null!=e.init)return e.init(n)},t.prototype.getDefaultFloatingFilterType=function(e,n){if(null==e)return null;var i=null,o=this.getCompKeys(e,Cd),s=o.compName,a=o.jsComp,c=o.fwComp;return s?i=nb.getFloatingFilterType(s):null==a&&null==c&&!0===e.filter&&(i=n()),i},Ou([I("gridOptions")],t.prototype,"gridOptions",void 0),Ou([I("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Ou([I("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Ou([I("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),Ou([sn("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),Ou([tt("userComponentFactory")],t)}(Re),D_=function(r){return r[r.SINGLE_SHEET=0]="SINGLE_SHEET",r[r.MULTI_SHEET=1]="MULTI_SHEET",r}(D_||{}),DM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ru=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bM=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return DM(t,r),t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var n=e.dragSource.eElement;n.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&n.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var n=this.dragSources.find(function(i){return i.dragSource===e});n&&(this.removeListener(n),qr(this.dragSources,n))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e){var n=this,i=this.onMouseDown.bind(this,e),o=e.eElement,s=e.includeTouch,a=e.stopPropagationForTouch;o.addEventListener("mousedown",i);var c=null,h=this.gridOptionsService.is("suppressTouch");s&&!h&&o.addEventListener("touchstart",c=function(p){gu(p.target)||(p.cancelable&&(p.preventDefault(),a&&p.stopPropagation()),n.onTouchStart(e,p))},{passive:!1}),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:c,touchEnabled:!!s})},t.prototype.getStartTarget=function(){return this.startTarget},t.prototype.onTouchStart=function(e,n){var i=this;this.currentDragParams=e,this.dragging=!1;var o=n.touches[0];this.touchLastTime=o,this.touchStart=o;var a=function(g){return i.onTouchUp(g,e.eElement)},h=n.target,p=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:function(g){g.cancelable&&g.preventDefault()},options:{passive:!1}},{target:h,type:"touchmove",listener:function(g){return i.onTouchMove(g,e.eElement)},options:{passive:!0}},{target:h,type:"touchend",listener:a,options:{passive:!0}},{target:h,type:"touchcancel",listener:a,options:{passive:!0}}];this.addTemporaryEvents(p),0===e.dragStartPixels&&this.onCommonMove(o,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,n){var i=this,o=n;if(!(e.skipMouseEvent&&e.skipMouseEvent(n)||o._alreadyProcessedByDragService||(o._alreadyProcessedByDragService=!0,0!==n.button))){this.shouldPreventMouseEvent(n)&&n.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=n,this.startTarget=n.target;var h=this.gridOptionsService.getRootNode();this.addTemporaryEvents([{target:h,type:"mousemove",listener:function(g){return i.onMouseMove(g,e.eElement)}},{target:h,type:"mouseup",listener:function(g){return i.onMouseUp(g,e.eElement)}},{target:h,type:"contextmenu",listener:function(g){return g.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(n,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(n){n.target.addEventListener(n.type,n.listener,n.options)}),this.dragEndFunctions.push(function(){e.forEach(function(n){n.target.removeEventListener(n.type,n.listener,n.options)})})},t.prototype.isEventNearStartEvent=function(e,n){var i=this.currentDragParams.dragStartPixels;return el(e,n,_e(i)?i:4)},t.prototype.getFirstActiveTouch=function(e){for(var n=0;n<e.length;n++)if(e[n].identifier===this.touchStart.identifier)return e[n];return null},t.prototype.onCommonMove=function(e,n,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,n))return;this.dragging=!0,this.eventService.dispatchEvent({type:N.EVENT_DRAG_STARTED,target:i}),this.currentDragParams.onDragStart(n),this.currentDragParams.onDragging(n)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,n){var i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,n)},t.prototype.onMouseMove=function(e,n){this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,n)},t.prototype.shouldPreventMouseEvent=function(e){var n=this.gridOptionsService.is("enableCellTextSelection"),i=Or();return(n&&"mousemove"===e.type||i)&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)},t.prototype.isOverFormFieldElement=function(e){var n=e.target,i=n?.tagName.toLocaleLowerCase();return!!i?.match("^a$|textarea|input|select|button")},t.prototype.onTouchUp=function(e,n){var i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,n)},t.prototype.onMouseUp=function(e,n){this.onUpCommon(e,n)},t.prototype.onUpCommon=function(e,n){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:N.EVENT_DRAG_STOPPED,target:n})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},Ru([I("mouseEventService")],t.prototype,"mouseEventService",void 0),Ru([hi],t.prototype,"removeAllListeners",null),Ru([tt("dragService")],t)}(Re),rb=function(){function r(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return r.prototype.check=function(t,e){void 0===e&&(e=!1);var n=e||this.shouldSkipVerticalScroll();if(!n||!this.shouldSkipHorizontalScroll()){var i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<i.left+o,this.tickRight=t.clientX>i.right-o,this.tickUp=t.clientY<i.top+o&&!n,this.tickDown=t.clientY>i.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},r.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},r.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-t),this.tickRight&&this.setHorizontalPosition(n+t)}this.onScrollCallback&&this.onScrollCallback()},r.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},r}(),OM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bf=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pv="ag-list-item-hovered",sa=(function(r){function t(e,n,i){var o=r.call(this)||this;return o.comp=e,o.virtualList=n,o.params=i,o.currentDragValue=null,o.lastHoveredListItem=null,o}OM(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.listItemDragStart=function(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},t.prototype.listItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragValue=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(i){return i===e.params.dragSourceType},getIconName:function(){return ri[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(i){return e.onDragging(i)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new rb({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(n){return e.scrollTop=n}})},t.prototype.onDragging=function(e){if(this.currentDragValue&&!this.moveBlocked){var n=this.getListDragItem(e),i=this.virtualList.getComponentAt(n.rowIndex);if(i){var o=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===n.rowIndex&&this.lastHoveredListItem.position===n.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=n,uv(o,Pv),uv(o,"ag-item-highlight-"+n.position))}}},t.prototype.getListDragItem=function(e){var n=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(n).paddingTop),o=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),a=Math.max(0,(e.y-i+s)/o),c=this.params.getNumRows(this.comp)-1,h=0|Math.min(c,a);return{rowIndex:h,position:Math.round(a)>a||a>c?"bottom":"top",component:this.virtualList.getComponentAt(h)}},t.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+Pv).forEach(function(n){[Pv,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(i){n.classList.remove(i)})}),this.lastHoveredListItem=null},Bf([I("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Bf([ke],t.prototype,"postConstruct",null)}(Re),function(r){return r[r.Above=0]="Above",r[r.Below=1]="Below",r}(sa||{})),an=function(r){return r.EVERYTHING="group",r.FILTER="filter",r.SORT="sort",r.MAP="map",r.AGGREGATE="aggregate",r.FILTER_AGGREGATES="filter_aggregates",r.PIVOT="pivot",r.NOTHING="nothing",r}(an||{}),Qt=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function Uo(r){return null!=r&&null!=r.getFrameworkComponentInstance?r.getFrameworkComponentInstance():r}var TM=function(){function r(){this.detailGridInfoMap={},this.destroyCalled=!1}return r.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t},r.prototype.registerSideBarComp=function(t){this.sideBarComp=t},r.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},r.prototype.__getAlignedGridService=function(){return this.alignedGridsService},r.prototype.__getContext=function(){return this.context},r.prototype.getSetterMethod=function(t){return"set"+t.charAt(0).toUpperCase()+t.substring(1)},r.prototype.__setPropertyOnly=function(t,e){return this.gos.__setPropertyOnly(t,e)},r.prototype.__updateProperty=function(t,e,n,i){void 0===i&&(i=void 0),this.gos.set(t,e,n,{},i);var o=this.getSetterMethod(t);this[o]&&this[o](e)},r.prototype.getGridId=function(){return this.context.getGridId()},r.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},r.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},r.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},r.prototype.forEachDetailGridInfo=function(t){var e=0;jn(this.detailGridInfoMap,function(n,i){_e(i)&&(t(i,e),e++)})},r.prototype.getDataAsCsv=function(t){if(vt.__assertRegistered(it.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)},r.prototype.exportDataAsCsv=function(t){vt.__assertRegistered(it.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)},r.prototype.getExcelExportMode=function(t){var e=this.gos.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},e,t).exportMode},r.prototype.assertNotExcelMultiSheet=function(t,e){if(!vt.__assertRegistered(it.ExcelExportModule,"api."+t,this.context.getGridId()))return!1;var n=this.getExcelExportMode(e);return this.excelCreator.getFactoryMode(n)!==D_.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)},r.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},r.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},r.prototype.getSheetDataForExcel=function(t){if(vt.__assertRegistered(it.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId())){var e=this.getExcelExportMode(t);return this.excelCreator.setFactoryMode(D_.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(t)}},r.prototype.getMultipleSheetsAsExcel=function(t){if(vt.__assertRegistered(it.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)},r.prototype.exportMultipleSheetsAsExcel=function(t){if(vt.__assertRegistered(it.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(t)},r.prototype.setTreeData=function(t){this.gos.set("treeData",t)},r.prototype.setGridAriaProperty=function(t,e){if(t){var n=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-"+t;null===e?n.removeAttribute(i):n.setAttribute(i,e)}},r.prototype.logMissingRowModel=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.error("AG Grid: api."+t+" can only be called when gridOptions.rowModelType is "+e.join(" or "))},r.prototype.setServerSideDatasource=function(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):this.logMissingRowModel("setServerSideDatasource","serverSide")},r.prototype.setCacheBlockSize=function(t){this.serverSideRowModel?(this.gos.set("cacheBlockSize",t),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},r.prototype.setDatasource=function(t){this.gos.isRowModelType("infinite")?this.rowModel.setDatasource(t):this.logMissingRowModel("setDatasource","infinite")},r.prototype.setViewportDatasource=function(t){this.gos.isRowModelType("viewport")?this.rowModel.setViewportDatasource(t):this.logMissingRowModel("setViewportDatasource","viewport")},r.prototype.setRowData=function(t){null==this.immutableService?this.logMissingRowModel("setRowData","clientSide"):this.immutableService.isActive()?this.immutableService.setRowData(t):(this.selectionService.reset(),this.clientSideRowModel.setRowData(t))},r.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},r.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},r.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},r.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},r.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},r.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},r.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnModel.setColumnDefs(t,e),this.gos.set("columnDefs",t,!0,{source:e})},r.prototype.setAutoGroupColumnDef=function(t,e){void 0===e&&(e="api"),this.gos.set("autoGroupColumnDef",t,!0,{source:e})},r.prototype.setDefaultColDef=function(t,e){void 0===e&&(e="api"),this.gos.set("defaultColDef",t,!0,{source:e})},r.prototype.setColumnTypes=function(t,e){void 0===e&&(e="api"),this.gos.set("columnTypes",t,!0,{source:e})},r.prototype.expireValueCache=function(){this.valueCache.expire()},r.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},r.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},r.prototype.setAlwaysShowHorizontalScroll=function(t){this.gos.set("alwaysShowHorizontalScroll",t)},r.prototype.setAlwaysShowVerticalScroll=function(t){this.gos.set("alwaysShowVerticalScroll",t)},r.prototype.refreshCells=function(t){void 0===t&&(t={}),this.rowRenderer.refreshCells(t)},r.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},r.prototype.redrawRows=function(t){void 0===t&&(t={}),this.rowRenderer.redrawRows(t?t.rowNodes:void 0)},r.prototype.setFunctionsReadOnly=function(t){this.gos.set("functionsReadOnly",t)},r.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})},r.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},r.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},r.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},r.prototype.getModel=function(){return this.rowModel},r.prototype.setRowNodeExpanded=function(t,e,n){t&&(n&&t.parent&&-1!==t.parent.level&&this.setRowNodeExpanded(t.parent,e,n),t.setExpanded(e))},r.prototype.onGroupExpandedOrCollapsed=function(){ht(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:an.MAP})},r.prototype.refreshClientSideRowModel=function(t){ht(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)},r.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},r.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},r.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},r.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},r.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},r.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},r.prototype.addRenderedRowListener=function(t,e,n){this.rowRenderer.addRenderedRowListener(t,e,n)},r.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},r.prototype.setQuickFilter=function(t){this.gos.set("quickFilterText",t)},r.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){mo("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!t)},r.prototype.setIncludeHiddenColumnsInQuickFilter=function(t){this.gos.set("includeHiddenColumnsInQuickFilter",t)},r.prototype.setQuickFilterParser=function(t){this.gos.set("quickFilterParser",t)},r.prototype.setQuickFilterMatcher=function(t){this.gos.set("quickFilterMatcher",t)},r.prototype.getAdvancedFilterModel=function(){return vt.__assertRegistered(it.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},r.prototype.setAdvancedFilterModel=function(t){this.gos.set("advancedFilterModel",t)},r.prototype.setEnableAdvancedFilter=function(t){this.gos.set("enableAdvancedFilter",t)},r.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(t){this.gos.set("includeHiddenColumnsInAdvancedFilter",t)},r.prototype.setAdvancedFilterParent=function(t){this.gos.set("advancedFilterParent",t)},r.prototype.setAdvancedFilterBuilderParams=function(t){this.gos.set("advancedFilterBuilderParams",t)},r.prototype.showAdvancedFilterBuilder=function(){vt.__assertRegistered(it.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},r.prototype.setNodesSelected=function(t){t.nodes.every(function(a){return a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==a.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)})&&this.selectionService.setNodesSelected({nodes:t.nodes,source:t.source??"api",newValue:t.newValue})},r.prototype.selectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},r.prototype.deselectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},r.prototype.selectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},r.prototype.deselectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},r.prototype.getServerSideSelectionState=function(){return ht(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()},r.prototype.setServerSideSelectionState=function(t){ht(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setServerSideSelectionState(t)},r.prototype.selectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},r.prototype.deselectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},r.prototype.sizeColumnsToFit=function(t){this.gridBodyCtrl.sizeColumnsToFit(t)},r.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},r.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},r.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},r.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},r.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},r.prototype.getBestCostNodeSelection=function(){if(!ht(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},r.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},r.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},r.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},r.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},r.prototype.forEachLeafNode=function(t){ht(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)},r.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},r.prototype.forEachNodeAfterFilter=function(t){ht(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)},r.prototype.forEachNodeAfterFilterAndSort=function(t){ht(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},r.prototype.getFilterInstance=function(t,e){return this.filterManager.getFilterInstance(t,e)},r.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},r.prototype.getStatusPanel=function(t){if(vt.__assertRegistered(it.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return Uo(this.statusBarService.getStatusPanel(t))},r.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},r.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},r.prototype.onFilterChanged=function(t){void 0===t&&(t="api"),this.filterManager.onFilterChanged({source:t})},r.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},r.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},r.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},r.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},r.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},r.prototype.setFocusedCell=function(t,e,n){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:n,forceBrowserFocus:!0})},r.prototype.setSuppressRowDrag=function(t){this.gos.set("suppressRowDrag",t)},r.prototype.setSuppressMoveWhenRowDragging=function(t){this.gos.set("suppressMoveWhenRowDragging",t)},r.prototype.setSuppressRowClickSelection=function(t){this.gos.set("suppressRowClickSelection",t)},r.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},r.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},r.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},r.prototype.setHeaderHeight=function(t){this.gos.set("headerHeight",t)},r.prototype.setDomLayout=function(t){this.gos.set("domLayout",t)},r.prototype.setEnableCellTextSelection=function(t){this.gridBodyCtrl.setCellTextSelection(t)},r.prototype.setFillHandleDirection=function(t){this.gos.set("fillHandleDirection",t)},r.prototype.setGroupHeaderHeight=function(t){this.gos.set("groupHeaderHeight",t)},r.prototype.setFloatingFiltersHeight=function(t){this.gos.set("floatingFiltersHeight",t)},r.prototype.setPivotHeaderHeight=function(t){this.gos.set("pivotHeaderHeight",t)},r.prototype.setPivotGroupHeaderHeight=function(t){this.gos.set("pivotGroupHeaderHeight",t)},r.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},r.prototype.setAnimateRows=function(t){this.gos.set("animateRows",t)},r.prototype.setIsExternalFilterPresent=function(t){this.gos.set("isExternalFilterPresent",t)},r.prototype.setDoesExternalFilterPass=function(t){this.gos.set("doesExternalFilterPass",t)},r.prototype.setNavigateToNextCell=function(t){this.gos.set("navigateToNextCell",t)},r.prototype.setTabToNextCell=function(t){this.gos.set("tabToNextCell",t)},r.prototype.setTabToNextHeader=function(t){this.gos.set("tabToNextHeader",t)},r.prototype.setNavigateToNextHeader=function(t){this.gos.set("navigateToNextHeader",t)},r.prototype.setRowGroupPanelShow=function(t){this.gos.set("rowGroupPanelShow",t)},r.prototype.setGetGroupRowAgg=function(t){this.gos.set("getGroupRowAgg",t)},r.prototype.setGetBusinessKeyForNode=function(t){this.gos.set("getBusinessKeyForNode",t)},r.prototype.setGetChildCount=function(t){this.gos.set("getChildCount",t)},r.prototype.setProcessRowPostCreate=function(t){this.gos.set("processRowPostCreate",t)},r.prototype.setGetRowId=function(t){this.gos.set("getRowId",t)},r.prototype.setGetRowClass=function(t){this.gos.set("getRowClass",t)},r.prototype.setIsFullWidthRow=function(t){this.gos.set("isFullWidthRow",t)},r.prototype.setIsRowSelectable=function(t){this.gos.set("isRowSelectable",t)},r.prototype.setIsRowMaster=function(t){this.gos.set("isRowMaster",t)},r.prototype.setPostSortRows=function(t){this.gos.set("postSortRows",t)},r.prototype.setGetDocument=function(t){this.gos.set("getDocument",t)},r.prototype.setGetContextMenuItems=function(t){this.gos.set("getContextMenuItems",t)},r.prototype.setGetMainMenuItems=function(t){this.gos.set("getMainMenuItems",t)},r.prototype.setProcessCellForClipboard=function(t){this.gos.set("processCellForClipboard",t)},r.prototype.setSendToClipboard=function(t){this.gos.set("sendToClipboard",t)},r.prototype.setProcessCellFromClipboard=function(t){this.gos.set("processCellFromClipboard",t)},r.prototype.setProcessSecondaryColDef=function(t){mo("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(t)},r.prototype.setProcessSecondaryColGroupDef=function(t){mo("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(t)},r.prototype.setProcessPivotResultColDef=function(t){this.gos.set("processPivotResultColDef",t)},r.prototype.setProcessPivotResultColGroupDef=function(t){this.gos.set("processPivotResultColGroupDef",t)},r.prototype.setPostProcessPopup=function(t){this.gos.set("postProcessPopup",t)},r.prototype.setInitialGroupOrderComparator=function(t){this.gos.set("initialGroupOrderComparator",t)},r.prototype.setGetChartToolbarItems=function(t){this.gos.set("getChartToolbarItems",t)},r.prototype.setPaginationNumberFormatter=function(t){this.gos.set("paginationNumberFormatter",t)},r.prototype.setGetServerSideStoreParams=function(t){mo("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(t)},r.prototype.setGetServerSideGroupLevelParams=function(t){this.gos.set("getServerSideGroupLevelParams",t)},r.prototype.setIsServerSideGroupOpenByDefault=function(t){this.gos.set("isServerSideGroupOpenByDefault",t)},r.prototype.setIsApplyServerSideTransaction=function(t){this.gos.set("isApplyServerSideTransaction",t)},r.prototype.setIsServerSideGroup=function(t){this.gos.set("isServerSideGroup",t)},r.prototype.setGetServerSideGroupKey=function(t){this.gos.set("getServerSideGroupKey",t)},r.prototype.setGetRowStyle=function(t){this.gos.set("getRowStyle",t)},r.prototype.setGetRowHeight=function(t){this.gos.set("getRowHeight",t)},r.prototype.assertSideBarLoaded=function(t){return vt.__assertRegistered(it.SideBarModule,"api."+t,this.context.getGridId())},r.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},r.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(t)},r.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(t)},r.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(t,"api")},r.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},r.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},r.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},r.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},r.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return Uo(this.sideBarComp.getToolPanelInstance(t))},r.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},r.prototype.setSideBar=function(t){this.gos.set("sideBar",t)},r.prototype.setSuppressClipboardPaste=function(t){this.gos.set("suppressClipboardPaste",t)},r.prototype.resetRowHeights=function(){if(_e(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},r.prototype.setGroupRemoveSingleChildren=function(t){this.gos.set("groupRemoveSingleChildren",t)},r.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gos.set("groupRemoveLowestSingleChildren",t)},r.prototype.setGroupDisplayType=function(t){this.gos.set("groupDisplayType",t)},r.prototype.setGroupIncludeFooter=function(t){this.gos.set("groupIncludeFooter",t)},r.prototype.setGroupIncludeTotalFooter=function(t){this.gos.set("groupIncludeTotalFooter",t)},r.prototype.setRowClass=function(t){this.gos.set("rowClass",t)},r.prototype.setDeltaSort=function(t){this.gos.set("deltaSort",t)},r.prototype.setRowCount=function(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")},r.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},r.prototype.getValue=function(t,e){var n=this.columnModel.getPrimaryColumn(t);return ht(n)&&(n=this.columnModel.getGridColumn(t)),ht(n)?null:this.valueService.getValue(n,e)},r.prototype.addEventListener=function(t,e){var n=this.gos.useAsyncEvents();this.eventService.addEventListener(t,e,n)},r.prototype.addGlobalListener=function(t){var e=this.gos.useAsyncEvents();this.eventService.addGlobalListener(t,e)},r.prototype.removeEventListener=function(t,e){var n=this.gos.useAsyncEvents();this.eventService.removeEventListener(t,e,n)},r.prototype.removeGlobalListener=function(t){var e=this.gos.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},r.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},r.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0,this.dispatchEvent({type:N.EVENT_GRID_PRE_DESTROYED});var t=this.ctrlsService.getGridCtrl();t&&t.destroyGridUi(),this.context.destroy()}},r.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(u0.bind(window,this,"Grid API"),100)},r.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},r.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},r.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(vt.__assertRegistered(it.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},r.prototype.addCellRange=function(t){this.rangeService?this.rangeService.addCellRange(t):vt.__assertRegistered(it.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},r.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),vt.__assertRegistered(it.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},r.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},r.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},r.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},r.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},r.prototype.getChartModels=function(){if(vt.__assertRegistered(it.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()},r.prototype.getChartRef=function(t){if(vt.__assertRegistered(it.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(t)},r.prototype.getChartImageDataURL=function(t){if(vt.__assertRegistered(it.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(t)},r.prototype.downloadChart=function(t){if(vt.__assertRegistered(it.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(t)},r.prototype.openChartToolPanel=function(t){if(vt.__assertRegistered(it.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(t)},r.prototype.closeChartToolPanel=function(t){if(vt.__assertRegistered(it.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(t.chartId)},r.prototype.createRangeChart=function(t){if(vt.__assertRegistered(it.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(t)},r.prototype.createPivotChart=function(t){if(vt.__assertRegistered(it.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(t)},r.prototype.createCrossFilterChart=function(t){if(vt.__assertRegistered(it.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(t)},r.prototype.updateChart=function(t){vt.__assertRegistered(it.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(t)},r.prototype.restoreChart=function(t,e){if(vt.__assertRegistered(it.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(t,e)},r.prototype.copyToClipboard=function(t){vt.__assertRegistered(it.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(t)},r.prototype.cutToClipboard=function(t){vt.__assertRegistered(it.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(t,"api")},r.prototype.copySelectedRowsToClipboard=function(t){vt.__assertRegistered(it.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(t)},r.prototype.copySelectedRangeToClipboard=function(t){vt.__assertRegistered(it.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(t)},r.prototype.copySelectedRangeDown=function(){vt.__assertRegistered(it.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()},r.prototype.pasteFromClipboard=function(){vt.__assertRegistered(it.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()},r.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e,"columnMenu")},r.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnModel.getGridColumn(t);n||(n=this.columnModel.getPrimaryColumn(t)),n?this.menuFactory.showMenuAfterMouseEvent(n,e):console.error("AG Grid: column '"+t+"' not found")},r.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},r.prototype.setPopupParent=function(t){this.gos.set("popupParent",t)},r.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},r.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},r.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(Uo)},r.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(Uo)},r.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},r.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},r.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var o=this.navigationService.getCellByPosition(n);o&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),o.startRowOrCellEdit(t.key))}else console.warn("AG Grid: no column found for "+t.colKey)},r.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},r.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},r.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},r.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")},r.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},r.prototype.applyServerSideRowData=function(t){var e,n,i=null!==(e=t.startRow)&&void 0!==e?e:0,o=null!==(n=t.route)&&void 0!==n?n:[];i<0?console.warn("AG Grid: invalid value "+t.startRow+" for startRow, the value should be >= 0"):this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,i,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},r.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},r.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},r.prototype.applyTransaction=function(t){if(this.clientSideRowModel)return this.clientSideRowModel.updateRowData(t);this.logMissingRowModel("applyTransaction","clientSide")},r.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):this.logMissingRowModel("applyTransactionAsync","clientSide")},r.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")},r.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.gos.set("suppressModelUpdateAfterUpdateTransaction",t)},r.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},r.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},r.prototype.refreshServerSide=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")},r.prototype.refreshServerSideStore=function(t){return mo("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(t)},r.prototype.getServerSideStoreState=function(){return mo("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},r.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},r.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},r.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},r.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},r.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},r.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},r.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},r.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},r.prototype.setDataTypeDefinitions=function(t){this.gos.set("dataTypeDefinitions",t)},r.prototype.setPagination=function(t){this.gos.set("pagination",t)},r.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},r.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},r.prototype.paginationSetPageSize=function(t){this.gos.set("paginationPageSize",t)},r.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},r.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},r.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},r.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},r.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},r.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},r.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},r.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},Qt([sn("immutableService")],r.prototype,"immutableService",void 0),Qt([sn("csvCreator")],r.prototype,"csvCreator",void 0),Qt([sn("excelCreator")],r.prototype,"excelCreator",void 0),Qt([I("rowRenderer")],r.prototype,"rowRenderer",void 0),Qt([I("navigationService")],r.prototype,"navigationService",void 0),Qt([I("filterManager")],r.prototype,"filterManager",void 0),Qt([I("columnModel")],r.prototype,"columnModel",void 0),Qt([I("selectionService")],r.prototype,"selectionService",void 0),Qt([I("gridOptionsService")],r.prototype,"gos",void 0),Qt([I("valueService")],r.prototype,"valueService",void 0),Qt([I("alignedGridsService")],r.prototype,"alignedGridsService",void 0),Qt([I("eventService")],r.prototype,"eventService",void 0),Qt([I("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),Qt([I("context")],r.prototype,"context",void 0),Qt([I("rowModel")],r.prototype,"rowModel",void 0),Qt([I("sortController")],r.prototype,"sortController",void 0),Qt([I("paginationProxy")],r.prototype,"paginationProxy",void 0),Qt([I("focusService")],r.prototype,"focusService",void 0),Qt([I("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Qt([sn("rangeService")],r.prototype,"rangeService",void 0),Qt([sn("clipboardService")],r.prototype,"clipboardService",void 0),Qt([sn("aggFuncService")],r.prototype,"aggFuncService",void 0),Qt([I("menuFactory")],r.prototype,"menuFactory",void 0),Qt([sn("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),Qt([I("valueCache")],r.prototype,"valueCache",void 0),Qt([I("animationFrameService")],r.prototype,"animationFrameService",void 0),Qt([sn("statusBarService")],r.prototype,"statusBarService",void 0),Qt([sn("chartService")],r.prototype,"chartService",void 0),Qt([sn("undoRedoService")],r.prototype,"undoRedoService",void 0),Qt([sn("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),Qt([sn("ssrmTransactionManager")],r.prototype,"serverSideTransactionManager",void 0),Qt([I("ctrlsService")],r.prototype,"ctrlsService",void 0),Qt([ke],r.prototype,"init",null),Qt([hi],r.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Qt([tt("gridApi")],r)}(),AM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jf=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},b_=function(r){function t(){var n=null!==r&&r.apply(this,arguments)||this;return n.quickFilter=null,n.quickFilterParts=null,n}var e;return AM(t,r),e=t,t.prototype.postConstruct=function(){var n=this;this.addManagedListener(this.eventService,N.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,N.EVENT_NEW_COLUMNS_LOADED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_VISIBLE,function(){n.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||n.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(i){return n.setQuickFilter(i.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return n.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return n.setQuickFilterParserAndMatcher()})},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassQuickFilter=function(n){var i=this,o=this.gridOptionsService.is("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,n):this.quickFilterParts.every(function(s){return o?i.doesRowPassQuickFilterCache(n,s):i.doesRowPassQuickFilterNoCache(n,s)})},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(n){return n.quickFilterAggregateText=null})},t.prototype.setQuickFilterParts=function(){var i=this.quickFilter,o=this.parser;this.quickFilterParts=i?o?o(i):i.split(" "):null},t.prototype.parseQuickFilter=function(n){return _e(n)?this.gridOptionsService.isRowModelType("clientSide")?n.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(n){if(null==n||"string"==typeof n){var i=this.parseQuickFilter(n);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof n)},t.prototype.setQuickFilterParserAndMatcher=function(){var n=this.gridOptionsService.get("quickFilterParser"),i=this.gridOptionsService.get("quickFilterMatcher"),o=n!==this.parser||i!==this.matcher;this.parser=n,this.matcher=i,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED})},t.prototype.doesRowPassQuickFilterNoCache=function(n,i){var o=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(a){var c=o.getQuickFilterTextForColumn(a,n);return _e(c)&&c.indexOf(i)>=0})},t.prototype.doesRowPassQuickFilterCache=function(n,i){return this.checkGenerateQuickFilterAggregateText(n),n.quickFilterAggregateText.indexOf(i)>=0},t.prototype.doesRowPassQuickFilterMatcher=function(n,i){var o;return n?(this.checkGenerateQuickFilterAggregateText(i),o=i.quickFilterAggregateText):o=this.getQuickFilterAggregateText(i),(0,this.matcher)(this.quickFilterParts,o)},t.prototype.checkGenerateQuickFilterAggregateText=function(n){n.quickFilterAggregateText||(n.quickFilterAggregateText=this.getQuickFilterAggregateText(n))},t.prototype.getQuickFilterTextForColumn=function(n,i){var o=this.valueService.getValue(n,i,!0),s=n.getColDef();return s.getQuickFilterText&&(o=s.getQuickFilterText({value:o,node:i,data:i.data,column:n,colDef:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),_e(o)?o.toString().toUpperCase():null},t.prototype.getQuickFilterAggregateText=function(n){var i=this,o=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(function(a){var c=i.getQuickFilterTextForColumn(a,n);_e(c)&&o.push(c)}),o.join(e.QUICK_FILTER_SEPARATOR)},t.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",t.QUICK_FILTER_SEPARATOR="\n",jf([I("valueService")],t.prototype,"valueService",void 0),jf([I("columnModel")],t.prototype,"columnModel",void 0),jf([I("rowModel")],t.prototype,"rowModel",void 0),jf([ke],t.prototype,"postConstruct",null),e=jf([tt("quickFilterService")],t)}(Re),ob=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Uf=function(){return Uf=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Uf.apply(this,arguments)},As=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sb=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.allColumnListeners=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.processingFilterChange=!1,e.filterModelUpdateQueue=[],e}return ob(t,r),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,N.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_VALUE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,N.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_VISIBLE,function(){return e.updateAdvancedFilterColumns()}),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){return e.updateAggFiltering()}),this.addManagedPropertyListener("advancedFilterModel",function(n){return e.setAdvancedFilterModel(n.currentValue)}),this.addManagedListener(this.eventService,N.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(n){return e.onAdvancedFilterEnabledChanged(n.enabled)}),this.addManagedListener(this.eventService,N.EVENT_DATA_TYPES_INFERRED,function(){return e.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,b_.EVENT_QUICK_FILTER_CHANGED,function(){return e.onFilterChanged({source:"quickFilter"})})},t.prototype.isExternalFilterPresentCallback=function(){var e=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof e&&e({})},t.prototype.doesExternalFilterPass=function(e){var n=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof n&&n(e)},t.prototype.setFilterModel=function(e){var n=this;if(this.isAdvancedFilterEnabled())this.warnAdvancedFilters();else if(this.dataTypeService.isPendingInference())this.filterModelUpdateQueue.push(e);else{var i=[],o=this.getFilterModel();if(e){var s=tl(Object.keys(e));this.allColumnFilters.forEach(function(a,c){i.push(n.setModelOnFilterWrapper(a.filterPromise,e[c])),s.delete(c)}),s.forEach(function(a){var c=n.columnModel.getPrimaryColumn(a)||n.columnModel.getGridColumn(a);if(c)if(c.isFilterAllowed()){var h=n.getOrCreateFilterWrapper(c,"NO_UI");h?i.push(n.setModelOnFilterWrapper(h.filterPromise,e[a])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+a)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+a);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+a)})}else this.allColumnFilters.forEach(function(a){i.push(n.setModelOnFilterWrapper(a.filterPromise,null))});rr.all(i).then(function(){var a=n.getFilterModel(),c=[];n.allColumnFilters.forEach(function(h,p){gt.jsonEquals(o?o[p]:null,a?a[p]:null)||c.push(h.column)}),c.length>0&&n.onFilterChanged({columns:c,source:"api"})})}},t.prototype.setModelOnFilterWrapper=function(e,n){return new rr(function(i){e.then(function(o){"function"!=typeof o.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(o.setModel(n)||rr.resolve()).then(function(){return i()})})})},t.prototype.getFilterModel=function(){var e={};return this.allColumnFilters.forEach(function(n,i){var s=n.filterPromise.resolveNow(null,function(c){return c});if(null==s)return null;if("function"==typeof s.getModel){var a=s.getModel();_e(a)&&(e[i]=a)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),e},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},t.prototype.onAdvancedFilterEnabledChanged=function(e){var i,n=this;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return n.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):null!==(i=this.advancedFilterService)&&void 0!==i&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.isAdvancedFilterEnabled=function(){var e;return null===(e=this.advancedFilterService)||void 0===e?void 0:e.isEnabled()},t.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},t.prototype.doAggregateFiltersPass=function(e,n){return this.doColumnFiltersPass(e,n,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var n=function(s){return!!s&&(s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},i=!!this.gridOptionsService.getGroupAggFiltering();this.allColumnFilters.forEach(function(s){if(s.filterPromise.resolveNow(!1,n)){var a=s.filterPromise.resolveNow(null,function(c){return c});!function(s){if(!s.isPrimary())return!0;var c=!e.columnModel.isPivotActive();return!(!s.isValueActive()||!c)&&(!!e.columnModel.isPivotMode()||i)}(s.column)?e.activeColumnFilters.push(a):e.activeAggregateFilters.push(a)}})},t.prototype.updateFilterFlagInColumns=function(e,n){this.allColumnFilters.forEach(function(i){var o=i.filterPromise.resolveNow(!1,function(s){return s.isFilterActive()});i.column.setFilterActive(o,e,n)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},t.prototype.doColumnFiltersPass=function(e,n,i){for(var a=i?this.activeAggregateFilters:this.activeColumnFilters,c=i?e.aggData:e.data,h=0;h<a.length;h++){var p=a[h];if(null!=p&&p!==n){if("function"!=typeof p.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!p.doesFilterPass({node:e,data:c}))return!1}}return!0},t.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},t.prototype.refreshFiltersForAggregations=function(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var n=this,i=function(){return n.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()},t.prototype.onFilterChanged=function(e){void 0===e&&(e={});var n=e.source,i=e.filterInstance,o=e.additionalEventAttributes,s=e.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(c){c.filterPromise&&c.filterPromise.then(function(h){h&&h!==i&&h.onAnyFilterChanged&&h.onAnyFilterChanged()})});var a={source:n,type:N.EVENT_FILTER_CHANGED,columns:s||[]};o&&Er(a,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(a),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},t.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},t.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.doesRowPassOtherFilters=function(e,n){return this.doesRowPassFilter({rowNode:n,filterInstanceToSkip:e})},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach(function(n){n.filterPromise.then(function(i){i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var n=this;return function(i){return n.valueService.getValue(e,i.node,!0)}},t.prototype.getFilterComponent=function(e,n,i){var o;if(void 0===i&&(i=!0),i)return(null===(o=this.getOrCreateFilterWrapper(e,n))||void 0===o?void 0:o.filterPromise)||null;var s=this.cachedFilter(e);return s?s.filterPromise:null},t.prototype.isFilterActive=function(e){var n=this.cachedFilter(e);return!!n&&n.filterPromise.resolveNow(!1,function(i){return i.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(e,n){var i=this;if(!e.isFilterAllowed())return null;var o=this.cachedFilter(e);if(o)"NO_UI"!==n&&this.putIntoGui(o,n);else{o=this.createFilterWrapper(e,n);var s=e.getColId();this.allColumnFilters.set(s,o),this.allColumnListeners.set(s,this.addManagedListener(e,hn.EVENT_COL_DEF_CHANGED,function(){return i.checkDestroyFilter(s)}))}return o},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.getDefaultFilter=function(e){var n;if(vt.__isRegistered(it.SetFilterModule,this.context.getGridId()))n="agSetColumnFilter";else{var i=e.getColDef().cellDataType;n="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return n},t.prototype.getDefaultFloatingFilter=function(e){var n;if(vt.__isRegistered(it.SetFilterModule,this.context.getGridId()))n="agSetColumnFloatingFilter";else{var i=e.getColDef().cellDataType;n="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return n},t.prototype.createFilterInstance=function(e){var s,n=this,i=this.getDefaultFilter(e),o=e.getColDef(),a=Uf(Uf({},this.createFilterParams(e,o)),{filterModifiedCallback:function(){n.eventService.dispatchEvent({type:N.EVENT_FILTER_MODIFIED,column:e,filterInstance:s})},filterChangedCallback:function(h){var p,g=null!==(p=h?.source)&&void 0!==p?p:"api";n.callOnFilterChangedOutsideRenderCycle({filterInstance:s,additionalEventAttributes:h,columns:[e],source:g})},doesRowPassOtherFilter:function(h){return n.doesRowPassOtherFilters(s,h)}}),c=this.userComponentFactory.getFilterDetails(o,a,i);return c?{filterPromise:function(){var h=c.newAgStackInstance();return h&&h.then(function(p){return s=p}),h},compDetails:c}:{filterPromise:null,compDetails:null}},t.prototype.createFilterParams=function(e,n){return{column:e,colDef:s0(n),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},t.prototype.createFilterWrapper=function(e,n){var i,o={column:e,filterPromise:null,compiledElement:null,guiPromise:rr.resolve(null),compDetails:null},s=this.createFilterInstance(e),a=s.filterPromise,c=s.compDetails;return o.filterPromise=null!==(i=a?.())&&void 0!==i?i:null,o.compDetails=c,a&&this.putIntoGui(o,n),o},t.prototype.putIntoGui=function(e,n){var i=this,o=document.createElement("div");o.className="ag-filter",e.guiPromise=new rr(function(s){e.filterPromise.then(function(a){var c=a.getGui();_e(c)||console.warn("AG Grid: getGui method from filter returned "+c+", it should be a DOM element or an HTML template string."),"string"==typeof c&&(c=Pi(c)),o.appendChild(c),s(o),i.eventService.dispatchEvent({type:N.EVENT_FILTER_OPENED,column:e.column,source:n,eGui:o})})})},t.prototype.onColumnsChanged=function(){var e=this,n=[];this.allColumnFilters.forEach(function(i,o){!(i.column.isPrimary()?e.columnModel.getPrimaryColumn(o):e.columnModel.getGridColumn(o))&&(n.push(i.column),e.disposeFilterWrapper(i,"columnChanged"),e.disposeColumnListener(o))}),n.length>0?this.onFilterChanged({columns:n,source:"api"}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var e=this,n=this.columnModel.getGroupAutoColumns();n?.forEach(function(i){"agGroupColumnFilter"===i.getColDef().filter&&e.getOrCreateFilterWrapper(i,"NO_UI")})},t.prototype.isFilterAllowed=function(e){var n,i;if(this.isAdvancedFilterEnabled())return!1;if(!e.isFilterAllowed())return!1;var s=this.allColumnFilters.get(e.getColId());return null===(i=null===(n=s?.filterPromise)||void 0===n?void 0:n.resolveNow(!0,function(a){var c,h;return"function"!=typeof(null===(c=a)||void 0===c?void 0:c.isFilterAllowed)||(null===(h=a)||void 0===h?void 0:h.isFilterAllowed())}))||void 0===i||i},t.prototype.getFloatingFilterCompDetails=function(e,n){var i=this,o=e.getColDef(),s=this.createFilterParams(e,o),a=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,Cd,s),c=this.userComponentFactory.getDefaultFloatingFilterType(o,function(){return i.getDefaultFloatingFilter(e)});return null==c&&(c="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(o,{column:e,filterParams:a,currentParentModel:function(){return i.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:function(g){var m=i.getFilterComponent(e,"NO_UI");m?.then(function(_){g(Uo(_))})},showParentFilter:n,suppressFilterButton:!1},c)},t.prototype.getCurrentFloatingFilterParentModel=function(e){var n=this.getFilterComponent(e,"NO_UI",!1);return n?n.resolveNow(null,function(i){return i&&i.getModel()}):null},t.prototype.destroyFilter=function(e,n){void 0===n&&(n="api");var i=e.getColId(),o=this.allColumnFilters.get(i);this.disposeColumnListener(i),o&&(this.disposeFilterWrapper(o,n),this.onFilterChanged({columns:[e],source:"api"}))},t.prototype.disposeColumnListener=function(e){var n=this.allColumnListeners.get(e);n&&(this.allColumnListeners.delete(e),n())},t.prototype.disposeFilterWrapper=function(e,n){var i=this;e.filterPromise.then(function(o){(o.setModel(null)||rr.resolve()).then(function(){i.getContext().destroyBean(o),e.column.setFilterActive(!1,"filterDestroyed"),i.allColumnFilters.delete(e.column.getColId()),i.eventService.dispatchEvent({type:N.EVENT_FILTER_DESTROYED,source:n,column:e.column})})})},t.prototype.checkDestroyFilter=function(e){var n=this.allColumnFilters.get(e);if(n){var i=n.column,o=(i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null}).compDetails;this.areFilterCompsDifferent(n.compDetails,o)&&this.destroyFilter(i,"columnChanged")}},t.prototype.areFilterCompsDifferent=function(e,n){if(!n||!e)return!0;var i=e.componentClass,o=n.componentClass;return!(i===o||i?.render&&o?.render&&i.render===o.render)},t.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},t.prototype.setAdvancedFilterModel=function(e){this.isAdvancedFilterEnabled()&&(this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.showAdvancedFilterBuilder=function(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)},t.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},t.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var e=this.columnModel.getAllGridColumns();return!!e&&e.some(function(n){return n.getColDef().floatingFilter})},t.prototype.getFilterInstance=function(e,n){if(!this.isAdvancedFilterEnabled()){var i=this.getFilterInstanceImpl(e,function(s){if(n){var a=Uo(s);n(a)}});return Uo(i)}this.warnAdvancedFilters()},t.prototype.getFilterInstanceImpl=function(e,n){var i=this.columnModel.getPrimaryColumn(e);if(i){var o=this.getFilterComponent(i,"NO_UI"),s=o&&o.resolveNow(null,function(a){return a});return s?setTimeout(n,0,s):o&&o.then(function(a){n(a)}),s}},t.prototype.warnAdvancedFilters=function(){Lt(function(){console.warn("AG Grid: Column Filter API methods have been disabled as Advanced Filters are enabled.")},"advancedFiltersCompatibility")},t.prototype.setupAdvancedFilterHeaderComp=function(e){var n;null===(n=this.advancedFilterService)||void 0===n||n.getCtrl().setupHeaderComp(e)},t.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},t.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},t.prototype.processFilterModelUpdateQueue=function(){var e=this;this.filterModelUpdateQueue.forEach(function(n){return e.setFilterModel(n)}),this.filterModelUpdateQueue=[]},t.prototype.destroy=function(){var e=this;r.prototype.destroy.call(this),this.allColumnFilters.forEach(function(n){return e.disposeFilterWrapper(n,"gridDestroyed")}),this.allColumnListeners.clear()},As([I("valueService")],t.prototype,"valueService",void 0),As([I("columnModel")],t.prototype,"columnModel",void 0),As([I("rowModel")],t.prototype,"rowModel",void 0),As([I("userComponentFactory")],t.prototype,"userComponentFactory",void 0),As([I("rowRenderer")],t.prototype,"rowRenderer",void 0),As([I("dataTypeService")],t.prototype,"dataTypeService",void 0),As([I("quickFilterService")],t.prototype,"quickFilterService",void 0),As([sn("advancedFilterService")],t.prototype,"advancedFilterService",void 0),As([ke],t.prototype,"init",null),As([tt("filterManager")],t)}(Re),xM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),O_=function(r){function t(e,n){var i=r.call(this,e)||this;return i.ctrl=n,i}return xM(t,r),t.prototype.getCtrl=function(){return this.ctrl},t}(Nt),sk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Iv=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ak=function(r){function t(e){return r.call(this,t.TEMPLATE,e)||this}return sk(t,r),t.prototype.postConstruct=function(){var e=this,n=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(o,s){return e.addOrRemoveCssClass(o,s)},addOrRemoveBodyCssClass:function(o,s){return e.eFloatingFilterBody.classList.toggle(o,s)},setButtonWrapperDisplayed:function(o){return en(e.eButtonWrapper,o)},setCompDetails:function(o){return e.setCompDetails(o)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(o){return n.style.width=o},setMenuIcon:function(o){return e.eButtonShowMainFilter.appendChild(o)}},n,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var n=this;if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(i){return n.afterCompCreated(i)})},t.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},t.prototype.afterCompCreated=function(e){if(e){if(!this.isAlive())return void this.destroyBean(e);this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Iv([He("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),Iv([He("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),Iv([He("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),Iv([ke],t.prototype,"postConstruct",null),Iv([hi],t.prototype,"destroyFloatingFilterComp",null),t}(O_),lk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kn=function(r){return r.AUTO_HEIGHT="ag-layout-auto-height",r.NORMAL="ag-layout-normal",r.PRINT="ag-layout-print",r}(Kn||{}),R_=function(r){function t(e){var n=r.call(this)||this;return n.view=e,n}return lk(t,r),t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),n={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e};this.view.updateLayoutClasses(n.autoHeight?Kn.AUTO_HEIGHT:n.print?Kn.PRINT:Kn.NORMAL,n)},t.prototype.getDomLayout=function(){var e,n=null!==(e=this.gridOptionsService.get("domLayout"))&&void 0!==e?e:"normal";return-1===["normal","print","autoHeight"].indexOf(n)?(Lt(function(){return console.warn("AG Grid: "+n+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")},"warn about dom layout values"),"normal"):n},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([ke],t.prototype,"postConstruct",null),t}(Re),MM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wf=function(){return Wf=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Wf.apply(this,arguments)},wo=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},or=function(r){return r[r.Vertical=0]="Vertical",r[r.Horizontal=1]="Horizontal",r}(or||{}),Mr=function(r){return r[r.Container=0]="Container",r[r.FakeContainer=1]="FakeContainer",r}(Mr||{}),PM=function(r){function t(e){var n=r.call(this)||this;return n.lastScrollSource=[null,null],n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.eBodyViewport=e,n.resetLastHScrollDebounced=Dr(function(){return n.lastScrollSource[or.Horizontal]=null},500),n.resetLastVScrollDebounced=Dr(function(){return n.lastScrollSource[or.Vertical]=null},500),n}return MM(t,r),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(n){e.centerRowContainerCtrl=n.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),n=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));var i=this.gridOptionsService.is("debounceVerticalScrollbar"),o=i?Dr(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=i?Dr(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),n.onScrollCallback(s)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){if(null!=this.centerRowContainerCtrl){void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var i=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),a=this.ctrlsService.getBottomCenterRowContainerCtrl(),c=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-i),a.setContainerTranslateX(i),o.setContainerTranslateX(i),s.setContainerTranslateX(i);var p=this.centerRowContainerCtrl.getViewportElement(),g=this.lastScrollSource[or.Horizontal]===Mr.Container;e=Math.abs(e),g?c.setScrollPosition(e):id(p,e,this.enableRtl)}},t.prototype.isControllingScroll=function(e,n){return null==this.lastScrollSource[n]?(this.lastScrollSource[n]=e,!0):this.lastScrollSource[n]===e},t.prototype.onFakeHScroll=function(){this.isControllingScroll(Mr.FakeContainer,or.Horizontal)&&this.onHScrollCommon(Mr.FakeContainer)},t.prototype.onHScroll=function(){this.isControllingScroll(Mr.Container,or.Horizontal)&&this.onHScrollCommon(Mr.Container)},t.prototype.onHScrollCommon=function(e){var o,n=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate(or.Horizontal,n.scrollLeft,!0)||(o=e===Mr.Container?Ef(n,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced())},t.prototype.onFakeVScroll=function(){this.isControllingScroll(Mr.FakeContainer,or.Vertical)&&this.onVScrollCommon(Mr.FakeContainer)},t.prototype.onVScroll=function(){this.isControllingScroll(Mr.Container,or.Vertical)&&this.onVScrollCommon(Mr.Container)},t.prototype.onVScrollCommon=function(e){var n;n=e===Mr.Container?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(or.Vertical,n,!0)&&(this.animationFrameService.setScrollTop(n),this.nextScrollTop=n,e===Mr.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(n):this.eBodyViewport.scrollTop=n,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},t.prototype.doHorizontalScroll=function(e){var n=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===n||(this.scrollLeft=e,this.fireScrollEvent(or.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},t.prototype.fireScrollEvent=function(e){var n=this,i={type:N.EVENT_BODY_SCROLL,direction:e===or.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=Wf(Wf({},i),{type:N.EVENT_BODY_SCROLL_END});n.eventService.dispatchEvent(o)},100)},t.prototype.shouldBlockScrollUpdate=function(e,n,i){return void 0===i&&(i=!1),!(i&&!Js())&&(e===or.Vertical?this.shouldBlockVerticalScroll(n):this.shouldBlockHorizontalScroll(n))},t.prototype.shouldBlockVerticalScroll=function(e){var n=td(this.eBodyViewport);return e<0||e+n>this.eBodyViewport.scrollHeight},t.prototype.shouldBlockHorizontalScroll=function(e){var n=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&ta()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+n>i},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(or.Vertical)},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(Mr.Container)},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e,n){void 0===n&&(n=!1);var o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!n&&this.shouldBlockScrollUpdate(or.Horizontal,e)&&(e=this.enableRtl&&ta()?e>0?0:o:Math.min(Math.max(e,0),o)),id(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var n=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(n+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-n},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,n){void 0===n&&(n=null);for(var i=this.rowModel.getRowCount(),o=-1,s=0;s<i;s++){var a=this.rowModel.getRow(s);if("function"==typeof e){if(a&&e(a)){o=s;break}}else if(e===a||e===a.data){o=s;break}}o>=0&&this.ensureIndexVisible(o,n)},t.prototype.ensureIndexVisible=function(e,n){if(!this.gridOptionsService.isDomLayout("print")){var i=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=i)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(e);var p,c=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),h=this.paginationProxy.getRow(e);do{var g=h.rowTop,m=h.rowHeight,_=this.paginationProxy.getPixelOffset(),w=h.rowTop-_,E=w+h.rowHeight,b=this.getVScrollPosition(),R=this.heightScaler.getDivStretchOffset(),T=b.top+R,A=b.bottom+R,x=A-T,P=this.heightScaler.getScrollPositionForPixel(w),k=this.heightScaler.getScrollPositionForPixel(E-x),V=Math.min((P+k)/2,w),W=null;"top"===n?W=P:"bottom"===n?W=k:"middle"===n?W=V:T+c>w?W=P-c:A<E&&(W=k),null!==W&&(this.setVerticalScrollPosition(W),this.rowRenderer.redraw({afterScroll:!0})),p=g!==h.rowTop||m!==h.rowHeight}while(p);this.animationFrameService.flushAllFrames()}},t.prototype.ensureColumnVisible=function(e,n){void 0===n&&(n="auto");var i=this.columnModel.getGridColumn(e);if(i&&!i.isPinned()&&this.columnModel.isColumnDisplayed(i)){var o=this.getPositionedHorizontalScroll(i,n);null!==o&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.getPositionedHorizontalScroll=function(e,n){var i=this.isColumnOutsideViewport(e),o=i.columnBeforeStart,s=i.columnAfterEnd,a=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),c=this.centerRowContainerCtrl.getCenterWidth(),h=this.enableRtl,p=(h?o:s)||a,g=h?s:o;"auto"!==n&&(p="start"===n,g="end"===n);var m="middle"===n;if(p||g||m){var _=this.getColumnBounds(e),w=_.colLeft,b=_.colRight;return m?_.colMiddle-c/2:p?h?b:w:h?w-c:b-c}return null},t.prototype.isColumnOutsideViewport=function(e){var n=this.getViewportBounds(),i=n.start,o=n.end,s=this.getColumnBounds(e),a=s.colLeft,c=s.colRight,h=this.enableRtl;return{columnBeforeStart:h?i>c:o<c,columnAfterEnd:h?o<a:i>a}},t.prototype.getColumnBounds=function(e){var n=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),s=e.getLeft(),a=n?-1:1,c=n?i-s:s;return{colLeft:c,colMiddle:c+o/2*a,colRight:c+o*a}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:n,end:e+n,width:e}},wo([I("ctrlsService")],t.prototype,"ctrlsService",void 0),wo([I("animationFrameService")],t.prototype,"animationFrameService",void 0),wo([I("paginationProxy")],t.prototype,"paginationProxy",void 0),wo([I("rowModel")],t.prototype,"rowModel",void 0),wo([I("rowContainerHeightService")],t.prototype,"heightScaler",void 0),wo([I("rowRenderer")],t.prototype,"rowRenderer",void 0),wo([I("columnModel")],t.prototype,"columnModel",void 0),wo([ke],t.prototype,"postConstruct",null),t}(Re),IM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lb=function(){return lb=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},lb.apply(this,arguments)},So=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},LM=function(r){function t(e){var n=r.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=e,n}return IM(t,r),t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var n=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,N.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_MODEL_UPDATED,function(){n()}),n(),this.ctrlsService.whenReady(function(){var i=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new rb({scrollContainer:i.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return i.getScrollFeature().setVerticalScrollPosition(o)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Yr(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===Ar.RowDrag},t.prototype.getIconName=function(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?ri.ICON_NOT_ALLOWED:ri.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var n=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var i=this.gridOptionsService.is("rowDragMultiRow"),o=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(this.selectionService.getSelectedNodes())).sort(function(a,c){return null==a.rowIndex||null==c.rowIndex?0:n.getRowIndexNumber(a)-n.getRowIndexNumber(c)}),s=e.dragItem.rowNode;return i&&-1!==o.indexOf(s)?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[s])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(N.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(n){n.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(e.dropZoneTarget)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(N.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var n=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(e,n),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,n){var i=this.isFromThisGrid(e),o=this.gridOptionsService.is("rowDragManaged"),s=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(s[0],n):this.moveRows(s,n))},t.prototype.getRowIndexNumber=function(e){return parseInt(fn(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var n=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),o=i&&i.highlighted===sa.Below,s=this.mouseEventService.getNormalisedPosition(e).y,a=e.dragItem.rowNodes,c=o?1:0;if(this.isFromThisGrid(e))a.forEach(function(g){g.rowTop<s&&(c-=1)}),this.moveRows(a,s,c);else{var h=this.gridOptionsService.getCallback("getRowId"),p=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===sa.Above&&p--,this.clientSideRowModel.updateRowData({add:a.map(function(g){return g.data}).filter(function(g){return!n.clientSideRowModel.getRowNode(h?h({data:g,level:0}):g.id)}),addIndex:p})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,n,i){void 0===i&&(i=0),this.clientSideRowModel.ensureRowsAtPixel(e,n,i)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var n=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var i={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,i=e):(e.onDragEnter&&(i.onDragEnter=function(o){e.onDragEnter(n.draggingToRowDragEvent(N.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(i.onDragLeave=function(o){e.onDragLeave(n.draggingToRowDragEvent(N.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(i.onDragging=function(o){e.onDragging(n.draggingToRowDragEvent(N.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(i.onDragStop=function(o){e.onDragStop(n.draggingToRowDragEvent(N.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(lb({isInterestedIn:function(o){return o===Ar.RowDrag},getIconName:function(){return ri.ICON_MOVE},external:!0},i))}else Lt(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},t.prototype.getRowDropZone=function(e){var n=this,i=this.getContainer.bind(this),o=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),a=this.onDragging.bind(this),c=this.onDragStop.bind(this);return e?{getContainer:i,onDragEnter:e.onDragEnter?function(h){o(h),e.onDragEnter(n.draggingToRowDragEvent(N.EVENT_ROW_DRAG_ENTER,h))}:o,onDragLeave:e.onDragLeave?function(h){s(h),e.onDragLeave(n.draggingToRowDragEvent(N.EVENT_ROW_DRAG_LEAVE,h))}:s,onDragging:e.onDragging?function(h){a(h),e.onDragging(n.draggingToRowDragEvent(N.EVENT_ROW_DRAG_MOVE,h))}:a,onDragStop:e.onDragStop?function(h){c(h),e.onDragStop(n.draggingToRowDragEvent(N.EVENT_ROW_DRAG_END,h))}:c,fromGrid:!0}:{getContainer:i,onDragEnter:o,onDragLeave:s,onDragging:a,onDragStop:c,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,n){var a,c,i=this.mouseEventService.getNormalisedPosition(n).y,s=-1;switch(i>this.paginationProxy.getCurrentPageHeight()||(s=this.rowModel.getRowIndexAtPixel(i),a=this.rowModel.getRow(s)),n.vDirection){case vd.Down:c="down";break;case vd.Up:c="up";break;default:c=null}return{type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:s,overNode:a,y:i,vDirection:c}},t.prototype.dispatchGridEvent=function(e,n){var i=this.draggingToRowDragEvent(e,n);this.eventService.dispatchEvent(i)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(N.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(N.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(n){n.setDragging(!1)})},So([I("dragAndDropService")],t.prototype,"dragAndDropService",void 0),So([I("rowModel")],t.prototype,"rowModel",void 0),So([I("paginationProxy")],t.prototype,"paginationProxy",void 0),So([I("columnModel")],t.prototype,"columnModel",void 0),So([I("focusService")],t.prototype,"focusService",void 0),So([I("sortController")],t.prototype,"sortController",void 0),So([I("filterManager")],t.prototype,"filterManager",void 0),So([I("selectionService")],t.prototype,"selectionService",void 0),So([I("mouseEventService")],t.prototype,"mouseEventService",void 0),So([I("ctrlsService")],t.prototype,"ctrlsService",void 0),So([sn("rangeService")],t.prototype,"rangeService",void 0),So([ke],t.prototype,"postConstruct",null),t}(Re),zf=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pr=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_d=function(r){return r.ANIMATION_ON="ag-row-animation",r.ANIMATION_OFF="ag-row-no-animation",r}(_d||{}),cb="ag-force-vertical-scroll",hb=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return zf(t,r),t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,n,i,o,s,a){this.comp=e,this.eGridBody=n,this.eBodyViewport=i,this.eTop=o,this.eBottom=s,this.eStickyTop=a,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new R_(this.comp)),this.bodyScrollFeature=this.createManagedBean(new PM(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,s,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,N.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var n=this;e.forEach(function(i){n.addManagedListener(i,"focusin",function(o){var a=vu(o.target,"ag-root",i);i.classList.toggle("ag-has-focus",!a)}),n.addManagedListener(i,"focusout",function(o){var s=o.target,a=o.relatedTarget,c=i.contains(a),h=vu(a,"ag-root",i);vu(s,"ag-root",i)||(!c||h)&&i.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss("ag-column-moving",e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),this.comp.setCellSelectableCss("ag-selectable",e)},t.prototype.onScrollVisibilityChanged=function(){var e=this,n=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(n),this.setStickyTopWidth(n);var s="calc(100% + "+((n&&this.gridOptionsService.getScrollbarWidth()||0)+(_f()?16:0))+"px)";this.animationFrameService.requestAnimationFrame(function(){return e.comp.setBodyViewportWidth(s)})},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var n=function(o){var s=o.relatedTarget;if(null!==nv(s)){var a=i.some(function(h){return h.contains(s)})&&e.mouseEventService.isElementInThisGrid(s);if(!a){var c=e.popupService;a=c.getActivePopups().some(function(h){return h.contains(s)})||c.isElementWithinCustomPopup(s)}a||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach(function(o){return e.addManagedListener(o,"focusout",n)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),n=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===n?-1:e+n)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.is("alwaysShowVerticalScroll"),n=e?cb:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(n,e),e||i&&bf(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,n=function(){var i=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching();e.comp.setRowAnimationCssOnBodyViewport(i?_d.ANIMATION_ON:_d.ANIMATION_OFF,i)};n(),this.addManagedListener(this.eventService,N.EVENT_HEIGHT_SCALE_CHANGED,n),this.addManagedPropertyListener("animateRows",n)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},t.prototype.addFullWidthContainerWheelListener=function(){var e=this,n=this.eBodyViewport.querySelector(".ag-full-width-container"),i=this.eBodyViewport.querySelector(".ag-center-cols-viewport");n&&i&&this.addManagedListener(n,"wheel",function(o){return e.onFullWidthContainerWheel(o,i)})},t.prototype.onFullWidthContainerWheel=function(e,n){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),n.scrollBy({left:e.deltaX}))},t.prototype.onBodyViewportContextMenu=function(e,n,i){if(e||i){this.gridOptionsService.is("preventDefaultOnContextMenu")&&(e||i).preventDefault();var s=(e||n).target;if(s===this.eBodyViewport||s===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;e?this.contextMenuFactory.onContextMenu(e,null,null,null,null,this.eGridBody):i&&this.contextMenuFactory.onContextMenu(null,i,null,null,null,this.eGridBody)}}},t.prototype.mockContextMenuForIPad=function(e){if(Js()){var n=new Jr(this.eBodyViewport);this.addManagedListener(n,Jr.EVENT_LONG_TAP,function(o){e(void 0,o.touchStart,o.touchEvent)}),this.addDestroyFunc(function(){return n.destroy()})}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var n=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(n+e),this.eBodyViewport.scrollTop-n},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new LM(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,n=e.getPinnedTopTotalHeight();n&&(n+=1);var i=e.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(n),this.comp.setBottomHeight(i),this.comp.setTopDisplay(n?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){void 0===e&&(e=0),this.comp.setStickyTopHeight(e+"px"),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(e){var n=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+n+"px)")}else this.comp.setStickyTopWidth("100%")},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var n=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;n>0&&(o+=n+1),i>0&&(o+=i+1),this.comp.setStickyTopTop(o+"px")},t.prototype.sizeColumnsToFit=function(e,n){var i=this,s=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,c=cv(this.eGridBody)-s;c>0?this.columnModel.sizeColumnsToFit(c,"sizeColumnsToFit",!1,e):void 0===n?window.setTimeout(function(){i.sizeColumnsToFit(e,100)},0):100===n?window.setTimeout(function(){i.sizeColumnsToFit(e,500)},100):500===n?window.setTimeout(function(){i.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},Pr([I("animationFrameService")],t.prototype,"animationFrameService",void 0),Pr([I("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Pr([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Pr([I("columnModel")],t.prototype,"columnModel",void 0),Pr([I("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Pr([sn("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Pr([I("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Pr([I("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Pr([I("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Pr([I("rowRenderer")],t.prototype,"rowRenderer",void 0),Pr([I("popupService")],t.prototype,"popupService",void 0),Pr([I("mouseEventService")],t.prototype,"mouseEventService",void 0),Pr([I("rowModel")],t.prototype,"rowModel",void 0),Pr([I("filterManager")],t.prototype,"filterManager",void 0),t}(Re),T_=function(r){return r[r.FILL=0]="FILL",r[r.RANGE=1]="RANGE",r}(T_||{}),Tu=function(r){return r[r.VALUE=0]="VALUE",r[r.DIMENSION=1]="DIMENSION",r}(Tu||{}),$f="ag-cell-range-selected",BM=function(){function r(t,e){this.beans=t,this.cellCtrl=e}return r.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},r.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass($f,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass($f+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass($f+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass($f+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass($f+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Za(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},r.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),i=!e&&t.right,o=!e&&t.bottom,s=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",s)},r.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},r.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(n){return Xr([Tu.DIMENSION,Tu.VALUE],n.type)})},r.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},r.prototype.getRangeBorders=function(){var g,m,t=this,e=this.beans.gridOptionsService.is("enableRtl"),n=!1,i=!1,o=!1,s=!1,a=this.cellCtrl.getCellPosition().column,c=this.beans,h=c.rangeService,p=c.columnModel;e?(g=p.getDisplayedColAfter(a),m=p.getDisplayedColBefore(a)):(g=p.getDisplayedColBefore(a),m=p.getDisplayedColAfter(a));var _=h.getCellRanges().filter(function(T){return h.isCellInSpecificRange(t.cellCtrl.getCellPosition(),T)});g||(s=!0),m||(i=!0);for(var w=0;w<_.length&&!(n&&i&&o&&s);w++){var E=_[w],b=h.getRangeStartRow(E),R=h.getRangeEndRow(E);!n&&this.beans.rowPositionUtils.sameRow(b,this.cellCtrl.getCellPosition())&&(n=!0),!o&&this.beans.rowPositionUtils.sameRow(R,this.cellCtrl.getCellPosition())&&(o=!0),!s&&g&&E.columns.indexOf(g)<0&&(s=!0),!i&&m&&E.columns.indexOf(m)<0&&(i=!0)}return{top:n,right:i,bottom:o,left:s}},r.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},r.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=t.rangeService,i=n.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;var s=fn(i),a=this.cellCtrl.getCellPosition(),c=e.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),h=e.is("enableRangeHandle"),p=1===o&&!this.cellCtrl.isEditing()&&(c||h);if(this.hasChartRange){var m=i[0].type===Tu.DIMENSION&&n.isCellInSpecificRange(a,i[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",m),p=s.type===Tu.VALUE}return p&&null!=s.endRow&&n.isContiguousRange(s)&&n.isBottomRightCell(s,a)},r.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,i=fn(t.rangeService.getCellRanges()).type,s=e.is("enableFillHandle")&&ht(i)?T_.FILL:T_.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)},r.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},r}(),jM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),UM=function(r){function t(e,n){var i=r.call(this)||this;return i.cellCtrl=e,i.beans=n,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return jM(t,r),t.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();Ba(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,N.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width=e+"px"}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,n){return e+n.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),n=[];if(1===e)n.push(this.column);else for(var i=this.column,o=this.column.getPinned(),s=0;i&&s<e&&(n.push(i),(i=this.beans.columnModel.getDisplayedColAfter(i))&&!ht(i)&&o===i.getPinned());s++);return n},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){return(this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?fn(this.colsSpanning):this.column).getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?n+this.beans.columnModel.getBodyContainerWidth()+(e||0):n+(e||0)},t.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var e=this.beans.gridOptionsService.getRowHeightAsNumber();this.eGui.style.height=e*this.rowSpan+"px",this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(Re),WM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zM=function(r){function t(e,n){var i=r.call(this)||this;return i.staticClasses=[],i.cellCtrl=e,i.beans=n,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i}return WM(t,r),t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,n=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:n,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(n.cellClassRules,i,function(o){return e.cellComp.addOrRemoveCssClass(o,!0)},function(o){return e.cellComp.addOrRemoveCssClass(o,!1)})},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var n;if("function"==typeof e.cellStyle){var i={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};n=(0,e.cellStyle)(i)}else n=e.cellStyle;n&&this.cellComp.setUserStyles(n)}},t.prototype.applyClassesFromColDef=function(){var e=this,n=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:n,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(n,i),this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!0)})},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(Re),$M=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),x_=function(r){function t(e,n){var i=r.call(this)||this;return i.ctrl=e,i.beans=n,i}return $M(t,r),t.prototype.setComp=function(e){this.eGui=e,this.setupTooltip()},t.prototype.setBrowserTooltip=function(e){var n="title";null!=e&&""!=e?this.eGui.setAttribute(n,e):this.eGui.removeAttribute(n)},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var n,i,o,s,e=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new JC({getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}},null===(i=(n=this.ctrl).getTooltipShowDelayOverride)||void 0===i?void 0:i.call(n),null===(s=(o=this.ctrl).getTooltipHideDelayOverride)||void 0===s?void 0:s.call(o)),this.beans.context))},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},t.prototype.getTooltipParams=function(){var e=this,n=this.ctrl,i=n.getColumn?n.getColumn():void 0,o=n.getColDef?n.getColDef():void 0,s=n.getRowNode?n.getRowNode():void 0;return{location:n.getLocation(),colDef:o,column:i,rowIndex:n.getRowIndex?n.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:n.getValueFormatted?n.getValueFormatted():void 0,hideTooltipCallback:function(){return e.genericTooltipFeature.hideTooltip(!0)}}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(Re),It=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},M_=function(){function r(){}return r.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.is("masterDetail"),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},It([I("resizeObserverService")],r.prototype,"resizeObserverService",void 0),It([I("paginationProxy")],r.prototype,"paginationProxy",void 0),It([I("context")],r.prototype,"context",void 0),It([I("columnApi")],r.prototype,"columnApi",void 0),It([I("gridApi")],r.prototype,"gridApi",void 0),It([I("gridOptionsService")],r.prototype,"gridOptionsService",void 0),It([I("expressionService")],r.prototype,"expressionService",void 0),It([I("environment")],r.prototype,"environment",void 0),It([I("rowRenderer")],r.prototype,"rowRenderer",void 0),It([I("templateService")],r.prototype,"templateService",void 0),It([I("valueService")],r.prototype,"valueService",void 0),It([I("eventService")],r.prototype,"eventService",void 0),It([I("columnModel")],r.prototype,"columnModel",void 0),It([I("headerNavigationService")],r.prototype,"headerNavigationService",void 0),It([I("navigationService")],r.prototype,"navigationService",void 0),It([I("columnAnimationService")],r.prototype,"columnAnimationService",void 0),It([sn("rangeService")],r.prototype,"rangeService",void 0),It([I("focusService")],r.prototype,"focusService",void 0),It([sn("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),It([I("popupService")],r.prototype,"popupService",void 0),It([I("valueFormatterService")],r.prototype,"valueFormatterService",void 0),It([I("stylingService")],r.prototype,"stylingService",void 0),It([I("columnHoverService")],r.prototype,"columnHoverService",void 0),It([I("userComponentFactory")],r.prototype,"userComponentFactory",void 0),It([I("userComponentRegistry")],r.prototype,"userComponentRegistry",void 0),It([I("animationFrameService")],r.prototype,"animationFrameService",void 0),It([I("dragService")],r.prototype,"dragService",void 0),It([I("dragAndDropService")],r.prototype,"dragAndDropService",void 0),It([I("sortController")],r.prototype,"sortController",void 0),It([I("filterManager")],r.prototype,"filterManager",void 0),It([I("rowContainerHeightService")],r.prototype,"rowContainerHeightService",void 0),It([I("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),It([I("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),It([I("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),It([I("selectionService")],r.prototype,"selectionService",void 0),It([sn("selectionHandleFactory")],r.prototype,"selectionHandleFactory",void 0),It([I("rowCssClassCalculator")],r.prototype,"rowCssClassCalculator",void 0),It([I("rowModel")],r.prototype,"rowModel",void 0),It([I("ctrlsService")],r.prototype,"ctrlsService",void 0),It([I("ctrlsFactory")],r.prototype,"ctrlsFactory",void 0),It([I("agStackComponentsRegistry")],r.prototype,"agStackComponentsRegistry",void 0),It([I("valueCache")],r.prototype,"valueCache",void 0),It([I("rowNodeEventThrottle")],r.prototype,"rowNodeEventThrottle",void 0),It([I("localeService")],r.prototype,"localeService",void 0),It([I("valueParserService")],r.prototype,"valueParserService",void 0),It([ke],r.prototype,"postConstruct",null),It([tt("beans")],r)}(),vb=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),KM=function(r){function t(e,n,i){var o=r.call(this)||this;return o.cellCtrl=e,o.beans=n,o.column=i,o}return vb(t,r),t.prototype.onMouseEvent=function(e,n){if(!No(n))switch(e){case"click":this.onCellClicked(n);break;case"mousedown":case"touchstart":this.onMouseDown(n);break;case"dblclick":this.onCellDoubleClicked(n);break;case"mouseout":this.onMouseOut(n);break;case"mouseover":this.onMouseOver(n)}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var n=this.beans,i=n.eventService,o=n.rangeService,s=n.gridOptionsService;o&&(e.ctrlKey||e.metaKey)&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var c=this.cellCtrl.createEvent(e,N.EVENT_CELL_CLICKED);i.dispatchEvent(c);var h=this.column.getColDef();h.onCellClicked&&window.setTimeout(function(){return h.onCellClicked(c)},0),(s.is("singleClickEdit")||h.singleClickEdit)&&!s.is("suppressClickEdit")&&(!e.shiftKey||0==o?.getCellRanges().length)&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!Js()||Ua("dblclick"))return!1;var e=(new Date).getTime(),n=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,n},t.prototype.onCellDoubleClicked=function(e){var n=this.column.getColDef(),i=this.cellCtrl.createEvent(e,N.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),"function"==typeof n.onCellDoubleClicked&&window.setTimeout(function(){return n.onCellDoubleClicked(i)},0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)},t.prototype.onMouseDown=function(e){var n=e.ctrlKey,i=e.metaKey,o=e.shiftKey,s=e.target,c=this.cellCtrl,h=this.beans,p=h.eventService,g=h.rangeService,m=h.focusService;if(!this.isRightClickInExistingRange(e)){var _=g&&0!=g.getCellRanges().length;if(!o||!_){var w=Or()&&!c.isEditing()&&!gu(s);c.focusCell(w)}if(o&&_&&!m.isCellFocused(c.getCellPosition())){e.preventDefault();var E=m.getFocusedCell();if(E){var b=E.column,R=E.rowIndex,T=E.rowPinned,A=h.rowRenderer.getRowByPosition({rowIndex:R,rowPinned:T}),x=A?.getCellCtrl(b);x?.isEditing()&&x.stopEditing(),m.setFocusedCell({column:b,rowIndex:R,rowPinned:T,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(g){var P=this.cellCtrl.getCellPosition();o?g.extendLatestRangeToCell(P):g.setRangeToCell(P,n||i)}p.dispatchEvent(this.cellCtrl.createEvent(e,N.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var n=this.beans.rangeService;if(n){var i=n.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=2===e.button||e.ctrlKey&&this.beans.gridOptionsService.is("allowContextMenuWithControlKey");if(i&&o)return!0}return!1},t.prototype.containsWidget=function(e){return vu(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var n=this.cellCtrl.createEvent(e,N.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var n=this.cellCtrl.createEvent(e,N.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var n=this.cellCtrl.getGui(),i=n.contains(e.target),o=n.contains(e.relatedTarget);return i&&o},t.prototype.destroy=function(){},t}(M_),YM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mb=function(r){function t(e,n,i,o,s){var a=r.call(this)||this;return a.cellCtrl=e,a.beans=n,a.rowNode=o,a.rowCtrl=s,a}return YM(t,r),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var n=e.key;switch(n){case ce.ENTER:this.onEnterKeyDown(e);break;case ce.F2:this.onF2KeyDown(e);break;case ce.ESCAPE:this.onEscapeKeyDown(e);break;case ce.TAB:this.onTabKeyDown(e);break;case ce.BACKSPACE:case ce.DELETE:this.onBackspaceOrDeleteKeyDown(n,e);break;case ce.DOWN:case ce.UP:case ce.RIGHT:case ce.LEFT:this.onNavigationKeyDown(e,n)}},t.prototype.onNavigationKeyDown=function(e,n){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,n,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var n=this.beans.rangeService.extendLatestRangeInDirection(e);n&&this.beans.navigationService.ensureCellVisible(n)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyDown=function(e,n){var i=this,o=i.cellCtrl,s=i.beans,a=i.rowNode,c=s.gridOptionsService,h=s.rangeService,p=s.eventService;o.isEditing()||(p.dispatchEvent({type:N.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),wu(e,c.is("enableCellEditingOnBackspace"))?h&&c.is("enableRangeSelection")?h.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&a.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(e,n),p.dispatchEvent({type:N.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey):this.beans.gridOptionsService.is("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,e.shiftKey?ce.UP:ce.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(ce.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ce.F2,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.processCharacter=function(e){if(e.target===this.eGui&&!this.cellCtrl.isEditing()){var o=e.key;" "===o?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(o,e),e.preventDefault())}},t.prototype.onSpaceKeyDown=function(e){var n=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&n.isRowSelection()){var i=this.rowNode.isSelected(),o=!i;if(o||!n.is("suppressRowDeselection")){var s=this.beans.gridOptionsService.is("groupSelectsFiltered"),a=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"});void 0===i&&0===a&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"})}}e.preventDefault()},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(Re),qM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ZM=function(r){function t(e,n,i){var o=r.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=e,o.column=n,o.eCell=i,o}return qM(t,r),t.prototype.postConstruct=function(){this.getGui().appendChild(Vn("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(n){n.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var n=this,i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),i?i({rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):function(){try{var a=JSON.stringify(n.rowNode.data);e.dataTransfer.setData("application/json",a),e.dataTransfer.setData("text/plain",a)}catch{}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([ke],t.prototype,"postConstruct",null),t}(Nt),QM=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wd=function(){return wd=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},wd.apply(this,arguments)},_b=0,xu=function(r){function t(e,n,i,o){var s=r.call(this)||this;s.cellRangeFeature=null,s.cellPositionFeature=null,s.cellCustomStyleFeature=null,s.tooltipFeature=null,s.cellMouseListenerFeature=null,s.cellKeyboardListenerFeature=null,s.suppressRefreshCell=!1,s.onCellCompAttachedFuncs=[],s.column=e,s.rowNode=n,s.beans=i,s.rowCtrl=o,s.instanceId=e.getId()+"-"+_b++;var a=s.column.getColDef();return s.colIdSanitised=ai(s.column.getId()),s.beans.gridOptionsService.is("suppressCellFocus")||(s.tabIndex=-1),s.isCellRenderer=null!=a.cellRenderer||null!=a.cellRendererSelector,s.createCellPosition(),s.addFeatures(),s.updateAndFormatValue(!0),s}return QM(t,r),t.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new UM(this,this.beans),this.addDestroyFunc(function(){var i;null===(i=e.cellPositionFeature)||void 0===i||i.destroy(),e.cellPositionFeature=null}),this.cellCustomStyleFeature=new zM(this,this.beans),this.addDestroyFunc(function(){var i;null===(i=e.cellCustomStyleFeature)||void 0===i||i.destroy(),e.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new KM(this,this.beans,this.column),this.addDestroyFunc(function(){var i;null===(i=e.cellMouseListenerFeature)||void 0===i||i.destroy(),e.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new mb(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var i;null===(i=e.cellKeyboardListenerFeature)||void 0===i||i.destroy(),e.cellKeyboardListenerFeature=null}),this.beans.rangeService&&this.beans.gridOptionsService.is("enableRangeSelection")&&(this.cellRangeFeature=new BM(this.beans,this),this.addDestroyFunc(function(){var i;null===(i=e.cellRangeFeature)||void 0===i||i.destroy(),e.cellRangeFeature=null})),this.column.isTooltipEnabled()&&this.addTooltipFeature()},t.prototype.addTooltipFeature=function(){var e=this;this.tooltipFeature=new x_({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var o=e.column.getColDef(),s=e.rowNode.data;if(o.tooltipField&&_e(s))return Ha(s,o.tooltipField,e.column.isTooltipFieldContainsDots());var a=o.tooltipValueGetter;return a?a({location:"cell",api:e.beans.gridOptionsService.api,columnApi:e.beans.gridOptionsService.columnApi,context:e.beans.gridOptionsService.context,colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},getValueFormatted:function(){return e.valueFormatted}},this.beans),this.addDestroyFunc(function(){var o;null===(o=e.tooltipFeature)||void 0===o||o.destroy(),e.tooltipFeature=null})},t.prototype.setComp=function(e,n,i,o,s){var a,c,h,p;this.cellComp=e,this.eGui=n,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),i&&this.setupAutoHeight(i),this.setAriaColIndex(),null===(a=this.cellPositionFeature)||void 0===a||a.setComp(n),null===(c=this.cellCustomStyleFeature)||void 0===c||c.setComp(e),null===(h=this.tooltipFeature)||void 0===h||h.setComp(n),null===(p=this.cellKeyboardListenerFeature)||void 0===p||p.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,n),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(g){return g()}),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var n=this;if(this.column.isAutoHeight()){var i=e.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,s=function(h){if(!n.editing&&n.isAlive()){var p=ea(i),R=e.offsetHeight+(p.paddingTop+p.paddingBottom+p.borderBottomWidth+p.borderTopWidth);if(h<5){var T=n.beans.gridOptionsService.getDocument();if(!T||!T.contains(e)||0==R)return void n.beans.frameworkOverrides.setTimeout(function(){return s(h+1)},0)}var P=Math.max(R,o);n.rowNode.setRowAutoHeight(P,n.column)}},a=function(){return s(0)};a();var c=this.beans.resizeObserverService.observeResize(e,a);this.addDestroyFunc(function(){c(),n.rowNode.setRowAutoHeight(void 0,n.column)})}},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getIncludeSelection=function(){return this.includeSelection},t.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},t.prototype.getIncludeDndSource=function(){return this.includeDndSource},t.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.getIsCellRenderer=function(){return this.isCellRenderer},t.prototype.getValueToDisplay=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},t.prototype.showValue=function(e){void 0===e&&(e=!1);var i,n=this.getValueToDisplay();if(this.isCellRenderer){var o=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(i,n,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()},t.prototype.isIncludeControl=function(e){return!(null!=this.rowNode.rowPinned||"function"!=typeof e&&!0!==e)},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource);return n||i||o},t.prototype.startEditing=function(e,n,i){var o=this;if(void 0===e&&(e=null),void 0===n&&(n=!1),void 0===i&&(i=null),this.isCellEditable()&&!this.editing){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(function(){o.startEditing(e,n,i)});var s=this.createCellEditorParams(e,n),a=this.column.getColDef(),c=this.beans.userComponentFactory.getCellEditorDetails(a,s),h=null!=c?.popupFromSelector?c.popupFromSelector:!!a.cellEditorPopup,p=null!=c?.popupPositionFromSelector?c.popupPositionFromSelector:a.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(c,h,p);var g=this.createEvent(i,N.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(g)}},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var n={newValueExists:!1};if(e)return n;var i=this.cellComp.getCellEditor();return i?i.isCancelAfterEnd&&i.isCancelAfterEnd()?n:{newValue:i.getValue(),newValueExists:!0}:n},t.prototype.saveNewValue=function(e,n){if(n===e)return!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,n,"edit");return this.suppressRefreshCell=!1,i},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),!this.editing)return!1;var n=this.takeValueFromCellEditor(e),i=n.newValue,o=n.newValueExists,s=this.rowNode.getValueFromValueService(this.column),a=!1;return o&&(a=this.saveNewValue(s,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,i,!e&&!!a),a},t.prototype.dispatchEditingStoppedEvent=function(e,n,i){var o=wd(wd({},this.createEvent(null,N.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:n,valueChanged:i});this.beans.eventService.dispatchEvent(o)},t.prototype.createCellEditorParams=function(e,n){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:n,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return e.rowNode.getValueFromValueService(e.column)},setValue:function(i){return e.beans.valueService.setValue(e.rowNode,e.column,i)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(i,o,s,a){return e.registerRowDragger(i,o,a)}}},t.prototype.parseValue=function(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){this.cellComp&&e.column===this.column&&this.refreshCell({})},t.prototype.refreshCell=function(e){var n,i,o;if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var s=this.column.getColDef(),a=null!=e&&!!e.newData,c=null!=e&&!!e.suppressFlash||!!s.suppressCellFlash,p=e&&e.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||a,g=this.updateAndFormatValue();if(p||g){this.showValue(a);var _=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!c&&!_&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||s.enableCellChangeFlash)&&this.flashCell(),null===(n=this.cellCustomStyleFeature)||void 0===n||n.applyUserStyles(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyClassesFromColDef()}this.refreshToolTip(),null===(o=this.cellCustomStyleFeature)||void 0===o||o.applyCellClassRules()}},t.prototype.stopEditingAndFocus=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(n)},t.prototype.navigateAfterEdit=function(e){this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,e?ce.UP:ce.DOWN,this.getCellPosition(),!1)},t.prototype.flashCell=function(e){this.animateCell("data-changed",e&&e.flashDelay,e&&e.fadeDelay)},t.prototype.animateCell=function(e,n,i){var s,a,o=this;if(this.cellComp){var c="ag-cell-"+e,h="ag-cell-"+e+"-animation",p=this.beans.gridOptionsService;n||(n=null!==(s=p.getNum("cellFlashDelay"))&&void 0!==s?s:500),_e(i)||(i=null!==(a=p.getNum("cellFadeDelay"))&&void 0!==a?a:1e3),this.cellComp.addOrRemoveCssClass(c,!0),this.cellComp.addOrRemoveCssClass(h,!1),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(c,!1),o.cellComp.addOrRemoveCssClass(h,!0),o.eGui.style.transition="background-color "+i+"ms",window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(h,!1),o.eGui.style.transition="")},i))},n)}},t.prototype.onFlashCells=function(e){if(this.cellComp){var n=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[n]&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var n;return null!==(n=this.callValueFormatter(e))&&void 0!==n?n:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){void 0===e&&(e=!1);var n=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!!e||!this.valuesAreEqual(n,this.value)||this.valueFormatted!=i},t.prototype.valuesAreEqual=function(e,n){var i=this.column.getColDef();return i.equals?i.equals(e,n):e===n},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,n=this.getGui();this.beans.gridOptionsService.setDomData(n,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsService.setDomData(n,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,n){return{type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex}},t.prototype.processCharacter=function(e){var n;null===(n=this.cellKeyboardListenerFeature)||void 0===n||n.processCharacter(e)},t.prototype.onKeyDown=function(e){var n;null===(n=this.cellKeyboardListenerFeature)||void 0===n||n.onKeyDown(e)},t.prototype.onMouseEvent=function(e,n){var i;null===(i=this.cellMouseListenerFeature)||void 0===i||i.onMouseEvent(e,n)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;null===(e=this.tooltipFeature)||void 0===e||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;this.cellComp&&(null===(e=this.cellPositionFeature)||void 0===e||e.onLeftChanged())},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},t.prototype.setAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);yf(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return null===(e=this.cellPositionFeature)||void 0===e?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,n){void 0===n&&(n=null),this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,n))},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}},t.prototype.onCellFocused=function(e){if(!this.beans.gridOptionsService.is("suppressCellFocus")){var n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(n&&e?.forceBrowserFocus&&(this.focusEventToRestore=e));this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",n),n&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});var o="fullRow"===this.beans.gridOptionsService.get("editType");!n&&!o&&this.editing&&this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:ms(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}},t.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)},t.prototype.dispatchCellContextMenuEvent=function(e){var n=this.column.getColDef(),i=this.createEvent(e,N.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),n.onCellContextMenu&&window.setTimeout(function(){return n.onCellContextMenu(i)},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],r.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new S_;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new ZM(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,n,i){var o=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,n);else{var s=this.createRowDragComp(e,n,i);s&&(this.customRowDragComp=s,this.addDestroyFunc(function(){o.beans.context.destroyBean(s),o.customRowDragComp=null}))}},t.prototype.createRowDragComp=function(e,n,i){var o=this,s=this.beans.gridOptionsService.is("pagination"),a=this.beans.gridOptionsService.is("rowDragManaged"),c=this.beans.gridOptionsService.isRowModelType("clientSide");if(a){if(!c)return void Lt(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(s)return void Lt(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var h=new Gf(function(){return o.value},this.rowNode,this.column,e,n,i);return this.beans.context.createBean(h),h},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(Re),uk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kf=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},N_=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},Ir=function(r){return r.Normal="Normal",r.FullWidth="FullWidth",r.FullWidthLoading="FullWidthLoading",r.FullWidthGroup="FullWidthGroup",r.FullWidthDetail="FullWidthDetail",r}(Ir||{}),wb=0,Mu=function(r){function t(e,n,i,o,s){var a=r.call(this)||this;return a.allRowGuis=[],a.active=!0,a.centerCellCtrls={list:[],map:{}},a.leftCellCtrls={list:[],map:{}},a.rightCellCtrls={list:[],map:{}},a.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.lastMouseDownOnDragger=!1,a.emptyStyle={},a.updateColumnListsPending=!1,a.rowId=null,a.businessKeySanitised=null,a.beans=n,a.gridOptionsService=n.gridOptionsService,a.rowNode=e,a.paginationPage=n.paginationProxy.getCurrentPage(),a.useAnimationFrameForCreate=o,a.printLayout=s,a.instanceId=e.id+"-"+wb++,a.rowId=ai(e.id),a.initRowBusinessKey(),a.rowFocused=n.focusService.isRowFocused(a.rowNode.rowIndex,a.rowNode.rowPinned),a.rowLevel=n.rowCssClassCalculator.calculateRowLevel(a.rowNode),a.setRowType(),a.setAnimateFlags(i),a.rowStyles=a.processStylesFromGridOptions(),a.isFullWidth()&&!a.gridOptionsService.is("suppressCellFocus")&&(a.tabIndex=-1),a.addListeners(),a}return uk(t,r),t.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},t.prototype.updateRowBusinessKey=function(){if("function"==typeof this.businessKeyForNodeFunc){var e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=ai(e)}},t.prototype.getRowId=function(){return this.rowId},t.prototype.getRowStyles=function(){return this.rowStyles},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,n,i){var o={rowComp:e,element:n,containerType:i};this.allRowGuis.push(o),i===pi.LEFT?this.leftGui=o:i===pi.RIGHT?this.rightGui=o:i===pi.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){switch(this.allRowGuis=this.allRowGuis.filter(function(n){return n.containerType!==e}),e){case pi.LEFT:this.leftGui=void 0;break;case pi.RIGHT:this.rightGui=void 0;break;case pi.FULL_WIDTH:this.fullWidthGui=void 0;break;case pi.CENTER:this.centerGui=void 0}},t.prototype.isCacheable=function(){return this.rowType===Ir.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")},t.prototype.setCached=function(e){var n=e?"none":"";this.allRowGuis.forEach(function(i){return i.element.style.display=n})},t.prototype.initialiseRowComp=function(e){var n=this,i=this.gridOptionsService;this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(function(a){return o.addOrRemoveCssClass(a,!0)}),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Bi(e.element,1==this.rowNode.expanded),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.is("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){n.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},t.prototype.setRowCompRowBusinessKey=function(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)},t.prototype.getBusinessKey=function(){return this.businessKeySanitised},t.prototype.setRowCompRowId=function(e){this.rowId=ai(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)},t.prototype.executeSlideAndFadeAnimations=function(e){var n=this,i=e.containerType;this.slideInAnimation[i]&&(Bc(function(){n.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(Bc(function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.gridOptionsService.is("enableRangeSelection"))Lt(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var n=this.beans.localeService.getLocaleTextFunc(),i=new Gf(function(){return"1 "+n("rowDragRow","row")},this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(i,this.beans.context)}},t.prototype.setupFullWidth=function(e){var n=this.getPinnedForContainer(e.containerType),i=this.createFullWidthParams(e.element,n);if(this.rowType!=Ir.FullWidthDetail||vt.__assertRegistered(it.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId())){var o;switch(this.rowType){case Ir.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case Ir.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case Ir.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i)}e.rowComp.showFullWidth(o)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderer=function(){var e,n;return null===(n=null===(e=this.fullWidthGui)||void 0===e?void 0:e.rowComp)||void 0===n?void 0:n.getFullWidthCellRenderer()},t.prototype.getCellElement=function(e){var n=this.getCellCtrl(e);return n?n.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.gridOptionsService.getCallback("processRowPostCreate");e&&this.areAllContainersReady()&&e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),n=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&n&&i},t.prototype.setRowType=function(){var e=this.rowNode.stub,n=this.rowNode.isFullWidthCell(),i=this.beans.doingMasterDetail&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(o);this.rowType=e?Ir.FullWidthLoading:i?Ir.FullWidthDetail:n?Ir.FullWidth:a?Ir.FullWidthGroup:Ir.Normal},t.prototype.updateColumnLists=function(e,n){var i=this;if(void 0===e&&(e=!1),void 0===n&&(n=!1),!this.isFullWidth()){if(e||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout)return void this.updateColumnListsImpl(n);this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){i.active&&i.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,n,i){var o=this;void 0===i&&(i=null);var s={list:[],map:{}},a=function(c,h){s.list.push(h),s.map[c]=h};return n.forEach(function(c){var h=c.getInstanceId(),p=e.map[h];p||(p=new xu(c,o.rowNode,o.beans,o)),a(h,p)}),e.list.forEach(function(c){if(null==s.map[c.getColumn().getInstanceId()]){if(!o.isCellEligibleToBeRemoved(c,i))return void a(c.getColumn().getInstanceId(),c);c.destroy()}}),s},t.prototype.updateColumnListsImpl=function(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)},t.prototype.setCellCtrls=function(e){var n=this;this.allRowGuis.forEach(function(i){var o=n.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(o,e)})},t.prototype.getCellCtrlsForContainer=function(e){switch(e){case pi.LEFT:return this.leftCellCtrls.list;case pi.RIGHT:return this.rightCellCtrls.list;case pi.FULL_WIDTH:return[];case pi.CENTER:return this.centerCellCtrls.list;default:throw new Error("Unhandled case: "+e)}},t.prototype.createAllCellCtrls=function(){var e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var i=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");var o=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},t.prototype.isCellEligibleToBeRemoved=function(e,n){var i=!0;if(e.getColumn().getPinned()!=n)return i;var a=e.isEditing(),c=this.beans.focusService.isCellFocused(e.getCellPosition());if(a||c){var p=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(p)>=0)&&i}return i},t.prototype.getDomOrder=function(){return this.gridOptionsService.is("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")},t.prototype.listenOnDomOrder=function(e){var n=this,i=function(){e.rowComp.setDomOrder(n.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)},t.prototype.setAnimateFlags=function(e){if(!this.isSticky()&&e){var n=_e(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(n){if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=o}}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==Ir.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,n=function(h,p){if(!h)return!0;var g=h.rowComp.getFullWidthCellRenderer();if(!g||!g.refresh)return!1;var m=e.createFullWidthParams(h.element,p);return g.refresh(m)},i=n(this.fullWidthGui,null),o=n(this.centerGui,null),s=n(this.leftGui,"left"),a=n(this.rightGui,"right");return i&&o&&s&&a},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,Bt.EVENT_HEIGHT_CHANGED,function(){return e.onRowHeightChanged()}),this.addManagedListener(this.rowNode,Bt.EVENT_ROW_SELECTED,function(){return e.onRowSelected()}),this.addManagedListener(this.rowNode,Bt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Bt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Bt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var n=this.beans.eventService;this.addManagedListener(n,N.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(n,N.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(n,N.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(n,N.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(n,N.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(n,N.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(n,N.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(n,N.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(n,N.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,Bt.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Bt.EVENT_CELL_CHANGED,function(n){e.getAllCellCtrls().forEach(function(i){return i.onCellChanged(n)})})},t.prototype.onRowNodeDataChanged=function(e){var n=this;this.isFullWidth()!==!!this.rowNode.isFullWidthCell()?this.beans.rowRenderer.redrawRow(this.rowNode):this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.allRowGuis.forEach(function(s){n.setRowCompRowId(s.rowComp),n.updateRowBusinessKey(),n.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss())},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(n){var o=e===sa.Below;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",e===sa.Above),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),n=1==this.rowNode.expanded;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&n),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!n),Bi(i.element,e&&n)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},t.prototype.getRowPosition=function(){return{rowPinned:ms(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var n=this.allRowGuis.find(function(h){return h.element.contains(e.target)});if((n?n.element:null)===e.target){var s=this.rowNode,a=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:a&&a.column},!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!No(e)){var n=this.allRowGuis.find(function(a){return a.element.contains(e.target)}),i=n?n.element:null,o=i===e.target,s=null;o||(s=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&o||!s)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var n,i=this.rowNode,o=!!e&&this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned,s=this.fullWidthGui?this.fullWidthGui.element:null===(n=this.centerGui)||void 0===n?void 0:n.element;s&&(s.classList.toggle("ag-full-width-focus",o),o&&s.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,n){var i={list:[],map:{}};return e.list.forEach(function(o){o!==n&&(i.list.push(o),i.map[o.getInstanceId()]=o)}),i},t.prototype.onMouseEvent=function(e,n){switch(e){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n)}},t.prototype.createRowEvent=function(e,n){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:n}},t.prototype.createRowEventWithSource=function(e,n){var i=this.createRowEvent(e,n);return i.source=this,i},t.prototype.onRowDblClick=function(e){if(!No(e)){var n=this.createRowEventWithSource(N.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(n)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=vu(e.target,"ag-row-drag",3),this.isFullWidth()){var n=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:n.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){if(!No(e)&&!this.lastMouseDownOnDragger){var i=this.createRowEventWithSource(N.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(i);var o=e.ctrlKey||e.metaKey,s=e.shiftKey;if(!(this.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))){var c=this.gridOptionsService.is("rowMultiSelectWithClick"),h=!this.gridOptionsService.is("suppressRowDeselection"),p="rowClicked";this.rowNode.isSelected()?c?this.rowNode.setSelectedParams({newValue:!1,event:e,source:p}):o?h&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:p}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:e,source:p}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!c&&!o,rangeSelect:s,event:e,source:p})}}},t.prototype.setupDetailRowAutoHeight=function(e){var n=this;if(this.rowType===Ir.FullWidthDetail&&this.gridOptionsService.is("detailRowAutoHeight")){var i=function(){var s=e.clientHeight;null!=s&&s>0&&n.beans.frameworkOverrides.setTimeout(function(){n.rowNode.setRowHeight(s),n.beans.clientSideRowModel?n.beans.clientSideRowModel.onRowHeightChanged():n.beans.serverSideRowModel&&n.beans.serverSideRowModel.onRowHeightChanged()},0)},o=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(o),i()}},t.prototype.createFullWidthParams=function(e,n){var i=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:e,eParentOfValue:e,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(s,a,c,h){return i.addFullWidthRowDragging(s,a,c,h)}}},t.prototype.addFullWidthRowDragging=function(e,n,i,o){if(void 0===i&&(i=""),this.isFullWidth()){var s=new Gf(function(){return i},this.rowNode,void 0,e,n,o);this.createManagedBean(s,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var n="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(n,!0),o.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-last",n)}))},t.prototype.stopEditing=function(e){var n,i;if(void 0===e&&(e=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;var a=!1;try{for(var c=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),h=c.next();!h.done;h=c.next()){var g=h.value.stopEditing(e);s&&!e&&!a&&g&&(a=!0)}}catch(_){n={error:_}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}if(a){var m=this.createRowEvent(N.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(m)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var n=this.createRowEvent(e?N.EVENT_ROW_EDITING_STARTED:N.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(n)},t.prototype.startRowEditing=function(e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),this.editingRow||this.getAllCellCtrls().reduce(function(s,a){var c=a===n;return a.startEditing(c?e:null,c,i),!!s||a.isEditing()},!1)&&this.setEditingRow(!0)},t.prototype.getAllCellCtrls=function(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:N_(N_(N_([],Kf(this.centerCellCtrls.list)),Kf(this.leftCellCtrls.list)),Kf(this.rightCellCtrls.list))},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,n=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!n||!n.length||n.forEach(function(i){e.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(i,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(n){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!0)})},function(n){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!1)})})},t.prototype.setStylesFromGridOptions=function(e,n){var i=this;e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,function(o){return o.rowComp.setUserStyles(i.rowStyles)})},t.prototype.getPinnedForContainer=function(e){return e===pi.LEFT?"left":e===pi.RIGHT?"right":null},t.prototype.getInitialRowClasses=function(e){var n=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},t.prototype.processStylesFromGridOptions=function(){var e=this.gridOptionsService.get("rowStyle");if(!e||"function"!=typeof e){var i,n=this.gridOptionsService.getCallback("getRowStyle");return n&&(i=n({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),i||e?Object.assign({},e,i):this.emptyStyle}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.onRowSelected=function(e){var n=this,i=!!this.rowNode.isSelected();this.forEachGui(e,function(o){o.rowComp.addOrRemoveCssClass("ag-row-selected",i),Za(o.element,!!i||void 0);var s=n.createAriaLabel();Es(o.element,s??"")})},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!e||!this.gridOptionsService.is("suppressRowDeselection"))return this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row.")},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var n=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return n.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return n.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Bt.EVENT_MOUSE_ENTER,function(){!n.beans.dragService.isDragging()&&!n.gridOptionsService.is("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),n.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Bt.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover"),n.rowNode.setHovered(!1)}))},t.prototype.roundRowTopToBounds=function(e){var i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.applyPaginationOffset(i.top,!0)-100,s=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(o,e),s)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,n){e?n(e):this.allRowGuis.forEach(n)},t.prototype.onRowHeightChanged=function(e){if(null!=this.rowNode.rowHeight){var n=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),s=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,a=s?Math.min(i,s)-2+"px":void 0;this.forEachGui(e,function(c){c.element.style.height=n+"px",a&&c.element.style.setProperty("--ag-line-height",a)})}},t.prototype.addEventListener=function(e,n){r.prototype.addEventListener.call(this,e,n)},t.prototype.removeEventListener=function(e,n){r.prototype.removeEventListener.call(this,e,n)},t.prototype.destroyFirstPass=function(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var e=this.createRowEvent(N.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),r.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var e=function(n){return n.list.forEach(function(i){return i.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var n=this;this.forEachGui(e,function(i){i.rowComp.addOrRemoveCssClass("ag-row-focus",n.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!n.rowFocused)})},t.prototype.onCellFocused=function(){this.onCellFocusChanged()},t.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,n){return void 0===n&&(n=!1),this.rowNode.isRowPinned()||this.rowNode.sticky?e:e+this.beans.paginationProxy.getPixelOffset()*(n?1:-1)},t.prototype.setRowTop=function(e){if(!this.printLayout&&_e(e)){var n=this.applyPaginationOffset(e),o=this.rowNode.isRowPinned()||this.rowNode.sticky?n:this.beans.rowContainerHeightService.getRealPixelPosition(n);this.setRowTopStyle(o+"px")}},t.prototype.getInitialRowTop=function(e){return this.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){return this.gridOptionsService.is("suppressRowTransform")?void 0:"translateY("+this.getInitialRowTopShared(e)+")"},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var n;if(this.isSticky())n=this.rowNode.stickyRowTop;else{var i=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(i);n=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return n+"px"},t.prototype.setRowTopStyle=function(e){var n=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(function(i){return n?i.rowComp.setTop(e):i.rowComp.setTransform("translateY("+e+")")})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var n=null;return this.getAllCellCtrls().forEach(function(i){i.getColumn()==e&&(n=i)}),null!=n||this.getAllCellCtrls().forEach(function(i){i.getColSpanningList().indexOf(e)>=0&&(n=i)}),n},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},t.prototype.updateRowIndexes=function(e){var n=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2==0,s=i+this.rowNode.rowIndex+1;this.forEachGui(e,function(a){a.rowComp.setRowIndex(n),a.rowComp.addOrRemoveCssClass("ag-row-even",o),a.rowComp.addOrRemoveCssClass("ag-row-odd",!o),mf(a.element,s)})},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(Re),Sb=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sr=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Db=function(r){function t(e){var n=r.call(this)||this;return n.element=e,n}return Sb(t,r),t.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},t.prototype.addKeyboardListeners=function(){var e="keydown",n=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,n)},t.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click",Ua("touchstart")?"touchstart":"mousedown"].forEach(function(o){var s=e.processMouseEvent.bind(e,o);e.addManagedListener(e.element,o,s)})},t.prototype.processMouseEvent=function(e,n){if(this.mouseEventService.isEventFromThisGrid(n)&&!No(n)){var i=this.getRowForEvent(n),o=this.mouseEventService.getRenderedCellForEvent(n);"contextmenu"===e?this.handleContextMenuMouseEvent(n,null,i,o):(o&&o.onMouseEvent(e,n),i&&i.onMouseEvent(e,n))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(Js()){var n=new Jr(this.element);this.addManagedListener(n,Jr.EVENT_LONG_TAP,function(o){var s=e.getRowForEvent(o.touchEvent),a=e.mouseEventService.getRenderedCellForEvent(o.touchEvent);e.handleContextMenuMouseEvent(null,o.touchEvent,s,a)}),this.addDestroyFunc(function(){return n.destroy()})}},t.prototype.getRowForEvent=function(e){for(var n=e.target;n;){var i=this.gridOptionsService.getDomData(n,Mu.DOM_DATA_KEY_ROW_CTRL);if(i)return i;n=n.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,n,i,o){var s=i?i.getRowNode():null,a=o?o.getColumn():null,c=null;a&&(o.dispatchCellContextMenuEvent(e||n),c=this.valueService.getValue(a,s));var p=this.ctrlsService.getGridBodyCtrl(),g=o?o.getGui():p.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,n,s,a,c,g)},t.prototype.getControlsForEventTarget=function(e){return{cellCtrl:Wa(this.gridOptionsService,e,xu.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Wa(this.gridOptionsService,e,Mu.DOM_DATA_KEY_ROW_CTRL)}},t.prototype.processKeyboardEvent=function(e,n){var i=this.getControlsForEventTarget(n.target),o=i.cellCtrl,s=i.rowCtrl;n.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,n):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,n))},t.prototype.processCellKeyboardEvent=function(e,n,i){var o=e.getRowNode(),s=e.getColumn(),a=e.isEditing();if(ir(this.gridOptionsService,i,o,s,a)||"keydown"!==n||(!a&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),Cu(i)&&e.processCharacter(i)),"keydown"===n){var p=e.createEvent(i,N.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(p)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,n,i){var o=e.getRowNode(),s=this.focusService.getFocusedCell();if(!ir(this.gridOptionsService,i,o,s&&s.column,!1)&&"keydown"===n)switch(i.key){case ce.PAGE_HOME:case ce.PAGE_END:case ce.PAGE_UP:case ce.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case ce.UP:case ce.DOWN:e.onKeyboardNavigate(i);break;case ce.TAB:e.onTabKeyDown(i)}if("keydown"===n){var p=e.createRowEvent(N.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(p)}},t.prototype.doGridOperations=function(e,n){if((e.ctrlKey||e.metaKey)&&!n&&this.mouseEventService.isEventFromThisGrid(e)){var i=_u(e);if(i===ce.A)return this.onCtrlAndA(e);if(i===ce.C)return this.onCtrlAndC(e);if(i===ce.D)return this.onCtrlAndD(e);if(i===ce.V)return this.onCtrlAndV(e);if(i===ce.X)return this.onCtrlAndX(e);if(i===ce.Y)return this.onCtrlAndY();if(i===ce.Z)return this.onCtrlAndZ(e)}},t.prototype.onCtrlAndA=function(e){var n=this,i=n.pinnedRowModel,s=n.rangeService;if(s&&n.paginationProxy.isRowsToRender()){var a=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}([i.isEmpty("top"),i.isEmpty("bottom")],2),p=a[0]?null:"top",g=void 0,m=void 0;a[1]?(g=null,m=this.paginationProxy.getRowCount()-1):(g="bottom",m=i.getPinnedBottomRowData().length-1);var _=this.columnModel.getAllDisplayedColumns();if(Yr(_))return;s.setCellRange({rowStartIndex:0,rowStartPinned:p,rowEndIndex:m,rowEndPinned:g,columnStart:_[0],columnEnd:fn(_)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){if(this.clipboardService&&!this.gridOptionsService.is("enableCellTextSelection")){var n=this.getControlsForEventTarget(e.target),i=n.cellCtrl,o=n.rowCtrl;i?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}},t.prototype.onCtrlAndX=function(e){if(this.clipboardService&&!this.gridOptionsService.is("enableCellTextSelection")&&!this.gridOptionsService.is("suppressCutToClipboard")){var n=this.getControlsForEventTarget(e.target),i=n.cellCtrl,o=n.rowCtrl;i?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},t.prototype.onCtrlAndV=function(e){var n=this.getControlsForEventTarget(e.target),i=n.cellCtrl,o=n.rowCtrl;i?.isEditing()||o?.isEditing()||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsService.is("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},sr([I("mouseEventService")],t.prototype,"mouseEventService",void 0),sr([I("valueService")],t.prototype,"valueService",void 0),sr([sn("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),sr([I("ctrlsService")],t.prototype,"ctrlsService",void 0),sr([I("navigationService")],t.prototype,"navigationService",void 0),sr([I("focusService")],t.prototype,"focusService",void 0),sr([I("undoRedoService")],t.prototype,"undoRedoService",void 0),sr([I("columnModel")],t.prototype,"columnModel",void 0),sr([I("paginationProxy")],t.prototype,"paginationProxy",void 0),sr([I("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),sr([sn("rangeService")],t.prototype,"rangeService",void 0),sr([sn("clipboardService")],t.prototype,"clipboardService",void 0),sr([ke],t.prototype,"postConstruct",null),t}(Re),bb=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yf=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nP=function(r){function t(e){var n=r.call(this)||this;return n.centerContainerCtrl=e,n}return bb(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,N.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.listenForResize=function(){var e=this,n=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(n),this.gridBodyCtrl.registerBodyViewportResizeListener(n)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var n=td(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==n&&(this.bodyHeight=n,this.eventService.dispatchEvent({type:N.EVENT_BODY_HEIGHT_CHANGED}))},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)},t.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),n=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,n)},Yf([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Yf([I("columnModel")],t.prototype,"columnModel",void 0),Yf([I("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Yf([ke],t.prototype,"postConstruct",null),t}(Re),iP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ob=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rP=function(r){function t(e){var n=r.call(this)||this;return n.element=e,n}return iP(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,N.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth();en(this.element,e>0),_o(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},Ob([I("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Ob([ke],t.prototype,"postConstruct",null),t}(Re),Rb=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oP=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Tb=function(r){function t(e){var n=r.call(this)||this;return n.element=e,n}return Rb(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,N.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth();en(this.element,e>0),_o(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},oP([I("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),oP([ke],t.prototype,"postConstruct",null),t}(Re),sP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ab=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aP=function(r){function t(e,n){var i=r.call(this)||this;return i.eContainer=e,i.eViewport=n,i}return sP(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,N.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),n=null!=e?e+"px":"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)},Ab([I("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),Ab([ke],t.prototype,"postConstruct",null),t}(Re),lP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),k_=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uP=function(r){function t(e){var n=r.call(this)||this;return n.eContainer=e,n}return lP(t,r),t.prototype.postConstruct=function(){var e=this;if(this.gridOptionsService.is("enableRangeSelection")&&!ht(this.rangeService)){var n={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(n),this.addDestroyFunc(function(){return e.dragService.removeDragSource(n)})}},k_([sn("rangeService")],t.prototype,"rangeService",void 0),k_([I("dragService")],t.prototype,"dragService",void 0),k_([ke],t.prototype,"postConstruct",null),t}(Re),cP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fv=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},G_=function(r){function t(e,n){void 0===n&&(n=!1);var i=r.call(this)||this;return i.callback=e,i.addSpacer=n,i}return cP(t,r),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,N.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,N.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,N.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,N.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()},t.prototype.setWidth=function(){var a,e=this.columnModel,n=this.gridOptionsService.isDomLayout("print"),i=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),s=e.getDisplayedColumnsRightWidth();n?a=i+o+s:(a=i,this.addSpacer&&0===(this.gridOptionsService.is("enableRtl")?o:s)&&this.scrollVisibleService.isVerticalScrollShowing()&&(a+=this.gridOptionsService.getScrollbarWidth())),this.callback(a)},Fv([I("columnModel")],t.prototype,"columnModel",void 0),Fv([I("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Fv([ke],t.prototype,"postConstruct",null),t}(Re),dP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cl=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lv=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Nv=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},ye=function(r){return r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth",r.TOP_LEFT="topLeft",r.TOP_RIGHT="topRight",r.TOP_CENTER="topCenter",r.TOP_FULL_WIDTH="topFullWidth",r.STICKY_TOP_LEFT="stickyTopLeft",r.STICKY_TOP_RIGHT="stickyTopRight",r.STICKY_TOP_CENTER="stickyTopCenter",r.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",r.BOTTOM_LEFT="bottomLeft",r.BOTTOM_RIGHT="bottomRight",r.BOTTOM_CENTER="bottomCenter",r.BOTTOM_FULL_WIDTH="bottomFullWidth",r}(ye||{}),pi=function(r){return r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth",r}(pi||{}),xb=$a([[ye.CENTER,"ag-center-cols-container"],[ye.LEFT,"ag-pinned-left-cols-container"],[ye.RIGHT,"ag-pinned-right-cols-container"],[ye.FULL_WIDTH,"ag-full-width-container"],[ye.TOP_CENTER,"ag-floating-top-container"],[ye.TOP_LEFT,"ag-pinned-left-floating-top"],[ye.TOP_RIGHT,"ag-pinned-right-floating-top"],[ye.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[ye.STICKY_TOP_CENTER,"ag-sticky-top-container"],[ye.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[ye.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[ye.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[ye.BOTTOM_CENTER,"ag-floating-bottom-container"],[ye.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[ye.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[ye.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),Mb=$a([[ye.CENTER,"ag-center-cols-viewport"],[ye.TOP_CENTER,"ag-floating-top-viewport"],[ye.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[ye.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),V_=function(r){function t(e){var n=r.call(this)||this;return n.visible=!0,n.EMPTY_CTRLS=[],n.name=e,n.isFullWithContainer=n.name===ye.TOP_FULL_WIDTH||n.name===ye.STICKY_TOP_FULL_WIDTH||n.name===ye.BOTTOM_FULL_WIDTH||n.name===ye.FULL_WIDTH,n}return dP(t,r),t.getRowContainerCssClasses=function(e){return{container:xb.get(e),viewport:Mb.get(e)}},t.getPinned=function(e){switch(e){case ye.BOTTOM_LEFT:case ye.TOP_LEFT:case ye.STICKY_TOP_LEFT:case ye.LEFT:return"left";case ye.BOTTOM_RIGHT:case ye.TOP_RIGHT:case ye.STICKY_TOP_RIGHT:case ye.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([ye.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new nP(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case ye.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case ye.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case ye.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case ye.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case ye.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case ye.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case ye.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case ye.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case ye.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case ye.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case ye.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case ye.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},t.prototype.forContainers=function(e,n){e.indexOf(this.name)>=0&&n()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,n,i){var o=this;this.comp=e,this.eContainer=n,this.eViewport=i,this.createManagedBean(new Db(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var a=[ye.STICKY_TOP_CENTER,ye.STICKY_TOP_LEFT,ye.STICKY_TOP_RIGHT],c=[ye.BOTTOM_CENTER,ye.BOTTOM_LEFT,ye.BOTTOM_RIGHT],h=[ye.CENTER,ye.LEFT,ye.RIGHT],p=Nv(Nv(Nv(Nv([],Lv([ye.TOP_CENTER,ye.TOP_LEFT,ye.TOP_RIGHT])),Lv(c)),Lv(h)),Lv(a)),g=[ye.CENTER,ye.LEFT,ye.RIGHT,ye.FULL_WIDTH],m=[ye.CENTER,ye.TOP_CENTER,ye.STICKY_TOP_CENTER,ye.BOTTOM_CENTER],w=[ye.RIGHT,ye.BOTTOM_RIGHT,ye.TOP_RIGHT,ye.STICKY_TOP_RIGHT];this.forContainers([ye.LEFT,ye.BOTTOM_LEFT,ye.TOP_LEFT,ye.STICKY_TOP_LEFT],function(){o.pinnedWidthFeature=o.createManagedBean(new rP(o.eContainer)),o.addManagedListener(o.eventService,N.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(w,function(){o.pinnedWidthFeature=o.createManagedBean(new Tb(o.eContainer)),o.addManagedListener(o.eventService,N.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(g,function(){return o.createManagedBean(new aP(o.eContainer,o.name===ye.CENTER?i:void 0))}),this.forContainers(p,function(){return o.createManagedBean(new uP(o.eContainer))}),this.forContainers(m,function(){return o.createManagedBean(new G_(function(E){return o.comp.setContainerWidth(E+"px")}))}),_f()&&(this.forContainers([ye.CENTER],function(){o.addManagedListener(o.eventService,o.enableRtl?N.EVENT_LEFT_PINNED_WIDTH_CHANGED:N.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.refreshPaddingForFakeScrollbar()})}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},t.prototype.refreshPaddingForFakeScrollbar=function(){var e=this,n=e.enableRtl,i=e.columnModel,o=e.eContainer,s=n?ye.LEFT:ye.RIGHT;this.forContainers([ye.CENTER,s],function(){var a=i.getContainerWidth(s);o.style[n?"marginLeft":"marginRight"]=a?"16px":"0px"})},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_ROWS_CHANGED,function(n){return e.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this;if([ye.STICKY_TOP_CENTER,ye.STICKY_TOP_LEFT,ye.STICKY_TOP_RIGHT,ye.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var o=function(){var s=e.gridOptionsService.is("ensureDomOrder"),a=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(s||a)};this.addManagedPropertyListener("domLayout",o),o()}},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([ye.TOP_CENTER,ye.STICKY_TOP_CENTER,ye.BOTTOM_CENTER],function(){e.addManagedListener(e.eViewport,"scroll",function(){return e.eViewport.scrollLeft=0})})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([ye.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([ye.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.addPreventScrollWhileDragging=function(){var e=this,n=function(i){e.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",n,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",n)})},t.prototype.onHorizontalViewportChanged=function(e){void 0===e&&(e=!1);var n=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,i,e)},t.prototype.getCenterWidth=function(){return cv(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return Ef(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var n=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return n()})},t.prototype.isViewportVisible=function(){return Co(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return Ef(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||K0(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX("+e+"px)"},t.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},t.prototype.setCenterViewportScrollLeft=function(e){id(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){return!t.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged()),_f()&&this.refreshPaddingForFakeScrollbar()},t.prototype.onDisplayedRowsChanged=function(e){var n=this;if(void 0===e&&(e=!1),this.visible){var i=this.gridOptionsService.isDomLayout("print"),s=this.getRowCtrls().filter(function(a){var c=a.isFullWidth(),h=n.embedFullWidthRows||i;return n.isFullWithContainer?!h&&c:h||!c});this.comp.setRowCtrls(s,e)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},t.prototype.getRowCtrls=function(){switch(this.name){case ye.TOP_CENTER:case ye.TOP_LEFT:case ye.TOP_RIGHT:case ye.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case ye.STICKY_TOP_CENTER:case ye.STICKY_TOP_LEFT:case ye.STICKY_TOP_RIGHT:case ye.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case ye.BOTTOM_CENTER:case ye.BOTTOM_LEFT:case ye.BOTTOM_RIGHT:case ye.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},cl([I("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),cl([I("dragService")],t.prototype,"dragService",void 0),cl([I("ctrlsService")],t.prototype,"ctrlsService",void 0),cl([I("columnModel")],t.prototype,"columnModel",void 0),cl([I("resizeObserverService")],t.prototype,"resizeObserverService",void 0),cl([I("animationFrameService")],t.prototype,"animationFrameService",void 0),cl([I("rowRenderer")],t.prototype,"rowRenderer",void 0),cl([ke],t.prototype,"postConstruct",null),t}(Re),Pb=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xs=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hP='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+ye.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+ye.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+ye.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+ye.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                <ag-row-container ref="leftContainer" name="'+ye.LEFT+'"></ag-row-container>\n                <ag-row-container ref="centerContainer" name="'+ye.CENTER+'"></ag-row-container>\n                <ag-row-container ref="rightContainer" name="'+ye.RIGHT+'"></ag-row-container>\n                <ag-row-container ref="fullWidthContainer" name="'+ye.FULL_WIDTH+'"></ag-row-container>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+ye.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+ye.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+ye.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+ye.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+ye.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+ye.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+ye.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+ye.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',fP=function(r){function t(){return r.call(this,hP)||this}return Pb(t,r),t.prototype.init=function(){var e=this,n=function(o,s){var a=o+"px";s.style.minHeight=a,s.style.height=a},i={setRowAnimationCssOnBodyViewport:function(o,s){return e.setRowAnimationCssOnBodyViewport(o,s)},setColumnCount:function(o){return FC(e.getGui(),o)},setRowCount:function(o){return Xg(e.getGui(),o)},setTopHeight:function(o){return n(o,e.eTop)},setBottomHeight:function(o){return n(o,e.eBottom)},setTopDisplay:function(o){return e.eTop.style.display=o},setBottomDisplay:function(o){return e.eBottom.style.display=o},setStickyTopHeight:function(o){return e.eStickyTop.style.height=o},setStickyTopTop:function(o){return e.eStickyTop.style.top=o},setStickyTopWidth:function(o){return e.eStickyTop.style.width=o},setColumnMovingCss:function(o,s){return e.addOrRemoveCssClass(o,s)},updateLayoutClasses:function(o,s){[e.eBodyViewport.classList,e.eBody.classList].forEach(function(c){c.toggle(Kn.AUTO_HEIGHT,s.autoHeight),c.toggle(Kn.NORMAL,s.normal),c.toggle(Kn.PRINT,s.print)}),e.addOrRemoveCssClass(Kn.AUTO_HEIGHT,s.autoHeight),e.addOrRemoveCssClass(Kn.NORMAL,s.normal),e.addOrRemoveCssClass(Kn.PRINT,s.print)},setAlwaysVerticalScrollClass:function(o,s){return e.eBodyViewport.classList.toggle(cb,s)},registerBodyViewportResizeListener:function(o){var s=e.resizeObserverService.observeResize(e.eBodyViewport,o);e.addDestroyFunc(function(){return s()})},setPinnedTopBottomOverflowY:function(o){return e.eTop.style.overflowY=e.eBottom.style.overflowY=o},setCellSelectableCss:function(o,s){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(a){return a.classList.toggle(o,s)})},setBodyViewportWidth:function(o){return e.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new hb),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&qg(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,n){var i=this.eBodyViewport.classList;i.toggle(_d.ANIMATION_ON,n),i.toggle(_d.ANIMATION_OFF,!n)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},xs([I("resizeObserverService")],t.prototype,"resizeObserverService",void 0),xs([sn("rangeService")],t.prototype,"rangeService",void 0),xs([He("eBodyViewport")],t.prototype,"eBodyViewport",void 0),xs([He("eStickyTop")],t.prototype,"eStickyTop",void 0),xs([He("eTop")],t.prototype,"eTop",void 0),xs([He("eBottom")],t.prototype,"eBottom",void 0),xs([He("gridHeader")],t.prototype,"headerRootComp",void 0),xs([He("eBody")],t.prototype,"eBody",void 0),xs([ke],t.prototype,"init",null),t}(Nt),ck=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ib=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pP=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ck(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var n={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(n)}},t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:N.EVENT_SCROLL_VISIBILITY_CHANGED}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Ib([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Ib([ke],t.prototype,"postConstruct",null),Ib([tt("scrollVisibleService")],t)}(Re),gP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fb=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vP=function(r){function t(){var n=null!==r&&r.apply(this,arguments)||this;return n.gridInstanceId=e.gridInstanceSequence.next(),n}var e;return gP(t,r),e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(n){n[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(n){return Wa(this.gridOptionsService,n.target,xu.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(n){return this.isElementInThisGrid(n.target)},t.prototype.isElementInThisGrid=function(n){for(var i=n;i;){var o=i[e.GRID_DOM_KEY];if(_e(o))return o===this.gridInstanceId;i=i.parentElement}return!1},t.prototype.getCellPositionForEvent=function(n){var i=this.getRenderedCellForEvent(n);return i?i.getCellPosition():null},t.prototype.getNormalisedPosition=function(n){var s,a,i=this.gridOptionsService.isDomLayout("normal");if(null!=n.clientX||null!=n.clientY?(s=n.clientX,a=n.clientY):(s=n.x,a=n.y),i){var c=this.ctrlsService.getGridBodyCtrl(),h=c.getScrollFeature().getVScrollPosition();s+=c.getScrollFeature().getHScrollPosition().left,a+=h.top}return{x:s,y:a}},t.gridInstanceSequence=new Su,t.GRID_DOM_KEY="__ag_grid_instance",Fb([I("ctrlsService")],t.prototype,"ctrlsService",void 0),e=Fb([tt("mouseEventService")],t)}(Re),mP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dl=function(){return dl=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},dl.apply(this,arguments)},Fr=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},H_=function(r){function t(){var e=r.call(this)||this;return e.onPageDown=lf(e.onPageDown,100),e.onPageUp=lf(e.onPageUp,100),e}return mP(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.gridBodyCon=n.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e,n){void 0===n&&(n=!1);var i=e.key,o=e.altKey,s=e.ctrlKey||e.metaKey,a=!!this.rangeService&&e.shiftKey,c=this.mouseEventService.getCellPositionForEvent(e),h=!1;switch(i){case ce.PAGE_HOME:case ce.PAGE_END:!s&&!o&&(this.onHomeOrEndKey(i),h=!0);break;case ce.LEFT:case ce.RIGHT:case ce.UP:case ce.DOWN:if(!c)return!1;s&&!o&&!a&&(this.onCtrlUpDownLeftRight(i,c),h=!0);break;case ce.PAGE_DOWN:case ce.PAGE_UP:!s&&!o&&(h=this.handlePageUpDown(i,c,n))}return h&&e.preventDefault(),h},t.prototype.handlePageUpDown=function(e,n,i){return i&&(n=this.focusService.getFocusedCell()),!!n&&(e===ce.PAGE_UP?this.onPageUp(n):this.onPageDown(n),!0)},t.prototype.navigateTo=function(e){var n=e.scrollIndex,i=e.scrollType,o=e.scrollColumn,s=e.focusIndex,a=e.focusColumn;_e(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),_e(n)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:a,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:s,rowPinned:null,column:a})},t.prototype.onPageDown=function(e){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getRowIndexAtPixel(i.top+o+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)},t.prototype.onPageUp=function(e){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRowIndexAtPixel(i.top+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a,!0):this.navigateToNextPage(e,a,!0)},t.prototype.navigateToNextPage=function(e,n,i){void 0===i&&(i=!1);var w,o=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),a=this.paginationProxy.getPageLastRow(),c=this.paginationProxy.getPixelOffset(),h=this.paginationProxy.getRow(e.rowIndex),p=i?h?.rowHeight-o-c:o-c,m=this.paginationProxy.getRowIndexAtPixel(h?.rowTop+p+c);m===e.rowIndex&&(n=m=e.rowIndex+(i?-1:1)),i?(w="bottom",m<s&&(m=s),n<s&&(n=s)):(w="top",m>a&&(m=a),n>a&&(n=a)),this.isRowTallerThanView(m)&&(n=m,w="top"),this.navigateTo({scrollIndex:n,scrollType:w,scrollColumn:null,focusIndex:m,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,n,i){var o=this;void 0===i&&(i=!1),this.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column}),setTimeout(function(){var s=o.getNextFocusIndexForAutoHeight(e,i);o.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,n){var i;void 0===n&&(n=!1);for(var o=n?-1:1,s=this.getViewportHeight(),a=this.paginationProxy.getPageLastRow(),c=0,h=e.rowIndex;h>=0&&h<=a;){var p=this.paginationProxy.getRow(h);if(p){var g=null!==(i=p.rowHeight)&&void 0!==i?i:0;if(c+g>s)break;c+=g}h+=o}return Math.max(0,Math.min(h,a))},t.prototype.getViewportHeight=function(){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth(),o=n.bottom-n.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=i),o},t.prototype.isRowTallerThanView=function(e){var n=this.paginationProxy.getRow(e);if(!n)return!1;var i=n.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,n){var i=this.cellNavigationService.getNextCellToFocus(e,n,!0),o=i.rowIndex,s=i.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:s,focusIndex:o,focusColumn:s})},t.prototype.onHomeOrEndKey=function(e){var n=e===ce.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=n?i[0]:fn(i),s=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:o,focusIndex:s,focusColumn:o})},t.prototype.onTabKeyDown=function(e,n){var i=n.shiftKey;if(this.tabToNextCellCommon(e,i,n))n.preventDefault();else if(i){var s=e.getRowPosition(),a=s.rowIndex;(s.rowPinned?0===a:a===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(n.preventDefault(),this.focusService.focusPreviousFromFirstCell(n)))}else e instanceof xu&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&n.preventDefault()},t.prototype.tabToNextCell=function(e,n){var i=this.focusService.getFocusedCell();if(!i)return!1;var o=this.getCellByPosition(i);return!!(o||(o=this.rowRenderer.getRowByPosition(i),o&&o.isFullWidth()))&&this.tabToNextCellCommon(o,e,n)},t.prototype.tabToNextCellCommon=function(e,n,i){var o=e.isEditing();if(!o&&e instanceof xu){var a=e.getRowCtrl();a&&(o=a.isEditing())}return(o?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(e,n,i):this.moveToNextEditingCell(e,n,i):this.moveToNextCellNotEditing(e,n))||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,n,i){void 0===i&&(i=null);var o=e.getCellPosition();e.getGui().focus(),e.stopEditing();var s=this.findNextCellToFocusOn(o,n,!0);return null!=s&&(s.startEditing(null,!0,i),s.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,n,i){void 0===i&&(i=null);var o=e.getCellPosition(),s=this.findNextCellToFocusOn(o,n,!0);if(null==s)return!1;var a=s.getCellPosition(),c=this.isCellEditable(o),h=this.isCellEditable(a),p=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;return c&&e.setFocusOutOnEditor(),p||(e.getRowCtrl().stopEditing(),s.getRowCtrl().startRowEditing(void 0,void 0,i)),h?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,n){var o,i=this.columnModel.getAllDisplayedColumns();o=e instanceof Mu?dl(dl({},e.getRowPosition()),{column:n?i[0]:fn(i)}):e.getCellPosition();var s=this.findNextCellToFocusOn(o,n,!1);if(s instanceof xu)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),n);return _e(s)},t.prototype.findNextCellToFocusOn=function(e,n,i){for(var o=e;;){e!==o&&(e=o),n||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,n);var s=this.gridOptionsService.getCallback("tabToNextCell");if(_e(s)){var c=s({backwards:n,editing:i,previousCellPosition:e,nextCellPosition:o||null});_e(c)?(c.floating&&(Lt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),o={rowIndex:c.rowIndex,column:c.column,rowPinned:c.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var h=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:h+o.rowIndex,column:o.column},fromCell:!0}),null}var p="fullRow"===this.gridOptionsService.get("editType");if(!i||p||this.isCellEditable(o)){this.ensureCellVisible(o);var m=this.getCellByPosition(o);if(!m){var _=this.rowRenderer.getRowByPosition(o);if(!_||!_.isFullWidth()||i)continue;return _}if(!m.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),m}}},t.prototype.isCellEditable=function(e){var n=this.lookupRowNodeForCell(e);return!!n&&e.column.isCellEditable(n)},t.prototype.getCellByPosition=function(e){var n=this.rowRenderer.getRowByPosition(e);return n?n.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,n,i,o){for(var s=i,a=!1;s&&(s===i||!this.isValidNavigateCell(s));)this.gridOptionsService.is("enableRtl")?n===ce.LEFT&&(s=this.getLastCellOfColSpan(s)):n===ce.RIGHT&&(s=this.getLastCellOfColSpan(s)),a=ht(s=this.cellNavigationService.getNextCellToFocus(n,s));if(a&&e&&e.key===ce.UP&&(s={rowIndex:-1,rowPinned:null,column:i.column}),o){var c=this.gridOptionsService.getCallback("navigateToNextCell");if(_e(c)){var p=c({key:n,previousCellPosition:i,nextCellPosition:s||null,event:e});_e(p)?(p.floating&&(Lt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),p.rowPinned=p.floating),s={rowPinned:p.rowPinned,rowIndex:p.rowIndex,column:p.column}):s=null}}if(s){if(s.rowIndex<0){var g=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:g+s.rowIndex,column:i.column},event:e||void 0,fromCell:!0})}var m=this.getNormalisedPosition(s);m?this.focusPosition(m):this.tryToFocusFullWidthRow(s)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var n=this.getCellByPosition(e);return n?(e=n.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,n){void 0===n&&(n=!1);var i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;var s=this.focusService.getFocusedCell(),a={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(n?fn(i):i[0])};this.focusPosition(a);var c=null!=s&&this.rowPositionUtils.before(a,s);return this.eventService.dispatchEvent({type:N.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:a.column,isFullWidthCell:!0,floating:a.rowPinned,fromBelow:c}),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){return!!this.rowPositionUtils.getRowNode(e)},t.prototype.getLastCellOfColSpan=function(e){var n=this.getCellByPosition(e);if(!n)return e;var i=n.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:fn(i),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var n=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(n&&i?.sticky)&&ht(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},Fr([I("mouseEventService")],t.prototype,"mouseEventService",void 0),Fr([I("paginationProxy")],t.prototype,"paginationProxy",void 0),Fr([I("focusService")],t.prototype,"focusService",void 0),Fr([sn("rangeService")],t.prototype,"rangeService",void 0),Fr([I("columnModel")],t.prototype,"columnModel",void 0),Fr([I("rowModel")],t.prototype,"rowModel",void 0),Fr([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Fr([I("rowRenderer")],t.prototype,"rowRenderer",void 0),Fr([I("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Fr([I("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Fr([I("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Fr([I("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Fr([ke],t.prototype,"postConstruct",null),Fr([tt("navigationService")],t)}(Re),yP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),CP=function(r){function t(e){var n=r.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=e,n}return yP(t,r),t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,n=this.getGui(),i=this.params;this.addManagedListener(n,"keydown",function(s){ir(e.gridOptionsService,s,i.node,i.column,!0)||i.onKeyDown(s)})},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([ke],t.prototype,"postConstruct",null),t}(al),hk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xf=function(r){function t(e,n,i,o,s){var a=r.call(this)||this;a.rendererVersion=0,a.editorVersion=0,a.beans=e,a.column=n.getColumn(),a.rowNode=n.getRowNode(),a.rowCtrl=n.getRowCtrl(),a.eRow=o,a.cellCtrl=n,a.setTemplate('<div comp-id="'+a.getCompId()+'"/>');var c=a.getGui();a.forceWrapper=n.isForceWrapper(),a.refreshWrapper(!1);var h=function(m,_){null!=_&&""!=_?c.setAttribute(m,_):c.removeAttribute(m)};fi(c,"gridcell"),h("col-id",n.getColumnIdSanitised());var p=n.getTabIndex();return void 0!==p&&h("tabindex",p.toString()),n.setComp({addOrRemoveCssClass:function(m,_){return a.addOrRemoveCssClass(m,_)},setUserStyles:function(m){return Df(c,m)},getFocusableElement:function(){return a.getFocusableElement()},setIncludeSelection:function(m){return a.includeSelection=m},setIncludeRowDrag:function(m){return a.includeRowDrag=m},setIncludeDndSource:function(m){return a.includeDndSource=m},setRenderDetails:function(m,_,w){return a.setRenderDetails(m,_,w)},setEditDetails:function(m,_,w){return a.setEditDetails(m,_,w)},getCellEditor:function(){return a.cellEditor||null},getCellRenderer:function(){return a.cellRenderer||null},getParentOfValue:function(){return a.getParentOfValue()}},a.getGui(),a.eCellWrapper,i,s),a}return hk(t,r),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,n,i){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var s=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!i&&!s&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(n))}},t.prototype.setEditDetails=function(e,n,i){e?this.createCellEditorInstance(e,n,i):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var n=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=n||this.forceWrapper,o=i&&null==this.eCellWrapper;o&&(this.eCellWrapper=Pi('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var s=!i&&null!=this.eCellWrapper;s&&(na(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var a=!e&&i,c=a&&null==this.eCellValue;c&&(this.eCellValue=Pi('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var h=!a&&null!=this.eCellValue;h&&(na(this.eCellValue),this.eCellValue=void 0);var p=o||s||c||h;return p&&this.removeControls(),e||n&&this.addControls(),p},t.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.createCellEditorInstance=function(e,n,i){var o=this,s=this.editorVersion,a=e.newAgStackInstance();if(a){var c=e.params;a.then(function(p){return o.afterCellEditorCreated(s,p,c,n,i)}),ht(this.cellEditor)&&c.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var n=this.getParentOfValue();Mi(n);var i=null!=e?ai(e):null;null!=i&&(n.innerHTML=i)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),na(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),na(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;var n=this.cellRenderer.refresh(e.params);return!0===n||void 0===n},t.prototype.createCellRendererInstance=function(e){var n=this,i=this.beans.gridOptionsService.is("suppressAnimationFrame"),s=this.rendererVersion,a=e.componentClass,c=function(){if(n.rendererVersion===s&&n.isAlive()){var p=e.newAgStackInstance(),g=n.afterCellRendererCreated.bind(n,s,a);p&&p.then(g)}};!i&&this.firstRender?this.beans.animationFrameService.createTask(c,this.rowNode.rowIndex,"createTasksP2"):c()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,n,i){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=i,this.cellRendererClass=n,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var s=this.getParentOfValue();Mi(s),s.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(i)},t.prototype.afterCellEditorCreated=function(e,n,i,o,s){if(e!==this.editorVersion)this.beans.context.destroyBean(n);else{if(n.isCancelBeforeStart&&n.isCancelBeforeStart())return this.beans.context.destroyBean(n),void this.cellCtrl.stopEditing(!0);if(!n.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(n);this.cellEditor=n,this.cellEditorGui=n.getGui();var h=o||void 0!==n.isPopup&&n.isPopup();h?this.addPopupCellEditor(i,s):this.addInCellEditor(),this.refreshEditStyles(!0,h),n.afterGuiAttached&&n.afterGuiAttached()}},t.prototype.refreshEditStyles=function(e,n){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!n),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!n),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!n),null===(i=this.rowCtrl)||void 0===i||i.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),n=this.beans.gridOptionsService.getDocument();e.contains(n.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},t.prototype.addPopupCellEditor=function(e,n){var i=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new CP(e));var s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);var a=this.beans.popupService,c=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),h=n??(o.getPopupPosition?o.getPopupPosition():"over"),p=this.beans.gridOptionsService.is("enableRtl"),g={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:h,alignSide:p?"right":"left",keepWithinBounds:!0},m=a.positionPopupByComponent.bind(a,g),_=this.beans.localeService.getLocaleTextFunc(),w=a.addPopup({modal:c,eChild:s,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:m,ariaLabel:_("ariaLabelCellEditor","Cell Editor")});w&&(this.hideEditorPopup=w.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),r.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),n=this.beans.gridOptionsService.getDocument();e.contains(n.activeElement)&&tv()&&e.focus({preventScroll:!0}),Mi(this.getParentOfValue())},t}(Nt),_P=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wP=function(r){function t(e,n,i){var o=r.call(this)||this;o.cellComps={},o.beans=n,o.rowCtrl=e,o.setTemplate('<div comp-id="'+o.getCompId()+'" style="'+o.getInitialStyle(i)+'"/>');var s=o.getGui(),a=s.style;o.domOrder=o.rowCtrl.getDomOrder(),fi(s,"row");var c=o.rowCtrl.getTabIndex();return null!=c&&s.setAttribute("tabindex",c.toString()),e.setComp({setDomOrder:function(p){return o.domOrder=p},setCellCtrls:function(p){return o.setCellCtrls(p)},showFullWidth:function(p){return o.showFullWidth(p)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(p,g){return o.addOrRemoveCssClass(p,g)},setUserStyles:function(p){return Df(s,p)},setTop:function(p){return a.top=p},setTransform:function(p){return a.transform=p},setRowIndex:function(p){return s.setAttribute("row-index",p)},setRowId:function(p){return s.setAttribute("row-id",p)},setRowBusinessKey:function(p){return s.setAttribute("row-business-key",p)}},o.getGui(),i),o.addDestroyFunc(function(){e.unsetComp(i)}),o}return _P(t,r),t.prototype.getInitialStyle=function(e){var n=this.rowCtrl.getInitialTransform(e),i=this.rowCtrl.getInitialRowTop(e);return n?"transform: "+n:"top: "+i},t.prototype.showFullWidth=function(e){var n=this,o=e.newAgStackInstance();o&&o.then(function(s){if(n.isAlive()){var a=s.getGui();n.getGui().appendChild(a),n.rowCtrl.setupDetailRowAutoHeight(a),n.setFullWidthRowComp(s)}else n.beans.context.destroyBean(s)})},t.prototype.setCellCtrls=function(e){var n=this,i=Object.assign({},this.cellComps);e.forEach(function(s){var a=s.getInstanceId();null==n.cellComps[a]?n.newCellComp(s):i[a]=null});var o=ys(i).filter(function(s){return null!=s});this.destroyCells(o),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var n=this;if(this.domOrder){var i=[];e.forEach(function(o){var s=n.cellComps[o.getInstanceId()];s&&i.push(s.getGui())}),KC(this.getGui(),i)}},t.prototype.newCellComp=function(e){var n=new Xf(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=n,this.getGui().appendChild(n.getGui())},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=ys(this.cellComps).filter(function(n){return null!=n});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var n=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){n.fullWidthCellRenderer=n.beans.context.destroyBean(n.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var n=this;e.forEach(function(i){if(i){var o=i.getCtrl().getInstanceId();n.cellComps[o]===i&&(i.detach(),i.destroy(),n.cellComps[o]=null)}})},t}(Nt),SP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sd=function(){return Sd=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Sd.apply(this,arguments)},Ed=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lb=function(r){function t(){var e=r.call(this,function EP(){var r=Nt.elementGettingCreated.getAttribute("name"),t=V_.getRowContainerCssClasses(r);return r===ye.CENTER||r===ye.TOP_CENTER||r===ye.STICKY_TOP_CENTER||r===ye.BOTTOM_CENTER?'<div class="'+t.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+t.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+t.container+'" ref="eContainer"></div>'}())||this;return e.rowComps={},e.name=Nt.elementGettingCreated.getAttribute("name"),e.type=function qf(r){switch(r){case ye.CENTER:case ye.TOP_CENTER:case ye.STICKY_TOP_CENTER:case ye.BOTTOM_CENTER:return pi.CENTER;case ye.LEFT:case ye.TOP_LEFT:case ye.STICKY_TOP_LEFT:case ye.BOTTOM_LEFT:return pi.LEFT;case ye.RIGHT:case ye.TOP_RIGHT:case ye.STICKY_TOP_RIGHT:case ye.BOTTOM_RIGHT:return pi.RIGHT;case ye.FULL_WIDTH:case ye.TOP_FULL_WIDTH:case ye.STICKY_TOP_FULL_WIDTH:case ye.BOTTOM_FULL_WIDTH:return pi.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(e.name),e}return SP(t,r),t.prototype.postConstruct=function(){var e=this,n={setViewportHeight:function(o){return e.eViewport.style.height=o},setRowCtrls:function(o){return e.setRowCtrls(o)},setDomOrder:function(o){e.domOrder=o},setContainerWidth:function(o){return e.eContainer.style.width=o}};this.createManagedBean(new V_(this.name)).setComp(n,this.eContainer,this.eViewport)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var n=this,i=Sd({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(function(s){var a=s.getInstanceId(),c=i[a];if(c)n.rowComps[a]=c,delete i[a],n.ensureDomOrder(c.getGui());else{if(!s.getRowNode().displayed)return;var h=new wP(s,n.beans,n.type);n.rowComps[a]=h,n.appendRow(h.getGui())}}),ys(i).forEach(function(s){n.eContainer.removeChild(s.getGui()),s.destroy()}),fi(this.eContainer,e.length?"rowgroup":"presentation")},t.prototype.appendRow=function(e){this.domOrder?z0(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&($C(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},Ed([I("beans")],t.prototype,"beans",void 0),Ed([He("eViewport")],t.prototype,"eViewport",void 0),Ed([He("eContainer")],t.prototype,"eContainer",void 0),Ed([ke],t.prototype,"postConstruct",null),Ed([hi],t.prototype,"preDestroy",null),t}(Nt),Zf=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DP=function(){function r(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return r.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var n=t.dragItem.columns;n&&n.forEach(function(i){i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?e.columnsToAggregate.push(i):i.isAllowRowGroup()?e.columnsToGroup.push(i):i.isAllowPivot()&&e.columnsToPivot.push(i)))})}},r.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?ri.ICON_PINNED:ri.ICON_MOVE:null},r.prototype.onDragLeave=function(t){this.clearColumnsList()},r.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},r.prototype.onDragging=function(t){},r.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Zf([I("columnModel")],r.prototype,"columnModel",void 0),Zf([I("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),Qf=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bP=function(){function r(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!_e(t)}return r.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},r.prototype.getIconName=function(){return this.pinned?ri.ICON_PINNED:ri.ICON_MOVE},r.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===Ar.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var i=t.dragItem.visibleState,o=(e||[]).filter(function(s){return i[s.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},r.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var i=t.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,e,n)}},r.prototype.setColumnsPinned=function(t,e,n){if(void 0===n&&(n="api"),t){var i=t.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,e,n)}},r.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.normaliseX=function(t){return this.gridOptionsService.is("enableRtl")&&(t=this.eContainer.clientWidth-t),this.centerContainer&&(t+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},r.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},r.prototype.onDragging=function(t,e,n,i){var s,o=this;if(void 0===t&&(t=this.lastDraggingEvent),void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===i&&(i=!1),i){if(this.lastMovedInfo){var a=this.lastMovedInfo;this.moveColumns(a.columns,a.toIndex,"uiColumnMoved",!0)}}else if(this.lastDraggingEvent=t,!ht(t.hDirection)){var p=this.normaliseX(t.x);e||this.checkCenterForScrolling(p);var g=this.normaliseDirection(t.hDirection),m=t.dragSource.type,_=(null===(s=t.dragSource.getDragItem().columns)||void 0===s?void 0:s.filter(function(w){return!w.getColDef().lockPinned||w.getPinned()==o.pinned}))||[];this.attemptMoveColumns({dragSourceType:m,allMovingColumns:_,hDirection:g,mouseX:p,fromEnter:e,fakeEvent:n})}},r.prototype.normaliseDirection=function(t){if(!this.gridOptionsService.is("enableRtl"))return t;switch(t){case jo.Left:return jo.Right;case jo.Right:return jo.Left;default:console.error("AG Grid: Unknown direction "+t)}},r.prototype.attemptMoveColumns=function(t){var e=t.dragSourceType,n=t.hDirection,i=t.mouseX,o=t.fromEnter,s=t.fakeEvent,a=n===jo.Left,c=n===jo.Right,h=t.allMovingColumns;if(e===Ar.HeaderCell){var p=[];h.forEach(function(H){for(var U,W=null,re=H.getParent();null!=re&&1===re.getDisplayedLeafColumns().length;)W=re,re=re.getParent();null!=W?(null!==(U=W.getColGroupDef())&&void 0!==U&&U.marryChildren?W.getProvidedColumnGroup().getLeafColumns():W.getLeafColumns()).forEach(function(Ie){p.includes(Ie)||p.push(Ie)}):p.includes(H)||p.push(H)}),h=p}var g=h.slice();this.columnModel.sortColumnsLikeGridColumns(g);var m=this.calculateValidMoves(g,c,i),_=this.calculateOldIndex(g);if(0!==m.length){var w=m[0],E=null!==_&&!o;if(e==Ar.HeaderCell&&(E=null!==_),!E||s||!(a&&w>=_||c&&w<=_)){for(var b=this.columnModel.getAllDisplayedColumns(),R=[],T=null,A=0;A<m.length;A++){var x=m[A],P=this.columnModel.getProposedColumnOrder(g,x);if(this.columnModel.doesOrderPassRules(P)){var k=P.filter(function(H){return b.includes(H)});if(null===T)T=k;else if(!gt.areEqual(k,T))break;var V=this.groupFragCount(P);R.push({move:x,fragCount:V})}}0!==R.length&&(R.sort(function(H,U){return H.fragCount-U.fragCount}),this.moveColumns(h,R[0].move,"uiColumnMoved",!1))}}},r.prototype.calculateOldIndex=function(t){var e=this.columnModel.getAllGridColumns(),n=kg(t.map(function(c){return e.indexOf(c)})),i=n[0];return fn(n)-i!=n.length-1?null:i},r.prototype.moveColumns=function(t,e,n,i){this.columnModel.moveColumns(t,e,n,i),this.lastMovedInfo=i?null:{columns:t,toIndex:e}},r.prototype.groupFragCount=function(t){function e(s){for(var a=[],c=s.getOriginalParent();null!=c;)a.push(c),c=c.getOriginalParent();return a}for(var n=0,i=function(s){var a,c=e(t[s]),h=e(t[s+1]);a=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(c.length>h.length?[c,h]:[h,c],2),h=a[1],(c=a[0]).forEach(function(p){-1===h.indexOf(p)&&n++})},o=0;o<t.length-1;o++)i(o);return n},r.prototype.calculateValidMoves=function(t,e,n){if(this.gridOptionsService.is("suppressMovableColumns")||t.some(function(V){return V.getColDef().suppressMovable}))return[];var E,o=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=o.filter(function(V){return Xr(t,V)}),c=o.filter(function(V){return!Xr(t,V)}),h=s.filter(function(V){return!Xr(t,V)}),p=0,g=n;if(e){var m=0;a.forEach(function(V){return m+=V.getActualWidth()}),g-=m}if(g>0){for(var _=0;_<c.length&&!((g-=c[_].getActualWidth())<0);_++)p++;e&&p++}p>0?E=h.indexOf(c[p-1])+1:-1===(E=h.indexOf(c[0]))&&(E=0);var R=[E],T=function(V,H){return V-H};if(e){for(var A=E+1,x=s.length-1;A<=x;)R.push(A),A++;R.sort(T)}else{x=s.length-1;for(var P=s[A=E];A<=x&&this.isColumnHidden(o,P);)A++,R.push(A),P=s[A];for(A=E-1;A>=0;)R.push(A),A--;R.sort(T).reverse()}return R},r.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},r.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?ri.ICON_LEFT:ri.ICON_RIGHT,!0))},r.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(ri.ICON_MOVE))},r.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=n.scrollHorizontally(-t):this.needToMoveRight&&(e=n.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns.filter(function(a){return!a.getColDef().lockPinned});o.length>0&&(this.dragAndDropService.setGhostIcon(ri.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(o,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}},Qf([I("columnModel")],r.prototype,"columnModel",void 0),Qf([I("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Qf([I("gridOptionsService")],r.prototype,"gridOptionsService",void 0),Qf([I("ctrlsService")],r.prototype,"ctrlsService",void 0),Qf([ke],r.prototype,"init",null),r}(),OP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dd=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kv=function(r){function t(e,n){var i=r.call(this)||this;return i.pinned=e,i.eContainer=n,i}return OP(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){switch(e.pinned){case"left":e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.leftRowContainerCtrl.getContainerElement()],[n.bottomLeftRowContainerCtrl.getContainerElement()],[n.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.rightRowContainerCtrl.getContainerElement()],[n.bottomRightRowContainerCtrl.getContainerElement()],[n.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.centerRowContainerCtrl.getViewportElement()],[n.bottomCenterRowContainerCtrl.getViewportElement()],[n.topCenterRowContainerCtrl.getViewportElement()]]}})},t.prototype.isInterestedIn=function(e){return e===Ar.HeaderCell||e===Ar.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new bP(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new DP(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===Ar.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},Dd([I("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Dd([I("columnModel")],t.prototype,"columnModel",void 0),Dd([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Dd([ke],t.prototype,"postConstruct",null),Dd([ke],t.prototype,"init",null),t}(Re),B_=function(){function r(){}return r.getHeaderClassesFromColDef=function(t,e,n,i){return ht(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,n,i)},r.getToolPanelClassesFromColDef=function(t,e,n,i){return ht(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,n,i)},r.getClassParams=function(t,e,n,i){return{colDef:t,column:n,columnGroup:i,api:e.api,columnApi:e.columnApi,context:e.context}},r.getColumnClassesFromCollDef=function(t,e,n,i,o){return ht(t)?[]:"string"==typeof(s="function"==typeof t?t(this.getClassParams(e,n,i,o)):t)?[s]:Array.isArray(s)?function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(s)):[];var s},r}(),kb=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bd=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gb=function(r){function t(e){var n=r.call(this,t.TEMPLATE,e)||this;return n.headerCompVersion=0,n.column=e.getColumnGroupChild(),n.pinned=e.getPinned(),n}return kb(t,r),t.prototype.postConstruct=function(){var a,c,e=this,n=this.getGui();a="col-id",null!=(c=this.column.getColId())&&""!=c?n.setAttribute(a,c):n.removeAttribute(a);var o={setWidth:function(a){return n.style.width=a},addOrRemoveCssClass:function(a,c){return e.addOrRemoveCssClass(a,c)},setAriaDescription:function(a){return Vt(n,a)},setAriaSort:function(a){return a?M0(n,a):P0(n)},setUserCompDetails:function(a){return e.setUserCompDetails(a)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var n=this;this.headerCompVersion++;var i=this.headerCompVersion;e.newAgStackInstance().then(function(o){return n.afterCompCreated(i,o)})},t.prototype.afterCompCreated=function(e,n){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(n)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',bd([He("eResize")],t.prototype,"eResize",void 0),bd([He("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),bd([ke],t.prototype,"postConstruct",null),bd([hi],t.prototype,"destroyHeaderComp",null),t}(O_),AP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gv=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vb=function(r){function t(e){return r.call(this,t.TEMPLATE,e)||this}return AP(t,r),t.prototype.postConstruct=function(){var e=this,n=this.getGui();n.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:function(s,a){return e.addOrRemoveCssClass(s,a)},setResizableDisplayed:function(s){return en(e.eResize,s)},setWidth:function(s){return n.style.width=s},setAriaExpanded:function(s){return function(s,a){return null!=a?n.setAttribute(s,a):n.removeAttribute(s)}("aria-expanded",s)},setUserCompDetails:function(s){return e.setUserCompDetails(s)}},n,this.eResize)},t.prototype.setUserCompDetails=function(e){var n=this;e.newAgStackInstance().then(function(i){return n.afterHeaderCompCreated(i)})},t.prototype.afterHeaderCompCreated=function(e){var n=this,i=function(){return n.destroyBean(e)};if(this.isAlive()){var o=this.getGui(),s=e.getGui();o.appendChild(s),this.addDestroyFunc(i),this.ctrl.setDragSource(o)}else i()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Gv([I("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Gv([He("eResize")],t.prototype,"eResize",void 0),Gv([ke],t.prototype,"postConstruct",null),t}(O_),xP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hb=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gi=function(r){return r.COLUMN_GROUP="group",r.COLUMN="column",r.FLOATING_FILTER="filter",r}(gi||{}),j_=function(r){function t(e){var n=r.call(this)||this;return n.headerComps={},n.ctrl=e,n.setTemplate('<div class="'+n.ctrl.getHeaderRowClass()+'" role="row"></div>'),n}return xP(t,r),t.prototype.init=function(){var e=this;this.getGui().style.transform=this.ctrl.getTransform(),mf(this.getGui(),this.ctrl.getAriaRowIndex()),this.ctrl.setComp({setHeight:function(i){return e.getGui().style.height=i},setTop:function(i){return e.getGui().style.top=i},setHeaderCtrls:function(i,o){return e.setHeaderCtrls(i,o)},setWidth:function(i){return e.getGui().style.width=i}})},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},t.prototype.setHeaderCtrls=function(e,n){var i=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},e.forEach(function(c){var h=c.getInstanceId(),p=o[h];delete o[h],null==p&&(p=i.createHeaderComp(c),i.getGui().appendChild(p.getGui())),i.headerComps[h]=p}),jn(o,function(c,h){i.getGui().removeChild(h.getGui()),i.destroyBean(h)}),n){var s=ys(this.headerComps);s.sort(function(c,h){return c.getCtrl().getColumnGroupChild().getLeft()-h.getCtrl().getColumnGroupChild().getLeft()});var a=s.map(function(c){return c.getGui()});KC(this.getGui(),a)}}},t.prototype.createHeaderComp=function(e){var n;switch(this.ctrl.getType()){case gi.COLUMN_GROUP:n=new Vb(e);break;case gi.FLOATING_FILTER:n=new ak(e);break;default:n=new Gb(e)}return this.createBean(n),n.setParentComponent(this),n},Hb([ke],t.prototype,"init",null),Hb([hi],t.prototype,"destroyHeaderCtrls",null),t}(Nt),Bb=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jf=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},U_=0,Vv=function(r){function t(e,n){var i=r.call(this)||this;return i.lastFocusEvent=null,i.columnGroupChild=e,i.parentRowCtrl=n,i.instanceId=e.getUniqueId()+"-"+U_++,i}return Bb(t,r),t.prototype.shouldStopEventPropagation=function(e){var n=this.focusService.getFocusedHeader();return fv(this.gridOptionsService,e,n.headerRowIndex,n.column)},t.prototype.getWrapperHasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData()},t.prototype.handleKeyDown=function(e){var n=this.getWrapperHasFocus();switch(e.key){case ce.PAGE_DOWN:case ce.PAGE_UP:case ce.PAGE_HOME:case ce.PAGE_END:n&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,n=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,n,this),this.addDestroyFunc(function(){return e.gridOptionsService.setDomData(e.eGui,n,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Jf([I("focusService")],t.prototype,"focusService",void 0),Jf([I("beans")],t.prototype,"beans",void 0),Jf([I("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(Re),MP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),W_=function(r){function t(e,n,i,o){var s=r.call(this)||this;return s.columnOrGroup=e,s.eCell=n,s.ariaEl=s.eCell.querySelector("[role=columnheader]")||s.eCell,s.colsSpanning=o,s.beans=i,s}return MP(t,r),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?fn(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,hn.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),n=_e(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&n&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,n=this.getColumnOrGroup(),i=n.getLeft(),o=n.getOldLeft(),s=this.modifyLeftForPrintLayout(n,o),a=this.modifyLeftForPrintLayout(n,i);this.setLeft(s),this.actualLeft=a,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===a&&e.setLeft(a)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),n=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,n),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,n){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===e.getPinned())return n;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===e.getPinned()?o+this.beans.columnModel.getBodyContainerWidth()+n:o+n},t.prototype.setLeft=function(e){var n;if(_e(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof hn)n=this.columnOrGroup;else{var o=this.columnOrGroup.getLeafColumns();if(!o.length)return;o.length>1&&x0(this.ariaEl,o.length),n=o[0]}var s=this.beans.columnModel.getAriaColumnIndex(n);yf(this.ariaEl,s)},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([ke],t.prototype,"postConstruct",null),t}(Re),jb=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hv=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Bv=function(r){function t(e,n){var i=r.call(this)||this;return i.columns=e,i.element=n,i}return jb(t,r),t.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Hv([I("columnHoverService")],t.prototype,"columnHoverService",void 0),Hv([ke],t.prototype,"postConstruct",null),t}(Re),IP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jv=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ub=function(r){function t(e,n){var i=r.call(this,e,n)||this;return i.iconCreated=!1,i.column=e,i}return IP(t,r),t.prototype.setComp=function(e,n,i,o){r.prototype.setGui.call(this,n),this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,hn.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},t.prototype.setupActive=function(){var e=this.column.getColDef();this.active=!!e.filter&&!!e.floatingFilter},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),this.active&&!this.iconCreated){var e=Vn("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}},t.prototype.setupFocus=function(){this.createManagedBean(new il(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc();Es(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))},t.prototype.onTabKeyDown=function(e){if(this.gridOptionsService.getDocument().activeElement!==this.eGui){var s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void s.focus();var a=this.findNextColumnWithFloatingFilter(e.shiftKey);a&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:a},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var n=this.beans.columnModel,i=this.column;do{if(!(i=e?n.getDisplayedColBefore(i):n.getDisplayedColAfter(i)))break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},t.prototype.handleKeyDown=function(e){r.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();switch(e.key){case ce.UP:case ce.DOWN:n||e.preventDefault();case ce.LEFT:case ce.RIGHT:if(n)return;e.stopPropagation();case ce.ENTER:n&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case ce.ESCAPE:n||this.eGui.focus()}},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&vu(e.relatedTarget,"ag-floating-filter");if(i&&o&&e.target===this.eGui){var s=this.lastFocusEvent;s&&s&&s.key===ce.TAB&&this.focusService.focusInto(this.eGui,s.shiftKey)}var h=this.getRowIndex();this.beans.focusService.setFocusedHeader(h,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new Bv([this.column],this.eGui));var n=function(){if(e.gridOptionsService.is("columnHoverHighlight")){var i=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,N.EVENT_COLUMN_HOVER_CHANGED,n),n()},t.prototype.setupLeft=function(){var e=new W_(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupFilterButton=function(){var e=this.column.getColDef();this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton},t.prototype.setupUserComp=function(){var e=this;if(this.active){var n=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()});n&&this.setCompDetails(n)}},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setCompDetails(e)},t.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var n=function(i){var o=e.comp.getFloatingFilterComp();o&&o.then(function(s){if(s){var a=e.filterManager.getCurrentFloatingFilterParentModel(e.column);s.onParentModelChanged(a,i)}})};this.destroySyncListener=this.addManagedListener(this.column,hn.EVENT_FILTER_CHANGED,n),this.filterManager.isFilterActive(this.column)&&n(null)}},t.prototype.setupWidth=function(){var e=this,n=function(){var i=e.column.getActualWidth()+"px";e.comp.setWidth(i)};this.addManagedListener(this.column,hn.EVENT_WIDTH_CHANGED,n),n()},t.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,hn.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))},t.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},t.prototype.onColDefChanged=function(){var n,i,e=this,o=this.active;this.setupActive();var s=!o&&this.active;o&&!this.active&&(null===(n=this.destroySyncListener)||void 0===n||n.call(this),null===(i=this.destroyFilterChangedListener)||void 0===i||i.call(this));var a=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()}):null,c=this.comp.getFloatingFilterComp();c&&a?c.then(function(h){var p;!h||e.filterManager.areFilterCompsDifferent(null!==(p=e.userCompDetails)&&void 0!==p?p:null,a)?e.updateCompDetails(a,s):e.updateFloatingFilterParams(a)}):this.updateCompDetails(a,s)},t.prototype.updateCompDetails=function(e,n){this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())},t.prototype.updateFloatingFilterParams=function(e){var n;if(e){var i=e.params;null===(n=this.comp.getFloatingFilterComp())||void 0===n||n.then(function(o){o?.onParamsUpdated&&"function"==typeof o.onParamsUpdated&&o.onParamsUpdated(i)})}},jv([I("filterManager")],t.prototype,"filterManager",void 0),jv([I("columnHoverService")],t.prototype,"columnHoverService",void 0),jv([I("menuFactory")],t.prototype,"menuFactory",void 0),t}(Vv),FP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Uv=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wb=function(r){function t(e,n,i,o,s){var a=r.call(this)||this;return a.pinned=e,a.column=n,a.eResize=i,a.comp=o,a.ctrl=s,a}return FP(t,r),t.prototype.postConstruct=function(){var o,s,e=this,n=this.column.getColDef(),i=[],c=function(){i.forEach(function(p){return p()}),i.length=0},h=function(){var p=e.column.isResizable(),g=!e.gridOptionsService.is("suppressAutoSize")&&!n.suppressAutoSize;(p!==o||g!==s)&&(o=p,s=g,c(),function(){if(en(e.eResize,o),o){var p=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(i.push(p),s){var g=e.gridOptionsService.is("skipHeaderOnAutoSize"),m=function(){e.columnModel.autoSizeColumn(e.column,g,"uiColumnResized")};e.eResize.addEventListener("dblclick",m);var _=new Jr(e.eResize);_.addEventListener(Jr.EVENT_DOUBLE_TAP,m),e.addDestroyFunc(function(){e.eResize.removeEventListener("dblclick",m),_.removeEventListener(Jr.EVENT_DOUBLE_TAP,m),_.destroy()})}}}())};h(),this.addDestroyFunc(c),this.ctrl.addRefreshFunction(h)},t.prototype.onResizing=function(e,n){var i=this.normaliseResizeAmount(n);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+i}],this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.normaliseResizeAmount=function(e){var n=e,i="left"!==this.pinned,o="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?i&&(n*=-1):o&&(n*=-1),n},Uv([I("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Uv([I("columnModel")],t.prototype,"columnModel",void 0),Uv([ke],t.prototype,"postConstruct",null),t}(Re),LP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ep=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NP=function(r){function t(e){var n=r.call(this)||this;n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=e;var i=e.getColDef();return n.filteredOnly=!!i?.headerCheckboxSelectionFilteredOnly,n.currentPageOnly=!!i?.headerCheckboxSelectionCurrentPageOnly,n}return LP(t,r),t.prototype.onSpaceKeyDown=function(e){var n=this.cbSelectAll,i=this.gridOptionsService.getDocument();n.isDisplayed()&&!n.getGui().contains(i.activeElement)&&(e.preventDefault(),n.setValue(!n.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Cv),this.cbSelectAll.addCssClass("ag-header-select-all"),fi(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,N.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,N.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,N.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),$g(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?o+" ("+i+")":null),this.cbSelectAll.setInputAriaLabel(o+" ("+i+")"),this.headerCellCtrl.refreshAriaDescription()},t.prototype.checkSelectionType=function(e){return!("multiple"!==this.gridOptionsService.get("rowSelection")&&(console.warn("AG Grid: "+e+" is only available if using 'multiple' rowSelection."),1))},t.prototype.checkRightRowModelType=function(e){var n=this.rowModel.getType();return!("clientSide"!==n&&"serverSide"!==n&&(console.warn("AG Grid: "+e+" is only available if using 'clientSide' or 'serverSide' rowModelType, you are using "+n+"."),1))},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),n="uiSelectAll";this.currentPageOnly?n="uiSelectAllCurrentPage":this.filteredOnly&&(n="uiSelectAllFiltered");var i={source:n,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};e?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context})),!!e&&this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection")},ep([I("gridApi")],t.prototype,"gridApi",void 0),ep([I("columnApi")],t.prototype,"columnApi",void 0),ep([I("rowModel")],t.prototype,"rowModel",void 0),ep([I("selectionService")],t.prototype,"selectionService",void 0),t}(Re),ar=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pu=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tp=function(r){return r.TAB_GUARD="ag-tab-guard",r.TAB_GUARD_TOP="ag-tab-guard-top",r.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",r}(tp||{}),kP=function(r){function t(e){var n=r.call(this)||this;n.skipTabGuardFocus=!1;var o=e.eTopGuard,s=e.eBottomGuard,a=e.focusInnerElement,c=e.onFocusIn,h=e.onFocusOut,p=e.shouldStopEventPropagation,g=e.onTabKeyDown,m=e.handleKeyDown,_=e.eFocusableElement;return n.comp=e.comp,n.eTopGuard=o,n.eBottomGuard=s,n.providedFocusInnerElement=a,n.eFocusableElement=_,n.providedFocusIn=c,n.providedFocusOut=h,n.providedShouldStopEventPropagation=p,n.providedOnTabKeyDown=g,n.providedHandleKeyDown=m,n}return ar(t,r),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new il(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)},onFocusIn:function(n){return e.onFocusIn(n)},onFocusOut:function(n){return e.onFocusOut(n)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(n){return e.addManagedListener(n,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){var e=this.gridOptionsService.getNum("tabIndex")||0;this.comp.setTabIndex(e.toString())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var n=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(n):this.focusInnerElement(n)}},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var n=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!e.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var o=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(function(){return n.activateTabGuards()},0),o&&(o.focus(),e.preventDefault())}},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var n=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(n.splice(0,1),n.splice(n.length-1,1)),n.length&&n[e?n.length-1:0].focus({preventScroll:!0})},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1);var n=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,n.focus()},Pu([I("focusService")],t.prototype,"focusService",void 0),Pu([ke],t.prototype,"postConstruct",null),t}(Re),fk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wv=function(){return Wv=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Wv.apply(this,arguments)},Lr=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},np=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}var e;return fk(t,r),e=t,t.addKeyboardModeEvents=function(n,i){var o=e.instancesMonitored.get(n);o&&o.length>0?-1===o.indexOf(i)&&o.push(i):(e.instancesMonitored.set(n,[i]),n.addEventListener("keydown",e.toggleKeyboardMode),n.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(n,i){var o=e.instancesMonitored.get(n),s=[];o&&o.length&&(s=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(o)).filter(function(a){return a!==i}),e.instancesMonitored.set(n,s)),0===s.length&&(n.removeEventListener("keydown",e.toggleKeyboardMode),n.removeEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(n){var i=e.keyboardModeActive,o="keydown"===n.type;if(!(o&&(n.ctrlKey||n.metaKey||n.altKey)||i&&o||!i&&!o)){e.keyboardModeActive=o;var s=n.target.ownerDocument;if(s){var a=e.instancesMonitored.get(s);a&&a.forEach(function(c){c.dispatchEvent({type:o?N.EVENT_KEYBOARD_FOCUS:N.EVENT_MOUSE_FOCUS})})}}},t.prototype.init=function(){var n=this,i=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,N.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,N.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_COLUMN_GROUP_OPENED,i),this.addManagedListener(this.eventService,N.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.ctrlsService.whenReady(function(o){n.gridCtrl=o.gridCtrl;var s=n.gridOptionsService.getDocument();e.addKeyboardModeEvents(s,n.gridCtrl),n.addDestroyFunc(function(){return n.unregisterGridCompController(n.gridCtrl)})})},t.prototype.unregisterGridCompController=function(n){var i=this.gridOptionsService.getDocument();e.removeKeyboardModeEvents(i,n)},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var n=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(n.getId());n!==i&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(n.activeElement,Mu.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(n.activeElement,Vv.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(n,i){for(var o=n;o;){if(this.gridOptionsService.getDomData(o,i))return!1;o=o.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.shouldRestoreFocus=function(n){var i=this;return!!this.isCellRestoreFocused(n)&&(setTimeout(function(){i.restoredFocusedCellPosition=null},0),!0)},t.prototype.isCellRestoreFocused=function(n){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(n,this.restoredFocusedCellPosition)},t.prototype.setRestoreFocusedCell=function(n){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=n)},t.prototype.getFocusEventParams=function(){var n=this.focusedCellPosition,i=n.rowIndex,o=n.rowPinned,a={rowIndex:i,rowPinned:o,column:n.column,isFullWidthCell:!1},c=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:o});return c&&(a.isFullWidthCell=c.isFullWidth()),a},t.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,null!=this.focusedCellPosition){var n=Wv({type:N.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(n)}},t.prototype.setFocusedCell=function(n){var o=n.rowIndex,s=n.rowPinned,a=n.forceBrowserFocus,c=void 0!==a&&a,h=n.preventScrollOnBrowserFocus,p=void 0!==h&&h,g=this.columnModel.getGridColumn(n.column);if(g){this.focusedCellPosition=g?{rowIndex:o,rowPinned:ms(s),column:g}:null;var m=Wv(Wv({type:N.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:c,preventScrollOnBrowserFocus:p,floating:null});this.eventService.dispatchEvent(m)}else this.focusedCellPosition=null},t.prototype.isCellFocused=function(n){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(n,this.focusedCellPosition)},t.prototype.isRowNodeFocused=function(n){return this.isRowFocused(n.rowIndex,n.rowPinned)},t.prototype.isHeaderWrapperFocused=function(n){if(null==this.focusedHeaderPosition)return!1;var i=n.getColumnGroupChild(),o=n.getRowIndex(),s=n.getPinned(),a=this.focusedHeaderPosition,c=a.column;return i===c&&o===a.headerRowIndex&&s==c.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(n,i){this.focusedHeaderPosition={headerRowIndex:n,column:i}},t.prototype.focusHeaderPosition=function(n){var i=n.direction,o=n.fromTab,s=n.allowUserOverride,a=n.event,h=n.headerPosition;if(n.fromCell&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(h);if(s){var m,p=this.getFocusedHeader(),g=this.headerNavigationService.getHeaderRowCount();o?(m=this.gridOptionsService.getCallback("tabToNextHeader"))&&(h=m({backwards:"Before"===i,previousHeaderPosition:p,nextHeaderPosition:h,headerRowCount:g})):(m=this.gridOptionsService.getCallback("navigateToNextHeader"))&&a&&(h=m({key:a.key,previousHeaderPosition:p,nextHeaderPosition:h,headerRowCount:g,event:a}))}return!!h&&(-1===h.headerRowIndex?this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(h):this.focusGridView(h.column):(this.headerNavigationService.scrollToColumn(h.column,i),this.ctrlsService.getHeaderRowContainerCtrl(h.column.getPinned()).focusHeader(h.headerRowIndex,h.column,a)))},t.prototype.focusFirstHeader=function(){var n=this.columnModel.getAllDisplayedColumns()[0];return!!n&&(n.getParent()&&(n=this.columnModel.getColumnGroupAtLevel(n,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:n}}))},t.prototype.focusLastHeader=function(n){var i=this.headerNavigationService.getHeaderRowCount()-1,o=fn(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:o},event:n})},t.prototype.focusPreviousFromFirstCell=function(n){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(n)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(n,i){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===n&&this.focusedCellPosition.rowPinned===ms(i)},t.prototype.findFocusableElements=function(n,i,o){void 0===o&&(o=!1);var a=ed;i&&(a+=", "+i),o&&(a+=', [tabindex="-1"]');var m,c=Array.prototype.slice.apply(n.querySelectorAll(W0)),h=Array.prototype.slice.apply(n.querySelectorAll(a));return h.length?(m=h,c.filter(function(_){return-1===m.indexOf(_)})):c},t.prototype.focusInto=function(n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var s=this.findFocusableElements(n,null,o),a=i?fn(s):s[0];return!!a&&(a.focus({preventScroll:!0}),!0)},t.prototype.findFocusableElementBeforeTabGuard=function(n,i){if(!i)return null;var o=this.findFocusableElements(n),s=o.indexOf(i);if(-1===s)return null;for(var a=-1,c=s-1;c>=0;c--)if(o[c].classList.contains(tp.TAB_GUARD_TOP)){a=c;break}return a<=0?null:o[a-1]},t.prototype.findNextFocusableElement=function(n,i,o){void 0===n&&(n=this.eGridDiv);var s=this.findFocusableElements(n,i?':not([tabindex="-1"])':null),c=this.gridOptionsService.getDocument().activeElement,p=(i?s.findIndex(function(g){return g.contains(c)}):s.indexOf(c))+(o?-1:1);return p<0||p>=s.length?null:s[p]},t.prototype.isTargetUnderManagedComponent=function(n,i){if(!i)return!1;var o=n.querySelectorAll("."+il.FOCUS_MANAGED_CLASS);if(!o.length)return!1;for(var s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1},t.prototype.findTabbableParent=function(n,i){void 0===i&&(i=5);for(var o=0;n&&null===nv(n)&&++o<=i;)n=n.parentElement;return null===nv(n)?null:n},t.prototype.focusGridView=function(n,i){if(this.gridOptionsService.is("suppressCellFocus"))return i?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var s=o.rowIndex,a=o.rowPinned,c=this.getFocusedHeader();return!n&&c&&(n=c.column),!(null==s||!n)&&(this.navigationService.ensureCellVisible({rowIndex:s,column:n,rowPinned:a}),this.setFocusedCell({rowIndex:s,column:n,rowPinned:ms(a),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:s,rowPinned:a,column:n}),!0)},t.prototype.focusNextGridCoreContainer=function(n,i){return void 0===i&&(i=!1),!(i||!this.gridCtrl.focusNextInnerContainer(n))||((i||!n&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(n),!1)},t.prototype.focusAdvancedFilter=function(n){return this.advancedFilterFocusColumn=n?.column,this.advancedFilterService.getCtrl().focusHeaderComp()},t.prototype.focusNextFromAdvancedFilter=function(n,i){var o,s,a=null!==(o=i?void 0:this.advancedFilterFocusColumn)&&void 0!==o?o:null===(s=this.columnModel.getAllDisplayedColumns())||void 0===s?void 0:s[0];return n?this.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(a)},t.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0},t.AG_KEYBOARD_FOCUS="ag-keyboard-focus",t.keyboardModeActive=!1,t.instancesMonitored=new Map,Lr([I("eGridDiv")],t.prototype,"eGridDiv",void 0),Lr([I("columnModel")],t.prototype,"columnModel",void 0),Lr([I("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Lr([I("rowRenderer")],t.prototype,"rowRenderer",void 0),Lr([I("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Lr([I("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Lr([sn("rangeService")],t.prototype,"rangeService",void 0),Lr([I("navigationService")],t.prototype,"navigationService",void 0),Lr([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Lr([I("filterManager")],t.prototype,"filterManager",void 0),Lr([sn("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Lr([ke],t.prototype,"init",null),e=Lr([tt("focusService")],t)}(Re),gk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),eo=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GP=function(r){function t(e,n){var i=r.call(this,e,n)||this;return i.refreshFunctions=[],i.userHeaderClasses=new Set,i.ariaDescriptionProperties=new Map,i.column=e,i}return gk(t,r),t.prototype.setComp=function(e,n,i,o){var s=this;r.prototype.setGui.call(this,n),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterCss(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new Wb(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new Bv([this.column],n)),this.createManagedBean(new W_(this.column,n,this.beans)),this.createManagedBean(new il(n,{shouldStopEventPropagation:function(a){return s.shouldStopEventPropagation(a)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addMouseDownListenerIfNeeded(n),this.addManagedListener(this.column,hn.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addMouseDownListenerIfNeeded=function(e){var n=this;if(Or()){var o=this.gridOptionsService.getDocument();["mousedown","touchstart"].forEach(function(s){n.addManagedListener(e,s,function(a){var c=o.activeElement;c!==e&&!e.contains(c)&&(e.focus(),np.toggleKeyboardMode(a))})})}},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,e)},t.prototype.createParams=function(){var e=this,n=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:n.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(o){e.gridApi.showColumnMenuAfterButtonClick(e.column,o)},progressSort:function(o){e.sortController.progressSort(e.column,!!o,"uiColumnSorted")},setSort:function(o,s){e.sortController.setSortForColumn(e.column,o,!!s,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new NP(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){r.prototype.handleKeyDown.call(this,e),e.key===ce.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===ce.ENTER&&this.onEnterKeyDown(e)},t.prototype.onEnterKeyDown=function(e){var n=this.comp.getUserCompInstance();n&&(e.ctrlKey||e.metaKey?this.menuEnabled&&n.showMenu&&(e.preventDefault(),n.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var n=this.getRowIndex();this.focusService.setFocusedHeader(n,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,i=this.createManagedBean(new x_({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return e.column.getColDef().headerTooltip}},this.beans));i.setComp(this.eGui),this.refreshFunctions.push(function(){return i.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,n=function(){var i=e.column.getColDef(),o=B_.getHeaderClassesFromColDef(i,e.gridOptionsService,e.column,null),s=e.userHeaderClasses;e.userHeaderClasses=new Set(o),o.forEach(function(a){s.has(a)?s.delete(a):e.comp.addOrRemoveCssClass(a,!0)}),s.forEach(function(a){return e.comp.addOrRemoveCssClass(a,!1)})};this.refreshFunctions.push(n),n()},t.prototype.setDragSource=function(e){var n=this;if(this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable){var i=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:Ar.HeaderCell,eElement:e,getDefaultIconName:function(){return i?ri.ICON_HIDE:ri.ICON_NOT_ALLOWED},getDragItem:function(){return n.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){i=!n.gridOptionsService.is("suppressDragLeaveHidesColumns"),n.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return n.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(o){var s;if(i){var a=(null===(s=o?.columns)||void 0===s?void 0:s.filter(function(c){return!c.getColDef().lockVisible}))||[];n.columnModel.setColumnsVisible(a,!0,"uiColumnMoved")}},onGridExit:function(o){var s;if(i){var a=(null===(s=o?.columns)||void 0===s?void 0:s.filter(function(c){return!c.getColDef().lockVisible}))||[];n.columnModel.setColumnsVisible(a,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},t.prototype.onColDefChanged=function(){this.refresh()},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var n=this.comp.getUserCompInstance();return!(!n||!n.refresh)&&n.refresh(e)},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!(this.gridOptionsService.is("suppressMovableColumns")||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,n=function(){var i=e.column.getActualWidth();e.comp.setWidth(i+"px")};this.addManagedListener(this.column,hn.EVENT_WIDTH_CHANGED,n),n()},t.prototype.setupMovingCss=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,hn.EVENT_MOVING_CHANGED,n),n()},t.prototype.setupMenuClass=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,hn.EVENT_MENU_VISIBLE_CHANGED,n),n()},t.prototype.setupSortableClass=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};n(),this.addRefreshFunction(n),this.addManagedListener(this.eventService,hn.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupWrapTextClass=function(){var e=this,n=function(){var i=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};n(),this.addRefreshFunction(n)},t.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},t.prototype.refreshSpanHeaderHeight=function(){var e=this,n=e.eGui,o=e.comp,s=e.columnModel,a=e.gridOptionsService;if(e.column.isSpanHeaderHeight()){var c=this.getColumnGroupPaddingInfo(),h=c.numberOfParents,p=c.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",h>0);var g=s.getColumnHeaderRowHeight();if(0===h)return o.addOrRemoveCssClass("ag-header-span-total",!1),n.style.setProperty("top","0px"),void n.style.setProperty("height",g+"px");o.addOrRemoveCssClass("ag-header-span-total",p);var w=h*(a.is("pivotMode")?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight());n.style.setProperty("top",-w+"px"),n.style.setProperty("height",g+w+"px")}},t.prototype.getColumnGroupPaddingInfo=function(){var e=this.column.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var n=e.getPaddingLevel()+1,i=!0;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:n,isSpanningTotal:i}},t.prototype.setupAutoHeight=function(e){var s,n=this,i=function(p){if(n.isAlive()){var g=ea(n.getGui()),T=e.offsetHeight+(g.paddingTop+g.paddingBottom+g.borderBottomWidth+g.borderTopWidth);if(p<5){var A=n.beans.gridOptionsService.getDocument();if(!A||!A.contains(e)||0==T)return void n.beans.frameworkOverrides.setTimeout(function(){return i(p+1)},0)}n.columnModel.setColumnHeaderHeight(n.column,T)}},o=!1,a=function(){var p=n.column.isAutoHeaderHeight();p&&!o&&c(),!p&&o&&h()},c=function(){o=!0,i(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=n.resizeObserverService.observeResize(e,function(){return i(0)})},h=function(){o=!1,s&&s(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};a(),this.addDestroyFunc(function(){return h()}),this.addManagedListener(this.column,hn.EVENT_WIDTH_CHANGED,function(){return o&&i(0)}),this.addManagedListener(this.eventService,hn.EVENT_SORT_CHANGED,function(){o&&n.beans.frameworkOverrides.setTimeout(function(){return i(0)})}),this.addRefreshFunction(a)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),n=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(gf(n)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.setAriaDescriptionProperty=function(e,n){null!=n?this.ariaDescriptionProperties.set(e,n):this.ariaDescriptionProperties.delete(e)},t.prototype.refreshAriaDescription=function(){var e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},t.prototype.addColumnHoverListener=function(){var e=this,n=function(){if(e.gridOptionsService.is("columnHoverHighlight")){var i=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,N.EVENT_COLUMN_HOVER_CHANGED,n),n()},t.prototype.setupFilterCss=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-header-cell-filtered",e.column.isFilterActive())};this.addManagedListener(this.column,hn.EVENT_FILTER_ACTIVE_CHANGED,n),n()},t.prototype.getColId=function(){return this.column.getColId()},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,n=function(i){return e.setActiveHeader("mouseenter"===i.type)};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},eo([I("columnModel")],t.prototype,"columnModel",void 0),eo([I("columnHoverService")],t.prototype,"columnHoverService",void 0),eo([I("sortController")],t.prototype,"sortController",void 0),eo([I("menuFactory")],t.prototype,"menuFactory",void 0),eo([I("dragAndDropService")],t.prototype,"dragAndDropService",void 0),eo([I("resizeObserverService")],t.prototype,"resizeObserverService",void 0),eo([I("gridApi")],t.prototype,"gridApi",void 0),eo([I("columnApi")],t.prototype,"columnApi",void 0),eo([hi],t.prototype,"removeDragSource",null),t}(Vv),$_=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zv=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zb=function(r){function t(e,n,i,o){var s=r.call(this)||this;return s.eResize=n,s.comp=e,s.pinned=i,s.columnGroup=o,s}return $_(t,r),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(n),!this.gridOptionsService.is("suppressAutoSize")){var i=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[];e.columnGroup.getDisplayedLeafColumns().forEach(function(a){a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&e.columnModel.autoSizeColumns({columns:o,skipHeader:i,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit("uiColumnResized")})}}else this.comp.setResizableDisplayed(!1)},t.prototype.onResizeStart=function(e){var n=this;this.calculateInitialValues();var i=null;if(e&&(i=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),i){var o=i.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter(function(s){return s.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(s){return n.resizeTakeFromStartWidth+=s.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(s){return n.resizeTakeFromRatios.push(s.getActualWidth()/n.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.onResizing=function(e,n,i){void 0===i&&(i="uiColumnResized");var o=this.normaliseDragChange(n);this.resizeColumns(this.resizeStartWidth+o,i,e)},t.prototype.resizeLeafColumnsToFit=function(e){var n=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),n>this.resizeStartWidth&&this.resizeColumns(n,e,!0)},t.prototype.resizeColumns=function(e,n,i){void 0===i&&(i=!0);var o=[];o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols&&o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(e-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:o,finished:i,source:n}),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.calculateInitialValues=function(){var e=this,n=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=n.filter(function(i){return i.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(i){return e.resizeStartWidth+=i.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(i){return e.resizeRatios.push(i.getActualWidth()/e.resizeStartWidth)})},t.prototype.normaliseDragChange=function(e){var n=e;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(n*=-1):"right"===this.pinned&&(n*=-1),n},zv([I("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),zv([I("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),zv([I("columnModel")],t.prototype,"columnModel",void 0),zv([ke],t.prototype,"postConstruct",null),t}(Re),VP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),BP=function(r){function t(e,n){var i=r.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=n,i.comp=e,i}return VP(t,r),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Ai.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var n=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(i){i.addEventListener("widthChanged",n),i.addEventListener("visibleChanged",n),e.removeChildListenersFuncs.push(function(){i.removeEventListener("widthChanged",n),i.removeEventListener("visibleChanged",n)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth(e+"px"),this.comp.addOrRemoveCssClass("ag-hidden",0===e)},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([ke],t.prototype,"postConstruct",null),t}(Re),K_=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ip=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jP=function(r){function t(e,n){var i=r.call(this,e,n)||this;return i.columnGroup=e,i}return K_(t,r),t.prototype.setComp=function(e,n,i){r.prototype.setGui.call(this,n),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),s=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Bv(s,n)),this.createManagedBean(new W_(this.columnGroup,n,this.beans)),this.createManagedBean(new BP(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new zb(e,i,o,this.columnGroup)),this.createManagedBean(new il(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.resizeLeafColumnsToFit=function(e){this.groupResizeFeature&&this.groupResizeFeature.resizeLeafColumnsToFit(e)},t.prototype.setupUserComp=function(){var e=this,n=this.displayName,i={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(h){e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(),h,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!n){for(var o=this.columnGroup,s=o.getLeafColumns();o.getParent()&&o.getParent().getLeafColumns().length===s.length;)o=o.getParent();var a=o.getColGroupDef();a&&(n=a.headerName),n||(n=s?this.columnModel.getDisplayNameForColumn(s[0],"header",!0):"")}var c=this.userComponentFactory.getHeaderGroupCompDetails(i);this.comp.setUserCompDetails(c)},t.prototype.setupTooltip=function(){var e=this,n=this.columnGroup.getColGroupDef(),i={getColumn:function(){return e.columnGroup},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return n&&n.headerTooltip}};n&&(i.getColDef=function(){return n}),this.createManagedBean(new x_(i,this.beans)).setComp(this.eGui)},t.prototype.setupExpandable=function(){var e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,ni.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,ni.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.columnGroup;this.expandable=e.isExpandable();var n=e.isExpanded();this.comp.setAriaExpanded(this.expandable?n?"true":"false":void 0)},t.prototype.getColId=function(){return this.columnGroup.getUniqueId()},t.prototype.addClasses=function(){var e=this,n=this.columnGroup.getColGroupDef(),i=B_.getHeaderClassesFromColDef(n,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(i.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every(function(s){return s.isSpanHeaderHeight()})&&i.push("ag-header-span-height")):i.push("ag-header-group-cell-with-group"),i.forEach(function(s){return e.comp.addOrRemoveCssClass(s,!0)})},t.prototype.setupMovingCss=function(){var e=this,i=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.columnGroup.isMoving())};i.forEach(function(s){e.addManagedListener(s,hn.EVENT_MOVING_CHANGED,o)}),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.columnGroup)}},t.prototype.handleKeyDown=function(e){r.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();if(this.expandable&&n&&e.key===ce.ENTER){var i=this.columnGroup,o=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),o,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var n=this;if(!this.isSuppressMoving()){var i=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),s={type:Ar.HeaderCell,eElement:e,getDefaultIconName:function(){return o?ri.ICON_HIDE:ri.ICON_NOT_ALLOWED},dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){o=!n.gridOptionsService.is("suppressDragLeaveHidesColumns"),i.forEach(function(a){return a.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return i.forEach(function(a){return a.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(a){var c;if(o){var h=(null===(c=a?.columns)||void 0===c?void 0:c.filter(function(p){return!p.getColDef().lockVisible}))||[];n.columnModel.setColumnsVisible(h,!0,"uiColumnMoved")}},onGridExit:function(a){var c;if(o){var h=(null===(c=a?.columns)||void 0===c?void 0:c.filter(function(p){return!p.getColDef().lockVisible}))||[];n.columnModel.setColumnsVisible(h,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(s,!0),this.addDestroyFunc(function(){return n.dragAndDropService.removeDragSource(s)})}},t.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),n={};e.forEach(function(o){return n[o.getId()]=o.isVisible()});var i=[];return this.columnModel.getAllDisplayedColumns().forEach(function(o){e.indexOf(o)>=0&&(i.push(o),qr(e,o))}),e.forEach(function(o){return i.push(o)}),{columns:i,visibleState:n}},t.prototype.isSuppressMoving=function(){var e=!1;return this.columnGroup.getLeafColumns().forEach(function(i){(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.is("suppressMovableColumns")},ip([I("columnModel")],t.prototype,"columnModel",void 0),ip([I("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ip([I("gridApi")],t.prototype,"gridApi",void 0),ip([I("columnApi")],t.prototype,"columnApi",void 0),t}(Vv),$v=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Od=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vk=0,Kv=function(r){function t(e,n,i){var o=r.call(this)||this;return o.instanceId=vk++,o.headerCellCtrls={},o.rowIndex=e,o.pinned=n,o.type=i,o.headerRowClass="ag-header-row "+(i==gi.COLUMN_GROUP?"ag-header-row-column-group":i==gi.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column"),o}return $v(t,r),t.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.is("ensureDomOrder")},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,n){void 0===n&&(n=!0),this.comp=e,n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},t.prototype.getHeaderRowClass=function(){return this.headerRowClass},t.prototype.getAriaRowIndex=function(){return this.rowIndex+1},t.prototype.getTransform=function(){if(Or())return"translateZ(0)"},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,N.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_VIRTUAL_COLUMNS_CHANGED,function(n){return e.onVirtualColumnsChanged(n.afterScroll)}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(n){return e.isEnsureDomOrder=n.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){return du(this.headerCellCtrls).find(function(n){return n.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth(e+"px")},t.prototype.getWidthForRow=function(){return this.isPrintLayout?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.getTopAndHeight(),i=e.rowHeight;this.comp.setTop(e.topOffset+"px"),this.comp.setHeight(i+"px")},t.prototype.getTopAndHeight=function(){var e=this.columnModel.getHeaderRowCount(),n=[],i=0;this.filterManager.hasFloatingFilters()&&(e++,i=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),c=e-(1+i),h=0;h<c;h++)n.push(o);for(n.push(s),h=0;h<i;h++)n.push(this.columnModel.getFloatingFiltersHeight());var p=0;for(h=0;h<this.rowIndex;h++)p+=n[h];return{topOffset:p,rowHeight:n[this.rowIndex]}},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(e){void 0===e&&(e=!1);var n=this.getHeaderCtrls();this.comp.setHeaderCtrls(n,this.isEnsureDomOrder||this.isPrintLayout,e)},t.prototype.getHeaderCtrls=function(){var e=this,n=this.headerCellCtrls;return this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(a){if(!a.isEmptyGroup()){var c=a.getUniqueId(),h=n[c];if(delete n[c],h&&h.getColumnGroupChild()!=a&&(e.destroyBean(h),h=void 0),null==h)switch(e.type){case gi.FLOATING_FILTER:h=e.createBean(new Ub(a,e));break;case gi.COLUMN_GROUP:h=e.createBean(new jP(a,e));break;default:h=e.createBean(new GP(a,e))}e.headerCellCtrls[c]=h}}),jn(n,function(a,c){var h=function(a){return!!e.focusService.isHeaderWrapperFocused(a)&&e.columnModel.isDisplayed(a.getColumnGroupChild())}(c);h?e.headerCellCtrls[a]=c:e.destroyBean(c)}),ys(this.headerCellCtrls)},t.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(null!=this.pinned)return[];var n=[],i=this.getActualDepth();return["left",null,"right"].forEach(function(o){var s=e.columnModel.getVirtualHeaderGroupRow(o,i);n=n.concat(s)}),n},t.prototype.getActualDepth=function(){return this.type==gi.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,n){var o=ys(this.headerCellCtrls).find(function(s){return s.getColumnGroupChild()==e});return!!o&&(o.focus(n),!0)},t.prototype.destroy=function(){var e=this;jn(this.headerCellCtrls,function(n,i){e.destroyBean(i)}),this.headerCellCtrls={},r.prototype.destroy.call(this)},Od([I("columnModel")],t.prototype,"columnModel",void 0),Od([I("focusService")],t.prototype,"focusService",void 0),Od([I("filterManager")],t.prototype,"filterManager",void 0),Od([ke],t.prototype,"postConstruct",null),t}(Re),UP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Iu=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$b=function(r){function t(e){var n=r.call(this)||this;return n.hidden=!1,n.includeFloatingFilter=!1,n.groupsRowCtrls=[],n.pinned=e,n}return UP(t,r),t.prototype.setComp=function(e,n){this.comp=e,this.eViewport=n,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,N.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var n=new kv(this.pinned,e);this.createManagedBean(n)},t.prototype.refresh=function(e){var n=this;void 0===e&&(e=!1);var p,g,i=new Su,o=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var p=n.columnModel.getHeaderRowCount()-1;n.groupsRowCtrls=n.destroyBeans(n.groupsRowCtrls);for(var g=0;g<p;g++){var m=n.createBean(new Kv(i.next(),n.pinned,gi.COLUMN_GROUP));n.groupsRowCtrls.push(m)}})(),p=i.next(),((g=!(n.hidden||null!=n.columnsRowCtrl&&e&&n.columnsRowCtrl.getRowIndex()===p))||n.hidden)&&(n.columnsRowCtrl=n.destroyBean(n.columnsRowCtrl)),g&&(n.columnsRowCtrl=n.createBean(new Kv(p,n.pinned,gi.COLUMN))),function(){n.includeFloatingFilter=n.filterManager.hasFloatingFilters()&&!n.hidden;var p=function(){n.filtersRowCtrl=n.destroyBean(n.filtersRowCtrl)};if(n.includeFloatingFilter){var g=i.next();if(n.filtersRowCtrl){var m=n.filtersRowCtrl.getRowIndex()!==g;(!e||m)&&p()}n.filtersRowCtrl||(n.filtersRowCtrl=n.createBean(new Kv(g,n.pinned,gi.FLOATING_FILTER)))}else p()}();var h=this.getAllCtrls();this.comp.setCtrls(h),this.restoreFocusOnHeader(o)},t.prototype.restoreFocusOnHeader=function(e){null==e||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(this.groupsRowCtrls));return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new G_(function(n){return e.comp.setCenterWidth(n+"px")},!0))},t.prototype.setHorizontalScroll=function(e){this.comp.setViewportScrollLeft(e)},t.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var n="left"===this.pinned,i="right"===this.pinned;this.hidden=!0;var o=function(){var s=n?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=s){var a=0==s,c=e.hidden!==a,h=e.gridOptionsService.is("enableRtl"),p=e.gridOptionsService.getScrollbarWidth(),g=e.scrollVisibleService.isVerticalScrollShowing()&&(h&&n||!h&&i);e.comp.setPinnedContainerWidth((g?s+p:s)+"px"),e.comp.setDisplayed(!a),c&&(e.hidden=a,e.refresh())}};this.addManagedListener(this.eventService,N.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,N.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,N.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,N.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof hn)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(var n=0;n<this.groupsRowCtrls.length;n++){var i=this.groupsRowCtrls[n].getHeaderCellCtrl(e);if(i)return i}},t.prototype.getHtmlElementForColumnHeader=function(e){var n=this.getHeaderCtrlForColumn(e);return n?n.getGui():null},t.prototype.getRowType=function(e){var i=this.getAllCtrls()[e];return i?i.getType():void 0},t.prototype.focusHeader=function(e,n,i){var s=this.getAllCtrls()[e];return!!s&&s.focusHeader(n,i)},t.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},t.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),r.prototype.destroy.call(this)},Iu([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Iu([I("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Iu([I("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Iu([I("columnModel")],t.prototype,"columnModel",void 0),Iu([I("focusService")],t.prototype,"focusService",void 0),Iu([I("filterManager")],t.prototype,"filterManager",void 0),t}(Re),Y_=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kb=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},q_=function(r){function t(e){var n=r.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=e,n}return Y_(t,r),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var n={setDisplayed:function(o){return e.setDisplayed(o)},setCtrls:function(o){return e.setCtrls(o)},setCenterWidth:function(o){return e.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return e.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var s=e.getGui();s.style.width=o,s.style.maxWidth=o,s.style.minWidth=o}};this.createManagedBean(new $b(this.pinned)).setComp(n,this.getGui())},t.prototype.selectAndSetTemplate=function(){this.setTemplate("left"==this.pinned?t.PINNED_LEFT_TEMPLATE:"right"==this.pinned?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var o,n=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],e.forEach(function(a){var c=a.getInstanceId(),h=i[c];delete i[c];var p=h||n.createBean(new j_(a));n.headerRowComps[c]=p,n.rowCompsList.push(p),function(a){var c=a.getGui();c.parentElement!=n.eRowContainer&&n.eRowContainer.appendChild(c),o&&$C(n.eRowContainer,c,o),o=c}(p)}),ys(i).forEach(function(a){return n.destroyRowComp(a)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Kb([He("eCenterContainer")],t.prototype,"eCenterContainer",void 0),Kb([ke],t.prototype,"init",null),Kb([hi],t.prototype,"destroyRowComps",null),t}(Nt),mk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rp=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aa=function(r){return r[r.UP=0]="UP",r[r.DOWN=1]="DOWN",r[r.LEFT=2]="LEFT",r[r.RIGHT=3]="RIGHT",r}(aa||{}),zP=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return mk(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.gridBodyCon=n.gridBodyCtrl})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.navigateVertically=function(e,n,i){if(n||(n=this.focusService.getFocusedHeader()),!n)return!1;var o=n.headerRowIndex,s=n.column,a=this.getHeaderRowCount(),h=e===aa.UP?this.headerPositionUtils.getColumnVisibleParent(s,o):this.headerPositionUtils.getColumnVisibleChild(s,o),p=h.nextRow,g=h.nextFocusColumn,m=!1;return p<0&&(p=0,g=s,m=!0),p>=a&&(p=-1),!(!m&&!g)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:p,column:g},allowUserOverride:!0,event:i})},t.prototype.navigateHorizontally=function(e,n,i){void 0===n&&(n=!1);var c,h,o=this.focusService.getFocusedHeader();return(c=e===aa.LEFT!==this.gridOptionsService.is("enableRtl")?this.headerPositionUtils.findHeader(o,h="Before"):this.headerPositionUtils.findHeader(o,h="After"))||!n?this.focusService.focusHeaderPosition({headerPosition:c,direction:h,fromTab:n,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(o,h,i)},t.prototype.focusNextHeaderRow=function(e,n,i){var o=e.headerRowIndex,s=null;return"Before"===n?o>0&&(s=this.headerPositionUtils.findColAtEdgeForHeaderRow(o-1,"end")):s=this.headerPositionUtils.findColAtEdgeForHeaderRow(o+1,"start"),this.focusService.focusHeaderPosition({headerPosition:s,direction:n,fromTab:!0,allowUserOverride:!0,event:i})},t.prototype.scrollToColumn=function(e,n){if(void 0===n&&(n="After"),!e.getPinned()){var i;if(e instanceof Ai){var o=e.getDisplayedLeafColumns();i="Before"===n?fn(o):o[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},rp([I("focusService")],t.prototype,"focusService",void 0),rp([I("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),rp([I("ctrlsService")],t.prototype,"ctrlsService",void 0),rp([ke],t.prototype,"postConstruct",null),rp([tt("headerNavigationService")],t)}(Re),Yb=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Td=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$P=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Yb(t,r),t.prototype.setComp=function(e,n,i){this.comp=e,this.eGui=n,this.createManagedBean(new il(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,N.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,N.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,N.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,N.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var o,e=this.columnModel,n=0,i=e.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(i++,n=1);var a=this.columnModel.getColumnGroupHeaderRowHeight(),c=this.columnModel.getColumnHeaderRowHeight(),p=i-(1+n);o=n*e.getFloatingFiltersHeight(),o+=p*a,this.headerHeight!==(o+=c)&&(this.headerHeight=o,this.comp.setHeightAndMinHeight(o+1+"px"),this.eventService.dispatchEvent({type:N.EVENT_HEADER_HEIGHT_CHANGED}))},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onDisplayedColumnsChanged=function(){var n=this.columnModel.getAllDisplayedColumns().some(function(i){return i.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)},t.prototype.onTabKeyDown=function(e){var n=this.gridOptionsService.is("enableRtl");(this.headerNavigationService.navigateHorizontally(e.shiftKey!==n?aa.LEFT:aa.RIGHT,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var n=null;switch(e.key){case ce.LEFT:n=aa.LEFT;case ce.RIGHT:_e(n)||(n=aa.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,e);break;case ce.UP:n=aa.UP;case ce.DOWN:_e(n)||(n=aa.DOWN),this.headerNavigationService.navigateVertically(n,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var n=this.gridOptionsService.getDocument(),i=e.relatedTarget;!i&&this.eGui.contains(n.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},Td([I("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Td([I("focusService")],t.prototype,"focusService",void 0),Td([I("columnModel")],t.prototype,"columnModel",void 0),Td([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Td([I("filterManager")],t.prototype,"filterManager",void 0),t}(Re),qb=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),KP=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return qb(t,r),t.prototype.postConstruct=function(){var e=this,n={addOrRemoveCssClass:function(s,a){return e.addOrRemoveCssClass(s,a)},setHeightAndMinHeight:function(s){e.getGui().style.height=s,e.getGui().style.minHeight=s}};this.createManagedBean(new $P).setComp(n,this.getGui(),this.getFocusableElement());var o=function(s){e.createManagedBean(s),e.appendChild(s)};o(new q_("left")),o(new q_(null)),o(new q_("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([ke],t.prototype,"postConstruct",null),t}(Nt),YP=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yv=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qP=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return YP(t,r),t.prototype.addResizeBar=function(e){var n=this,i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(i),function(){return n.dragService.removeDragSource(i)}},t.prototype.onDragStart=function(e,n){this.dragStartX=n.clientX,this.setResizeIcons();var i=n instanceof MouseEvent&&!0===n.shiftKey;e.onResizeStart(i)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,n){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,n){this.resizeAmount=n.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},Yv([I("dragService")],t.prototype,"dragService",void 0),Yv([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Yv([tt("horizontalResizeService")],t)}(Re),Zb=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ad=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Qb=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Zb(t,r),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,n){var i=this;this.showPopup(e,function(o){i.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:n,ePopup:o})},"columnMenu",n.target)},t.prototype.showMenuAfterButtonClick=function(e,n,i){var o=this;this.showPopup(e,function(s){o.popupService.positionPopupByComponent({type:i,eventSource:n,ePopup:s,keepWithinBounds:!0,position:"under",column:e})},i,n)},t.prototype.showPopup=function(e,n,i,o){var s=this,a=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!a)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var c=document.createElement("div");fi(c,"presentation"),c.classList.add("ag-menu"),this.tabListener=this.addManagedListener(c,"keydown",function(E){return s.trapFocusWithin(E,c)}),a.guiPromise.then(function(E){return c.appendChild(E)});var h,g=o||this.ctrlsService.getGridBodyCtrl().getGui(),_=this.localeService.getLocaleTextFunc(),w=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(E){e.setMenuVisible(!1,"contextMenu");var b=E instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),b&&o&&Co(o)){var R=s.focusService.findTabbableParent(o);R&&R.focus()}!function(){var E;null===(E=a.filterPromise)||void 0===E||E.then(function(b){var R;return null===(R=b?.afterGuiDetached)||void 0===R?void 0:R.call(b)})}()},positionCallback:function(){return n(c)},anchorToElement:g,ariaLabel:_("ariaLabelColumnMenu","Column Menu")});w&&(this.hidePopup=h=w.hideFunc),a.filterPromise.then(function(E){n(c),E.afterGuiAttached&&E.afterGuiAttached({container:i,hidePopup:h})}),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,n){e.key!==ce.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(n,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(n,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()&&e.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},Ad([I("filterManager")],t.prototype,"filterManager",void 0),Ad([I("popupService")],t.prototype,"popupService",void 0),Ad([I("focusService")],t.prototype,"focusService",void 0),Ad([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Ad([tt("menuFactory")],t)}(Re),Jb=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qv=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};!function(r){function t(e){var n=r.call(this,t.getTemplate(e.cssClass))||this;return n.items=[],n.tabbedItemScrollMap=new Map,n.params=e,e.items&&e.items.forEach(function(i){return n.addItem(i)}),n}Jb(t,r),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new il(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(function(){var n,i,o;return null===(o=null===(i=null===(n=e.activeItem)||void 0===n?void 0:n.tabbedItem)||void 0===i?void 0:i.afterDetachedCallback)||void 0===o?void 0:o.call(i)})},t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){var n=this.gridOptionsService.getDocument();switch(e.key){case ce.RIGHT:case ce.LEFT:if(!this.eHeader.contains(n.activeElement))return;var i=e.key===ce.RIGHT,o=this.gridOptionsService.is("enableRtl"),s=this.items.indexOf(this.activeItem),a=i!==o?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===a)return;e.preventDefault();var c=this.items[a];this.showItemWrapper(c),c.eHeaderButton.focus();break;case ce.UP:case ce.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var n=this,i=n.focusService,o=n.eHeader,s=n.eBody,a=n.activeItem,h=this.gridOptionsService.getDocument().activeElement,p=e.target;if(e.preventDefault(),o.contains(h))return void i.focusInto(s,e.shiftKey);var g=null;i.isTargetUnderManagedComponent(s,p)&&(e.shiftKey&&(g=this.focusService.findFocusableElementBeforeTabGuard(s,p)),g||(g=a.eHeaderButton)),!g&&s.contains(h)&&((g=i.findNextFocusableElement(s,!1,e.shiftKey))||(g=a.eHeaderButton)),g&&g.focus()}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var n=document.createElement("span");fi(n,"tab"),n.setAttribute("tabindex","-1"),n.appendChild(e.title),n.classList.add("ag-tab"),this.eHeader.appendChild(n),Es(n,e.titleLabel);var i={tabbedItem:e,eHeaderButton:n};this.items.push(i),n.addEventListener("click",this.showItemWrapper.bind(this,i))},t.prototype.showItem=function(e){var n=this.items.find(function(i){return i.tabbedItem===e});n&&this.showItemWrapper(n)},t.prototype.showItemWrapper=function(e){var i,o,n=this,s=e.tabbedItem,a=e.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:s}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Mi(this.eBody),s.bodyPromise.then(function(c){n.eBody.appendChild(c);var h=!n.focusService.isKeyboardMode();if(n.focusService.focusInto(n.eBody,!1,h),s.afterAttachedCallback&&s.afterAttachedCallback(n.afterAttachedParams),n.params.keepScrollPosition){var p=s.getScrollableContainer&&s.getScrollableContainer()||c;n.lastScrollListener=n.addManagedListener(p,"scroll",function(){n.tabbedItemScrollMap.set(s.name,p.scrollTop)});var g=n.tabbedItemScrollMap.get(s.name);void 0!==g&&setTimeout(function(){p.scrollTop=g},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(o=(i=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===o||o.call(i)),a.classList.add("ag-tab-selected"),this.activeItem=e):vC(this.params.onActiveItemClicked)},qv([I("focusService")],t.prototype,"focusService",void 0),qv([He("eHeader")],t.prototype,"eHeader",void 0),qv([He("eBody")],t.prototype,"eBody",void 0),qv([ke],t.prototype,"postConstruct",null)}(Nt);var eO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wk=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return eO(t,r),t.prototype.observeResize=function(e,n){var p,i=this,o=this.gridOptionsService.getWindow(),c=this.gridOptionsService.is("suppressBrowserResizeObserver");return o.ResizeObserver&&!c?((p=new o.ResizeObserver(n)).observe(e),function(){return p.disconnect()}):function(){var p=zC(e),g=WC(e),m=!0,_=function(){if(m){var w=zC(e),E=WC(e);(w!==p||E!==g)&&(p=w,g=E,n()),i.doNextPolyfillTurn(_)}};return _(),function(){return m=!1}}()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var i=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],i.forEach(function(o){return o()})},50))},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([tt("resizeObserverService")],t),t}(Re),Sk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),X_=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ek=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return Sk(t,r),t.prototype.setScrollTop=function(e){var n=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,n&&0===e){var i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,n,i){this.verifyAnimationFrameOn(i);var o={task:e,index:n,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,n){e.list.push(n),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var n=this.scrollGoingDown?1:-1;e.list.sort(function(i,o){return i.index!==o.index?n*(o.index-i.index):o.createOrder-i.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var n=this.createTasksP1,i=n.list,o=this.createTasksP2,s=o.list,a=this.destroyTasks,c=(new Date).getTime(),h=(new Date).getTime()-c,p=e<=0,g=this.ctrlsService.getGridBodyCtrl();p||h<e;){if(!g.getScrollFeature().scrollGridIfNeeded()){var _=void 0;if(i.length)this.sortTaskList(n),_=i.pop().task;else if(s.length)this.sortTaskList(o),_=s.pop().task;else{if(!a.length){this.cancelledTasks.clear();break}_=a.pop()}this.cancelledTasks.has(_)||_()}h=(new Date).getTime()-c}i.length||s.length||a.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)},t.prototype.requestAnimationFrame=function(e){var n=this.gridOptionsService.getWindow();n.requestAnimationFrame?n.requestAnimationFrame(e):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(e):n.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var n=this,i=!1;return function(){n.isOn()?i||(i=!0,n.addDestroyTask(function(){i=!1,e()})):n.getFrameworkOverrides().setTimeout(e,0)}},X_([I("ctrlsService")],t.prototype,"ctrlsService",void 0),X_([I("paginationProxy")],t.prototype,"paginationProxy",void 0),X_([ke],t.prototype,"init",null),X_([tt("animationFrameService")],t)}(Re),Dk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xv=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bk=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Dk(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.centerRowContainerCtrl=n.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,n){var i=this.getHeaderCellForColumn(e);if(!i)return-1;var o=this.rowRenderer.getAllCellsForColumn(e);return n||o.push(i),this.addElementsToContainerAndGetWidth(o)},t.prototype.getPreferredWidthForColumnGroup=function(e){var n=this.getHeaderCellForColumn(e);return n?this.addElementsToContainerAndGetWidth([n]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var n=this,i=document.createElement("form");i.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();e.forEach(function(c){return n.cloneItemIntoDummy(c,i)}),o.appendChild(i);var s=i.offsetWidth;return o.removeChild(i),s+this.getAutoSizePadding()},t.prototype.getAutoSizePadding=function(){var e=this.gridOptionsService.getNum("autoSizePadding");return null!=e&&e>=0?e:20},t.prototype.getHeaderCellForColumn=function(e){var n=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){var o=i.getHtmlElementForColumnHeader(e);null!=o&&(n=o)}),n},t.prototype.cloneItemIntoDummy=function(e,n){var i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var o=document.createElement("div"),s=o.classList;["ag-header-cell","ag-header-group-cell"].some(function(m){return i.classList.contains(m)})?(s.add("ag-header","ag-header-row"),o.style.position="static"):s.add("ag-row");for(var c=e.parentElement;c;){if(["ag-header-row","ag-row"].some(function(m){return c.classList.contains(m)})){for(var p=0;p<c.classList.length;p++){var g=c.classList[p];"ag-row-position-absolute"!=g&&s.add(g)}break}c=c.parentElement}o.appendChild(i),n.appendChild(o)},Xv([I("rowRenderer")],t.prototype,"rowRenderer",void 0),Xv([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Xv([I("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),Xv([ke],t.prototype,"postConstruct",null),Xv([tt("autoWidthCalculator")],t)}(Re),tO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xd=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZP=function(r){function t(e,n){var i=r.call(this)||this;return i.createRowCon=e,i.destroyRowCtrls=n,i.stickyRowCtrls=[],i.containerHeight=0,i}return tO(t,r),t.prototype.postConstruct=function(){var e=this;this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(function(n){e.gridBodyCtrl=n.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=this,n=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],n);for(var i=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),s=function(_){var w,E,b,R;if(i.push(_),e.isClientSide){for(var T=_;T.expanded;)if(T.master)T=T.detailNode;else if(T.childrenAfterSort){if(0===T.childrenAfterSort.length)break;T=fn(T.childrenAfterSort)}R=T.rowTop+T.rowHeight}else if(_.master)R=_.detailNode.rowTop+_.detailNode.rowHeight;else{var A=null===(w=_.childStore)||void 0===w?void 0:w.getStoreBounds();R=(null!==(E=A?.heightPx)&&void 0!==E?E:0)+(null!==(b=A?.topPx)&&void 0!==b?b:0)}var x=o+n+_.rowHeight;_.stickyRowTop=R<x?n+(R-x):n,n=0,i.forEach(function(P){var k=P.stickyRowTop+P.rowHeight;n<k&&(n=k)})};;){var a=o+n,c=this.rowModel.getRowIndexAtPixel(a),h=this.rowModel.getRow(c);if(null==h||h.level<0)break;for(var p=[],g=h.parent;g.level>=0;)p.push(g),g=g.parent;var m=p.reverse().find(function(_){return i.indexOf(_)<0&&_.displayed});if(m)s(m);else{if(!(h.isExpandable()&&h.expanded&&h.rowTop<a))break;s(h)}}return this.refreshNodesAndContainerHeight(i,n)},t.prototype.refreshStickyNode=function(e){for(var n=[],i=0;i<this.stickyRowCtrls.length;i++){var o=this.stickyRowCtrls[i].getRowNode();o!==e&&n.push(o)}this.refreshNodesAndContainerHeight(n,this.containerHeight)&&this.checkStickyRows()},t.prototype.refreshNodesAndContainerHeight=function(e,n){var i,o,s,a=this,c=!1,h=this.stickyRowCtrls.filter(function(b){return-1===e.indexOf(b.getRowNode())}),p=e.filter(function(b){return-1===a.stickyRowCtrls.findIndex(function(R){return R.getRowNode()===b})});(h.length||p.length)&&(c=!0);var g={};h.forEach(function(b){g[b.getRowNode().id]=b,a.stickyRowCtrls=a.stickyRowCtrls.filter(function(R){return R!==b})});try{for(var m=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(g)),_=m.next();!_.done;_=m.next())_.value.getRowNode().sticky=!1}catch(b){i={error:b}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}this.destroyRowCtrls(g,!1);var E=p.map(function(b){return b.sticky=!0,a.createRowCon(b,!1,!1)});return(s=this.stickyRowCtrls).push.apply(s,function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(E))),this.stickyRowCtrls.forEach(function(b){return b.setRowTop(b.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(b,R){return R.getRowNode().rowIndex-b.getRowNode().rowIndex}),this.containerHeight!==n&&(this.containerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),c=!0),c},xd([I("rowModel")],t.prototype,"rowModel",void 0),xd([I("rowRenderer")],t.prototype,"rowRenderer",void 0),xd([I("ctrlsService")],t.prototype,"ctrlsService",void 0),xd([ke],t.prototype,"postConstruct",null),t}(Re),Ok=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ms=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hl=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},la=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},eI=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e}return Ok(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){if(this.addManagedListener(this.eventService,N.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,N.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,N.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){var e=this.rowModel.getType();("clientSide"===e||"serverSide"===e)&&(this.stickyRowFeature=this.createManagedBean(new ZP(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new Rk(e??3)}},t.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptionsService.getNum("keepDetailRowsCount");return _e(e)&&e>0?e:10},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=ys(this.rowCtrlsByRowIndex),n=this.gridOptionsService.is("ensureDomOrder"),i=this.gridOptionsService.isDomLayout("print");(n||i)&&e.sort(function(a,c){return a.getRowNode().rowIndex-c.getRowNode.rowIndex});var o=ys(this.zombieRowCtrls),s=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=o.length>0||s.length>0?la(la(la([],hl(e)),hl(o)),hl(s)):e},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach(function(n){return n.onCellFocused(e)}),this.getFullWidthRowCtrls().forEach(function(n){return n.onFullWidthRowFocused(e)})},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,N.EVENT_CELL_FOCUSED,function(i){e.onCellFocusChanged(i)}),this.addManagedListener(this.eventService,N.EVENT_CELL_FOCUS_CLEARED,function(){e.onCellFocusChanged()}),this.addManagedListener(this.eventService,N.EVENT_FLASH_CELLS,function(i){e.getAllCellCtrls().forEach(function(o){return o.onFlashCells(i)})}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onColumnHover()})}),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(i){return i.onLeftChanged()})}),this.gridOptionsService.is("enableRangeSelection")&&(this.addManagedListener(this.eventService,N.EVENT_RANGE_SELECTION_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_MOVED,function(){e.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_PINNED,function(){e.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_VISIBLE,function(){e.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,N.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var n=this.columnModel.getAllGridColumns();n&&n.forEach(function(i){var o=function(g){e.getAllCellCtrls().forEach(function(m){m.getColumn()===i&&g(m)})},s=function(){o(function(g){return g.onLeftChanged()})},a=function(){o(function(g){return g.onWidthChanged()})},c=function(){o(function(g){return g.onFirstRightPinnedChanged()})},h=function(){o(function(g){return g.onLastLeftPinnedChanged()})},p=function(){o(function(g){return g.onColDefChanged()})};i.addEventListener("leftChanged",s),i.addEventListener("widthChanged",a),i.addEventListener("firstRightPinnedChanged",c),i.addEventListener("lastLeftPinnedChanged",h),i.addEventListener("colDefChanged",p),e.destroyFuncsForColumnListeners.push(function(){i.removeEventListener("leftChanged",s),i.removeEventListener("widthChanged",a),i.removeEventListener("firstRightPinnedChanged",c),i.removeEventListener("lastLeftPinnedChanged",h),i.removeEventListener("colDefChanged",p)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),n=e||this.gridOptionsService.is("embedFullWidthRows"),i=n!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=n,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getAllCellsForColumn=function(e){var n=[];return this.getAllRowCtrls().forEach(function(i){var o=i.getCellElement(e);o&&n.push(o)}),n},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,n){var i=this;e.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),e.length=0,n&&n.forEach(function(o){var s=new Mu(o,i.beans,!1,!1,i.printLayout);e.push(s)})},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.redrawRow=function(e,n){var i=this;if(void 0===n&&(n=!1),e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{var o=function(s){var a=s[e.rowIndex];a&&a.getRowNode()===e&&(a.destroyFirstPass(),a.destroySecondPass(),s[e.rowIndex]=i.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":o(this.topRowCtrls);case"bottom":o(this.bottomRowCtrls);default:o(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}n||this.dispatchDisplayedRowsChanged(!1)},t.prototype.redrawRows=function(e){var n=this;if(null!=e)return e?.forEach(function(o){return n.redrawRow(o,!0)}),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var n=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==n)return null;var o=this.gridOptionsService.getDocument().activeElement,s=this.gridOptionsService.getDomData(o,xu.DOM_DATA_KEY_CELL_CTRL),a=this.gridOptionsService.getDomData(o,Mu.DOM_DATA_KEY_ROW_CTRL);return s||a?n:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var n=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var i=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&this.gridOptionsService.isAnimateRows(),s=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=n&&this.restoreFocusedCell(n),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var n=e.newData||e.newPage,i=this.gridOptionsService.is("suppressScrollOnNewData");n&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach(function(n){n.stopEditing(e)})},t.prototype.getAllCellCtrls=function(){for(var e=[],n=this.getAllRowCtrls(),i=n.length,o=0;o<i;o++)for(var s=n[o].getAllCellCtrls(),a=s.length,c=0;c<a;c++)e.push(s[c]);return e},t.prototype.getAllRowCtrls=function(){var e,n,i=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=la(la(la([],hl(this.topRowCtrls)),hl(this.bottomRowCtrls)),hl(i));try{for(var s=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(this.rowCtrlsByRowIndex)),a=s.next();!a.done;a=s.next())o.push(this.rowCtrlsByRowIndex[a.value])}catch(h){e={error:h}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o},t.prototype.addRenderedRowListener=function(e,n,i){var o=this.rowCtrlsByRowIndex[n];o&&o.addEventListener(e,i)},t.prototype.flashCells=function(e){void 0===e&&(e={});var n=e.flashDelay,i=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.flashCell({flashDelay:n,fadeDelay:i})})},t.prototype.refreshCells=function(e){var n=this;void 0===e&&(e={});var i={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){if(o.refreshShouldDestroy()){var s=o.getRowCtrl();s&&s.refreshCell(o)}else o.refreshCell(i)}),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(function(o){o.isFullWidth()&&(o.refreshFullWidth()||n.redrawRow(o.getRowNode(),!0))}),this.dispatchDisplayedRowsChanged(!1))},t.prototype.getCellRendererInstances=function(e){var i,n=this,o=this.getCellCtrls(e.rowNodes,e.columns).map(function(c){return c.getCellRenderer()}).filter(function(c){return null!=c});if(null!==(i=e.columns)&&void 0!==i&&i.length)return o;var s=[],a=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(function(c){if((!a||n.isRowInMap(c.getRowNode(),a))&&c.isFullWidth()){var h=c.getFullWidthCellRenderer();h&&s.push(h)}}),la(la([],hl(s)),hl(o))},t.prototype.getCellEditorInstances=function(e){var n=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){var o=i.getCellEditor();o&&n.push(o)}),n},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(n){if(n.isEditing()){var i=n.getCellPosition();e.push(i)}}),e},t.prototype.mapRowNodes=function(e){if(e){var n={top:{},bottom:{},normal:{}};return e.forEach(function(i){var o=i.id;"top"===i.rowPinned?n.top[o]=i:"bottom"===i.rowPinned?n.bottom[o]=i:n.normal[o]=i}),n}},t.prototype.isRowInMap=function(e,n){var i=e.id,o=e.rowPinned;return"bottom"===o?null!=n.bottom[i]:"top"===o?null!=n.top[i]:null!=n.normal[i]},t.prototype.getRowCtrls=function(e){var n=this,i=this.mapRowNodes(e),o=this.getAllRowCtrls();return e&&i?o.filter(function(s){var a=s.getRowNode();return n.isRowInMap(a,i)}):o},t.prototype.getCellCtrls=function(e,n){var o,i=this;_e(n)&&(o={},n.forEach(function(a){var c=i.columnModel.getGridColumn(a);_e(c)&&(o[c.getId()]=!0)}));var s=[];return this.getRowCtrls(e).forEach(function(a){a.getAllCellCtrls().forEach(function(c){var h=c.getColumn().getId();o&&!o[h]||s.push(c)})}),s},t.prototype.destroy=function(){this.removeAllRowComps(),r.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.getRowsToRecycle=function(){var e=[];jn(this.rowCtrlsByRowIndex,function(i,o){null==o.getRowNode().id&&e.push(i)}),this.removeRowCtrls(e);var n={};return jn(this.rowCtrlsByRowIndex,function(i,o){var s=o.getRowNode();n[s.id]=o}),this.rowCtrlsByRowIndex={},n},t.prototype.removeRowCtrls=function(e){var n=this;e.forEach(function(i){var o=n.rowCtrlsByRowIndex[i];o&&(o.destroyFirstPass(),o.destroySecondPass()),delete n.rowCtrlsByRowIndex[i]})},t.prototype.onBodyScroll=function(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})},t.prototype.redraw=function(e){void 0===e&&(e={});var i,n=e.afterScroll;this.stickyRowFeature&&tv()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var a=!1;if(this.stickyRowFeature&&(a=this.stickyRowFeature.checkStickyRows()),(!n||a||this.firstRenderedRow!==o||this.lastRenderedRow!==s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n),null!=i)){var h=this.getCellToRestoreFocusToAfterRefresh();null!=i&&null==h&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}},t.prototype.removeRowCompsNotToDraw=function(e){var n={};e.forEach(function(s){return n[s]=!0});var o=Object.keys(this.rowCtrlsByRowIndex).filter(function(s){return!n[s]});this.removeRowCtrls(o)},t.prototype.calculateIndexesToDraw=function(e){var n=this,i=H0(this.firstRenderedRow,this.lastRenderedRow),o=function(p,g){var m=g.getRowNode().rowIndex;null!=m&&(m<n.firstRenderedRow||m>n.lastRenderedRow)&&n.doNotUnVirtualiseRow(g)&&i.push(m)};jn(this.rowCtrlsByRowIndex,o),jn(e,o),i.sort(function(p,g){return p-g});for(var s=[],a=0;a<i.length;a++){var c=i[a],h=this.paginationProxy.getRow(c);h&&!h.sticky&&s.push(c)}return s},t.prototype.recycleRows=function(e,n,i){var o=this;void 0===n&&(n=!1),void 0===i&&(i=!1);var s=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(s),this.printLayout&&(n=!1),s.forEach(function(c){_e(o.createOrUpdateRowCtrl(c,e,n,i))}),e&&(!i||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,n):this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(e,n),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:N.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),n=this.columnModel.isPinningRight();(this.pinningLeft!==e||n!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(n){var i=n.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})},t.prototype.getFullWidthRowCtrls=function(e){var n=this,i=this.mapRowNodes(e);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var s=o.getRowNode();return!(null!=i&&!n.isRowInMap(s,i))})},t.prototype.createOrUpdateRowCtrl=function(e,n,i,o){var s,a=this.rowCtrlsByRowIndex[e];if(a||_e(s=this.paginationProxy.getRow(e))&&_e(n)&&n[s.id]&&s.alreadyRendered&&(a=n[s.id],n[s.id]=null),!a){if(s||(s=this.paginationProxy.getRow(e)),!_e(s))return;a=this.createRowCon(s,i,o)}return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=a,a},t.prototype.destroyRowCtrls=function(e,n){var i=this,o=[];jn(e,function(s,a){if(a){if(i.cachedRowCtrls&&a.isCacheable())return void i.cachedRowCtrls.addRow(a);a.destroyFirstPass(),n?(i.zombieRowCtrls[a.getInstanceId()]=a,o.push(function(){a.destroySecondPass(),delete i.zombieRowCtrls[a.getInstanceId()]})):a.destroySecondPass()}}),n&&(o.push(function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}),sf(o))},t.prototype.getRowBuffer=function(){var e=this.gridOptionsService.getNum("rowBuffer");return"number"==typeof e?e<0&&(Lt(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),e=0,this.gridOptionsService.set("rowBuffer",0)):e=10,e},t.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,n;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),n=this.paginationProxy.getPageLastRow();else{var i=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),s=this.gridOptionsService.is("suppressRowVirtualisation"),a=!1,c=void 0,h=void 0;do{var p=this.paginationProxy.getPixelOffset(),g=this.paginationProxy.getCurrentPagePixelRange(),m=g.pageFirstPixel,_=g.pageLastPixel,w=this.rowContainerHeightService.getDivStretchOffset(),E=o.getScrollFeature().getVScrollPosition(),b=E.top,R=E.bottom;s?(c=m+w,h=_+w):(c=Math.max(b+p-i,m)+w,h=Math.min(R+p+i,_)+w),this.firstVisibleVPixel=Math.max(b+p,m)+w,a=this.ensureAllRowsInRangeHaveHeightsCalculated(c,h)}while(a);var T=this.paginationProxy.getRowIndexAtPixel(c),A=this.paginationProxy.getRowIndexAtPixel(h),x=this.paginationProxy.getPageFirstRow(),P=this.paginationProxy.getPageLastRow();T<x&&(T=x),A>P&&(A=P),e=T,n=A}else e=0,n=-1;var k=this.gridOptionsService.isDomLayout("normal"),V=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),H=Math.max(this.getRowBuffer(),500);k&&!V&&n-e>H&&(n=e+H),(e!==this.firstRenderedRow||n!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=n,this.eventService.dispatchEvent({type:N.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:n}))},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var n={type:N.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(n)})}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,n){var i=this.paginationProxy.ensureRowHeightsValid(e,n,-1,-1);return i&&this.updateContainerHeights(),i},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var o=e.getRowNode(),s=this.focusService.isRowNodeFocused(o),a=e.isEditing();return!!(s||a||o.detail)&&!!this.paginationProxy.isRowPresent(o)},t.prototype.createRowCon=function(e,n,i){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;var s=this.gridOptionsService.is("suppressAnimationFrame");return new Mu(e,this.beans,n,i&&!s&&!this.printLayout,this.printLayout)},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(n){return e[n].getRowNode()})},t.prototype.getRowByPosition=function(e){var n,i=e.rowIndex;switch(e.rowPinned){case"top":n=this.topRowCtrls[i];break;case"bottom":n=this.bottomRowCtrls[i];break;default:(n=this.rowCtrlsByRowIndex[i])||(n=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===i})||null)}return n},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,n){return!(null==e||null==n||n<this.firstRenderedRow||e>this.lastRenderedRow)},Ms([I("animationFrameService")],t.prototype,"animationFrameService",void 0),Ms([I("paginationProxy")],t.prototype,"paginationProxy",void 0),Ms([I("columnModel")],t.prototype,"columnModel",void 0),Ms([I("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ms([I("rowModel")],t.prototype,"rowModel",void 0),Ms([I("focusService")],t.prototype,"focusService",void 0),Ms([I("beans")],t.prototype,"beans",void 0),Ms([I("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Ms([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Ms([ke],t.prototype,"postConstruct",null),Ms([tt("rowRenderer")],t)}(Re),Rk=function(){function r(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return r.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},r.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},r.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],qr(this.entriesList,t)},r.prototype.getEntries=function(){return this.entriesList},r}(),tI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Md=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Qv=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return tI(t,r),t.prototype.formatValue=function(e,n,i,o,s){void 0===s&&(s=!0);var c,a=null,h=e.getColDef();if(o?c=o:s&&(c=h.valueFormatter),c){var p={value:i,node:n,data:n?n.data:null,colDef:h,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};a="function"==typeof c?c(p):this.expressionService.evaluate(c,p)}else if(h.refData)return h.refData[i]||"";return null==a&&Array.isArray(i)&&(a=i.join(", ")),a},Md([I("expressionService")],t.prototype,"expressionService",void 0),Md([tt("valueFormatterService")],t)}(Re),nI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Z_=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iI=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return nI(t,r),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},t.prototype.isEmpty=function(e){return Yr("top"===e?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,n){var i="top"===n?this.pinnedTopRows:this.pinnedBottomRows;if(Yr(i))return 0;for(var o=0;o<i.length;o++){var s=i[o];if(s.rowTop+s.rowHeight-1>=e)return o}return i.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:N.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:N.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.createNodesFromData=function(e,n){var i=this,o=[];if(e){var s=0;e.forEach(function(a,c){var h=new Bt(i.beans);h.data=a,h.id=(n?Bt.ID_PREFIX_TOP_PINNED:Bt.ID_PREFIX_BOTTOM_PINNED)+c,h.rowPinned=n?"top":"bottom",h.setRowTop(s),h.setRowHeight(i.gridOptionsService.getRowHeightForNode(h).height),h.setRowIndex(c),s+=h.rowHeight,o.push(h)})}return o},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){Yr(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){Yr(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var n=fn(e);return n.rowTop+n.rowHeight},Z_([I("beans")],t.prototype,"beans",void 0),Z_([ke],t.prototype,"init",null),Z_([tt("pinnedRowModel")],t)}(Re),Q_=function(){function r(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return r.prototype.setInactive=function(){this.active=!1},r.prototype.isActive=function(){return this.active},r.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)},r.prototype.depthFirstSearchEverything=function(t,e,n){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var o=t.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,n):n&&e(o)}e(t)},r.prototype.forEachChangedNodeDepthFirst=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},r.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},r.prototype.createPathItems=function(t){for(var e=t,n=0;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},n++,e=e.parent;return n},r.prototype.populateColumnsMap=function(t,e){var n=this;if(this.keepingColumns&&e)for(var i=t;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(function(o){return n.nodeIdsToColumns[i.id][o.getId()]=!0}),i=i.parent},r.prototype.linkPathItems=function(t,e){for(var n=t,i=0;i<e;i++){var o=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(o),n=n.parent}},r.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}},r.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},r.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var n=this.nodeIdsToColumns[t.id];return e.filter(function(o){return n[o.getId()]})},r.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[t.id];return e.filter(function(o){return!n[o.getId()]})},r}(),oI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),op=function(r){function t(e){var n=r.call(this)||this;return n.state=t.STATE_WAITING_TO_LOAD,n.version=0,n.id=e,n}return oI(t,r),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,n){this.successCommon(e,n)},t.prototype.pageLoaded=function(e,n,i){this.successCommon(e,{rowData:n,rowCount:i})},t.prototype.isRequestMostRecentAndLive=function(e){var n=e===this.version,i=this.isAlive();return n&&i},t.prototype.successCommon=function(e,n){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_LOADED,this.processServerResult(n))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:e,block:this})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(Re),sI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jv=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aI=function(r,t){return function(e,n){t(e,n,r)}},lI=function(r){function t(){var n=null!==r&&r.apply(this,arguments)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n}var e;return sI(t,r),e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var n=this.gridOptionsService.getNum("blockLoadDebounceMillis");n&&n>0&&(this.checkBlockToLoadDebounce=gt.debounce(this.performCheckBlocksToLoad.bind(this),n))},t.prototype.setBeans=function(n){this.logger=n.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var n=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==n?2:n<=0?void 0:n},t.prototype.addBlock=function(n){this.blocks.push(n),n.addEventListener(op.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(n){gt.removeFromArray(this.blocks,n)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:e.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var n=this.getAvailableLoadingCount(),i=this.blocks.filter(function(o){return o.getState()===op.STATE_WAITING_TO_LOAD}).slice(0,n);this.registerLoads(i.length),i.forEach(function(o){return o.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var i={};return this.blocks.forEach(function(o){var s=o.getBlockStateJson();i[s.id]=s.state}),i},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(n){this.activeBlockLoadsCount+=n},t.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Jv([I("rowModel")],t.prototype,"rowModel",void 0),Jv([ke],t.prototype,"postConstruct",null),Jv([aI(0,Hi("loggerFactory"))],t.prototype,"setBeans",null),e=Jv([tt("rowNodeBlockLoader")],t)}(Re),uI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),J_=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cI=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return uI(t,r),t.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,N.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,n,i,o){var s=this.rowModel.ensureRowHeightsValid(e,n,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s},t.prototype.isPaginateChildRows=function(){return!(!this.gridOptionsService.is("groupRemoveSingleChildren")&&!this.gridOptionsService.is("groupRemoveLowestSingleChildren"))||this.gridOptionsService.is("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:N.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows})},t.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:N.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0})},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&"number"==typeof this.currentPage&&(this.currentPage=e,this.onModelUpdated({type:N.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return ht(this.topRowBounds)||ht(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var n=this.getPageFirstRow(),i=this.getPageLastRow(),o=n;o<=i;o++){var s=this.getRow(o);s&&e(s)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var n=this.rowModel.getRowBounds(e);return n.rowIndex=e,n},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var n=this.getPageForIndex(e);this.goToPage(n)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),n=Math.floor(e/this.pageSize);this.goToPage(n)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(_e(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:N.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},J_([I("rowModel")],t.prototype,"rowModel",void 0),J_([ke],t.prototype,"postConstruct",null),J_([tt("paginationProxy")],t)}(Re),dI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rO=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return dI(t,r),t.prototype.processAllCellClasses=function(e,n,i,o){this.processClassRules(e.cellClassRules,n,i,o),this.processStaticCellClasses(e,n,i)},t.prototype.processClassRules=function(e,n,i,o){if(null!=e){for(var s=Object.keys(e),a={},c={},h=function(m){var E,_=s[m],w=e[_];"string"==typeof w?E=p.expressionService.evaluate(w,n):"function"==typeof w&&(E=w(n)),_.split(" ").forEach(function(b){null==b||""==b.trim()||(E?a[b]=!0:c[b]=!0)})},p=this,g=0;g<s.length;g++)h(g);o&&Object.keys(c).forEach(o),Object.keys(a).forEach(i)}},t.prototype.getStaticCellClasses=function(e,n){var o,i=e.cellClass;return i?("string"==typeof(o="function"==typeof i?i(n):i)&&(o=[o]),o||[]):[]},t.prototype.processStaticCellClasses=function(e,n,i){this.getStaticCellClasses(e,n).forEach(function(s){i(s)})},iO([I("expressionService")],t.prototype,"expressionService",void 0),iO([tt("stylingService")],t)}(Re),ew=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hI=function(r){function t(e){return r.call(this,e,"ag-toggle-button")||this}return ew(t,r),t.prototype.setValue=function(e,n){return r.prototype.setValue.call(this,e,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(Cv),fI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oO=function(r){function t(e){return r.call(this,e,"ag-text-area",null,"textarea")||this}return fI(t,r),t.prototype.setValue=function(e,n){var i=r.prototype.setValue.call(this,e,n);return this.eInput.value=e,i},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(rl),sO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tk=function(r){function t(e){return r.call(this,e,"ag-date-field","date")||this}return sO(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var n=Or();this.addManagedListener(this.eInput,"mousedown",function(){e.isDisabled()||n||e.eInput.focus()}),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.setMin=function(e){var n,i=e instanceof Date?null!==(n=Qr(e??null,!1))&&void 0!==n?n:void 0:e;return this.min===i||(this.min=i,Vo(this.eInput,"min",i)),this},t.prototype.setMax=function(e){var n,i=e instanceof Date?null!==(n=Qr(e??null,!1))&&void 0!==n?n:void 0:e;return this.max===i||(this.max=i,Vo(this.eInput,"max",i)),this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Vo(this.eInput,"step",e)),this},t.prototype.getDate=function(){var e;if(this.eInput.validity.valid)return null!==(e=$n(this.getValue()))&&void 0!==e?e:void 0},t.prototype.setDate=function(e,n){this.setValue(Qr(e??null,!1),n)},t}(ol),Nr=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),aO=function(r){function t(e){return r.call(this,e,"ag-range-field","range")||this}return Nr(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this);var e=this.config,n=e.min,i=e.max,o=e.step;null!=n&&this.setMinValue(n),null!=i&&this.setMaxValue(i),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(n){e.setValue(n.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,n){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var i=r.prototype.setValue.call(this,e,n);return this.eInput.value=e,i},t}(rl),lO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cO=function(r){function t(e,n){var i=r.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return i.params=e,i.wrapperEl=n,i}return lO(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))},t.prototype.setState=function(e){var n="";this.params.valueFormatter&&(n=this.params.valueFormatter(e)),this.populateWithRenderer(e,n)||this.populateWithoutRenderer(e,n),this.value=e},t.prototype.highlightString=function(e){var n=this.parsedValue;if(!this.params.cellRenderer&&_e(n))if(_e(e)){var i=n?.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(i>=0){var o=i+e.length,s=ai(n.slice(0,i),!0),a=ai(n.slice(i,o),!0),c=ai(n.slice(o));this.renderValueWithoutRenderer(s+'<span class="ag-rich-select-row-text-highlight">'+a+"</span>"+c)}}else this.renderValueWithoutRenderer(n)},t.prototype.updateHighlighted=function(e){var n,i=this.getGui(),o="ag-rich-select-row-"+this.getCompId();null===(n=i.parentElement)||void 0===n||n.setAttribute("id",o),e&&(Jc(this.getParentComponent().getAriaElement(),o),this.wrapperEl.setAttribute("data-active-option",o)),Za(i.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,n){var i=this.gridOptionsService.getDocument(),o=this.getGui(),s=i.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";var a=ai(_e(n)?n:e,!0);this.parsedValue=_e(a)?a:null,o.appendChild(s),this.renderValueWithoutRenderer(a)},t.prototype.renderValueWithoutRenderer=function(e){var n=this.getGui().querySelector("span");n&&(n.innerHTML=_e(e)?e:"&nbsp;")},t.prototype.populateWithRenderer=function(e,n){var o,s,i=this;return this.params.cellRenderer&&(s=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:n,api:this.gridOptionsService.api})),s&&(o=s.newAgStackInstance()),o&&q0(o,this.getGui()),!!o&&(o.then(function(a){i.addDestroyFunc(function(){i.getContext().destroyBean(a)})}),!0)},t.prototype.onMouseUp=function(){var e=this.getParentComponent(),n={type:N.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e?.dispatchEvent(n)},uO([I("userComponentFactory")],t.prototype,"userComponentFactory",void 0),uO([ke],t.prototype,"postConstruct",null),t}(Nt),pI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sp=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return pI(t,r),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var n=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(o){n.forEach(function(s){return null!=o?s.setAttribute("tabindex",o):s.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new kP({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var n=document.createElement("div");return n.classList.add(tp.TAB_GUARD,"top"===e?tp.TAB_GUARD_TOP:tp.TAB_GUARD_BOTTOM),fi(n,"presentation"),n},t.prototype.addTabGuards=function(e,n){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",n)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];Mi(this.getFocusableElement()),this.addTabGuards.apply(this,function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(e)))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,n){Rf(e)||(e=e.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",e):r.prototype.appendChild.call(this,e,n)},t}(Nt),nw=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pd=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dO=function(r){function t(e){var n=r.call(this,t.getTemplate(e?.cssIdentifier||"default"))||this;n.renderedRows=new Map,n.rowHeight=20;var i=e||{},o=i.cssIdentifier,a=i.ariaRole,c=void 0===a?"listbox":a,h=i.listName;return n.cssIdentifier=void 0===o?"default":o,n.ariaRole=c,n.listName=h,n}return nw(t,r),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(n){return e.onFocusIn(n)},onFocusOut:function(n){return e.onFocusOut(n)},focusInnerElement:function(n){return e.focusInnerElement(n)},onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,N.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var n=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;fi(i,this.ariaRole),Es(i,n)},t.prototype.addResizeObserver=function(){var e=this,i=this.resizeObserverService.observeResize(this.getGui(),function(){return e.animationFrameService.requestAnimationFrame(function(){return e.drawVirtualRows()})});this.addDestroyFunc(i)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var n=e.target;return n.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=MC(n)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case ce.UP:case ce.DOWN:this.navigate(e.key===ce.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():(br(e),this.forceFocusOutOfContainer(e.shiftKey))},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var n=this.lastFocusedRowIndex+(e?-1:1);return!(n<0||n>=this.model.getRowCount()||(this.focusRow(n),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var n=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(n.isAlive()){var i=n.renderedRows.get(e);i&&i.eDiv.focus()}},10)},t.prototype.getComponentAt=function(e){var n=this.renderedRows.get(e);return n&&n.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(n,i){return e(n.rowComponent,i)})},t.getTemplate=function(e){return'<div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e,n){void 0===n&&(n=!0);var i=this.model.getRowCount();if("number"!=typeof e||e<0||e>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;var o=e*this.rowHeight,s=o+this.rowHeight,a=this.getGui(),c=a.scrollTop,h=a.offsetHeight,g=n?0:this.rowHeight,_=c+h<s-g;return c>o+g?(a.scrollTop=o,!0):!!_&&(a.scrollTop=s-h,!0)},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var n=this;if(null!=this.model&&this.isAlive()){var i=this.model.getRowCount();this.eContainer.style.height=i*this.rowHeight+"px",gC(function(){return n.eContainer.clientHeight>=i*n.rowHeight},function(){n.isAlive()&&(n.canSoftRefresh(e)?n.drawVirtualRows(!0):(n.clearVirtualRows(),n.drawVirtualRows()))})}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(n,i){return e.removeRow(i)})},t.prototype.drawVirtualRows=function(e){if(this.isAlive()&&this.model){var n=this.getGui(),i=n.scrollTop,o=i+n.offsetHeight,s=Math.floor(i/this.rowHeight),a=Math.floor(o/this.rowHeight);this.ensureRowsRendered(s,a,e)}},t.prototype.ensureRowsRendered=function(e,n,i){var o=this;this.renderedRows.forEach(function(a,c){(c<e||c>n)&&c!==o.lastFocusedRowIndex&&o.removeRow(c)}),i&&this.refreshRows();for(var s=e;s<=n;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)},t.prototype.insertRow=function(e){var n=this,i=this.model.getRow(e),o=document.createElement("div");if(o.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),fi(o,"tree"===this.ariaRole?"treeitem":"option"),pu(o,this.model.getRowCount()),Yg(o,e+1),o.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var s=this.model.isRowSelected(e);Za(o,!!s),I0(o,s)}o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*e+"px";var a=this.componentCreator(i,o);a.addGuiEventListener("focusin",function(){return n.lastFocusedRowIndex=e}),o.appendChild(a.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(e,{rowComponent:a,eDiv:o,value:i})},t.prototype.removeRow=function(e){var n=this.renderedRows.get(e);this.eContainer.removeChild(n.eDiv),this.destroyBean(n.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,n=this.model.getRowCount();this.renderedRows.forEach(function(i,o){var s,a;if(o>=n)e.removeRow(o);else{var c=e.model.getRow(o);null!==(a=(s=e.model).areRowsEqual)&&void 0!==a&&a.call(s,i.value,c)?e.componentUpdater(c,i.rowComponent):e.removeRow(o)}})},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()},{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.getAriaElement=function(){return this.eContainer},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),r.prototype.destroy.call(this))},Pd([I("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Pd([I("animationFrameService")],t.prototype,"animationFrameService",void 0),Pd([He("eContainer")],t.prototype,"eContainer",void 0),Pd([ke],t.prototype,"postConstruct",null),t}(sp),Ak=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ap=function(){return ap=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},ap.apply(this,arguments)},hO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vI=function(r){function t(e){var n,i,o=r.call(this,ap(ap({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!==(n=e?.template)&&void 0!==n?n:'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',modalPicker:!1},e),{maxPickerHeight:null!==(i=e?.maxPickerHeight)&&void 0!==i?i:"calc(var(--ag-row-height) * 6.5)"}))||this;o.searchString="",o.highlightedItem=-1,o.lastRowHovered=-1,o.searchStringCreator=null;var s=e||{},a=s.cellRowHeight,c=s.value,h=s.valueList,p=s.searchStringCreator;return null!=a&&(o.cellRowHeight=a),null!=c&&(o.value=c),null!=h&&(o.values=h),p&&(o.searchStringCreator=p),o}return Ak(t,r),t.prototype.postConstruct=function(){var n,e=this;r.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var i=this.config,o=i.allowTyping,s=i.placeholder;o?(this.eInput.setAutoComplete(!1).setInputPlaceholder(s),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=null!==(n=this.gridOptionsService.getNum("tabIndex"))&&void 0!==n?n:0;var a=this.config.searchDebounceDelay;this.clearSearchString=Dr(this.clearSearchString,void 0===a?300:a),this.renderSelectedValue(),o&&(this.eInput.onValueChange(function(h){return e.searchTextFromString(h)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},t.prototype.createLoadingElement=function(){var e=this.gridOptionsService.getDocument(),n=this.localeService.getLocaleTextFunc(),i=e.createElement("div");i.classList.add("ag-loading-text"),i.innerText=n("loadingOoo","Loading..."),this.eLoading=i},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new dO({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,N.EVENT_FIELD_PICKER_VALUE_SELECTED,function(h){e.onListValueSelected(h.value,h.fromEnterKey)});var n=this.cellRowHeight;n&&this.listComponent.setRowHeight(n);var i=this.listComponent.getGui(),o=this.listComponent.getAriaElement();this.addManagedListener(i,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(i,"mousedown",function(h){return h.preventDefault()}),i.classList.add("ag-rich-select-list");var s="ag-rich-select-list-"+this.listComponent.getCompId();o.setAttribute("id",s),Es(o,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),F0(this.eWrapper,o)},t.prototype.renderSelectedValue=function(){var c,h,e=this,n=this,i=n.value,o=n.eDisplayField,s=n.config,a=this.config.valueFormatter?this.config.valueFormatter(i):i;if(s.allowTyping)this.eInput.setValue(a);else if(s.cellRenderer&&(c=this.userComponentFactory.getCellRendererDetails(this.config,{value:i,valueFormatted:a,api:this.gridOptionsService.api})),c&&(h=c.newAgStackInstance()),h)Mi(o),q0(h,o),h.then(function(g){e.addDestroyFunc(function(){return e.getContext().destroyBean(g)})});else if(_e(this.value))o.innerText=a,o.classList.remove("ag-display-as-placeholder");else{var p=s.placeholder;_e(p)?(o.innerHTML=""+ai(p),o.classList.add("ag-display-as-placeholder")):Mi(o)}},t.prototype.getCurrentValueIndex=function(){var n=this.currentList,i=this.value;if(null==i)return-1;for(var o=0;o<n.length;o++)if(n[o]===i)return o;return-1},t.prototype.highlightFilterMatch=function(){var n,e=this;null===(n=this.listComponent)||void 0===n||n.forEachRenderedRow(function(i,o){i.highlightString(e.searchString)})},t.prototype.highlightSelectedValue=function(e){var i,n=this;null==e&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,null===(i=this.listComponent)||void 0===i||i.forEachRenderedRow(function(o,s){o.updateHighlighted(-1!==e&&n.highlightedItem===s)})},t.prototype.setRowHeight=function(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)},t.prototype.createPickerComponent=function(){var e=this.values;return e&&this.setValueList({valueList:e}),this.listComponent},t.prototype.setSearchStringCreator=function(e){this.searchStringCreator=e},t.prototype.setValueList=function(e){var n=e.valueList,i=e.refresh;this.listComponent&&this.currentList!==n&&(this.currentList=n,this.listComponent.setModel({getRowCount:function(){return n.length},getRow:function(o){return n[o]}}),i&&(this.values?this.listComponent.refresh():(this.values=n,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},t.prototype.showPicker=function(){r.prototype.showPicker.call(this),this.showCurrentValueInPicker()},t.prototype.showCurrentValueInPicker=function(){var e,n;if(this.listComponent){if(!this.currentList)return void(this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading));null!==(e=this.eLoading)&&void 0!==e&&e.offsetParent&&(null===(n=this.eLoading.parentElement)||void 0===n||n.removeChild(this.eLoading));var i=this.getCurrentValueIndex();-1!==i?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}},t.prototype.beforeHidePicker=function(){this.highlightedItem=-1,r.prototype.beforeHidePicker.call(this)},t.prototype.onWrapperFocus=function(e){this.eInput&&this.eInput.getFocusableElement().focus()},t.prototype.onWrapperFocusOut=function(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()},t.prototype.buildSearchStringFromKeyboardEvent=function(e){var n=e.key;if(n===ce.BACKSPACE)this.searchString=this.searchString.slice(0,-1),n="";else if(!Cu(e))return;e.preventDefault(),this.searchTextFromCharacter(n)},t.prototype.searchTextFromCharacter=function(e){this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.searchTextFromString=function(e){null==e&&(e=""),this.searchString=e,this.runSearch()},t.prototype.buildSearchStrings=function(e){var o,n=this.config.valueFormatter,i=void 0===n?function(s){return s}:n;return"number"==typeof e[0]||"string"==typeof e[0]?o=e.map(function(s){return i(s)}):"object"==typeof e[0]&&this.searchStringCreator&&(o=this.searchStringCreator(e)),o},t.prototype.getSuggestionsAndFilteredValues=function(e,n){var i=this,o=[],s=[];if(!e.length)return{suggestions:o,filteredValues:s};var a=this.config,h=a.searchType,p=void 0===h?"fuzzy":h,m=a.filterList&&a.allowTyping;if("fuzzy"===p){var _=Xc(this.searchString,n,!0);o=_.values;var w=_.indices;if(m&&w.length)for(var E=0;E<w.length;E++)s.push(this.values[w[E]])}else o=n.filter(function(b,R){var T=b.toLocaleLowerCase(),A=i.searchString.toLocaleLowerCase(),x="match"===p?T.startsWith(A):-1!==T.indexOf(A);return m&&x&&s.push(i.values[R]),x});return{suggestions:o,filteredValues:s}},t.prototype.filterListModel=function(e){var n=this.config;!n.allowTyping||!n.filterList||this.setValueList({valueList:e,refresh:!0})},t.prototype.runSearch=function(){var e,n,i,o=this.values,s=this.buildSearchStrings(o);if(s){var a=this.getSuggestionsAndFilteredValues(this.searchString,s),c=a.suggestions,h=a.filteredValues,p=this.config,_=p.highlightMatch,w=p.searchType,E=void 0===w?"fuzzy":w,b=h.length,R=!(!p.allowTyping||!p.filterList||""===this.searchString);if(R&&this.filterListModel(R?h:o),c.length){var T=R?0:s.indexOf(c[0]);this.selectListItem(T),_&&"fuzzy"!==E&&this.highlightFilterMatch()}else if(this.highlightSelectedValue(-1),!R||b)null===(e=this.listComponent)||void 0===e||e.ensureIndexVisible(0);else if(R){this.getAriaElement().removeAttribute("data-active-option");var A=null===(n=this.listComponent)||void 0===n?void 0:n.getAriaElement();A&&Jc(A,null)}var x=null===(i=this.listComponent)||void 0===i?void 0:i.getGui();x?.classList.toggle("ag-hidden",R&&!b)}else this.highlightSelectedValue(-1)},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.selectListItem=function(e,n,i){!this.isPickerDisplayed||!this.listComponent||e<0||e>=this.currentList.length||(this.listComponent.ensureIndexVisible(e,!n)&&!i&&this.listComponent.refresh(!0),this.highlightSelectedValue(e))},t.prototype.setValue=function(e,n,i){var o=this.currentList.indexOf(e);return-1===o?this:(this.value=e,i||this.selectListItem(o),this.renderSelectedValue(),r.prototype.setValue.call(this,e,n))},t.prototype.createRowComponent=function(e){var n=new cO(this.config,this.eWrapper);n.setParentComponent(this.listComponent),this.getContext().createBean(n),n.setState(e);var i=this.config,s=i.searchType;return i.highlightMatch&&"fuzzy"!==(void 0===s?"fuzzy":s)&&n.highlightString(this.searchString),n},t.prototype.getRowForMouseEvent=function(e){var n=this.listComponent;if(!n)return-1;var i=n?.getGui(),o=i.getBoundingClientRect(),s=n.getScrollTop();return Math.floor((e.clientY-o.top+s)/n.getRowHeight())},t.prototype.onPickerMouseMove=function(e){if(this.listComponent){var n=this.getRowForMouseEvent(e);-1!==n&&n!=this.lastRowHovered&&(this.lastRowHovered=n,this.selectListItem(n,!0,!0))}},t.prototype.onNavigationKeyDown=function(e,n){e.preventDefault();var i=n===ce.DOWN;if(this.isPickerDisplayed||!i){var o=this.highlightedItem;this.selectListItem(-1===o?0:o+(i?1:-1),!1,!0)}else this.showPicker()},t.prototype.onEnterKeyDown=function(e){this.isPickerDisplayed&&(e.preventDefault(),this.onListValueSelected(this.currentList[this.highlightedItem],!0))},t.prototype.onListValueSelected=function(e,n){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,n),this.hidePicker()},t.prototype.dispatchPickerEvent=function(e,n){this.dispatchEvent({type:N.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:n,value:e})},t.prototype.getFocusableElement=function(){return this.config.allowTyping?this.eInput.getFocusableElement():r.prototype.getFocusableElement.call(this)},t.prototype.onKeyDown=function(e){var n=e.key,i=this.config.allowTyping;switch(n){case ce.LEFT:case ce.RIGHT:case ce.PAGE_HOME:case ce.PAGE_END:i||e.preventDefault();break;case ce.PAGE_UP:case ce.PAGE_DOWN:e.preventDefault();break;case ce.DOWN:case ce.UP:this.onNavigationKeyDown(e,n);break;case ce.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),br(e),this.hidePicker());break;case ce.ENTER:this.onEnterKeyDown(e);break;default:i||this.buildSearchStringFromKeyboardEvent(e)}},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,r.prototype.destroy.call(this)},hO([I("userComponentFactory")],t.prototype,"userComponentFactory",void 0),hO([He("eInput")],t.prototype,"eInput",void 0),t}(aD),mI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lp=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xk=function(r){function t(e){var n=r.call(this,e,t.TEMPLATE)||this;return n.labelAlignment="top",n}return mI(t,r),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var n=this,i=N.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,function(){var o=parseFloat(n.eText.getValue());n.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,i,function(){var o=n.eSlider.getValue();n.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:N.EVENT_FIELD_VALUE_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',lp([He("eLabel")],t.prototype,"eLabel",void 0),lp([He("eSlider")],t.prototype,"eSlider",void 0),lp([He("eText")],t.prototype,"eText",void 0),lp([ke],t.prototype,"init",null),t}(rD),fO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pl=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pO=function(r){function t(e){void 0===e&&(e={});var n=r.call(this,t.getTemplate(e))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var o=e.enabled,s=e.items,a=e.suppressEnabledCheckbox,c=e.suppressOpenCloseIcons;return n.title=e.title,n.cssIdentifier=e.cssIdentifier||"default",n.enabled=o??!0,n.items=s||[],n.alignItems=e.alignItems||"center",null!=a&&(n.suppressEnabledCheckbox=a),null!=c&&(n.suppressOpenCloseIcons=c),n}return fO(t,r),t.getTemplate=function(e){var n=e.cssIdentifier||"default";return'<div class="ag-group ag-'+n+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+n+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+n+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+n+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+n+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+n+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+n+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var n=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(n("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(Ho("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Ho("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(n){switch(n.key){case ce.ENTER:case ce.SPACE:n.preventDefault(),e.toggleGroupExpand();break;case ce.RIGHT:case ce.LEFT:n.preventDefault(),e.toggleGroupExpand(n.key===ce.RIGHT)}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Bi(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;en(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),en(this.eGroupOpenedIcon,e&&this.expanded),en(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){return this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=e,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),en(this.eContainer,!0),this):(this.expanded===(e=e??!this.expanded)||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),en(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var n=this;e.forEach(function(i){return n.addItem(i)})},t.prototype.addItem=function(e){var n=this.eContainer,i=e instanceof Nt?e.getGui():e;i.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),n.appendChild(i),this.items.push(i)},t.prototype.hideItem=function(e,n){en(this.items[n],!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,n){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),n||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var n=this;return this.cbGroupEnabled.onValueChange(function(i){n.setEnabled(i,!0),e(i)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",pl([He("eTitleBar")],t.prototype,"eTitleBar",void 0),pl([He("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),pl([He("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),pl([He("eToolbar")],t.prototype,"eToolbar",void 0),pl([He("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),pl([He("eTitle")],t.prototype,"eTitle",void 0),pl([He("eContainer")],t.prototype,"eContainer",void 0),pl([ke],t.prototype,"postConstruct",null),t}(Nt),Mk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Id=function(){return Id=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Id.apply(this,arguments)},iw=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gO=function(r){function t(e){void 0===e&&(e=1);var n=r.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=e,n.menuItems=[],n}return Mk(t,r),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}})},t.prototype.onTabKeyDown=function(e){var n=this.getParentComponent(),i=n&&n.getGui();i&&i.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case ce.UP:case ce.RIGHT:case ce.DOWN:case ce.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case ce.ESCAPE:var n=this.findTopMenu();n&&this.focusService.focusInto(n.getGui())}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var n=this;e?.forEach(function(i){"separator"===i?n.addSeparator():"string"==typeof i?console.warn("AG Grid: unrecognised menu item "+i):n.addItem(i)})},t.prototype.addItem=function(e){var n=this,i=this.createManagedBean(new Ld(Id(Id({},e),{isAnotherSubMenuOpen:function(){return n.menuItems.some(function(o){return o.isSubMenuOpen()})}})));i.setParentComponent(this),fu(i.getGui(),this.level),this.menuItems.push(i),this.appendChild(i.getGui()),this.addManagedListener(i,Ld.EVENT_MENU_ITEM_SELECTED,function(o){n.dispatchEvent(o)}),this.addManagedListener(i,Ld.EVENT_MENU_ITEM_ACTIVATED,function(o){n.activeMenuItem&&n.activeMenuItem!==o.menuItem&&n.activeMenuItem.deactivate(),n.activeMenuItem=o.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(n){return!n.isDisabled()})[0];e&&e.activate()},t.prototype.addSeparator=function(){this.appendChild(Pi('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var n=e&&e.getParentComponent&&e.getParentComponent();if(!n||!(n instanceof t||n instanceof Ld))break;e=n}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case ce.UP:case ce.DOWN:var n=this.findNextItem(e===ce.UP);return void(n&&n!==this.activeMenuItem&&n.activate())}e===(this.gridOptionsService.is("enableRtl")?ce.RIGHT:ce.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var n=this.getParentComponent();n&&n instanceof Ld&&(e&&e.preventDefault(),n.closeSubMenu(),n.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var n=this.menuItems.filter(function(c){return!c.isDisabled()});if(n.length){if(!this.activeMenuItem)return e?fn(n):n[0];e&&n.reverse();for(var i,o=!1,s=0;s<n.length;s++){var a=n[s];if(o){i=a;break}a===this.activeMenuItem&&(o=!0)}return i||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),r.prototype.destroy.call(this)},iw([I("focusService")],t.prototype,"focusService",void 0),iw([ke],t.prototype,"postConstruct",null),t}(sp),yI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mO=function(r){function t(e){var n=r.call(this)||this;return n.wrappedComponent=e,n.setTemplateFromElement(e.getGui()),n}return yI(t,r),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}})},t.prototype.handleKeyDown=function(e){e.key===ce.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([ke],t.prototype,"postConstruct",null),t}(sp),Fd=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),up=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ld=function(r){function t(e){var n=r.call(this)||this;return n.params=e,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'+n.getClassName()+'" tabindex="-1" role="treeitem"></div>'),n}return Fd(t,r),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var n=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),zg(n,!0)):(this.addGuiEventListener("click",function(i){return e.onItemSelected(i)}),this.addGuiEventListener("keydown",function(i){(i.key===ce.ENTER||i.key===ce.SPACE)&&(i.preventDefault(),e.onItemSelected(i))}),this.addGuiEventListener("mousedown",function(i){i.stopPropagation(),i.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(i){return e.addCssClass(i)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var n=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var o,i=Pi('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var s=xC(this.getGui()),a=isNaN(s)?1:s+1,c=this.createBean(new gO(a));c.setParentComponent(this),c.addMenuItems(this.params.subMenu),i.appendChild(c.getGui()),this.addManagedListener(c,t.EVENT_MENU_ITEM_SELECTED,function(T){return n.dispatchEvent(T)}),c.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),o=function(){return n.destroyBean(c)},e&&setTimeout(function(){return c.activateFirstItem()},0)}else{var h=this.params.subMenu,p=this.createBean(new mO(h));p.setParentComponent(this);var g=p.getGui(),m="mouseenter",_=function(){return n.cancelDeactivate()};g.addEventListener(m,_),o=function(){return g.removeEventListener(m,_)},i.appendChild(g),h.afterGuiAttached&&setTimeout(function(){return h.afterGuiAttached()},0)}var w=this.getGui(),E=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:w,ePopup:i}),b=this.localeService.getLocaleTextFunc(),R=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:E,anchorToElement:w,ariaLabel:b("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Bi(w,!0),this.hideSubMenu=function(){R&&R.hideFunc(),n.subMenuIsOpen=!1,Bi(w,!1),o()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,Bi(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var n=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){n.isAlive()&&n.isActive&&n.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=Pi('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(Vn("check",this.gridOptionsService)):this.params.icon&&(Rf(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=Pi('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new JC(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=Pi('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=Pi('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),n=this.getGui();if(this.params.subMenu){var i=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";Bi(n,!1),e.appendChild(Vn(i,this.gridOptionsService))}n.appendChild(e)}},t.prototype.onItemSelected=function(e){this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var n=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?n+"-"+e:n},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,up([I("popupService")],t.prototype,"popupService",void 0),up([ke],t.prototype,"init",null),t}(Nt),yO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cp=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CO=function(r){function t(e){var n=r.call(this,t.getTemplate(e))||this;return n.closable=!0,n.config=e,n}return yO(t,r),t.getTemplate=function(e){var n=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+n+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+n+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+n+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+n+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+n+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,n=this.config,i=n.component,o=n.closable,s=n.hideTitleBar,a=n.title,c=n.minWidth,h=void 0===c?250:c,p=n.width,g=n.minHeight,m=void 0===g?250:g,_=n.height,w=n.centered,E=n.popup,b=n.x,R=n.y;this.positionableFeature=new nD(this.getGui(),{minWidth:h,width:p,minHeight:m,height:_,centered:w,x:b,y:R,popup:E,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var T=this.getGui();i&&this.setBodyComponent(i),s?en(this.eTitleBar,!1):(a&&this.setTitle(a),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(A){var x=e.gridOptionsService.getDocument();if(T.contains(A.relatedTarget)||T.contains(x.activeElement)||e.eTitleBarButtons.contains(A.target))A.preventDefault();else{var P=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");P&&P.focus()}}),(!E||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,n=this.getGui();n.focus(),this.close=function(){n.parentElement.removeChild(n),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var n=this.closeButtonComp=new Nt(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var i=n.getGui(),o=Vn("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(o),this.addTitleBarButton(n),n.addManagedListener(i,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((i=this.closeButtonComp.getGui()).parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,n){var i=this.eTitleBarButtons,o=i.children,s=o.length;null==n&&(n=s),n=Math.max(0,Math.min(n,s)),e.addCssClass("ag-panel-title-bar-button");var a=e.getGui();0===n?i.insertAdjacentElement("afterbegin",a):n===s?i.insertAdjacentElement("beforeend",a):o[n-1].insertAdjacentElement("afterend",a),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return td(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return cv(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),r.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',cp([He("eContentWrapper")],t.prototype,"eContentWrapper",void 0),cp([He("eTitleBar")],t.prototype,"eTitleBar",void 0),cp([He("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),cp([He("eTitle")],t.prototype,"eTitle",void 0),cp([ke],t.prototype,"postConstruct",null),t}(Nt),Pk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dp=function(){return dp=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},dp.apply(this,arguments)},_I=function(r){function t(e){var n=r.call(this,dp(dp({},e),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return Pk(t,r),t.prototype.postConstruct=function(){var e=this,n=this.getGui(),i=this.config,o=i.movable,s=i.resizable,a=i.maximizable;this.addCssClass("ag-dialog"),r.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",function(c){n.contains(c.relatedTarget)||e.popupService.bringPopupToFront(n)}),o&&this.setMovable(o),a&&this.setMaximizable(a),s&&this.setResizable(s)},t.prototype.renderComponent=function(){var e=this.getGui(),n=this.config,i=n.alwaysOnTop,o=n.modal,s=n.title,a=n.afterGuiAttached,c=this.localeService.getLocaleTextFunc(),h=this.popupService.addPopup({modal:o,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:i,ariaLabel:s||c("ariaLabelDialog","Dialog"),afterGuiAttached:a});h&&(this.close=h.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var n=this.lastPosition,i=n.x,o=n.y,a=n.height;this.setWidth(n.width),this.setHeight(a),this.positionableFeature.offsetElement(i,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){en(this.maximizeIcon,!this.isMaximized),en(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),r.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var n=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var i=this.eTitleBar;if(i&&e!==this.isMaximizable){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){n.isMaximized=!1,n.refreshMaximizeIcon()})}},t.prototype.buildMaximizeAndMinimizeElements=function(){var e=this.maximizeButtonComp=this.createBean(new Nt('<div class="ag-dialog-button"></span>')),n=e.getGui();return this.maximizeIcon=Vn("maximize",this.gridOptionsService),n.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Vn("minimize",this.gridOptionsService),n.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([I("popupService")],t.prototype,"popupService",void 0),t}(CO),wI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rw=function(){return rw=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},rw.apply(this,arguments)},em=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Fu=function(r){return r[r.vertical=0]="vertical",r[r.horizontal=1]="horizontal",r}(Fu||{}),EI=0,Ik=function(r){function t(){var n=null!==r&&r.apply(this,arguments)||this;return n.popupList=[],n}var e;return wI(t,r),e=t,t.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(i){n.gridCtrl=i.gridCtrl,n.addManagedListener(n.gridCtrl,N.EVENT_KEYBOARD_FOCUS,function(){n.popupList.forEach(function(o){return o.element.classList.add(np.AG_KEYBOARD_FOCUS)})}),n.addManagedListener(n.gridCtrl,N.EVENT_MOUSE_FOCUS,function(){n.popupList.forEach(function(o){return o.element.classList.remove(np.AG_KEYBOARD_FOCUS)})})})},t.prototype.getPopupParent=function(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(n){var i=n.eventSource,o=n.ePopup,s=this.getPopupIndex(o);-1!==s&&(this.popupList[s].alignedToElement=i);var c=i.getBoundingClientRect(),h=this.getParentRect(),p=this.keepXYWithinBounds(o,c.top-h.top,Fu.vertical),g=o.clientWidth>0?o.clientWidth:200;o.style.minWidth=g+"px";var w,_=h.right-h.left-g;function E(){return c.right-h.left-2}function b(){return c.left-h.left-g}this.gridOptionsService.is("enableRtl")?((w=b())<0&&(w=E(),this.setAlignedStyles(o,"left")),w>_&&(w=0,this.setAlignedStyles(o,"right"))):((w=E())>_&&(w=b(),this.setAlignedStyles(o,"right")),w<0&&(w=0,this.setAlignedStyles(o,"left"))),o.style.left=w+"px",o.style.top=p+"px"},t.prototype.positionPopupUnderMouseEvent=function(n){var i=this;this.positionPopup({ePopup:n.ePopup,nudgeX:n.nudgeX,nudgeY:n.nudgeY,keepWithinBounds:!0,skipObserver:n.skipObserver,updatePosition:function(){return i.calculatePointerAlign(n.mouseEvent)},postProcessCallback:function(){return i.callPostProcessPopup(n.type,n.ePopup,null,n.mouseEvent,n.column,n.rowNode)}})},t.prototype.calculatePointerAlign=function(n){var i=this.getParentRect();return{x:n.clientX-i.left,y:n.clientY-i.top}},t.prototype.positionPopupByComponent=function(n){var i=this,o=n.ePopup,s=n.nudgeX,a=n.nudgeY,c=n.keepWithinBounds,h=n.eventSource,p=n.alignSide,g=void 0===p?"left":p,m=n.position,_=void 0===m?"over":m,w=n.column,E=n.rowNode,b=n.type,R=h.getBoundingClientRect(),T=this.getParentRect(),A=this.getPopupIndex(o);-1!==A&&(this.popupList[A].alignedToElement=h),this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:c,updatePosition:function(){var V,k=R.left-T.left;return"right"===g&&(k-=o.offsetWidth-R.width),"over"===_?(V=R.top-T.top,i.setAlignedStyles(o,"over")):(i.setAlignedStyles(o,"under"),V="under"===i.shouldRenderUnderOrAbove(o,R,T,n.nudgeY||0)?R.top-T.top+R.height:R.top-o.offsetHeight-2*(a||0)-T.top),{x:k,y:V}},postProcessCallback:function(){return i.callPostProcessPopup(b,o,h,null,w,E)}})},t.prototype.shouldRenderUnderOrAbove=function(n,i,o,s){var a=o.bottom-i.bottom,c=i.top-o.top,h=n.offsetHeight+s;return a>h?"under":c>h||c>a?"above":"under"},t.prototype.setAlignedStyles=function(n,i){var o=this.getPopupIndex(n);if(-1!==o){var a=this.popupList[o].alignedToElement;a&&(["right","left","over","above","under"].forEach(function(h){a.classList.remove("ag-has-popup-positioned-"+h),n.classList.remove("ag-popup-positioned-"+h)}),i&&(a.classList.add("ag-has-popup-positioned-"+i),n.classList.add("ag-popup-positioned-"+i)))}},t.prototype.callPostProcessPopup=function(n,i,o,s,a,c){var h=this.gridOptionsService.getCallback("postProcessPopup");h&&h({column:a,rowNode:c,ePopup:i,type:n,eventSource:o,mouseEvent:s})},t.prototype.positionPopup=function(n){var i=this,o=n.ePopup,s=n.keepWithinBounds,a=n.nudgeX,c=n.nudgeY,h=n.skipObserver,p=n.updatePosition,g={width:0,height:0},m=function(w){void 0===w&&(w=!1);var E=p(),b=E.x,R=E.y;w&&o.clientWidth===g.width&&o.clientHeight===g.height||(g.width=o.clientWidth,g.height=o.clientHeight,a&&(b+=a),c&&(R+=c),s&&(b=i.keepXYWithinBounds(o,b,Fu.horizontal),R=i.keepXYWithinBounds(o,R,Fu.vertical)),o.style.left=b+"px",o.style.top=R+"px",n.postProcessCallback&&n.postProcessCallback())};if(m(),!h){var _=this.resizeObserverService.observeResize(o,function(){return m(!0)});setTimeout(function(){return _()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map(function(n){return n.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var n=this.gridOptionsService.getDocument(),i=this.getPopupParent();return i===n.body?i=n.documentElement:"static"===getComputedStyle(i).position&&(i=i.offsetParent),dv(i)},t.prototype.keepXYWithinBounds=function(n,i,o){var s=o===Fu.vertical,a=s?"clientHeight":"clientWidth",c=s?"top":"left",h=s?"offsetHeight":"offsetWidth",p=s?"scrollTop":"scrollLeft",g=this.gridOptionsService.getDocument(),m=g.documentElement,_=this.getPopupParent(),w=_.getBoundingClientRect(),E=g.documentElement.getBoundingClientRect(),b=_===g.body,R=n[h],A=b?(s?UC:nd)(m)+m[p]:_[a];b&&(A-=Math.abs(E[c]-w[c]));var x=A-R;return Math.min(Math.max(i,0),Math.abs(x))},t.prototype.addPopup=function(n){var i=this.gridOptionsService.getDocument(),o=n.eChild,s=n.ariaLabel,a=n.alwaysOnTop,c=n.positionCallback,h=n.anchorToElement;if(!i)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var p=this.getPopupIndex(o);if(-1!==p)return{hideFunc:this.popupList[p].hideFunc};this.initialisePopupPosition(o);var m=this.createPopupWrapper(o,s,!!a),_=this.addEventListenersToPopup(rw(rw({},n),{wrapperEl:m}));return c&&c(),this.addPopupToPopupList(o,m,_,h),{hideFunc:_}},t.prototype.initialisePopupPosition=function(n){var o=this.getPopupParent().getBoundingClientRect();_e(n.style.top)||(n.style.top=-1*o.top+"px"),_e(n.style.left)||(n.style.left=-1*o.left+"px")},t.prototype.createPopupWrapper=function(n,i,o){var s,a=this.getPopupParent(),c=document.createElement("div"),h=this.environment.getTheme().allThemes;return h.length&&(s=c.classList).add.apply(s,function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(h))),c.classList.add("ag-popup"),n.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||fi(n,"dialog"),Es(n,i),this.focusService.isKeyboardMode()&&n.classList.add(np.AG_KEYBOARD_FOCUS),c.appendChild(n),a.appendChild(c),o?this.setAlwaysOnTop(n,!0):this.bringPopupToFront(n),c},t.prototype.addEventListenersToPopup=function(n){var i=this,o=this.gridOptionsService.getDocument(),s=this.getPopupParent(),a=n.wrapperEl,c=n.eChild,h=n.closedCallback,p=n.afterGuiAttached,g=n.closeOnEsc,m=n.modal,_=!1,w=function(T){a.contains(o.activeElement)&&T.key===ce.ESCAPE&&!No(T)&&R({keyboardEvent:T})},E=function(T){return R({mouseEvent:T})},b=function(T){return R({touchEvent:T})},R=function(T){void 0===T&&(T={});var A=T.mouseEvent,x=T.touchEvent,P=T.keyboardEvent;i.isEventFromCurrentPopup({mouseEvent:A,touchEvent:x},c)||_||(_=!0,s.removeChild(a),o.removeEventListener("keydown",w),o.removeEventListener("mousedown",E),o.removeEventListener("touchstart",b),o.removeEventListener("contextmenu",E),i.eventService.removeEventListener(N.EVENT_DRAG_STARTED,E),h&&h(A||x||P),i.removePopupFromPopupList(c))};return p&&p({hidePopup:R}),window.setTimeout(function(){g&&o.addEventListener("keydown",w),m&&(o.addEventListener("mousedown",E),i.eventService.addEventListener(N.EVENT_DRAG_STARTED,E),o.addEventListener("touchstart",b),o.addEventListener("contextmenu",E))},0),R},t.prototype.addPopupToPopupList=function(n,i,o,s){this.popupList.push({element:n,wrapper:i,hideFunc:o,instanceId:EI++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(n,s)},t.prototype.getPopupIndex=function(n){return this.popupList.findIndex(function(i){return i.element===n})},t.prototype.setPopupPositionRelatedToElement=function(n,i){var o=this.getPopupIndex(n);if(-1!==o){var s=this.popupList[o];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(function(c){return c&&c()}),s.stopAnchoringPromise=void 0,s.isAnchored=!1,i){var a=this.keepPopupPositionedRelativeTo({element:i,ePopup:n,hidePopup:s.hideFunc});return s.stopAnchoringPromise=a,s.isAnchored=!0,a}}},t.prototype.removePopupFromPopupList=function(n){this.setAlignedStyles(n,null),this.setPopupPositionRelatedToElement(n,null),this.popupList=this.popupList.filter(function(i){return i.element!==n})},t.prototype.keepPopupPositionedRelativeTo=function(n){var i=this,o=this.getPopupParent(),s=o.getBoundingClientRect(),a=n.element,c=n.ePopup,h=a.getBoundingClientRect(),p=s.top-h.top,g=s.left-h.left,m=p,_=g,w=c.style.top,E=parseInt(w.substring(0,w.length-1),10),b=c.style.left,R=parseInt(b.substring(0,b.length-1),10);return new rr(function(T){i.getFrameworkOverrides().setInterval(function(){var A=o.getBoundingClientRect(),x=a.getBoundingClientRect();if(0==x.top&&0==x.left&&0==x.height&&0==x.width)n.hidePopup();else{var k=A.top-x.top;if(k!=m){var V=i.keepXYWithinBounds(c,E+p-k,Fu.vertical);c.style.top=V+"px"}m=k;var H=A.left-x.left;if(H!=_){var U=i.keepXYWithinBounds(c,R+g-H,Fu.horizontal);c.style.left=U+"px"}_=H}},200).then(function(A){T(function(){null!=A&&window.clearInterval(A)})})})},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(n){return n.isAnchored})},t.prototype.isEventFromCurrentPopup=function(n,i){var a=n.mouseEvent||n.touchEvent;if(!a)return!1;var c=this.getPopupIndex(i);if(-1===c)return!1;for(var h=c;h<this.popupList.length;h++)if(Vg(this.popupList[h].element,a))return!0;return this.isElementWithinCustomPopup(a.target)},t.prototype.isElementWithinCustomPopup=function(n){for(var i=this.gridOptionsService.getDocument();n&&n!==i.body;){if(n.classList.contains("ag-custom-component-popup")||null===n.parentElement)return!0;n=n.parentElement}return!1},t.prototype.getWrapper=function(n){for(;!n.classList.contains("ag-popup")&&n.parentElement;)n=n.parentElement;return n.classList.contains("ag-popup")?n:null},t.prototype.setAlwaysOnTop=function(n,i){var o=this.getWrapper(n);o&&(o.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(n){var i=this.getPopupParent(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),s=o.length,a=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),c=a.length,h=this.getWrapper(n);if(h&&!(s<=1)&&i.contains(n)){var p=o.indexOf(h),g=h.querySelectorAll("div"),m=[];for(g.forEach(function(b){0!==b.scrollTop&&m.push([b,b.scrollTop])}),c?h.classList.contains("ag-always-on-top")?p!==s-1&&fn(a).insertAdjacentElement("afterend",h):p!==s-c-1&&a[0].insertAdjacentElement("beforebegin",h):p!==s-1&&fn(o).insertAdjacentElement("afterend",h);m.length;){var w=m.pop();w[0].scrollTop=w[1]}this.eventService.dispatchEvent({type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:h})}},t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,em([I("focusService")],t.prototype,"focusService",void 0),em([I("ctrlsService")],t.prototype,"ctrlsService",void 0),em([I("resizeObserverService")],t.prototype,"resizeObserverService",void 0),em([ke],t.prototype,"postConstruct",null),e=em([tt("popupService")],t)}(Re),Fk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lk=function(r){function t(){var e=r.call(this,'\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>')||this;return e.hasHighlighting=!1,e}return Fk(t,r),t.prototype.setState=function(e,n){this.value=e,this.render(),this.updateSelected(n)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)},t.prototype.setSearchString=function(e){var n,i=!1;if(_e(e)){var o=null===(n=this.value)||void 0===n?void 0:n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){i=!0,this.hasHighlighting=!0;var s=o+e.length,a=ai(this.value.slice(0,o)),c=ai(this.value.slice(o,s)),h=ai(this.value.slice(s));this.getGui().lastElementChild.innerHTML=a+"<b>"+c+"</b>"+h}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},t.prototype.render=function(){var e;this.getGui().lastElementChild.innerHTML=null!==(e=ai(this.value))&&void 0!==e?e:"&nbsp;"},t}(Nt),Nk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),DI=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bI=function(r){function t(e){var n=r.call(this,t.TEMPLATE)||this;return n.params=e,n.searchString="",n}return Nk(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(){var e=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new dO({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.autocompleteEntries.length},getRow:function(i){return e.autocompleteEntries[i]}});var n=this.virtualList.getGui();this.addManagedListener(n,"click",function(){return e.params.onConfirmed()}),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(n,"mousedown",function(i){return i.preventDefault()}),this.setSelectedValue(0)},t.prototype.onNavigationKeyDown=function(e,n){e.preventDefault();var i=this.autocompleteEntries.indexOf(this.selectedValue);this.checkSetSelectedValue(n===ce.UP?i-1:i+1)},t.prototype.setSearch=function(e){this.searchString=e,_e(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},t.prototype.runContainsSearch=function(e,n){var i,o=!1,s=e.toLocaleLowerCase(),a=n.filter(function(c){var p=c.toLocaleLowerCase().indexOf(s),g=0===p,m=p>=0;return m&&(!i||!o&&g||o===g&&c.length<i.length)&&(i=c,o=g),m});return!i&&a.length&&(i=a[0]),{topMatch:i,allMatches:a}},t.prototype.runSearch=function(){var e,n,s,a,i=this.params.autocompleteEntries,o=i.map(function(g){var m;return null!==(m=g.displayValue)&&void 0!==m?m:g.key});if(this.params.useFuzzySearch)a=(s=Xc(this.searchString,o,!0).values).length?s[0]:void 0;else{var c=this.runContainsSearch(this.searchString,o);s=c.allMatches,a=c.topMatch}var h=i.filter(function(g){return s.includes(g.displayValue??g.key)});if(!h.length&&this.selectedValue&&!(null===(n=null===(e=this.params)||void 0===e?void 0:e.forceLastSelection)||void 0===n)&&n.call(e,this.selectedValue,this.searchString)&&(h=[this.selectedValue]),this.autocompleteEntries=h,this.virtualList.refresh(),a){var p=s.indexOf(a);this.checkSetSelectedValue(p)}},t.prototype.updateSearchInList=function(){var e=this;this.virtualList.forEachRenderedRow(function(n){return n.setSearchString(e.searchString)})},t.prototype.checkSetSelectedValue=function(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)},t.prototype.setSelectedValue=function(e){var n=this.autocompleteEntries[e];this.selectedValue!==n&&(this.selectedValue=n,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(function(i,o){i.updateSelected(e===o)}))},t.prototype.createRowComponent=function(e){var n,i=new Lk;return this.getContext().createBean(i),i.setState(null!==(n=e.displayValue)&&void 0!==n?n:e.key,e===this.selectedValue),i},t.prototype.onMouseMove=function(e){var n=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),s=Math.floor((e.clientY-n.top+i)/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)},t.prototype.afterGuiAttached=function(){this.virtualList.refresh()},t.prototype.getSelectedValue=function(){var e;return this.autocompleteEntries.length&&null!==(e=this.selectedValue)&&void 0!==e?e:null},t.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',DI([He("eList")],t.prototype,"eList",void 0),DI([ke],t.prototype,"init",null),t}(al),tm=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ow=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OI=function(r){function t(){var e=r.call(this,'\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>')||this;return e.isListOpen=!1,e.lastPosition=0,e.valid=!0,e}return tm(t,r),t.prototype.postConstruct=function(){var e=this;this.eAutocompleteInput.onValueChange(function(n){return e.onValueChanged(n)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){e.destroyBean(e.autocompleteList)}),this.addGuiEventListener("focusout",function(){return e.onFocusOut()})},t.prototype.onValueChanged=function(e){var n=ms(e);this.updateValue(n),this.updateAutocompleteList(n)},t.prototype.updateValue=function(e){this.updateLastPosition(),this.dispatchEvent({type:t.EVENT_VALUE_CHANGED,value:e}),this.validate(e)},t.prototype.updateAutocompleteList=function(e){var n,i,o,s,a=null!==(i=null===(n=this.listGenerator)||void 0===n?void 0:n.call(this,e,this.lastPosition))&&void 0!==i?i:{enabled:!1};(!a.type||a.type!==(null===(o=this.autocompleteListParams)||void 0===o?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=a,null!==(s=this.autocompleteListParams)&&void 0!==s&&s.enabled?(this.isListOpen||this.openList(),this.autocompleteList.setSearch(this.autocompleteListParams.searchString??"")):this.isListOpen&&this.closeList()},t.prototype.onKeyDown=function(e){var n=this,i=e.key;switch(this.updateLastPosition(),i){case ce.ENTER:this.onEnterKeyDown(e);break;case ce.TAB:this.onTabKeyDown(e);break;case ce.DOWN:case ce.UP:this.onUpDownKeyDown(e,i);break;case ce.LEFT:case ce.RIGHT:case ce.PAGE_HOME:case ce.PAGE_END:setTimeout(function(){n.updatePositionAndList()});break;case ce.ESCAPE:this.onEscapeKeyDown(e);break;case ce.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList())}},t.prototype.confirmSelection=function(){var e,n=null===(e=this.autocompleteList)||void 0===e?void 0:e.getSelectedValue();n&&(this.closeList(),this.dispatchEvent({type:t.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:n,autocompleteType:this.autocompleteListParams.type}))},t.prototype.onTabKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())},t.prototype.onEnterKeyDown=function(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},t.prototype.onUpDownKeyDown=function(e,n){var i;e.preventDefault(),this.isListOpen?null===(i=this.autocompleteList)||void 0===i||i.onNavigationKeyDown(e,n):this.forceOpenList()},t.prototype.onEscapeKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},t.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},t.prototype.updatePositionAndList=function(){var e;this.updateLastPosition(),this.updateAutocompleteList(null!==(e=this.eAutocompleteInput.getValue())&&void 0!==e?e:null)},t.prototype.setCaret=function(e,n){var i=this.gridOptionsService.getDocument();n&&i.activeElement===i.body&&this.eAutocompleteInput.getFocusableElement().focus(),this.eAutocompleteInput.getInputElement().setSelectionRange(e,e)},t.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},t.prototype.updateLastPosition=function(){var e;this.lastPosition=null!==(e=this.eAutocompleteInput.getInputElement().selectionStart)&&void 0!==e?e:0},t.prototype.validate=function(e){var n;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity(null!==(n=this.validationMessage)&&void 0!==n?n:""),this.valid=!this.validationMessage,this.dispatchEvent({type:t.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},t.prototype.openList=function(){var e=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new bI({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return e.confirmSelection()},forceLastSelection:this.forceLastSelection}));var n=this.autocompleteList.getGui(),i={ePopup:n,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.is("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:n,anchorToElement:this.getGui(),positionCallback:function(){return e.popupService.positionPopupByComponent(i)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},t.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},t.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:t.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},t.prototype.getValue=function(){return ms(this.eAutocompleteInput.getValue())},t.prototype.setInputPlaceholder=function(e){return this.eAutocompleteInput.setInputPlaceholder(e),this},t.prototype.setInputAriaLabel=function(e){return this.eAutocompleteInput.setInputAriaLabel(e),this},t.prototype.setListAriaLabel=function(e){return this.listAriaLabel=e,this},t.prototype.setListGenerator=function(e){return this.listGenerator=e,this},t.prototype.setValidator=function(e){return this.validator=e,this},t.prototype.isValid=function(){return this.valid},t.prototype.setValue=function(e){var n=e.value,i=e.position,o=e.silent,s=e.updateListOnlyIfOpen,a=e.restoreFocus;this.eAutocompleteInput.setValue(n,!0),this.setCaret(i??this.lastPosition,a),o||this.updateValue(n),(!s||this.isListOpen)&&this.updateAutocompleteList(n)},t.prototype.setForceLastSelection=function(e){return this.forceLastSelection=e,this},t.prototype.setInputDisabled=function(e){return this.eAutocompleteInput.setDisabled(e),this},t.EVENT_VALUE_CHANGED="eventValueChanged",t.EVENT_VALUE_CONFIRMED="eventValueConfirmed",t.EVENT_OPTION_SELECTED="eventOptionSelected",t.EVENT_VALID_CHANGED="eventValidChanged",ow([I("popupService")],t.prototype,"popupService",void 0),ow([He("eAutocompleteInput")],t.prototype,"eAutocompleteInput",void 0),ow([ke],t.prototype,"postConstruct",null),t}(Nt),wO=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],Lu=["touchstart","touchend","touchmove","touchcancel"],sw=function(){function r(){this.renderingEngine="vanilla",this.isOutsideAngular=function(t){return Xr(wO,t)}}return r.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},r.prototype.setInterval=function(t,e){return new rr(function(n){n(window.setInterval(t,e))})},r.prototype.addEventListener=function(t,e,n,i){var o=Xr(Lu,e);t.addEventListener(e,n,{capture:!!i,passive:o})},r.prototype.dispatchEvent=function(t,e,n){e()},r.prototype.frameworkComponent=function(t){return null},r.prototype.isFrameworkComponent=function(t){return!1},r}(),aw=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gl=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uw=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return aw(t,r),t.prototype.getNextCellToFocus=function(e,n,i){return void 0===i&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(e,n):this.getNextCellToFocusWithoutCtrlPressed(e,n)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,n){var a,c,i=e===ce.UP,s=e===ce.LEFT;if(i||e===ce.DOWN)c=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),a=n.column;else{var h=this.columnModel.getAllDisplayedColumns(),p=this.gridOptionsService.is("enableRtl");c=n.rowIndex,a=s!==p?h[0]:fn(h)}return{rowIndex:c,rowPinned:null,column:a}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,n){for(var i=n,o=!1;!o;){switch(e){case ce.UP:i=this.getCellAbove(i);break;case ce.DOWN:i=this.getCellBelow(i);break;case ce.RIGHT:i=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case ce.LEFT:i=this.gridOptionsService.is("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e)}o=!i||this.isCellGoodToFocusOn(i)}return i},t.prototype.isCellGoodToFocusOn=function(e){var i,n=e.column;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}return!!i&&!n.isSuppressNavigable(i)},t.prototype.getCellToLeft=function(e){if(!e)return null;var n=this.columnModel.getDisplayedColBefore(e.column);return n?{rowIndex:e.rowIndex,column:n,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var n=this.columnModel.getDisplayedColAfter(e.column);return n?{rowIndex:e.rowIndex,column:n,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var n=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(o)||{rowIndex:n+1,rowPinned:i}},t.prototype.getNextStickyPosition=function(e,n){if(this.gridOptionsService.isGroupRowsSticky()&&e&&e.sticky){var i=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(this.rowRenderer.getStickyTopRowCtrls())).sort(function(c,h){return c.getRowNode().rowIndex-h.getRowNode().rowIndex}),o=n?-1:1,s=i.findIndex(function(c){return c.getRowNode().rowIndex===e.rowIndex}),a=i[s+o];if(a)return{rowIndex:a.getRowNode().rowIndex,rowPinned:null}}},t.prototype.getCellBelow=function(e){if(!e)return null;var n=this.getRowBelow(e);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var n=e.rowPinned,i=e.rowIndex;return"top"===n?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:"bottom"===n?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i},t.prototype.getRowAbove=function(e){var n=e.rowIndex,i=e.rowPinned;if(i?0===n:n===this.paginationProxy.getPageFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var s=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(s,!0)||{rowIndex:n-1,rowPinned:i}},t.prototype.getCellAbove=function(e){if(!e)return null;var n=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,n){return n?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var n=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,s=this.columnModel.getDisplayedColAfter(e.column);if(!s){s=n[0];var a=this.getRowBelow(e);if(ht(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;i=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}},t.prototype.getNextTabbedCellBackwards=function(e){var n=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,s=this.columnModel.getDisplayedColBefore(e.column);if(!s){s=fn(n);var a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(ht(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;i=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}},gl([I("columnModel")],t.prototype,"columnModel",void 0),gl([I("rowModel")],t.prototype,"rowModel",void 0),gl([I("rowRenderer")],t.prototype,"rowRenderer",void 0),gl([I("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),gl([I("paginationProxy")],t.prototype,"paginationProxy",void 0),gl([tt("cellNavigationService")],t)}(Re),nm=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),im=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kk=function(r,t){return function(e,n){t(e,n,r)}},Gk=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.consuming=!1,e}return nm(t,r),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.init=function(){this.addManagedListener(this.eventService,N.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,N.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,N.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,N.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,N.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,N.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var n=this.gridOptionsService.get("alignedGrids");n&&n.forEach(function(i){if(i.api){var o=i.api.__getAlignedGridService();e(o)}})}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(n){n.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(n){n.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var n=this;this.onEvent(function(){n.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})},t.prototype.getMasterColumns=function(e){var n=[];return e.columns?e.columns.forEach(function(i){n.push(i)}):e.column&&n.push(e.column),n},t.prototype.getColumnIds=function(e){var n=[];return e.columns?e.columns.forEach(function(i){n.push(i.getColId())}):e.column&&n.push(e.column.getColId()),n},t.prototype.onColumnEvent=function(e){var n=this;this.onEvent(function(){switch(e.type){case N.EVENT_COLUMN_MOVED:case N.EVENT_COLUMN_VISIBLE:case N.EVENT_COLUMN_PINNED:case N.EVENT_COLUMN_RESIZED:n.processColumnEvent(e);break;case N.EVENT_COLUMN_GROUP_OPENED:n.processGroupOpenedEvent(e);break;case N.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var n=e.columnGroup,i=null;if(n){var o=n.getGroupId();i=this.columnModel.getProvidedColumnGroup(o)}n&&!i||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+n.isExpanded()),this.columnModel.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var i,n=this,o=e.column,s=null;if(o&&(s=this.columnModel.getPrimaryColumn(o.getColId())),!o||s){var a=this.getMasterColumns(e);switch(e.type){case N.EVENT_COLUMN_MOVED:var c=e,p=e.columnApi.getColumnState().map(function(T){return{colId:T.colId}});this.columnModel.applyColumnState({state:p,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+c.toIndex);break;case N.EVENT_COLUMN_VISIBLE:var g=e;p=e.columnApi.getColumnState().map(function(x){return{colId:x.colId,hide:x.hide}}),this.columnModel.applyColumnState({state:p},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+g.visible);break;case N.EVENT_COLUMN_PINNED:var m=e;p=e.columnApi.getColumnState().map(function(x){return{colId:x.colId,pinned:x.pinned}}),this.columnModel.applyColumnState({state:p},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+m.pinned);break;case N.EVENT_COLUMN_RESIZED:var _=e,w={};a.forEach(function(T){n.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+T.getActualWidth()),w[T.getId()]={key:T.getColId(),newWidth:T.getActualWidth()}}),null===(i=_.flexColumns)||void 0===i||i.forEach(function(T){w[T.getId()]&&delete w[T.getId()]}),this.columnModel.setColumnWidths(Object.values(w),!1,_.finished,"alignedGridChanged")}var b=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),R=this.gridOptionsService.get("alignedGrids");R&&R.forEach(function(T){T.api&&T.api.setAlwaysShowVerticalScroll(b)})}},im([I("columnModel")],t.prototype,"columnModel",void 0),im([I("ctrlsService")],t.prototype,"ctrlsService",void 0),im([kk(0,Hi("loggerFactory"))],t.prototype,"setBeans",null),im([ke],t.prototype,"init",null),im([tt("alignedGridsService")],t)}(Re),SO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hp=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TI=function(r,t){return function(e,n){t(e,n,r)}},xI=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return SO(t,r),t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.reset()},t.prototype.init=function(){var e=this;this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",function(n){return e.groupSelectsChildren=n.currentValue}),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(n){return e.rowSelection=n.currentValue}),this.addManagedListener(this.eventService,N.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.isMultiselect=function(){return"multiple"===this.rowSelection},t.prototype.setNodesSelected=function(e){var n;if(0===e.nodes.length)return 0;var i=e.newValue,o=e.clearSelection,s=e.suppressFinishActions,a=e.rangeSelect,c=e.source,h=void 0===c?"api":c;if(e.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var p=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,g=e.nodes.map(function(k){return k.footer?k.sibling:k});if(a){if(e.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var m=this.getLastSelectedNode();if(m&&m!==(_=g[0])&&this.isMultiselect()){var E=this.selectRange(_,m,e.newValue,h);return this.setLastSelectedNode(_),E}}for(var b=0,R=0;R<g.length;R++){var _=g[R];p&&_.group||_.selectThisNode(i,e.event,h)&&b++,this.groupSelectsChildren&&null!==(n=_.childrenAfterGroup)&&void 0!==n&&n.length&&(b+=this.selectChildren(_,i,p,h))}return s||(i&&(o||!this.isMultiselect())&&(b+=this.clearOtherNodes(g[0],h)),b>0&&(this.updateGroupsFromChildrenSelections(h),this.eventService.dispatchEvent({type:N.EVENT_SELECTION_CHANGED,source:h})),i&&this.setLastSelectedNode(g[g.length-1])),b},t.prototype.selectRange=function(e,n,i,o){var s=this;void 0===i&&(i=!0);var a=this.rowModel.getNodesInRangeForSelection(e,n),c=0;return a.forEach(function(p){p.group&&s.groupSelectsChildren||!1===i&&e===p||p.selectThisNode(i,void 0,o)&&c++}),this.updateGroupsFromChildrenSelections(o),this.eventService.dispatchEvent({type:N.EVENT_SELECTION_CHANGED,source:o}),c},t.prototype.selectChildren=function(e,n,i,o){var s=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return gt.missing(s)?0:this.setNodesSelected({newValue:n,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:o,nodes:s})},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return jn(this.selectedNodes,function(n,i){i&&e.push(i)}),e},t.prototype.getSelectedRows=function(){var e=[];return jn(this.selectedNodes,function(n,i){i&&i.data&&e.push(i.data)}),e},t.prototype.getSelectionCount=function(){return Object.values(this.selectedNodes).length},t.prototype.filterFromSelection=function(e){var n={};Object.entries(this.selectedNodes).forEach(function(i){var o=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(i,2),s=o[0],a=o[1];a&&e(a)&&(n[s]=a)}),this.selectedNodes=n},t.prototype.updateGroupsFromChildrenSelections=function(e,n){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;var o=this.rowModel.getRootNode();n||(n=new Q_(!0,o)).setInactive();var s=!1;return n.forEachChangedNodeDepthFirst(function(a){if(a!==o){var c=a.calculateSelectedFromChildren();s=a.selectThisNode(null!==c&&c,void 0,e)||s}}),s},t.prototype.clearOtherNodes=function(e,n){var i=this,o={},s=0;return jn(this.selectedNodes,function(a,c){c&&c.id!==e.id&&(s+=i.selectedNodes[c.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),i.groupSelectsChildren&&c.parent&&(o[c.parent.id]=c.parent))}),jn(o,function(a,c){var h=c.calculateSelectedFromChildren();c.selectThisNode(null!==h&&h,void 0,n)}),s},t.prototype.onRowSelected=function(e){var n=e.node;this.groupSelectsChildren&&n.group||(n.isSelected()?this.selectedNodes[n.id]=n:delete this.selectedNodes[n.id])},t.prototype.syncInRowNode=function(e,n){this.syncInOldRowNode(e,n),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,n){_e(n)&&e.id!==n.id&&n&&this.selectedNodes[n.id]==e&&(this.selectedNodes[n.id]=n)},t.prototype.syncInNewRowNode=function(e){_e(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var n=this.rowModel.getTopLevelNodes();if(null!==n){var i=[];return function o(s){for(var a=0,c=s.length;a<c;a++){var h=s[a];h.isSelected()?i.push(h):h.group&&h.children&&o(h.children)}}(n),i}}},t.prototype.isEmpty=function(){var e=0;return jn(this.selectedNodes,function(n,i){i&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){var n=function(h){return h.selectThisNode(!1,void 0,o)},i="clientSide"===this.rowModel.getType(),o=e.source,s=e.justFiltered,a=e.justCurrentPage;if(a||s){if(!i)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(s,a).forEach(n)}else jn(this.selectedNodes,function(h,p){p&&n(p)}),this.reset();i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o),this.eventService.dispatchEvent({type:N.EVENT_SELECTION_CHANGED,source:o})},t.prototype.getSelectAllState=function(e,n){var i=this,o=0,s=0;return this.getNodesToSelect(e,n).forEach(function(c){i.groupSelectsChildren&&c.group||(c.isSelected()?o++:c.selectable&&s++)}),(0!==o||0!==s)&&(o>0&&s>0?null:o>0)},t.prototype.getNodesToSelect=function(e,n){var i=this;if(void 0===e&&(e=!1),void 0===n&&(n=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var o=[];if(n)return this.paginationProxy.forEachNodeOnPage(function(a){if(a.group)if(a.expanded)i.groupSelectsChildren||o.push(a);else{var c=function(h){var p;o.push(h),null!==(p=h.childrenAfterFilter)&&void 0!==p&&p.length&&h.childrenAfterFilter.forEach(c)};c(a)}else o.push(a)}),o;var s=this.rowModel;return e?(s.forEachNodeAfterFilter(function(a){o.push(a)}),o):(s.forEachNode(function(a){o.push(a)}),o)},t.prototype.selectAllRowNodes=function(e){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var n=e.source;this.getNodesToSelect(e.justFiltered,e.justCurrentPage).forEach(function(c){return c.selectThisNode(!0,void 0,n)}),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.eventService.dispatchEvent({type:N.EVENT_SELECTION_CHANGED,source:n})},t.prototype.getServerSideSelectionState=function(){return null},t.prototype.setServerSideSelectionState=function(e){},hp([I("rowModel")],t.prototype,"rowModel",void 0),hp([I("paginationProxy")],t.prototype,"paginationProxy",void 0),hp([TI(0,Hi("loggerFactory"))],t.prototype,"setBeans",null),hp([ke],t.prototype,"init",null),hp([tt("selectionService")],t)}(Re),rm=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EO=function(){function r(){}return r.prototype.sizeColumnsToFit=function(t){typeof t>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(t,"api")},r.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},r.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},r.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},r.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},r.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},r.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},r.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},r.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},r.prototype.getColumnState=function(){return this.columnModel.getColumnState()},r.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},r.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},r.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},r.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},r.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},r.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},r.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},r.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},r.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},r.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},r.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},r.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},r.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},r.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},r.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},r.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},r.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},r.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},r.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},r.prototype.moveColumn=function(t,e){this.columnModel.moveColumn(t,e,"api")},r.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},r.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},r.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},r.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},r.prototype.setColumnWidth=function(t,e,n,i){void 0===n&&(n=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,n,i)},r.prototype.setColumnWidths=function(t,e,n){void 0===e&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,n)},r.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},r.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},r.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},r.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},r.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},r.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},r.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},r.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},r.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},r.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},r.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},r.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},r.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},r.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},r.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},r.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},r.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},r.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},r.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},r.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},r.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},r.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},r.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},r.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},r.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},r.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},r.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},r.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},r.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},r.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},r.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(gt.removeAllReferences.bind(window,this,"Column API"),100)},r.prototype.getAllColumns=function(){return mo("28.0","getAllColumns","getColumns"),this.getColumns()},r.prototype.getPrimaryColumns=function(){return mo("28.0","getPrimaryColumns","getColumns"),this.getColumns()},r.prototype.getSecondaryColumns=function(){return mo("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},r.prototype.setSecondaryColumns=function(t){mo("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(t)},r.prototype.getSecondaryPivotColumn=function(t,e){return mo("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(t,e)},rm([I("columnModel")],r.prototype,"columnModel",void 0),rm([hi],r.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),rm([tt("columnApi")],r)}(),DO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nd=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MI=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.initialised=!1,e.isSsrm=!1,e}return DO(t,r),t.prototype.init=function(){var e=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(N.EVENT_CELL_VALUE_CHANGED,function(n){return e.callColumnCellValueChangedHandler(n)},this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",function(n){return e.isTreeData=n.currentValue})},t.prototype.getValue=function(e,n,i,o){if(void 0===i&&(i=!1),void 0===o&&(o=!1),this.initialised||this.init(),n){var p,s=e.getColDef(),a=s.field,c=e.getColId(),h=n.data,g=n.groupData&&void 0!==n.groupData[c],m=!o&&n.aggData&&void 0!==n.aggData[c],_=this.isSsrm&&o&&!!e.getColDef().aggFunc,w=this.isSsrm&&n.footer&&n.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===n.field);if(i&&s.filterValueGetter?p=this.executeFilterValueGetter(s.filterValueGetter,h,e,n):this.isTreeData&&m?p=n.aggData[c]:this.isTreeData&&s.valueGetter?p=this.executeValueGetter(s.valueGetter,h,e,n):this.isTreeData&&a&&h?p=Ha(h,a,e.isFieldContainsDots()):g?p=n.groupData[c]:m?p=n.aggData[c]:s.valueGetter?p=this.executeValueGetter(s.valueGetter,h,e,n):w?p=Ha(h,n.field,e.isFieldContainsDots()):a&&h&&!_&&(p=Ha(h,a,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof p&&0===p.indexOf("=")){var E=p.substring(1);p=this.executeValueGetter(E,h,e,n)}if(null==p){var b=this.getOpenedGroup(n,e);if(null!=b)return b}return p}},t.prototype.getOpenedGroup=function(e,n){if(this.gridOptionsService.is("showOpenedGroup")&&n.getColDef().showRowGroup)for(var o=n.getColDef().showRowGroup,s=e.parent;null!=s;){if(s.rowGroupColumn&&(!0===o||o===s.rowGroupColumn.getColId()))return s.key;s=s.parent}},t.prototype.setValue=function(e,n,i,o){var s=this.columnModel.getPrimaryColumn(n);if(!e||!s)return!1;ht(e.data)&&(e.data={});var a=s.getColDef(),c=a.field,h=a.valueSetter;if(ht(c)&&ht(h))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var g,p={node:e,data:e.data,oldValue:this.getValue(s,e),newValue:i,colDef:s.getColDef(),column:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return p.newValue=i,void 0===(g=_e(h)?"function"==typeof h?h(p):this.expressionService.evaluate(h,p):this.setValueUsingField(e.data,c,i,s.isFieldContainsDots()))&&(g=!0),!!g&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),p.newValue=this.getValue(s,e),this.eventService.dispatchEvent({type:N.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:p.column,api:p.api,columnApi:p.columnApi,colDef:p.colDef,context:p.context,data:e.data,node:e,oldValue:p.oldValue,newValue:p.newValue,value:p.newValue,source:o}),!0)},t.prototype.callColumnCellValueChangedHandler=function(e){var n=e.colDef.onCellValueChanged;"function"==typeof n&&n({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,n,i,o){if(!n)return!1;var s=!1;if(o)for(var a=n.split("."),c=e;a.length>0&&c;){var h=a.shift();0===a.length?(s=c[h]===i)||(c[h]=i):c=c[h]}else(s=e[n]===i)||(e[n]=i);return!s},t.prototype.executeFilterValueGetter=function(e,n,i,o){var s={data:n,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return"function"==typeof e?e(s):this.expressionService.evaluate(e,s)},t.prototype.executeValueGetter=function(e,n,i,o){var s=i.getColId(),a=this.valueCache.getValue(o,s);if(void 0!==a)return a;var h,c={data:n,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return h="function"==typeof e?e(c):this.expressionService.evaluate(e,c),this.valueCache.setValue(o,s,h),h},t.prototype.getValueCallback=function(e,n){var i=this.columnModel.getPrimaryColumn(n);return i?this.getValue(i,e):null},t.prototype.getKeyForNode=function(e,n){var i=this.getValue(e,n),o=e.getColDef().keyCreator,s=i;return o&&(s=o({value:i,colDef:e.getColDef(),column:e,node:n,data:n.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),"string"==typeof s||null==s||"[object Object]"===(s=String(s))&&Lt(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),s},Nd([I("expressionService")],t.prototype,"expressionService",void 0),Nd([I("columnModel")],t.prototype,"columnModel",void 0),Nd([I("valueCache")],t.prototype,"valueCache",void 0),Nd([I("dataTypeService")],t.prototype,"dataTypeService",void 0),Nd([ke],t.prototype,"init",null),Nd([tt("valueService")],t)}(Re),bO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),om=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vk=function(r,t){return function(e,n){t(e,n,r)}},OO=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return bO(t,r),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,n){if("string"==typeof e)return this.evaluateExpression(e,n);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,n){try{return this.createExpressionFunction(e)(n.value,n.context,n.oldValue,n.newValue,n.value,n.node,n.data,n.colDef,n.rowIndex,n.api,n.columnApi,n.getValue,n.column,n.columnGroup)}catch(s){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",n),console.log("Exception = "+s),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",n);return this.expressionToFunctionCache[e]=i,i},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},om([Vk(0,Hi("loggerFactory"))],t.prototype,"setBeans",null),om([tt("expressionService")],t)}(Re),cw=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),II=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return cw(t,r),t.prototype.getTemplate=function(e,n){var i=this.templateCache[e];if(i)return i;var o=this.waitingCallbacks[e],s=this;if(!o){this.waitingCallbacks[e]=o=[];var a=new XMLHttpRequest;a.onload=function(){s.handleHttpResult(this,e)},a.open("GET",e),a.send()}return n&&o.push(n),null},t.prototype.handleHttpResult=function(e,n){if(200===e.status&&null!==e.response){this.templateCache[n]=e.response||e.responseText;for(var i=this.waitingCallbacks[n],o=0;o<i.length;o++)(0,i[o])()}else console.warn("AG Grid: Unable to get template error "+e.status+" - "+n)},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([tt("templateService")],t),t}(Re),Hk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),FI=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},LI=function(r,t){return function(e,n){t(e,n,r)}},NI=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Hk(t,r),t.prototype.setBeans=function(e){this.logging=e.is("debug")},t.prototype.create=function(e){return new dw(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},FI([LI(0,Hi("gridOptionsService"))],t.prototype,"setBeans",null),FI([tt("loggerFactory")],t)}(Re),dw=function(){function r(t,e){this.name=t,this.isLoggingFunc=e}return r.prototype.isLogging=function(){return this.isLoggingFunc()},r.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},r}(),kI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nu=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RO=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return kI(t,r),t.prototype.setComp=function(e,n,i){var o=this;this.view=e,this.eGridHostDiv=n,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(a){return a===Ar.HeaderCell||a===Ar.ToolPanel},getIconName:function(){return ri.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(n),this.createManagedBean(new R_(this.view)),this.addRtlSupport(),this.addManagedListener(this,N.EVENT_KEYBOARD_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,N.EVENT_MOUSE_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!1)});var s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return s()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,n=this.focusService.findTabbableParent(this.getGui());return(null===(e=n?.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return vt.__isRegistered(it.RowGroupingModule,this.context.getGridId())},t.prototype.showSideBar=function(){return vt.__isRegistered(it.SideBarModule,this.context.getGridId())},t.prototype.showStatusBar=function(){return vt.__isRegistered(it.StatusBarModule,this.context.getGridId())},t.prototype.showWatermark=function(){return vt.__isRegistered(it.EnterpriseCoreModule,this.context.getGridId())},t.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:N.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var n=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),s=i.findIndex(function(a){return a.contains(n.activeElement)})+(e?-1:1);return!(s<=0||s>=i.length)&&this.focusService.focusInto(i[s])},t.prototype.focusInnerElement=function(e){var n=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(n.length>1)return this.focusService.focusInto(fn(n),!0);var o=fn(i);if(this.focusService.focusGridView(o,!0))return!0}return 0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusGridView(i[0]):this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},Nu([I("focusService")],t.prototype,"focusService",void 0),Nu([I("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Nu([I("columnModel")],t.prototype,"columnModel",void 0),Nu([I("ctrlsService")],t.prototype,"ctrlsService",void 0),Nu([I("mouseEventService")],t.prototype,"mouseEventService",void 0),Nu([I("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(Re),GI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kd=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TO=function(r){function t(e){var n=r.call(this)||this;return n.eGridDiv=e,n}return GI(t,r),t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var n={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(o){return e.addCssClass(o)},addOrRemoveKeyboardFocusClass:function(o){return e.addOrRemoveCssClass(np.AG_KEYBOARD_FOCUS,o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){e.getGui().style.userSelect=o??"",e.getGui().style.webkitUserSelect=o??""},setCursor:function(o){e.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new RO);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(n,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return e.ctrl.focusInnerElement(o)}})},t.prototype.insertGridIntoDom=function(){var e=this,n=this.getGui();this.eGridDiv.appendChild(n),this.addDestroyFunc(function(){e.eGridDiv.removeChild(n),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,n){var i=this.eRootWrapperBody.classList;i.toggle(Kn.AUTO_HEIGHT,n.autoHeight),i.toggle(Kn.NORMAL,n.normal),i.toggle(Kn.PRINT,n.print),this.addOrRemoveCssClass(Kn.AUTO_HEIGHT,n.autoHeight),this.addOrRemoveCssClass(Kn.NORMAL,n.normal),this.addOrRemoveCssClass(Kn.PRINT,n.print)},t.prototype.createTemplate=function(){return'<div class="ag-root-wrapper" role="presentation">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(n){return Co(n)})},kd([I("loggerFactory")],t.prototype,"loggerFactory",void 0),kd([He("gridBody")],t.prototype,"gridBodyComp",void 0),kd([He("sideBar")],t.prototype,"sideBarComp",void 0),kd([He("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),kd([ke],t.prototype,"postConstruct",null),t}(sp),Bk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),AO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ps=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},ku=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},xO=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}var e;return Bk(t,r),e=t,t.prototype.progressSort=function(n,i,o){var s=this.getNextSortDirection(n);this.setSortForColumn(n,s,i,o)},t.prototype.setSortForColumn=function(n,i,o,s){"asc"!==i&&"desc"!==i&&(i=null);var c=[n];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&n.getColDef().showRowGroup){var h=this.columnModel.getSourceColumnsForGroupColumn(n),p=h?.filter(function(m){return m.getColDef().sortable});p&&(c=ku([n],Ps(p)))}c.forEach(function(m){return m.setSort(i,s)}),(o||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(c,s),this.updateSortIndex(n),this.dispatchSortChangedEvents(s)},t.prototype.updateSortIndex=function(n){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(n.getId()),s=i&&o||n,a=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(p){return p.setSortIndex(null)});var c=a.filter(function(p){return p!==s});(s.getSort()?ku(ku([],Ps(c)),[s]):c).forEach(function(p,g){return p.setSortIndex(g)})},t.prototype.onSortChanged=function(n){this.dispatchSortChangedEvents(n)},t.prototype.isSortActive=function(){var i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(o){return!!o.getSort()});return i&&i.length>0},t.prototype.dispatchSortChangedEvents=function(n){this.eventService.dispatchEvent({type:N.EVENT_SORT_CHANGED,source:n})},t.prototype.clearSortBarTheseColumns=function(n,i){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){n.includes(o)||o.setSort(void 0,i)})},t.prototype.getNextSortDirection=function(n){var i;if(i=n.getColDef().sortingOrder?n.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):e.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+i),null;var c,o=i.indexOf(n.getSort());return e.DEFAULT_SORTING_ORDER.indexOf(c=o<0||o==i.length-1?i[0]:i[o+1])<0?(console.warn("AG Grid: invalid sort type "+c),null):c},t.prototype.getIndexedSortMap=function(){var n=this,i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(p){return!!p.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();i=i.filter(function(p){var g=!!p.getAggFunc(),m=!p.isPrimary(),_=o?n.columnModel.getGroupDisplayColumnForGroup(p.getId()):p.getColDef().showRowGroup;return g||m||_})}var s=this.columnModel.getRowGroupColumns().filter(function(p){return!!p.getSort()}),a=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!s.length;a&&(i=ku([],Ps(new Set(i.map(function(p){var g;return null!==(g=n.columnModel.getGroupDisplayColumnForGroup(p.getId()))&&void 0!==g?g:p})))));var c={};i.forEach(function(p,g){return c[p.getId()]=g}),i.sort(function(p,g){var m=p.getSortIndex(),_=g.getSortIndex();return null!=m&&null!=_?m-_:null==m&&null==_?c[p.getId()]>c[g.getId()]?1:-1:null==_?-1:1});var h=new Map;return i.forEach(function(p,g){return h.set(p,g)}),a&&s.forEach(function(p){var g=n.columnModel.getGroupDisplayColumnForGroup(p.getId());h.set(p,h.get(g))}),h},t.prototype.getColumnsWithSortingOrdered=function(){return ku([],Ps(this.getIndexedSortMap().entries())).sort(function(n,i){return Ps(n,2)[1]-Ps(i,2)[1]}).map(function(n){return Ps(n,1)[0]})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),colId:n.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),column:n}})},t.prototype.canColumnDisplayMixedSort=function(n){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!n.getColDef().showRowGroup;return i&&o},t.prototype.getDisplaySortForColumn=function(n){var i=this.columnModel.getSourceColumnsForGroupColumn(n);if(!this.canColumnDisplayMixedSort(n)||!i?.length)return n.getSort();var s=null!=n.getColDef().field||n.getColDef().valueGetter?ku([n],Ps(i)):i,a=s[0].getSort();return s.every(function(h){return h.getSort()==a})?a:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(n){return this.getIndexedSortMap().get(n)},t.DEFAULT_SORTING_ORDER=["asc","desc",null],AO([I("columnModel")],t.prototype,"columnModel",void 0),e=AO([tt("sortController")],t)}(Re),VI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HI=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return VI(t,r),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:N.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:N.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([tt("columnHoverService")],t),t}(Re),BI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),am=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MO=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return BI(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){return e.gridBodyCtrl=n.gridBodyCtrl})},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var n=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===n&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var n=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==e.length||0!==n.length)&&(window.setTimeout(function(){return e.forEach(function(i){return i()})},0),window.setTimeout(function(){return n.forEach(function(i){return i()})},300))},am([I("ctrlsService")],t.prototype,"ctrlsService",void 0),am([ke],t.prototype,"postConstruct",null),am([tt("columnAnimationService")],t)}(Re),jk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hw=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Uk=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return jk(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.centerRowContainerCon=n.centerRowContainerCtrl,e.addManagedListener(e.eventService,N.EVENT_BODY_HEIGHT_CHANGED,e.checkPageSize.bind(e)),e.addManagedListener(e.eventService,N.EVENT_SCROLL_VISIBILITY_CHANGED,e.checkPageSize.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")||null==this.centerRowContainerCon},t.prototype.checkPageSize=function(){var e=this;if(!this.notActive()){var n=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(n>0){var i=function(){var o=e.gridOptionsService.getRowHeightAsNumber(),s=Math.floor(n/o);e.gridOptionsService.set("paginationPageSize",s)};this.isBodyRendered?Dr(function(){return i()},50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},hw([I("ctrlsService")],t.prototype,"ctrlsService",void 0),hw([ke],t.prototype,"postConstruct",null),hw([tt("paginationAutoPageSizeService")],t)}(Re),jI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),UI=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wk=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.cacheVersion=0,e}return jI(t,r),t.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,n,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[n]=i)},t.prototype.getValue=function(e,n){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[n]},UI([ke],t.prototype,"init",null),UI([tt("valueCache")],t)}(Re),WI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lm=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$k=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return WI(t,r),t.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,N.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,n){if(!this.gridOptionsService.is("suppressChangeDetection")){var i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsService.is("aggregateOnlyChangedColumns"),s=new Q_(o,this.clientSideRowModel.getRootNode());s.addParentNode(e.parent,[n]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(function(a){i.push(a)})}this.rowRenderer.refreshCells({rowNodes:i})}},lm([I("rowModel")],t.prototype,"rowModel",void 0),lm([I("rowRenderer")],t.prototype,"rowRenderer",void 0),lm([ke],t.prototype,"init",null),lm([tt("changeDetectionService")],t)}(Re),Kk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zI=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Yk=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Kk(t,r),t.prototype.adaptFunction=function(e,n){var i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(n):null},t.prototype.adaptCellRendererFunction=function(e){return function(){function i(){}return i.prototype.refresh=function(o){return!1},i.prototype.getGui=function(){return this.eGui},i.prototype.init=function(o){var s=e(o),a=typeof s;this.eGui="string"!==a&&"number"!==a&&"boolean"!==a?null!=s?s:Pi("<span></span>"):Pi("<span>"+s+"</span>")},i}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},zI([I("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),zI([tt("agComponentUtils")],t)}(Re),$I=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),PO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qk=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return $I(t,r),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},PO([I("agComponentUtils")],t.prototype,"agComponentUtils",void 0),PO([ke],t.prototype,"postConstruct",null),PO([tt("componentMetadataProvider")],t)}(Re),Xk=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),IO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},y={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},S={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},D=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.calculatedSizes={},e}return Xk(t,r),t.prototype.postConstruct=function(){var n,e=this,i=null!==(n=this.getTheme().el)&&void 0!==n?n:this.eGridDiv;this.mutationObserver=new MutationObserver(function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()}),this.mutationObserver.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){this.eventService.dispatchEvent({type:N.EVENT_GRID_STYLES_CHANGED})},t.prototype.getSassVariable=function(e){var n=this.getTheme(),i=n.themeFamily,o=n.el;if(i&&0===i.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[i]||(this.calculatedSizes[i]={}),this.calculatedSizes[i][e]??(this.calculatedSizes[i][e]=this.calculateValueForSassProperty(e,i,o),this.calculatedSizes[i][e])},t.prototype.calculateValueForSassProperty=function(e,n,i){var o,s="ag-theme-"+(n.match("material")?"material":n.match("balham")?"balham":n.match("alpine")?"alpine":"custom"),a=y[s][e],c=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!S[e])return a;var h=S[e],p=c.createElement("div"),g=Array.from(i.classList);(o=p.classList).add.apply(o,function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r}([n],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(g))),p.style.position="absolute";var m=h.reduce(function(E,b){var R=c.createElement("div");return R.style.position="static",R.classList.add(b),E.appendChild(R),R},p),_=0;if(c.body){c.body.appendChild(p);var w=-1!==e.toLowerCase().indexOf("height")?"height":"width";_=parseInt(window.getComputedStyle(m)[w],10),c.body.removeChild(p)}return _||a},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,n=this.eGridDiv,i=null,o=[];n;){if(i=e.exec(n.className)){var s=n.className.match(e);s&&(o=s);break}n=n.parentElement||void 0}if(!i)return{allThemes:o};var a=i[0];return{theme:a,el:n,themeFamily:a.replace(/-dark$/,""),allThemes:o}},t.prototype.getFromTheme=function(e,n){var i;return null!==(i=this.getSassVariable(n))&&void 0!==i?i:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.refreshRowHeightVariable=function(){var e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),n=this.gridOptionsService.getNum("rowHeight");if(null==n||isNaN(n)||!isFinite(n))return-1;var i=n+"px";return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),n):""!=e?parseFloat(e):-1},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return _e(e)?Math.max(e,10):10},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),r.prototype.destroy.call(this)},IO([I("eGridDiv")],t.prototype,"eGridDiv",void 0),IO([ke],t.prototype,"postConstruct",null),IO([tt("environment")],t)}(Re),O=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),M=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},L=function(r,t){return function(e,n){t(e,n,r)}},B=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return O(t,r),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,N.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=iv(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(n!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=n,this.uiBodyHeight=i,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,n=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+n+" ("+this.pixelsToShave+" * "+e+")"),this.setDivStretchOffset(n)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:N.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var n="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==n&&(this.divStretchOffset=n,this.eventService.dispatchEvent({type:N.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return n.bottom-n.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var n=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/n)},M([I("ctrlsService")],t.prototype,"ctrlsService",void 0),M([L(0,Hi("loggerFactory"))],t.prototype,"agWire",null),M([ke],t.prototype,"postConstruct",null),M([tt("rowContainerHeightService")],t)}(Re),$=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),J=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Se=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return $(t,r),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},t.prototype.updateSelectableAfterGrouping=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(i){return i.childrenAfterGroup})},t.prototype.recurseDown=function(e,n){var i=this;e&&e.forEach(function(o){var s;o.group&&(o.hasChildren()&&i.recurseDown(n(o),n),s=i.groupSelectsChildren?_e((n(o)||[]).find(function(c){return!0===c.selectable})):!!i.isRowSelectableFunc&&i.isRowSelectableFunc(o),o.setRowSelectable(s))})},J([ke],t.prototype,"init",null),J([tt("selectableService")],t)}(Re),Ge=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ye=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dt=function(r){function t(){var e=r.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return Ge(t,r),t.prototype.postConstruct=function(){var e=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate());var n=this,i=n.btFirst,o=n.btPrevious,s=n.btNext,a=n.btLast;this.activateTabIndex([i,o,s,a]),i.insertAdjacentElement("afterbegin",Vn(e?"last":"first",this.gridOptionsService)),o.insertAdjacentElement("afterbegin",Vn(e?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Vn(e?"previous":"next",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",Vn(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var n=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(n),n&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,N.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(n){var i=n.el,o=n.fn;e.addManagedListener(i,"click",o),e.addManagedListener(i,"keydown",function(s){(s.key===ce.ENTER||s.key===ce.SPACE)&&(s.preventDefault(),o())})}),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,n=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?n+1:0)},t.prototype.formatNumber=function(e){var n=this.gridOptionsService.getCallback("paginationNumberFormatter");if(n)return n({value:e});var o=this.localeService.getLocaleTextFunc();return rv(e,o("thousandSeparator",","),o("decimalSeparator","."))},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),n=e("page","Page"),i=e("to","to"),o=e("of","of"),s=e("firstPage","First Page"),a=e("previousPage","Previous Page"),c=e("nextPage","Next Page"),h=e("lastPage","Last Page"),p=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+p+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+p+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+p+'-to">'+i+'</span>\n                    <span id="ag-'+p+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+p+'-of">'+o+'</span>\n                    <span id="ag-'+p+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="'+s+'"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="'+a+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+p+'-start-page">'+n+'</span>\n                        <span id="ag-'+p+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+p+'-of-page">'+o+'</span>\n                        <span id="ag-'+p+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="'+c+'"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="'+h+'"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay();this.nextButtonDisabled=n&&e===i-1||o,this.lastButtonDisabled=!n||o||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,n){zg(e,n),e.classList.toggle("ag-disabled",n)},t.prototype.updateRowLabels=function(){var s,a,e=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?s=a=0:(a=(s=n*e+1)+n-1,i&&a>o&&(a=o)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){var c=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=c("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(a)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();return e&&0===n},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(1===i){var o=this.paginationProxy.getRow(0);if(o&&o.group&&!o.groupData&&!o.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(n),this.lbRecordCount.innerHTML=this.formatNumber(i);else{var a=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=a,this.lbRecordCount.innerHTML=a}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Ye([I("paginationProxy")],t.prototype,"paginationProxy",void 0),Ye([I("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ye([He("btFirst")],t.prototype,"btFirst",void 0),Ye([He("btPrevious")],t.prototype,"btPrevious",void 0),Ye([He("btNext")],t.prototype,"btNext",void 0),Ye([He("btLast")],t.prototype,"btLast",void 0),Ye([He("lbRecordCount")],t.prototype,"lbRecordCount",void 0),Ye([He("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),Ye([He("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),Ye([He("lbCurrent")],t.prototype,"lbCurrent",void 0),Ye([He("lbTotal")],t.prototype,"lbTotal",void 0),Ye([ke],t.prototype,"postConstruct",null),t}(Nt),Te=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wt=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jt=function(r){return r[r.Loading=0]="Loading",r[r.NoRows=1]="NoRows",r}(jt||{}),mn=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e.manuallyDisplayed=!1,e}return Te(t,r),t.prototype.updateLayoutClasses=function(e,n){var i=this.eOverlayWrapper.classList;i.toggle(Kn.AUTO_HEIGHT,n.autoHeight),i.toggle(Kn.NORMAL,n.normal),i.toggle(Kn.PRINT,n.print)},t.prototype.postConstruct=function(){this.createManagedBean(new R_(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,N.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,N.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var n=this.eOverlayWrapper.classList;n.toggle("ag-overlay-loading-wrapper",e===jt.Loading),n.toggle("ag-overlay-no-rows-wrapper",e===jt.NoRows)},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var i=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(i,jt.Loading)}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var i=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(i,jt.NoRows)}},t.prototype.showOverlay=function(e,n){var i=this;this.inProgress||(this.setWrapperTypeClass(n),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(o){i.inProgress=!1,i.eOverlayWrapper.appendChild(o.getGui()),i.activeOverlay=o,i.destroyRequested&&(i.destroyRequested=!1,i.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),Mi(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),r.prototype.destroy.call(this)},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),n=this.gridOptionsService.is("suppressNoRowsOverlay");e&&!n?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',wt([I("userComponentFactory")],t.prototype,"userComponentFactory",void 0),wt([I("paginationProxy")],t.prototype,"paginationProxy",void 0),wt([I("gridApi")],t.prototype,"gridApi",void 0),wt([I("columnModel")],t.prototype,"columnModel",void 0),wt([He("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),wt([ke],t.prototype,"postConstruct",null),t}(Nt),kr=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Eo=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gd=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return kr(t,r),t.prototype.getFirstRow=function(){var n,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?n="top":this.rowModel.getRowCount()?(n=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(n="bottom"),void 0===n?null:{rowIndex:e,rowPinned:n}},t.prototype.getLastRow=function(){var e,n=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(n="bottom",e=i-1):this.rowModel.getRowCount()?(n=null,e=this.paginationProxy.getPageLastRow()):o&&(n="top",e=o-1),void 0===e?null:{rowIndex:e,rowPinned:n}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,n){return!e&&!n||!(e&&!n||!e&&n)&&e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned},t.prototype.before=function(e,n){switch(e.rowPinned){case"top":if("top"!==n.rowPinned)return!0;break;case"bottom":if("bottom"!==n.rowPinned)return!1;break;default:if(_e(n.rowPinned))return"top"!==n.rowPinned}return e.rowIndex<n.rowIndex},t.prototype.rowMax=function(e){var i,n=this;return e.forEach(function(o){(void 0===i||n.before(i,o))&&(i=o)}),i},t.prototype.rowMin=function(e){var i,n=this;return e.forEach(function(o){(void 0===i||n.before(o,i))&&(i=o)}),i},Eo([I("rowModel")],t.prototype,"rowModel",void 0),Eo([I("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Eo([I("paginationProxy")],t.prototype,"paginationProxy",void 0),Eo([tt("rowPositionUtils")],t)}(Re),fw=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qI=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return fw(t,r),t.prototype.createId=function(e){return this.createIdFromValues({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned})},t.prototype.createIdFromValues=function(e){return e.rowIndex+"."+(e.rowPinned??"null")+"."+e.column.getId()},t.prototype.equals=function(e,n){return e.column===n.column&&e.rowPinned===n.rowPinned&&e.rowIndex===n.rowIndex},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([tt("cellPositionUtils")],t),t}(Re),Fj=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pw=function r(t){this.cellValueChanges=t},XI=function(r){function t(e,n,i,o){var s=r.call(this,e)||this;return s.initialRange=n,s.finalRange=i,s.ranges=o,s}return Fj(t,r),t}(pw),Jk=function(){function r(t){this.actionStack=[],this.maxStackSize=t||r.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return r.prototype.pop=function(){return this.actionStack.pop()},r.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},r.prototype.clear=function(){this.actionStack=[]},r.prototype.getCurrentStackSize=function(){return this.actionStack.length},r.DEFAULT_STACK_SIZE=10,r}(),Lj=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),FO=function(){return FO=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},FO.apply(this,arguments)},vl=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gj=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(n){var i={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned},o=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,i),s=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,i);if(o||s||e.isPasting||e.isRangeInAction){var g=n.oldValue,m=n.value,_={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:n.column.getColId(),newValue:m,oldValue:g};e.cellValueChanges.push(_)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return Lj(t,r),t.prototype.init=function(){var e=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var n=this.gridOptionsService.getNum("undoRedoCellEditingLimit");n<=0||(this.undoStack=new Jk(n),this.redoStack=new Jk(n),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,N.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,N.EVENT_MODEL_UPDATED,function(i){i.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,N.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,N.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,N.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,N.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,N.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,N.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,N.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,N.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){this.eventService.dispatchEvent({type:N.EVENT_UNDO_STARTED,source:e});var i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:N.EVENT_UNDO_ENDED,source:e,operationPerformed:i})},t.prototype.redo=function(e){this.eventService.dispatchEvent({type:N.EVENT_REDO_STARTED,source:e});var i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:N.EVENT_REDO_ENDED,source:e,operationPerformed:i})},t.prototype.undoRedo=function(e,n,i,o,s){if(!e)return!1;var a=e.pop();return!(!a||!a.cellValueChanges||(this.processAction(a,function(c){return c[o]},s),a instanceof XI?this.processRange(a.ranges||[a[i]]):this.processCell(a.cellValueChanges),n.push(a),0))},t.prototype.processAction=function(e,n,i){var o=this;e.cellValueChanges.forEach(function(s){var h=s.columnId,g=o.getRowNode({rowIndex:s.rowIndex,rowPinned:s.rowPinned});g.displayed&&g.setDataValue(h,n(s),i)})},t.prototype.processRange=function(e){var i,n=this;this.rangeService.removeAllCellRanges(!0),e.forEach(function(o,s){if(o){var a=o.startRow,c=o.endRow;s===e.length-1&&(i={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:o.startColumn.getColId()},n.setLastFocusedCell(i)),n.rangeService.addCellRange({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:c.rowIndex,rowEndPinned:c.rowPinned,columnStart:o.startColumn,columns:o.columns})}})},t.prototype.processCell=function(e){var n=e[0],a=this.getRowNode({rowIndex:n.rowIndex,rowPinned:n.rowPinned});this.setLastFocusedCell({rowPinned:n.rowPinned,rowIndex:a.rowIndex,columnId:n.columnId},!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,n){var i=e.rowIndex,o=e.columnId,s=e.rowPinned,a=this.gridBodyCtrl.getScrollFeature(),c=this.columnModel.getGridColumn(o);if(c){a.ensureIndexVisible(i),a.ensureColumnVisible(c);var h={rowIndex:i,column:c,rowPinned:s};this.focusService.setFocusedCell(FO(FO({},h),{forceBrowserFocus:!0})),n&&this.rangeService.setRangeToCell(h)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,N.EVENT_ROW_EDITING_STARTED,function(n){e.activeRowEdit={rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,N.EVENT_ROW_EDITING_STOPPED,function(){var n=new pw(e.cellValueChanges);e.pushActionsToUndoStack(n),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,N.EVENT_CELL_EDITING_STARTED,function(n){e.activeCellEdit={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,N.EVENT_CELL_EDITING_STOPPED,function(n){if(e.activeCellEdit=null,n.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction){var o=new pw(e.cellValueChanges);e.pushActionsToUndoStack(o)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,N.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,N.EVENT_PASTE_END,function(){var n=new pw(e.cellValueChanges);e.pushActionsToUndoStack(n),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,N.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,N.EVENT_FILL_END,function(n){var i=new XI(e.cellValueChanges,n.initialRange,n.finalRange);e.pushActionsToUndoStack(i),e.isRangeInAction=!1})},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,N.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,N.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var n;n=e.rangeService&&e.gridOptionsService.is("enableRangeSelection")?new XI(e.cellValueChanges,void 0,void 0,function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(e.rangeService.getCellRanges()))):new pw(e.cellValueChanges),e.pushActionsToUndoStack(n),e.isRangeInAction=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},vl([I("focusService")],t.prototype,"focusService",void 0),vl([I("ctrlsService")],t.prototype,"ctrlsService",void 0),vl([I("rowModel")],t.prototype,"rowModel",void 0),vl([I("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),vl([I("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),vl([I("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),vl([I("columnModel")],t.prototype,"columnModel",void 0),vl([sn("rangeService")],t.prototype,"rangeService",void 0),vl([ke],t.prototype,"init",null),vl([tt("undoRedoService")],t)}(Re),Vj=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ZI=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Hj=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Vj(t,r),t.prototype.findHeader=function(e,n){var i;if(i=e.column instanceof Ai?this.columnModel["getDisplayedGroup"+n](e.column):this.columnModel["getDisplayedCol"+n](e.column)){var a=e.headerRowIndex;if(this.getHeaderRowType(a)===gi.COLUMN_GROUP){var h=i;if(h.isPadding()&&this.isAnyChildSpanningHeaderHeight(h)){var p=this.getColumnVisibleChild(h,a,n),g=p.nextFocusColumn;g&&(i=g,a=p.nextRow)}}return{column:i,headerRowIndex:a}}},t.prototype.isAnyChildSpanningHeaderHeight=function(e){return!!e&&e.getLeafColumns().some(function(n){return n.isSpanHeaderHeight()})},t.prototype.getColumnVisibleParent=function(e,n){var i=this.getHeaderRowType(n),s=i===gi.COLUMN,a=i===gi.FLOATING_FILTER?e:e.getParent(),c=n-1;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;a&&a.isPadding();)a=a.getParent(),c--;c<0&&(a=e,c=n)}return{nextFocusColumn:a,nextRow:c}},t.prototype.getColumnVisibleChild=function(e,n,i){void 0===i&&(i="After");var s=e,a=n+1;if(this.getHeaderRowType(n)===gi.COLUMN_GROUP){var c=e.getLeafColumns(),h="After"===i?c[0]:fn(c);if(this.isAnyChildSpanningHeaderHeight(h.getParent())){s=h;for(var p=h.getParent();p&&p!==e;)p=p.getParent(),a++}else s=e.getDisplayedChildren()[0]}return{nextFocusColumn:s,nextRow:a}},t.prototype.getHeaderRowType=function(e){var n=this.ctrlsService.getHeaderRowContainerCtrl();if(n)return n.getRowType(e)},t.prototype.findColAtEdgeForHeaderRow=function(e,n){var i=this.columnModel.getAllDisplayedColumns(),o=i["start"===n?0:i.length-1];if(o){var a=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getRowType(e);return a==gi.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(o,e)}:{headerRowIndex:null==a?-1:e,column:o}}},ZI([I("columnModel")],t.prototype,"columnModel",void 0),ZI([I("ctrlsService")],t.prototype,"ctrlsService",void 0),ZI([tt("headerPositionUtils")],t)}(Re),jj=function(){function r(){}return r.prototype.buildColumnDefs=function(t,e,n){var i=this,o=[],s={};return t.forEach(function(a){for(var h=!0,p=i.createDefFromColumn(a,e,n),g=a.getOriginalParent(),m=null;g;){var _=null;if(g.isPadding())g=g.getOriginalParent();else{var w=s[g.getGroupId()];if(w){w.children.push(p),h=!1;break}if((_=i.createDefFromGroup(g))&&(_.children=[p],s[_.groupId]=_,p=_,g=g.getOriginalParent()),null!=g&&m===g){h=!1;break}m=g}}h&&o.push(p)}),o},r.prototype.createDefFromGroup=function(t){var e=on(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},r.prototype.createDefFromColumn=function(t,e,n){var i=on(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?n.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=!t.isVisible()||void 0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,i},r=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([tt("columnDefFactory")],r),r}(),QI=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Uj=function(){function r(){}return r.prototype.getInitialRowClasses=function(t){var e=[];return _e(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),Kc(e,this.processClassesFromGridOptions(t.rowNode)),Kc(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e},r.prototype.processClassesFromGridOptions=function(t){var e=[],n=function(c){"string"==typeof c?e.push(c):Array.isArray(c)&&c.forEach(function(h){return e.push(h)})},i=this.gridOptionsService.get("rowClass");if(i){if("function"==typeof i)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(i)}var o=this.gridOptionsService.getCallback("getRowClass");return o&&n(o({data:t.data,node:t,rowIndex:t.rowIndex})),e},r.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(n){e.push(n)},function(n){}),e},r.prototype.processRowClassRules=function(t,e,n){var i={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),i,e,n)},r.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},QI([I("stylingService")],r.prototype,"stylingService",void 0),QI([I("gridOptionsService")],r.prototype,"gridOptionsService",void 0),QI([tt("rowCssClassCalculator")],r)}(),Wj=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),LO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zj=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Wj(t,r),t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(n){return e.isAccentedSort=n.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()})},t.prototype.doFullSort=function(e,n){var o=e.map(function(s,a){return{currentPos:a,rowNode:s}});return o.sort(this.compareRowNodes.bind(this,n)),o.map(function(s){return s.rowNode})},t.prototype.compareRowNodes=function(e,n,i){for(var o=n.rowNode,s=i.rowNode,a=0,c=e.length;a<c;a++){var _,h=e[a],p="desc"===h.sort,g=this.getValue(o,h.column),m=this.getValue(s,h.column),w=this.getComparator(h,o);if(_=w?w(g,m,o,s,p):gt.defaultComparator(g,m,this.isAccentedSort),!isNaN(_)&&0!==_)return"asc"===h.sort?_:-1*_}return n.currentPos-i.currentPos},t.prototype.getComparator=function(e,n){var i=e.column,o=i.getColDef().comparator;if(null!=o)return o;if(i.getColDef().showRowGroup){var s=!n.group&&i.getColDef().field;if(s){var a=this.columnModel.getPrimaryColumn(s);if(a)return a.getColDef().comparator}}},t.prototype.getValue=function(e,n){var i,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(n,e,!1,!1);if(e.rowGroupColumn===n){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(n.getColDef().keyCreator)return e.key;var h=null===(i=e.allLeafChildren)||void 0===i?void 0:i[0];return h?this.valueService.getValue(n,h,!1,!1):void 0}var p=this.columnModel.getGroupDisplayColumnForGroup(n.getId());return p?null===(o=e.groupData)||void 0===o?void 0:o[p.getId()]:void 0}return e.group&&n.getColDef().showRowGroup?void 0:this.valueService.getValue(n,e,!1,!1)},LO([I("valueService")],t.prototype,"valueService",void 0),LO([I("columnModel")],t.prototype,"columnModel",void 0),LO([ke],t.prototype,"init",null),LO([tt("rowNodeSorter")],t)}(Re),$j=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yj=function(r){function t(){var n=null!==r&&r.apply(this,arguments)||this;return n.ready=!1,n.readyCallbacks=[],n}var e;return $j(t,r),e=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var n=this.createReadyParams();this.readyCallbacks.forEach(function(i){return i(n)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(n){this.ready?n(this.createReadyParams()):this.readyCallbacks.push(n)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(n){this.fakeHScrollComp=n,this.checkReady()},t.prototype.registerFakeVScrollComp=function(n){this.fakeVScrollComp=n,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(n){this.gridHeaderCtrl=n,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(n){this.centerRowContainerCtrl=n,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(n){this.leftRowContainerCtrl=n,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(n){this.rightRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(n){this.topCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(n){this.topLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(n){this.topRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(n){this.stickyTopCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(n){this.stickyTopLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(n){this.stickyTopRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(n){this.bottomCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(n){this.bottomLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(n){this.bottomRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerHeaderContainer=function(n,i){switch(i){case"left":this.leftHeaderRowContainerCtrl=n;break;case"right":this.rightHeaderRowContainerCtrl=n;break;default:this.centerHeaderRowContainerCtrl=n}this.checkReady()},t.prototype.registerGridBodyCtrl=function(n){this.gridBodyCtrl=n,this.checkReady()},t.prototype.registerGridCtrl=function(n){this.gridCtrl=n,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(n){switch(n){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",t=e=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([tt(e.NAME)],t),t}(Re),qj=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zj=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.registry={},e}return qj(t,r),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var n=this.registry[e];if(null!=n)return new n},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([tt("ctrlsFactory")],t),t}(Re),Qj=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gw=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eG=function(r){function t(e,n){var i=r.call(this,e)||this;return i.direction=n,i.hideTimeout=null,i}return Qj(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,N.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",HC()||Js())},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=_f(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,o=this.getGui();["mouseenter","mousedown","touchstart"].forEach(function(s){return e.addManagedListener(o,s,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","touchend"].forEach(function(s){return e.addManagedListener(o,s,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.onScrollVisibilityChanged=function(){var e=this;void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return e.setScrollVisible()})},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,N.EVENT_BODY_SCROLL,function(n){n.direction===e.direction&&(null!==e.hideTimeout&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,N.EVENT_BODY_SCROLL_END,function(){e.hideTimeout=window.setTimeout(function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null},400)})},t.prototype.attemptSettingScrollPosition=function(e){var n=this,i=this.getViewport();gC(function(){return Co(i)},function(){return n.setScrollPosition(e)},100)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},t.prototype.onScrollCallback=function(e){this.addManagedListener(this.getViewport(),"scroll",e)},gw([He("eViewport")],t.prototype,"eViewport",void 0),gw([He("eContainer")],t.prototype,"eContainer",void 0),gw([I("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),gw([I("ctrlsService")],t.prototype,"ctrlsService",void 0),gw([I("animationFrameService")],t.prototype,"animationFrameService",void 0),t}(Nt),Jj=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vw=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eU=function(r){function t(){return r.call(this,t.TEMPLATE,"horizontal")||this}return Jj(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this);var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,N.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",n),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new G_(function(i){return e.eContainer.style.width=i+"px"}))},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),r.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=e+"px"}},t.prototype.onScrollVisibilityChanged=function(){r.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),n=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,o=this.gridOptionsService.getScrollbarWidth();i&&(n+=o),_o(this.eRightSpacer,n),this.eRightSpacer.classList.toggle("ag-scroller-corner",n<=o);var s=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(s+=o),_o(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=o)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),n=this.invisibleScrollbar,i=this.gridOptionsService.is("suppressHorizontalScroll"),o=e&&this.gridOptionsService.getScrollbarWidth()||0,a=i?0:0===o&&n?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),mu(this.getGui(),a),mu(this.eViewport,a),mu(this.eContainer,a),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.getScrollPosition=function(){return Ef(this.getViewport(),this.enableRtl)},t.prototype.setScrollPosition=function(e){Co(this.getViewport())||this.attemptSettingScrollPosition(e),id(this.getViewport(),e,this.enableRtl)},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',vw([He("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),vw([He("eRightSpacer")],t.prototype,"eRightSpacer",void 0),vw([I("columnModel")],t.prototype,"columnModel",void 0),vw([I("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),vw([ke],t.prototype,"postConstruct",null),t}(eG),tU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),JI=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nU=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return tU(t,r),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,N.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),n=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,this.eventService.dispatchEvent({type:N.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:N.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},JI([I("columnModel")],t.prototype,"columnModel",void 0),JI([ke],t.prototype,"postConstruct",null),JI([tt("pinnedWidthService")],t)}(Re),iU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),NO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rU=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.events=[],e}return iU(t,r),t.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var n=this;null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){n.clientSideRowModel&&n.clientSideRowModel.onRowGroupOpened(),n.events.forEach(function(o){return n.eventService.dispatchEvent(o)}),n.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)},NO([I("animationFrameService")],t.prototype,"animationFrameService",void 0),NO([I("rowModel")],t.prototype,"rowModel",void 0),NO([ke],t.prototype,"postConstruct",null),NO([tt("rowNodeEventThrottle")],t)}(Re),eF=function(){return eF=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},eF.apply(this,arguments)},Vd=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tG=function(r,t){return function(e,n){t(e,n,r)}},nG=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},iG=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r};function kO(r){return!0===r||"true"===r}var sU=function(){function r(){var e=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new _s,this.globalEventHandlerFactory=function(n){return function(i,o){if(!e.destroyed){var s=t.alwaysSyncGlobalEvents.has(i);if(!(s&&!n||!s&&n)){var a=qc.getCallbackForEvent(i);"function"==typeof e.gridOptions[a]&&e.gridOptions[a](o)}}}}}var t;return t=r,Object.defineProperty(r.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),r.prototype.agWire=function(e,n){this.gridOptions.api=e,this.gridOptions.columnApi=n,this.api=e,this.columnApi=n},r.prototype.init=function(){this.gridOptionLookup=new Set(iG(iG([],nG(qc.ALL_PROPERTIES)),nG(qc.EVENT_CALLBACKS)));var e=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.getScrollbarWidth()},r.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},r.prototype.is=function(e){return kO(this.gridOptions[e])},r.prototype.get=function(e){return this.gridOptions[e]},r.prototype.getNum=function(e){return function oU(r){return"number"==typeof r?r:"string"==typeof r?parseInt(r,10):void 0}(this.gridOptions[e])},r.prototype.getCallback=function(e){return this.mergeGridCommonParams(this.gridOptions[e])},r.prototype.exists=function(e){return _e(this.gridOptions[e])},r.prototype.mergeGridCommonParams=function(e){var n=this;return e?function(o){var s=o;return s.api=n.api,s.columnApi=n.columnApi,s.context=n.context,e(s)}:e},r.prototype.__setPropertyOnly=function(e,n){var i=this.gridOptions[e];return this.gridOptionLookup.has(e)&&(this.gridOptions[e]=n),i!==n},r.prototype.set=function(e,n,i,o,s){if(void 0===i&&(i=!1),void 0===o&&(o={}),void 0===s&&(s=void 0),this.gridOptionLookup.has(e)){var a=this.gridOptions[e];if(i||a!==n){this.gridOptions[e]=n;var c=eF({type:e,currentValue:n,previousValue:a,changeSet:s},o);this.propertyEventService.dispatchEvent(c)}}},r.prototype.addEventListener=function(e,n){this.propertyEventService.addEventListener(e,n)},r.prototype.removeEventListener=function(e,n){this.propertyEventService.removeEventListener(e,n)},r.prototype.getGridId=function(){return this.api.getGridId()},r.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var n="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:G0();null!=n&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:N.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},r.prototype.isRowModelType=function(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&ht(this.gridOptions.rowModelType)},r.prototype.isDomLayout=function(e){var n;return(null!==(n=this.gridOptions.domLayout)&&void 0!==n?n:"normal")===e},r.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},r.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},r.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},r.prototype.getRowHeightForNode=function(e,n,i){if(void 0===n&&(n=!1),null==i&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(n)return{height:i,estimated:!0};var o={node:e,data:e.data},s=this.getCallback("getRowHeight")(o);if(this.isNumeric(s))return 0===s&&Lt(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,s),estimated:!1}}return e.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}},r.prototype.getMasterDetailRowHeight=function(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},r.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||ht(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.environment.refreshRowHeightVariable();return-1!==e?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},r.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)},r.prototype.getDomDataKey=function(){return this.domDataKey},r.prototype.getDomData=function(e,n){var i=e[this.getDomDataKey()];return i?i[n]:void 0},r.prototype.setDomData=function(e,n,i){var o=this.getDomDataKey(),s=e[o];ht(s)&&(e[o]=s={}),s[n]=i},r.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&_e(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&_e(e)?e:document},r.prototype.getWindow=function(){return this.getDocument().defaultView||window},r.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},r.prototype.getAsyncTransactionWaitMillis=function(){return _e(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},r.prototype.isAnimateRows=function(){return!this.is("ensureDomOrder")&&this.is("animateRows")},r.prototype.isGroupRowsSticky=function(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))},r.prototype.isColumnsSortingCoupledToGroup=function(){var e=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!e?.comparator&&!this.is("treeData")},r.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;return"function"==typeof e?this.getCallback("groupAggFiltering"):kO(e)?function(){return!0}:void 0},r.prototype.isGroupIncludeFooterTrueOrCallback=function(){var e=this.gridOptions.groupIncludeFooter;return kO(e)||"function"==typeof e},r.prototype.getGroupIncludeFooter=function(){var e=this.gridOptions.groupIncludeFooter;return"function"==typeof e?this.getCallback("groupIncludeFooter"):kO(e)?function(){return!0}:function(){return!1}},r.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?Xa("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},r.prototype.isGroupUseEntireRow=function(e){return!e&&!!this.gridOptions.groupDisplayType&&Xa("groupRows",this.gridOptions.groupDisplayType)},r.alwaysSyncGlobalEvents=new Set([N.EVENT_GRID_PRE_DESTROYED]),Vd([I("gridOptions")],r.prototype,"gridOptions",void 0),Vd([I("eventService")],r.prototype,"eventService",void 0),Vd([I("environment")],r.prototype,"environment",void 0),Vd([I("eGridDiv")],r.prototype,"eGridDiv",void 0),Vd([tG(0,Hi("gridApi")),tG(1,Hi("columnApi"))],r.prototype,"agWire",null),Vd([ke],r.prototype,"init",null),Vd([hi],r.prototype,"destroy",null),t=Vd([tt("gridOptionsService")],r)}(),aU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uU=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return aU(t,r),t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(i,o,s){return e({key:i,defaultValue:o,variableValues:s})};var n=this.gridOptionsService.get("localeText");return function(i,o,s){var a=n&&n[i];if(a&&s&&s.length)for(var c=0;!(c>=s.length)&&-1!==a.indexOf("${variable}");)a=a.replace("${variable}",s[c++]);return a??o}},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([tt("localeService")],t),t}(Re),cU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hU=function(r){function t(){return r.call(this,t.TEMPLATE,"vertical")||this}return cU(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.createManagedBean(new aP(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,N.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),n=this.invisibleScrollbar,i=e&&this.gridOptionsService.getScrollbarWidth()||0,o=0===i&&n?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),_o(this.getGui(),o),_o(this.eViewport,o),_o(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.onRowContainerHeightChanged=function(){var n=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement();this.eViewport.scrollTop!=n.scrollTop&&(this.eViewport.scrollTop=n.scrollTop)},t.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},t.prototype.setScrollPosition=function(e){Co(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e},t.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([ke],t.prototype,"postConstruct",null),t}(eG),fU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Do=function(){return Do=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Do.apply(this,arguments)},fp=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ml=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},mw=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},rG={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},oG=["january","february","march","april","may","june","july","august","september","october","november","december"],pU=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.dataTypeDefinitions={},e.isWaitingForRowData=!1,e.isColumnTypeOverrideInDataTypeDefinitions=!1,e.columnStateUpdatesPendingInference={},e.columnStateUpdateListenerDestroyFuncs=[],e}return fU(t,r),t.prototype.init=function(){var e=this;this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){e.groupHideOpenParents=e.gridOptionsService.is("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(){e.processDataTypeDefinitions(),e.columnModel.recreateColumnDefs("gridOptionsChanged")})},t.prototype.processDataTypeDefinitions=function(){var n,e=this,i=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(i).forEach(function(s){var a=ml(s,2),h=a[1];e.dataTypeDefinitions[a[0]]=Do(Do({},h),{groupSafeValueFormatter:e.createGroupSafeValueFormatter(h)})});var o=null!==(n=this.gridOptionsService.get("dataTypeDefinitions"))&&void 0!==n?n:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(s){var a=ml(s,2),c=a[0],h=a[1],p=e.processDataTypeDefinition(h,o,[c],i);p&&(e.dataTypeDefinitions[c]=p,h.dataTypeMatcher&&(e.dataTypeMatchers[c]=h.dataTypeMatcher))}),this.checkObjectValueHandlers(i),["dateString","text","number","boolean","date"].forEach(function(s){var a=e.dataTypeMatchers[s];a&&delete e.dataTypeMatchers[s],e.dataTypeMatchers[s]=a??i[s].dataTypeMatcher})},t.prototype.mergeDataTypeDefinitions=function(e,n){var i=Do(Do({},e),n);return e.columnTypes&&n.columnTypes&&n.appendColumnTypes&&(i.columnTypes=mw(mw([],ml(this.convertColumnTypes(e.columnTypes))),ml(this.convertColumnTypes(n.columnTypes)))),i},t.prototype.processDataTypeDefinition=function(e,n,i,o){var s,a=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){var c=o[a];if(!this.validateDataTypeDefinition(e,c,a))return;s=this.mergeDataTypeDefinitions(c,e)}else{if(i.includes(a))return void Lt(function(){return console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.')},"dataTypeExtendsCircularRef");var h=n[a];if(!this.validateDataTypeDefinition(e,h,a))return;var p=this.processDataTypeDefinition(h,n,mw(mw([],ml(i)),[a]),o);if(!p)return;s=this.mergeDataTypeDefinitions(p,e)}return Do(Do({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})},t.prototype.validateDataTypeDefinition=function(e,n,i){return n?n.baseDataType===e.baseDataType||(Lt(function(){return console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.')},"dataTypeBaseTypesMatch"),!1):(Lt(function(){return console.warn("AG Grid: The data type definition "+i+" does not exist.")},"dataTypeDefMissing"+i),!1)},t.prototype.createGroupSafeValueFormatter=function(e){var n=this;if(e.valueFormatter)return function(i){var o,s;if(null===(o=i.node)||void 0===o||!o.group)return n.groupHideOpenParents&&i.column.isRowGroupActive()?"string"!=typeof i.value||null!==(s=e.dataTypeMatcher)&&void 0!==s&&s.call(e,i.value)?e.valueFormatter(i):void 0:e.valueFormatter(i);var a=i.column.getAggFunc();if(a){if("first"===a||"last"===a)return e.valueFormatter(i);if("number"===e.baseDataType&&"count"!==a){if("number"==typeof i.value)return e.valueFormatter(i);if("object"==typeof i.value){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(Do(Do({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(Do(Do({},i),{value:i.value.value}))}}}}},t.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(e,n,i){var o=n.cellDataType,s=n.field;if(void 0===o&&(o=e.cellDataType),(null==o||!0===o)&&(o=!!this.canInferCellDataType(e,n)&&this.inferCellDataType(s,i)),o){var a=this.dataTypeDefinitions[o];if(a)return e.cellDataType=o,a.groupSafeValueFormatter&&(e.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(e.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,a,i),a.columnTypes;Lt(function(){return console.warn('AG Grid: Missing data type definition - "'+o+'"')},"dataTypeMissing"+o)}else e.cellDataType=!1},t.prototype.updateColDefAndGetColumnType=function(e,n,i){var o,s,a=this.updateColDefAndGetDataTypeDefinitionColumnType(e,n,i),c=null!==(s=null!==(o=n.type)&&void 0!==o?o:a)&&void 0!==s?s:e.type;return e.type=c,c?this.convertColumnTypes(c):void 0},t.prototype.addColumnListeners=function(e){if(this.isWaitingForRowData){var n=this.columnStateUpdatesPendingInference[e.getColId()];if(n){var i=function(o){n.add(o.key)};e.addEventListener(hn.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(function(){return e.removeEventListener(hn.EVENT_STATE_UPDATED,i)})}}},t.prototype.canInferCellDataType=function(e,n){var o,i=this;if("clientSide"!==this.rowModel.getType())return!1;var s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(n,s))return!1;var a=null===n.type?e.type:n.type;if(a){var c=null!==(o=this.gridOptionsService.get("columnTypes"))&&void 0!==o?o:{};if(this.convertColumnTypes(a).some(function(p){var g=c[p.trim()];return g&&i.doColDefPropsPreventInference(g,s)}))return!1}return!this.doColDefPropsPreventInference(e,s)},t.prototype.doColDefPropsPreventInference=function(e,n){var i=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var s=ml(o,2);return i.doesColDefPropPreventInference(e,n,s[0],s[1])})},t.prototype.doesColDefPropPreventInference=function(e,n,i,o){if(!n[i])return!1;var s=e[i];return null===s?(n[i]=!1,!1):void 0===o?!!s:s===o},t.prototype.inferCellDataType=function(e,n){var i;if(e){var o,s=this.getInitialData();if(s){var a=e.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");o=Ha(s,e,a)}else this.initWaitForRowData(n);if(null!=o)return ml(null!==(i=Object.entries(this.dataTypeMatchers).find(function(p){return(0,ml(p,2)[1])(o)}))&&void 0!==i?i:["object"],1)[0]}},t.prototype.getInitialData=function(){var e=this.gridOptionsService.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;var n=this.rowModel.getRootNode().allLeafChildren;return n?.length?n[0].data:null},t.prototype.initWaitForRowData=function(e){var n=this;if(this.columnStateUpdatesPendingInference[e]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,N.EVENT_ROW_DATA_UPDATE_STARTED,function(s){var a=s.firstRowData;a&&(o?.(),n.isWaitingForRowData=!1,n.processColumnsPendingInference(a,i),n.columnStateUpdatesPendingInference={},i&&n.columnModel.processResizeOperations(),n.eventService.dispatchEvent({type:N.EVENT_DATA_TYPES_INFERRED}))})}},t.prototype.isPendingInference=function(){return this.isWaitingForRowData},t.prototype.processColumnsPendingInference=function(e,n){var i=this;this.initialData=e;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(c){return c()}),this.columnStateUpdateListenerDestroyFuncs=[];var s={},a={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(c){var h=ml(c,2),p=h[0],g=h[1],m=i.columnModel.getGridColumn(p);if(m){var _=m.getColDef();if(i.columnModel.resetColumnDefIntoColumn(m)){var w=m.getColDef();if(n&&w.type&&w.type!==_.type){var E=i.getUpdatedColumnState(m,g);E.rowGroup&&null==E.rowGroupIndex&&(s[p]=E),E.pivot&&null==E.pivotIndex&&(a[p]=E),o.push(E)}}}}),n&&o.push.apply(o,mw([],ml(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(s,a)))),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},t.prototype.getUpdatedColumnState=function(e,n){var i=this.columnModel.getColumnStateFromColDef(e);return n.forEach(function(o){delete i[o],"rowGroup"===o?delete i.rowGroupIndex:"pivot"===o&&delete i.pivotIndex}),i},t.prototype.checkObjectValueHandlers=function(e){var n=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=n.valueParser!==i.valueParser,this.hasObjectValueFormatter=n.valueFormatter!==i.valueFormatter},t.prototype.convertColumnTypes=function(e){var n=[];return e instanceof Array?e.some(function(o){return"string"!=typeof o})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=e:"string"==typeof e?n=e.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'"),n},t.prototype.getDateStringTypeDefinition=function(){return this.dataTypeDefinitions.dateString},t.prototype.getDateParserFunction=function(){return this.getDateStringTypeDefinition().dateParser},t.prototype.getDateFormatterFunction=function(){return this.getDateStringTypeDefinition().dateFormatter},t.prototype.getDataTypeDefinition=function(e){var n=e.getColDef();if(n.cellDataType)return this.dataTypeDefinitions[n.cellDataType]},t.prototype.getBaseDataType=function(e){var n;return null===(n=this.getDataTypeDefinition(e))||void 0===n?void 0:n.baseDataType},t.prototype.checkType=function(e,n){var i;if(null==n)return!0;var o=null===(i=this.getDataTypeDefinition(e))||void 0===i?void 0:i.dataTypeMatcher;return!o||o(n)},t.prototype.validateColDef=function(e){"object"===e.cellDataType&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Lt(function(){return console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"')},"dataTypeObjectValueFormatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Lt(function(){return console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"')},"dataTypeObjectValueParser"))},t.prototype.setColDefPropertiesForBaseDataType=function(e,n,i){var o=this,s=function(g,m,_){var w=g.getColDef().valueFormatter;return w===n.groupSafeValueFormatter&&(w=n.valueFormatter),o.valueFormatterService.formatValue(g,m,_,w)},a=vt.__isRegistered(it.SetFilterModule,this.context.getGridId()),c=this.localeService.getLocaleTextFunc(),h=function(g){var m=e.filterParams;e.filterParams="object"==typeof m?Do(Do({},m),g):g};switch(e.useValueFormatterForExport=!0,e.useValueParserForImport=!0,n.baseDataType){case"number":e.cellEditor="agNumberCellEditor",a&&h({comparator:function(g,m){var _=null==g?0:parseInt(g),w=null==m?0:parseInt(m);return _===w?0:_>w?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=function(g){return!!g.colDef.editable&&g.event.key===ce.SPACE},h(a?{valueFormatter:function(g){return _e(g.value)?c(String(g.value),g.value?"True":"False"):c("blanks","(Blanks)")}}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(g,m){return m},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(g,m){return!1===m},numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=function(g){return s(g.column,g.node,g.value)},a&&h({valueFormatter:function(g){var m=s(g.column,g.node,g.value);return _e(m)?m:c("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(g,m){if(1===m&&null!=g){var _=oG[Number(g)-1];return c(_,rG[_])}return g??c("blanks","(Blanks)")}});break;case"dateString":e.cellEditor="agDateStringCellEditor",e.keyCreator=function(g){return s(g.column,g.node,g.value)};var p=this.getDateParserFunction();h(a?{valueFormatter:function(g){var m=s(g.column,g.node,g.value);return _e(m)?m:c("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(g){var m=p(g??void 0);return m?[String(m.getFullYear()),String(m.getMonth()+1),String(m.getDate())]:null},treeListFormatter:function(g,m){if(1===m&&null!=g){var _=oG[Number(g)-1];return c(_,rG[_])}return g??c("blanks","(Blanks)")}}:{comparator:function(g,m){var _=p(m);return null==m||_<g?-1:_>g?1:0}});break;case"object":e.cellEditorParams={useFormatter:!0},e.comparator=function(g,m){var _=o.columnModel.getPrimaryColumn(i),w=_?.getColDef();if(!_||!w)return 0;var E=null==g?"":s(_,null,g),b=null==m?"":s(_,null,m);return E===b?0:E>b?1:-1},e.keyCreator=function(g){return s(g.column,g.node,g.value)},a?h({valueFormatter:function(g){var m=s(g.column,g.node,g.value);return _e(m)?m:c("blanks","(Blanks)")}}):e.filterValueGetter=function(g){return s(g.column,g.node,o.valueService.getValue(g.column,g.node))}}},t.prototype.getDefaultDataTypes=function(){var e=function(i){return!!i.match("^\\d{4}-\\d{2}-\\d{2}$")},n=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(i){return""===i.newValue?null:Number(i.newValue)},valueFormatter:function(i){return null==i.value?"":"number"!=typeof i.value||isNaN(i.value)?n("invalidNumber","Invalid Number"):String(i.value)},dataTypeMatcher:function(i){return"number"==typeof i}},text:{baseDataType:"text",valueParser:function(i){return""===i.newValue?null:cu(i.newValue)},dataTypeMatcher:function(i){return"string"==typeof i}},boolean:{baseDataType:"boolean",valueParser:function(i){return""===i.newValue?null:"true"===String(i.newValue).toLowerCase()},valueFormatter:function(i){return null==i.value?"":String(i.value)},dataTypeMatcher:function(i){return"boolean"==typeof i}},date:{baseDataType:"date",valueParser:function(i){return $n(null==i.newValue?null:String(i.newValue))},valueFormatter:function(i){var o;return null==i.value?"":i.value instanceof Date&&!isNaN(i.value.getTime())?null!==(o=Qr(i.value,!1))&&void 0!==o?o:"":n("invalidDate","Invalid Date")},dataTypeMatcher:function(i){return i instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(i){var o;return null!==(o=$n(i))&&void 0!==o?o:void 0},dateFormatter:function(i){var o;return null!==(o=Qr(i??null,!1))&&void 0!==o?o:void 0},valueParser:function(i){return e(String(i.newValue))?i.newValue:null},valueFormatter:function(i){return e(String(i.value))?i.value:""},dataTypeMatcher:function(i){return"string"==typeof i&&e(i)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(i){var o;return null!==(o=cu(i.value))&&void 0!==o?o:""}}}},fp([I("rowModel")],t.prototype,"rowModel",void 0),fp([I("columnModel")],t.prototype,"columnModel",void 0),fp([I("columnUtils")],t.prototype,"columnUtils",void 0),fp([I("valueService")],t.prototype,"valueService",void 0),fp([I("valueFormatterService")],t.prototype,"valueFormatterService",void 0),fp([ke],t.prototype,"init",null),fp([tt("dataTypeService")],t)}(Re),gU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sG=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vU=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return gU(t,r),t.prototype.parseValue=function(e,n,i,o){var s=e.getColDef(),a={node:n,data:n?.data,oldValue:o,newValue:i,colDef:s,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},c=s.valueParser;return _e(c)?"function"==typeof c?c(a):this.expressionService.evaluate(c,a):i},sG([I("expressionService")],t.prototype,"expressionService",void 0),sG([tt("valueParserService")],t)}(Re),aG=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},lG=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},mU=function(){function r(t,e,n){e?(this.gridOptions=e,(new CU).create(t,e,function(i){var o=new TO(t);i.createBean(o)},void 0,n)):console.error("AG Grid: no gridOptions provided to the grid")}return r.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},r}(),yU=1,CU=function(){function r(){}return r.prototype.create=function(t,e,n,i,o){var a,s=this,c=!!e.debug,h=null!==(a=e.gridId)&&void 0!==a?a:String(yU++),p=this.getRegisteredModules(o,h),g=this.createBeansList(e.rowModelType,p,h),m=this.createProvidedBeans(t,e,o);if(g){var _={providedBeanInstances:m,beanClasses:g,debug:c,gridId:h},w=new dw("AG Grid",function(){return e.debug}),E=new dw("Context",function(){return _.debug}),b=new mC(_,E),R=b.getBean("beans");this.registerModuleUserComponents(R,p),this.registerStackComponents(R,p),this.registerControllers(R,p),n(b),R.ctrlsService.whenReady(function(){s.setColumnsAndData(R),s.dispatchGridReadyEvent(R);var T=vt.__isRegistered(it.EnterpriseCoreModule,h);w.log("initialised successfully, enterprise = "+T)}),i&&i(b)}},r.prototype.registerControllers=function(t,e){e.forEach(function(n){n.controllers&&n.controllers.forEach(function(i){return t.ctrlsFactory.register(i)})})},r.prototype.registerStackComponents=function(t,e){var n=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(n)},r.prototype.getRegisteredModules=function(t,e){var n=t?t.modules:null,i=vt.__getRegisteredModules(e),o=[],s={},a=function(c,h,p){var m;s[(m=h).moduleName]||(s[m.moduleName]=!0,o.push(m),vt.__register(m,c,p)),h.dependantModules&&h.dependantModules.forEach(function(m){return a(c,m,p)})};return n&&n.forEach(function(c){return a(!0,c,e)}),i&&i.forEach(function(c){return a(!vt.__isPackageBased(),c,void 0)}),o},r.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,function(i){return i.userComponents?i.userComponents:[]}).forEach(function(i){t.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})},r.prototype.createProvidedBeans=function(t,e,n){var i=n?n.frameworkOverrides:null;ht(i)&&(i=new sw);var o={gridOptions:e,eGridDiv:t,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o},r.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:Cv},{componentName:"AgRadioButton",componentClass:Ff},{componentName:"AgToggleButton",componentClass:hI},{componentName:"AgInputTextField",componentClass:ol},{componentName:"AgInputTextArea",componentClass:oO},{componentName:"AgInputNumberField",componentClass:Dv},{componentName:"AgInputDateField",componentClass:Tk},{componentName:"AgInputRange",componentClass:aO},{componentName:"AgRichSelect",componentClass:vI},{componentName:"AgSelect",componentClass:fd},{componentName:"AgSlider",componentClass:xk},{componentName:"AgGridBody",componentClass:fP},{componentName:"AgHeaderRoot",componentClass:KP},{componentName:"AgSortIndicator",componentClass:y_},{componentName:"AgPagination",componentClass:dt},{componentName:"AgOverlayWrapper",componentClass:mn},{componentName:"AgGroupComponent",componentClass:pO},{componentName:"AgPanel",componentClass:CO},{componentName:"AgDialog",componentClass:_I},{componentName:"AgRowContainer",componentClass:Lb},{componentName:"AgFakeHorizontalScroll",componentClass:eU},{componentName:"AgFakeVerticalScroll",componentClass:hU},{componentName:"AgAutocomplete",componentClass:OI}],n=this.extractModuleEntity(t,function(i){return i.agStackComponents?i.agStackComponents:[]});return e.concat(n)},r.prototype.createBeansList=function(t,e,n){void 0===t&&(t="clientSide");var i=e.filter(function(h){return!h.rowModel||h.rowModel===t}),o={clientSide:it.ClientSideRowModelModule,infinite:it.InfiniteRowModelModule,serverSide:it.ServerSideRowModelModule,viewport:it.ViewportRowModelModule};if(o[t]){if(vt.__assertRegistered(o[t],"rowModelType = '"+t+"'",n)){var s=[M_,Gd,qI,Hj,Uk,TM,ik,Yk,qk,wk,EM,B,qP,uU,b0,iI,bM,_x,_s,sU,Ik,xI,sb,Ug,zP,cI,eI,OO,m0,II,Gk,H_,Wk,MI,NI,mx,bk,Qb,ri,EO,np,vP,D,uw,Qv,rO,pP,xO,HI,MO,Se,qN,$k,Ek,Gj,wx,jj,Uj,lI,zj,Yj,nU,rU,Zj,pU,vU,b_],a=this.extractModuleEntity(i,function(h){return h.beans?h.beans:[]});s.push.apply(s,lG([],aG(a)));var c=[];return s.forEach(function(h){c.indexOf(h)<0&&c.push(h)}),c}}else console.error("AG Grid: could not find row model for rowModelType = "+t)},r.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],lG([],aG(t.map(e))))},r.prototype.setColumnsAndData=function(t){var e=t.gridOptionsService.get("columnDefs");t.columnModel.setColumnDefs(e||[],"gridInitializing"),t.rowModel.start()},r.prototype.dispatchGridReadyEvent=function(t){t.eventService.dispatchEvent({type:N.EVENT_GRID_READY})},r}(),_U=function(){function r(){}return r.prototype.wrap=function(t,e,n,i){var o=this;void 0===n&&(n=[]);var s=this.createWrapper(t,i);return e.forEach(function(a){o.createMethod(s,a,!0)}),n.forEach(function(a){o.createMethod(s,a,!1)}),s},r.prototype.unwrap=function(t){return t},r.prototype.createMethod=function(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))},r.prototype.createMethodProxy=function(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},r}(),um=typeof global>"u"?{}:global;um.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,um.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,um.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,um.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,um.Node=typeof Node>"u"?{}:Node,um.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var yw=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Cw=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},SU=function(){function r(t,e,n,i,o,s){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=e,this.eventService=n,this.columnModel=i,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=r.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return r.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingMasterDetail=this.gridOptionsService.is("masterDetail")},r.prototype.getCopyOfNodesMap=function(){return gt.cloneObject(this.allNodesMap)},r.prototype.getRowNode=function(t){return this.allNodesMap[t]},r.prototype.setRowData=function(t){var e=this;if("string"!=typeof t){this.dispatchRowDataUpdateStartedEvent(t);var n=this.rootNode,i=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?n.allLeafChildren=t.map(function(o){return e.createNode(o,e.rootNode,r.TOP_LEVEL)}):(n.allLeafChildren=[],n.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=n.childrenAfterFilter,i.childrenAfterGroup=n.childrenAfterGroup,i.childrenAfterAggFilter=n.childrenAfterAggFilter,i.childrenAfterSort=n.childrenAfterSort,i.childrenMapped=n.childrenMapped,i.allLeafChildren=n.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},r.prototype.updateRowData=function(t,e){this.dispatchRowDataUpdateStartedEvent(t.add);var n={remove:[],update:[],add:[]},i=[];return this.executeRemove(t,n,i),this.executeUpdate(t,n,i),this.executeAdd(t,n),this.updateSelection(i,"rowDataChanged"),e&&gt.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),n},r.prototype.dispatchRowDataUpdateStartedEvent=function(t){this.eventService.dispatchEvent({type:N.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t?.length?t[0]:null})},r.prototype.updateSelection=function(t,e){var n=t.length>0;n&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),n&&this.eventService.dispatchEvent({type:N.EVENT_SELECTION_CHANGED,source:e})},r.prototype.executeAdd=function(t,e){var i,n=this,o=t.add,s=t.addIndex;if(!gt.missingOrEmpty(o)){var a=o.map(function(E){return n.createNode(E,n.rootNode,r.TOP_LEVEL)});if("number"==typeof s&&s>=0){var c=this.rootNode.allLeafChildren,h=c.length,p=s;if(this.gridOptionsService.is("treeData")&&s>0&&h>0)for(var m=0;m<h;m++)if((null===(i=c[m])||void 0===i?void 0:i.rowIndex)==s-1){p=m+1;break}var _=c.slice(0,p),w=c.slice(p,c.length);this.rootNode.allLeafChildren=Cw(Cw(Cw([],yw(_)),yw(a)),yw(w))}else this.rootNode.allLeafChildren=Cw(Cw([],yw(this.rootNode.allLeafChildren)),yw(a));this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=a}},r.prototype.executeRemove=function(t,e,n){var i=this,o=t.remove;if(!gt.missingOrEmpty(o)){var s={};o.forEach(function(a){var c=i.lookupRowNode(a);c&&(c.isSelected()&&n.push(c),c.clearRowTopAndRowIndex(),s[c.id]=!0,delete i.allNodesMap[c.id],e.remove.push(c))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(a){return!s[a.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},r.prototype.executeUpdate=function(t,e,n){var i=this,o=t.update;gt.missingOrEmpty(o)||o.forEach(function(s){var a=i.lookupRowNode(s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&n.push(a),i.setMasterForRow(a,s,r.TOP_LEVEL,!1),e.update.push(a))})},r.prototype.lookupRowNode=function(t){var n,e=this.gridOptionsService.getCallback("getRowId");if(e){var i=e({data:t,level:0});if(!(n=this.allNodesMap[i]))return console.error("AG Grid: could not find row id="+i+", data item was not found for this id"),null}else if(!(n=this.rootNode.allLeafChildren.find(function(o){return o.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null},r.prototype.createNode=function(t,e,n){var i=new Bt(this.beans);return i.group=!1,this.setMasterForRow(i,t,n,!0),e&&!this.suppressParentsInRowNodes&&(i.parent=e),i.level=n,i.setDataAndId(t,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '"+i.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[i.id]=i,this.nextId++,i},r.prototype.setMasterForRow=function(t,e,n,i){if(this.gridOptionsService.is("treeData"))t.setMaster(!1),i&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(e))),i){var s=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(n+(s?s.length:0))}},r.prototype.isExpanded=function(t){var e=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===e||t<e},r.TOP_LEVEL=0,r.ROOT_NODE_ID="ROOT_NODE_ID",r}(),EU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bo=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_w=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},ww=function(r,t){for(var e=0,n=t.length,i=r.length;e<n;e++,i++)r[i]=t[e];return r},Gu=function(r){return r[r.Normal=0]="Normal",r[r.AfterFilter=1]="AfterFilter",r[r.AfterFilterAndSort=2]="AfterFilterAndSort",r[r.PivotNodes=3]="PivotNodes",r}(Gu||{}),DU=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=gt.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e}return EU(t,r),t.prototype.init=function(){var e=this,n=this.refreshModel.bind(this,{step:an.EVERYTHING}),i=!this.gridOptionsService.is("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:an.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedListener(this.eventService,N.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,N.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.addManagedListener(this.eventService,N.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:an.PIVOT})),this.addManagedListener(this.eventService,N.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,N.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));var s=this.refreshModel.bind(this,{step:an.MAP,keepRenderedRows:!0,animate:i});this.addManagedPropertyListeners(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"],s);var a=this.refreshModel.bind(this,{step:an.AGGREGATE,keepRenderedRows:!0,animate:i});this.addManagedPropertyListeners(["groupIncludeTotalFooter"],a),this.rootNode=new Bt(this.beans),this.nodeManager=new SU(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans),this.addManagedPropertyListener("treeData",function(){e.setRowData(e.rootNode.allLeafChildren.map(function(c){return c.data}))})},t.prototype.start=function(){var e=this.gridOptionsService.get("rowData");e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,n,i,o){var s,a=!1;do{s=!1;for(var c=this.getRowIndexAtPixel(e),h=this.getRowIndexAtPixel(n),p=Math.max(c,i),g=Math.min(h,o),m=p;m<=g;m++){var _=this.getRow(m);if(_.rowHeightEstimated){var w=this.gridOptionsService.getRowHeightForNode(_);_.setRowHeight(w.height),s=!0,a=!0}}s&&this.setRowTopAndRowIndex()}while(s);return a},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.environment.getDefaultRowHeight(),n=0,i=new Set,o=this.gridOptionsService.isDomLayout("normal"),s=0;s<this.rowsToDisplay.length;s++){var a=this.rowsToDisplay[s];if(null!=a.id&&i.add(a.id),null==a.rowHeight){var c=this.gridOptionsService.getRowHeightForNode(a,o,e);a.setRowHeight(c.height,c.estimated)}a.setRowTop(n),a.setRowIndex(s),n+=a.rowHeight}return i},t.prototype.clearRowTopAndRowIndex=function(e,n){var i=e.isActive(),o=function(a){a&&null!=a.id&&!n.has(a.id)&&a.clearRowTopAndRowIndex()},s=function(a){o(a),o(a.detailNode),o(a.sibling),a.hasChildren()&&a.childrenAfterGroup&&(i&&-1!=a.level&&!a.expanded||a.childrenAfterGroup.forEach(s))};s(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,n,i){var o=this;void 0===i&&(i=0);var s=this.getRowIndexAtPixel(n),a=this.getRow(s),c=!this.gridOptionsService.is("suppressAnimationFrame");return a!==e[0]&&(e.forEach(function(h){gt.removeFromArray(o.rootNode.allLeafChildren,h)}),e.forEach(function(h,p){gt.insertIntoArray(o.rootNode.allLeafChildren,h,Math.max(s+i,0)+p)}),this.refreshModel({step:an.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:c}),!0)},t.prototype.highlightRowAtPixel=function(e,n){var i=null!=n?this.getRowIndexAtPixel(n):null,o=null!=i?this.getRow(i):null;if(o&&e&&o!==e&&null!=n){var s=this.getHighlightPosition(n,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(s),this.lastHighlightedRow=o}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,n){if(!n){var i=this.getRowIndexAtPixel(e);if(!(n=this.getRow(i||0)))return sa.Below}return e-n.rowTop<n.rowHeight/2?sa.Above:sa.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var n=this.rootNode.childrenAfterAggFilter;return n?n.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.is("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex},t.prototype.getRowBounds=function(e){if(gt.missing(this.rowsToDisplay))return null;var n=this.rowsToDisplay[e];return n?{rowTop:n.rowTop,rowHeight:n.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:an.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var n=this.gridOptionsService.isAnimateRows(),i=0===e.columns.length||e.columns.some(function(s){return s.isPrimary()});this.refreshModel({step:i?an.FILTER:an.FILTER_AGGREGATES,keepRenderedRows:!0,animate:n})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:an.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return"clientSide"},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:an.PIVOT}):this.refreshModel({step:an.AGGREGATE})},t.prototype.createChangePath=function(e){var n=gt.missingOrEmpty(e),i=new Q_(!1,this.rootNode);return(n||this.gridOptionsService.is("treeData"))&&i.setInactive(),i},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||null==e.rowNodeTransactions)return!1;var n=e.rowNodeTransactions.filter(function(o){return null!=o.add&&o.add.length>0||null!=o.remove&&o.remove.length>0});return null==n||0==n.length},t.prototype.buildRefreshModelParams=function(e){var n=an.EVERYTHING,i={everything:an.EVERYTHING,group:an.EVERYTHING,filter:an.FILTER,map:an.MAP,aggregate:an.AGGREGATE,sort:an.SORT,pivot:an.PIVOT};if(gt.exists(e)&&(n=i[e]),!gt.missing(n))return{step:n,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.is("suppressAnimationFrame")};console.error("AG Grid: invalid step "+e+", available steps are "+Object.keys(i).join(", "))},t.prototype.refreshModel=function(e){var n="object"==typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(n&&!this.isSuppressModelUpdateAfterUpdateTransaction(n)){var i=this.createChangePath(n.rowNodeTransactions);switch(n.step){case an.EVERYTHING:this.doRowGrouping(n.groupState,n.rowNodeTransactions,n.rowNodeOrder,i,!!n.afterColumnsChanged);case an.FILTER:this.doFilter(i);case an.PIVOT:this.doPivot(i);case an.AGGREGATE:this.doAggregate(i);case an.FILTER_AGGREGATES:this.doFilterAggregates(i);case an.SORT:this.doSort(n.rowNodeTransactions,i);case an.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,o),this.eventService.dispatchEvent({type:N.EVENT_MODEL_UPDATED,animate:n.animate,keepRenderedRows:n.keepRenderedRows,newData:n.newData,newPage:!1,keepUndoRedoStack:n.keepUndoRedoStack})}},t.prototype.isEmpty=function(){var e=gt.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return gt.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return gt.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,n){var i=!n,o=!1,s=[],a=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(c){if(!o){if(i&&(c===n||c===e)&&(o=!0,c.group&&a))return void s.push.apply(s,ww([],_w(c.allLeafChildren)));if(!i){if(c!==n&&c!==e)return;i=!0}if(!c.group||!a)return void s.push(c)}}),s},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var n=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(gt.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(var s=-1,a=-1;;){var c=Math.floor((n+i)/2),h=this.rowsToDisplay[c];if(this.isRowInPixel(h,e))return c;if(h.rowTop<e?n=c+1:h.rowTop>e&&(i=c-1),s===n&&a===i)return c;s=n,a=i}},t.prototype.isRowInPixel=function(e,n){return e.rowTop<=n&&e.rowTop+e.rowHeight>n},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(n,i){return e(n,i)})},t.prototype.forEachNode=function(e,n){void 0===n&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:ww([],_w(this.rootNode.childrenAfterGroup||[])),callback:e,recursionType:Gu.Normal,index:0,includeFooterNodes:n})},t.prototype.forEachNodeAfterFilter=function(e,n){void 0===n&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:ww([],_w(this.rootNode.childrenAfterAggFilter||[])),callback:e,recursionType:Gu.AfterFilter,index:0,includeFooterNodes:n})},t.prototype.forEachNodeAfterFilterAndSort=function(e,n){void 0===n&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:ww([],_w(this.rootNode.childrenAfterSort||[])),callback:e,recursionType:Gu.AfterFilterAndSort,index:0,includeFooterNodes:n})},t.prototype.forEachPivotNode=function(e,n){void 0===n&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:Gu.PivotNodes,index:0,includeFooterNodes:n})},t.prototype.recursivelyWalkNodesAndCallback=function(e){for(var n,i=e.nodes,o=e.callback,s=e.recursionType,a=e.includeFooterNodes,c=e.index,h=0;h<i.length;h++){var p=i[h];if(o(p,c++),p.hasChildren()&&!p.footer){var g=null;switch(s){case Gu.Normal:g=p.childrenAfterGroup;break;case Gu.AfterFilter:g=p.childrenAfterAggFilter;break;case Gu.AfterFilterAndSort:g=p.childrenAfterSort;break;case Gu.PivotNodes:g=p.leafGroup?null:p.childrenAfterSort}g&&(c=this.recursivelyWalkNodesAndCallback({nodes:ww([],_w(g)),callback:o,recursionType:s,index:c,includeFooterNodes:a}))}}var m=null===(n=i[0])||void 0===n?void 0:n.parent;if(!a||!m)return c;if(m===this.rootNode){if(!this.gridOptionsService.is("groupIncludeTotalFooter"))return c}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:m}))return c;return m.createFooter(),o(m.sibling,c++),c},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var n=this.gridOptionsService.is("treeData"),i=this.columnModel.isPivotActive(),o=function(c){c&&c.forEach(function(h){var p=function(){h.expanded=e,o(h.childrenAfterGroup)};n?gt.exists(h.childrenAfterGroup)&&p():i?!h.leafGroup&&p():h.group&&p()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:an.MAP}),this.eventService.dispatchEvent({type:N.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,n){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:n})},t.prototype.doRowGrouping=function(e,n,i,o,s){this.groupStage?(n?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:n,rowNodeOrder:i,changedPath:o}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:s}),this.restoreGroupState(e)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",o)&&this.eventService.dispatchEvent({type:N.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){e&&gt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(n,i){"boolean"==typeof e[i]&&(n.expanded=e[i])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var e={};return gt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(n,i){return e[i]=n.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(Bt.ID_PREFIX_ROW_GROUP)){var i=void 0;return this.forEachNode(function(o){o.id===e&&(i=o)}),i}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var n=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:N.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:an.EVERYTHING,groupState:n,newData:!0})},t.prototype.batchUpdateRowData=function(e,n){var i=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){i.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:n})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var n=[],i=[],o=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(a){var c=e.nodeManager.updateRowData(a.rowDataTransaction,void 0);i.push(c),a.callback&&n.push(a.callback.bind(null,c)),"number"==typeof a.rowDataTransaction.addIndex&&(o=!0)}),this.commonUpdateRowData(i,void 0,o),n.length>0&&window.setTimeout(function(){n.forEach(function(a){return a()})},0),i.length>0&&this.eventService.dispatchEvent({type:N.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,n){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(e,n);return this.commonUpdateRowData([i],n,"number"==typeof e.addIndex),i},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsService.is("suppressMaintainUnsortedOrder")){var n={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++)n[this.rootNode.allLeafChildren[i].id]=i;return n}},t.prototype.commonUpdateRowData=function(e,n,i){var o=!this.gridOptionsService.is("suppressAnimationFrame");i&&(n=this.createRowNodeOrder()),this.refreshModel({step:an.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:N.EVENT_ROW_DATA_UPDATED})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:an.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=!1;return this.forEachNode(function(n){n.setRowHeight(n.rowHeight,!0);var i=n.detailNode;i&&i.setRowHeight(i.rowHeight,!0),n.sibling&&n.sibling.setRowHeight(n.sibling.rowHeight,!0),e=!0}),e},t.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},bo([I("columnModel")],t.prototype,"columnModel",void 0),bo([I("selectionService")],t.prototype,"selectionService",void 0),bo([I("filterManager")],t.prototype,"filterManager",void 0),bo([I("valueCache")],t.prototype,"valueCache",void 0),bo([I("beans")],t.prototype,"beans",void 0),bo([I("filterStage")],t.prototype,"filterStage",void 0),bo([I("sortStage")],t.prototype,"sortStage",void 0),bo([I("flattenStage")],t.prototype,"flattenStage",void 0),bo([sn("groupStage")],t.prototype,"groupStage",void 0),bo([sn("aggregationStage")],t.prototype,"aggregationStage",void 0),bo([sn("pivotStage")],t.prototype,"pivotStage",void 0),bo([sn("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),bo([ke],t.prototype,"init",null),bo([tt("rowModel")],t)}(Re),bU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uG=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OU=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return bU(t,r),t.prototype.execute=function(e){this.filterService.filter(e.changedPath)},uG([I("filterService")],t.prototype,"filterService",void 0),uG([tt("filterStage")],t)}(Re),RU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),GO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TU=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return RU(t,r),t.prototype.execute=function(e){var n=this,i=this.sortController.getSortOptions(),o=gt.exists(i)&&i.length>0,s=o&&gt.exists(e.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),a=i.some(function(c){return n.gridOptionsService.isColumnsSortingCoupledToGroup()?c.column.isPrimary()&&c.column.isRowGroupActive():!!c.column.getColDef().showRowGroup});this.sortService.sort(i,o,s,e.rowNodeTransactions,e.changedPath,a)},GO([I("sortService")],t.prototype,"sortService",void 0),GO([I("sortController")],t.prototype,"sortController",void 0),GO([I("columnModel")],t.prototype,"columnModel",void 0),GO([tt("sortStage")],t)}(Re),AU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tF=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xU=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return AU(t,r),t.prototype.execute=function(e){var n=e.rowNode,i=[],o=this.columnModel.isPivotMode(),s=o&&n.leafGroup,a=s?[n]:n.childrenAfterSort,c=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(c,a,i,o,0),!s&&i.length>0&&c.groupIncludeTotalFooter&&(n.createFooter(),this.addRowNodeToRowsToDisplay(c,n.sibling,i,0)),i},t.prototype.getFlattenDetails=function(){var e=this.gridOptionsService.is("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.is("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.is("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},t.prototype.recursivelyAddToRowsToDisplay=function(e,n,i,o,s){if(!gt.missingOrEmpty(n))for(var a=0;a<n.length;a++){var c=n[a],h=c.hasChildren(),g=e.groupRemoveSingleChildren&&h&&1===c.childrenAfterGroup.length,m=e.groupRemoveLowestSingleChildren&&h&&c.leafGroup&&1===c.childrenAfterGroup.length;if(!(o&&!h||e.hideOpenParents&&c.expanded&&!c.master&&(!o||!c.leafGroup)||g||m)&&this.addRowNodeToRowsToDisplay(e,c,i,s),!o||!c.leafGroup)if(h){var b=g||m;if(c.expanded||b){var R=b?s:s+1;this.recursivelyAddToRowsToDisplay(e,c.childrenAfterSort,i,o,R),e.getGroupIncludeFooter({node:c})?(c.createFooter(),this.addRowNodeToRowsToDisplay(e,c.sibling,i,R)):c.destroyFooter()}}else if(c.master&&c.expanded){var A=this.createDetailNode(c);this.addRowNodeToRowsToDisplay(e,A,i,s)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,n,i,o){i.push(n),n.setUiLevel(e.isGroupMultiAutoColumn?0:o)},t.prototype.createDetailNode=function(e){if(gt.exists(e.detailNode))return e.detailNode;var n=new Bt(this.beans);return n.detail=!0,n.selectable=!1,n.parent=e,gt.exists(e.id)&&(n.id="detail_"+e.id),n.data=e.data,n.level=e.level+1,e.detailNode=n,n},tF([I("columnModel")],t.prototype,"columnModel",void 0),tF([I("beans")],t.prototype,"beans",void 0),tF([tt("flattenStage")],t)}(Re),MU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),VO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PU=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return MU(t,r),t.prototype.init=function(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")},t.prototype.sort=function(e,n,i,o,s,a){var c=this,h=this.gridOptionsService.is("groupMaintainOrder"),p=this.columnModel.getAllGridColumns().some(function(w){return w.isRowGroupActive()}),g={};i&&o&&(g=this.calculateDirtyNodes(o));var m=this.columnModel.isPivotMode();s&&s.forEachChangedNodeDepthFirst(function(w){c.pullDownGroupDataForHideOpenParents(w.childrenAfterAggFilter,!0);var E=m&&w.leafGroup;if(h&&p&&!w.leafGroup&&!a){var R=w.childrenAfterAggFilter.slice(0);if(w.childrenAfterSort){var T={};w.childrenAfterSort.forEach(function(x,P){T[x.id]=P}),R.sort(function(x,P){var k,V;return(null!==(k=T[x.id])&&void 0!==k?k:0)-(null!==(V=T[P.id])&&void 0!==V?V:0)})}w.childrenAfterSort=R}else w.childrenAfterSort=!n||E?w.childrenAfterAggFilter.slice(0):i?c.doDeltaSort(w,g,s,e):c.rowNodeSorter.doFullSort(w.childrenAfterAggFilter,e);w.sibling&&(w.sibling.childrenAfterSort=w.childrenAfterSort),c.updateChildIndexes(w),c.postSortFunc&&c.postSortFunc({nodes:w.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(s)},t.prototype.calculateDirtyNodes=function(e){var n={},i=function(o){o&&o.forEach(function(s){return n[s.id]=!0})};return e&&e.forEach(function(o){i(o.add),i(o.update),i(o.remove)}),n},t.prototype.doDeltaSort=function(e,n,i,o){var s=this,a=e.childrenAfterAggFilter,c=e.childrenAfterSort;if(!c)return this.rowNodeSorter.doFullSort(a,o);var h={},p=[];a.forEach(function(w){n[w.id]||!i.canSkip(w)?p.push(w):h[w.id]=!0});var g=c.filter(function(w){return h[w.id]}),m=function(w,E){return{currentPos:E,rowNode:w}},_=p.map(m).sort(function(w,E){return s.rowNodeSorter.compareRowNodes(o,w,E)});return this.mergeSortedArrays(o,_,g.map(m)).map(function(w){return w.rowNode})},t.prototype.mergeSortedArrays=function(e,n,i){for(var o=[],s=0,a=0;s<n.length&&a<i.length;){var c=this.rowNodeSorter.compareRowNodes(e,n[s],i[a]);o.push(c<0?n[s++]:i[a++])}for(;s<n.length;)o.push(n[s++]);for(;a<i.length;)o.push(i[a++]);return o},t.prototype.updateChildIndexes=function(e){if(!gt.missing(e.childrenAfterSort))for(var n=e.childrenAfterSort,i=0;i<n.length;i++){var o=n[i],a=i===e.childrenAfterSort.length-1;o.setFirstChild(0===i),o.setLastChild(a),o.setChildIndex(i)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var n=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.is("treeData"))return gt.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var o=function(s){n.pullDownGroupDataForHideOpenParents(s.childrenAfterSort,!1),s.childrenAfterSort.forEach(function(a){a.hasChildren()&&o(a)})};e&&e.executeFromRootNode(function(s){return o(s)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,n){var i=this;!this.gridOptionsService.is("groupHideOpenParents")||gt.missing(e)||e.forEach(function(o){i.columnModel.getGroupDisplayColumns().forEach(function(a){var c=a.getColDef().showRowGroup;if("string"==typeof c){var p=i.columnModel.getPrimaryColumn(c);if(p!==o.rowGroupColumn)if(n)o.setGroupValue(a.getId(),void 0);else{var m=o.getFirstChildOfFirstChild(p);m&&o.setGroupValue(a.getId(),m.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},VO([I("columnModel")],t.prototype,"columnModel",void 0),VO([I("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),VO([ke],t.prototype,"init",null),VO([tt("sortService")],t)}(Re),IU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cG=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},FU=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return IU(t,r),t.prototype.filter=function(e){var n=this.filterManager.isChildFilterPresent();this.filterNodes(n,e)},t.prototype.filterNodes=function(e,n){var i=this,o=function(h,p){h.childrenAfterFilter=h.hasChildren()&&e&&!p?h.childrenAfterGroup.filter(function(g){var m=g.childrenAfterFilter&&g.childrenAfterFilter.length>0,_=g.data&&i.filterManager.doesRowPassFilter({rowNode:g});return m||_}):h.childrenAfterGroup,h.sibling&&(h.sibling.childrenAfterFilter=h.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var s=function(h,p){if(h.childrenAfterGroup)for(var g=0;g<h.childrenAfterGroup.length;g++){var m=h.childrenAfterGroup[g],_=p||i.filterManager.doesRowPassFilter({rowNode:m});m.childrenAfterGroup?s(h.childrenAfterGroup[g],_):o(m,_)}o(h,p)};n.executeFromRootNode(function(h){return s(h,!1)})}else n.forEachChangedNodeDepthFirst(function(h){return o(h,!1)},!0)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.is("treeData")&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},cG([I("filterManager")],t.prototype,"filterManager",void 0),cG([tt("filterService")],t)}(Re),LU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kU=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return LU(t,r),t.prototype.postConstruct=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){var e=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.is("resetRowDataOnUpdate")&&e},t.prototype.setRowData=function(e){var n=this.createTransactionForRowData(e);if(n){var i=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(n,2);this.clientSideRowModel.updateRowData(i[0],i[1])}},t.prototype.createTransactionForRowData=function(e){if(gt.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var n=this.gridOptionsService.getCallback("getRowId");if(null!=n){var i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),a=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return gt.exists(e)&&e.forEach(function(c,h){var p=n({data:c,level:0}),g=o[p];a&&(a[p]=h),g?(g.data!==c&&i.update.push(c),o[p]=void 0):i.add.push(c)}),gt.iterateObject(o,function(c,h){h&&i.remove.push(h.data)}),[i,a]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},HO([I("rowModel")],t.prototype,"rowModel",void 0),HO([I("rowRenderer")],t.prototype,"rowRenderer",void 0),HO([ke],t.prototype,"postConstruct",null),HO([tt("immutableService")],t)}(Re),VU={version:"30.2.0",moduleName:it.ClientSideRowModelModule,rowModel:"clientSide",beans:[DU,OU,TU,xU,PU,FU,kU]},HU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nF=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dG=function(r){function t(e,n,i){var o=r.call(this,e)||this;return o.parentCache=n,o.params=i,o.startRow=e*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return HU(t,r),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,n,i){gt.exists(n)?e.setDataAndId(n,i.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,n=this.createLoadParams();gt.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(n)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context}},t.prototype.forEachNode=function(e,n,i){var o=this;this.rowNodes.forEach(function(s,a){o.startRow+a<i&&e(s,n.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,n){return void 0===n&&(n=!1),n||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var n=this.startRow+e,i=new Bt(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(n),i.setRowTop(this.params.rowHeight*n),this.rowNodes.push(i)}},t.prototype.processServerResult=function(e){var n=this;this.rowNodes.forEach(function(o,s){var a=e.rowData?e.rowData[s]:void 0;!o.id&&o.alreadyRendered&&a&&(n.rowNodes[s]=new Bt(n.beans),n.rowNodes[s].setRowIndex(o.rowIndex),n.rowNodes[s].setRowTop(o.rowTop),n.rowNodes[s].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),n.setDataAndId(n.rowNodes[s],a,n.startRow+s)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},nF([I("beans")],t.prototype,"beans",void 0),nF([ke],t.prototype,"postConstruct",null),nF([hi],t.prototype,"destroyRowNodes",null),t}(op),BU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),BO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jU=function(r,t){return function(e,n){t(e,n,r)}},UU=function(r){function t(e){var n=r.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=e.initialRowCount,n.params=e,n}return BU(t,r),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,n){void 0===n&&(n=!1);var i=Math.floor(e/this.params.blockSize),o=this.blocks[i];if(!o){if(n)return;o=this.createBlock(i)}return o.getRow(e)},t.prototype.createBlock=function(e){var n=this.createBean(new dG(e,this,this.params));return this.blocks[n.getId()]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),this.params.rowNodeBlockLoader.addBlock(n),n},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(n){return n.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(n){return e.destroyBlock(n)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,n){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+n),this.checkRowCount(e,n),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,i=this.getBlocksInOrder().filter(function(h){return h!=e});i.sort(function(h,p){return p.getLastAccessed()-h.getLastAccessed()});var s=this.params.maxBlocksInCache>0,a=s?this.params.maxBlocksInCache-1:null,c=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(h,p){if(h.getState()===dG.STATE_WAITING_TO_LOAD&&p>=c||s&&p>=a){if(n.isBlockCurrentlyDisplayed(h)||n.isBlockFocused(h))return;n.removeBlockFromCache(h)}})},t.prototype.isBlockFocused=function(e){var n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||null!=n.rowPinned)return!1;var i=e.getStartRow(),o=e.getEndRow();return n.rowIndex>=i&&n.rowIndex<o},t.prototype.isBlockCurrentlyDisplayed=function(e){var n=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(n,i)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,n){if("number"==typeof n&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var o=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,n){this.rowCount=e,gt.exists(n)&&(this.lastRowIndexKnown=n),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var n=this,i=new Su;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(e,i,n.rowCount)})},t.prototype.getBlocksInOrder=function(){return gt.getAllValuesInObject(this.blocks).sort(function(i,o){return i.getId()-o.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:N.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,n=[];this.getBlocksInOrder().forEach(function(i){i.getId()*e.params.blockSize>=e.rowCount&&n.push(i)}),n.length>0&&n.forEach(function(i){return e.destroyBlock(i)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(n){return e.removeBlockFromCache(n)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,n){var i=this,o=[],s=-1,a=!1,c=new Su;gt.missing(e)&&(a=!0);var h=!1;return this.getBlocksInOrder().forEach(function(g){if(!h){if(a&&s+1!==g.getId())return void(h=!0);s=g.getId(),g.forEachNode(function(m){var _=m===e||m===n;(a||_)&&o.push(m),_&&(a=!a)},c,i.rowCount)}}),h||a?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,BO([I("rowRenderer")],t.prototype,"rowRenderer",void 0),BO([I("focusService")],t.prototype,"focusService",void 0),BO([jU(0,Hi("loggerFactory"))],t.prototype,"setBeans",null),BO([hi],t.prototype,"destroyAllBlocks",null),t}(Re),WU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hd=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zU=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return WU(t,r),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,n,i,o){return!1},t.prototype.init=function(){var e=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&gt.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},t.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,N.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,N.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,N.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!gt.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return"infinite"},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,n){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,n):[]},t.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsService.getCallback("getRowId")||this.selectionService.reset(),this.resetCache();var i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)}},t.prototype.createModelUpdatedEvent=function(){return{type:N.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new Su},this.infiniteCache=this.createBean(new UU(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,n){return e>0?e:n},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var n;return this.forEachNode(function(i){i.id===e&&(n=i)}),n},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var n=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return n>i?i:n}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,n){this.infiniteCache&&this.infiniteCache.setRowCount(e,n)},Hd([I("filterManager")],t.prototype,"filterManager",void 0),Hd([I("sortController")],t.prototype,"sortController",void 0),Hd([I("selectionService")],t.prototype,"selectionService",void 0),Hd([I("rowRenderer")],t.prototype,"rowRenderer",void 0),Hd([I("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Hd([ke],t.prototype,"init",null),Hd([hi],t.prototype,"destroyDatasource",null),Hd([tt("rowModel")],t)}(Re),KU={version:"30.2.0",moduleName:it.InfiniteRowModelModule,rowModel:"infinite",beans:[zU]},YU=function(){function r(){}return r.prototype.setBeans=function(t){this.beans=t},r.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},r.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},r}(),qU=function(){function r(t){this.groupColumns=[];var n=t.valueService,i=t.gridOptionsService,o=t.valueFormatterService,s=t.valueParserService,a=t.processCellCallback,c=t.processHeaderCallback,h=t.processGroupHeaderCallback,p=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=n,this.gridOptionsService=i,this.valueFormatterService=o,this.valueParserService=s,this.processCellCallback=a,this.processHeaderCallback=c,this.processGroupHeaderCallback=h,this.processRowGroupCallback=p}return r.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},r.prototype.extractHeaderValue=function(t){return this.getHeaderName(this.processHeaderCallback,t)??""},r.prototype.extractRowCellValue=function(t,e,n,i,o){var a=this.gridOptionsService.is("groupHideOpenParents")&&!o.footer||!this.shouldRenderGroupSummaryCell(o,t,e)?this.valueService.getValue(t,o):this.createValueForGroupNode(o);return this.processCell({accumulatedRowIndex:n,rowNode:o,column:t,value:a,processCellCallback:this.processCellCallback,type:i})},r.prototype.shouldRenderGroupSummaryCell=function(t,e,n){var i;if(!t||!t.group)return!1;if(-1!==this.groupColumns.indexOf(e)){if(null!=(null===(i=t.groupData)||void 0===i?void 0:i[e.getId()])||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&-1===t.level){var a=e.getColDef();return null==a||!0===a.showRowGroup||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var h=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===n&&h},r.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},r.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var e=t.footer,n=[t.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)n.push((t=t.parent).key);var i=n.reverse().join(" -> ");return e?"Total "+i:i},r.prototype.processCell=function(t){var n,e=this,o=t.rowNode,s=t.column,a=t.value,c=t.processCellCallback;return c?{value:null!==(n=c({accumulatedRowIndex:t.accumulatedRowIndex,column:s,node:o,value:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:t.type,parseValue:function(p){return e.valueParserService.parseValue(s,o,p,e.valueService.getValue(s,o))},formatValue:function(p){var g;return null!==(g=e.valueFormatterService.formatValue(s,o,p))&&void 0!==g?g:p}}))&&void 0!==n?n:""}:s.getColDef().useValueFormatterForExport?{value:a??"",valueFormatted:this.valueFormatterService.formatValue(s,o,a)}:{value:a??""}},r}(),XU=function(){function r(){}return r.download=function(t,e){var n=document.defaultView||window;if(n){var i=document.createElement("a"),o=n.URL.createObjectURL(e);i.setAttribute("href",o),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(function(){n.URL.revokeObjectURL(o)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},r}(),ZU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),QU=function(r){function t(e){var n=r.call(this,e)||this;n.isFirstLine=!0,n.result="";var o=e.columnSeparator;return n.suppressQuotes=e.suppressQuotes,n.columnSeparator=o,n}return ZU(t,r),t.prototype.addCustomContent=function(e){var n=this;e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(i){n.beginNewLine(),i.forEach(function(o,s){0!==s&&(n.result+=n.columnSeparator),n.result+=n.putInQuotes(o.data.value||""),o.mergeAcross&&n.appendEmptyCells(o.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,n,i,o){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var n=1;n<=e;n++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,n){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,n,i){var o;0!=n&&(this.result+=this.columnSeparator);var s=this.extractRowCellValue(e,n,n,"csv",i);this.result+=this.putInQuotes(null!==(o=s.valueFormatted)&&void 0!==o?o:s.value)},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?n=e:"function"==typeof e.toString?n=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),n=""),'"'+n.replace(/"/g,'""')+'"');var n},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(qU),JU=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bd=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eW=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return JU(t,r),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var n=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},n,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(e),i=this.getData(n),o=new Blob(["\ufeff",i],{type:"text/plain"});return XU.download(this.getFileName(n.fileName),o),i},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e,n){void 0===n&&(n=!1);var i=n?Object.assign({},e):this.getMergedParams(e);return this.getData(i)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var n=this;return new QU({columnModel:n.columnModel,valueService:n.valueService,gridOptionsService:n.gridOptionsService,valueFormatterService:n.valueFormatterService,valueParserService:n.valueParserService,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressCsvExport")},Bd([I("columnModel")],t.prototype,"columnModel",void 0),Bd([I("valueService")],t.prototype,"valueService",void 0),Bd([I("gridSerializer")],t.prototype,"gridSerializer",void 0),Bd([I("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Bd([I("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Bd([I("valueParserService")],t.prototype,"valueParserService",void 0),Bd([ke],t.prototype,"postConstruct",null),Bd([tt("csvCreator")],t)}(YU),tW=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jd=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iW=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return tW(t,r),t.prototype.serialize=function(e,n){void 0===n&&(n={});var i=this.getColumnsToExport(n.allColumns,n.columnKeys);return gt.compose(this.prepareSession(i),this.prependContent(n),this.exportColumnGroups(n,i),this.exportHeaders(n,i),this.processPinnedTopRows(n,i),this.processRows(n,i),this.processPinnedBottomRows(n,i),this.appendContent(n))(e).parse()},t.prototype.processRow=function(e,n,i,o){var s=n.shouldRowBeSkipped||function(){return!1},a=this.gridOptionsService.context,c=this.gridOptionsService.api,h=this.gridOptionsService.columnApi,p=this.gridOptionsService.is("groupRemoveSingleChildren"),g=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),_=null!=n.rowPositions||!!n.onlySelected,w=this.gridOptionsService.is("groupHideOpenParents")&&!_,E=this.columnModel.isPivotMode()?o.leafGroup:!o.group,b=!!o.footer,A=1===o.allChildrenCount&&(p||g&&o.leafGroup);if((n.skipGroups||n.skipRowGroups)&&n.skipGroups&&gt.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!E&&!b&&(n.skipRowGroups||A||w)||n.onlySelected&&!o.isSelected()||n.skipPinnedTop&&"top"===o.rowPinned||n.skipPinnedBottom&&"bottom"===o.rowPinned)&&(-1!==o.level||E||b)&&!s({node:o,api:c,columnApi:h,context:a})){var k=e.onNewBodyRow(o);if(i.forEach(function(H,U){k.onColumn(H,U,o)}),n.getCustomContentBelowRow){var V=n.getCustomContentBelowRow({node:o,api:c,columnApi:h,context:a});V&&e.addCustomContent(V)}}},t.prototype.appendContent=function(e){return function(n){var i=e.customFooter||e.appendContent;return i&&(e.customFooter&&gt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),n.addCustomContent(i)),n}},t.prototype.prependContent=function(e){return function(n){var i=e.customHeader||e.prependContent;return i&&(e.customHeader&&gt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),n.addCustomContent(i)),n}},t.prototype.prepareSession=function(e){return function(n){return n.prepare(e),n}},t.prototype.exportColumnGroups=function(e,n){var i=this;return function(o){if(e.skipColumnGroupHeaders)e.columnGroups&&gt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var s=new y0,a=i.displayedGroupCreator.createDisplayedGroups(n,s,null);i.recursivelyAddHeaderGroups(a,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,n){return function(i){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&gt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var o=i.onNewHeaderRow();n.forEach(function(s,a){o.onColumn(s,a,void 0)})}return i}},t.prototype.processPinnedTopRows=function(e,n){var i=this;return function(o){var s=i.processRow.bind(i,o,e,n);return e.rowPositions?e.rowPositions.filter(function(a){return"top"===a.rowPinned}).sort(function(a,c){return a.rowIndex-c.rowIndex}).map(function(a){return i.pinnedRowModel.getPinnedTopRow(a.rowIndex)}).forEach(s):i.pinnedRowModel.forEachPinnedTopRow(s),o}},t.prototype.processRows=function(e,n){var i=this;return function(o){var s=i.rowModel,a=s.getType(),c="clientSide"===a,h="serverSide"===a,p=!c&&e.onlySelected,g=i.processRow.bind(i,o,e,n),m=e.exportedRows,_=void 0===m?"filteredAndSorted":m;if(e.rowPositions)e.rowPositions.filter(function(E){return null==E.rowPinned}).sort(function(E,b){return E.rowIndex-b.rowIndex}).map(function(E){return s.getRow(E.rowIndex)}).forEach(g);else if(i.columnModel.isPivotMode())c?s.forEachPivotNode(g,!0):h?s.forEachNodeAfterFilterAndSort(g,!0):s.forEachNode(g);else if(e.onlySelectedAllPages||p){var w=i.selectionService.getSelectedNodes();i.replicateSortedOrder(w),w.forEach(g)}else"all"===_?s.forEachNode(g):c||h?s.forEachNodeAfterFilterAndSort(g,!0):s.forEachNode(g);return o}},t.prototype.replicateSortedOrder=function(e){var n=this,i=this.sortController.getSortOptions(),o=function(s,a){var c,h,p,g;return null!=s.rowIndex&&null!=a.rowIndex?s.rowIndex-a.rowIndex:s.level===a.level?(null===(c=s.parent)||void 0===c?void 0:c.id)===(null===(h=a.parent)||void 0===h?void 0:h.id)?n.rowNodeSorter.compareRowNodes(i,{rowNode:s,currentPos:null!==(p=s.rowIndex)&&void 0!==p?p:-1},{rowNode:a,currentPos:null!==(g=a.rowIndex)&&void 0!==g?g:-1}):o(s.parent,a.parent):s.level>a.level?o(s.parent,a):o(s,a.parent)};e.sort(o)},t.prototype.processPinnedBottomRows=function(e,n){var i=this;return function(o){var s=i.processRow.bind(i,o,e,n);return e.rowPositions?e.rowPositions.filter(function(a){return"bottom"===a.rowPinned}).sort(function(a,c){return a.rowIndex-c.rowIndex}).map(function(a){return i.pinnedRowModel.getPinnedBottomRow(a.rowIndex)}).forEach(s):i.pinnedRowModel.forEachPinnedBottomRow(s),o}},t.prototype.getColumnsToExport=function(e,n){void 0===e&&(e=!1);var i=this.columnModel.isPivotMode();return n&&n.length?this.columnModel.getGridColumns(n):e&&!i?(this.gridOptionsService.is("treeData")?this.columnModel.getGridColumns([Yc]):[]).concat(this.columnModel.getAllGridColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,n,i){var o=[];e.forEach(function(s){s.getChildren&&s.getChildren().forEach(function(c){return o.push(c)})}),e.length>0&&e[0]instanceof Ai&&this.doAddHeaderHeader(n,e,i),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,n,i)},t.prototype.doAddHeaderHeader=function(e,n,i){var o=this,s=e.onNewHeaderGroupingRow(),a=0;n.forEach(function(c){var p,h=c;p=i?i({columnGroup:h,api:o.gridOptionsService.api,columnApi:o.gridOptionsService.columnApi,context:o.gridOptionsService.context}):o.columnModel.getDisplayNameForColumnGroup(h,"header");var g=h.getLeafColumns().reduce(function(m,_,w,E){var b=gt.last(m);return"open"===_.getColumnGroupShow()?(!b||null!=b[1])&&m.push(b=[w]):b&&null==b[1]&&(b[1]=w-1),w===E.length-1&&b&&null==b[1]&&(b[1]=w),m},[]);s.onColumn(h,p||"",a++,h.getLeafColumns().length-1,g)})},jd([I("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),jd([I("columnModel")],t.prototype,"columnModel",void 0),jd([I("rowModel")],t.prototype,"rowModel",void 0),jd([I("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),jd([I("selectionService")],t.prototype,"selectionService",void 0),jd([I("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),jd([I("sortController")],t.prototype,"sortController",void 0),jd([tt("gridSerializer")],t)}(Re),oW={version:"30.2.0",moduleName:it.CsvExportModule,beans:[eW,iW]},aW=(function(){function r(){}r.createHeader=function(t){void 0===t&&(t={});var i=["version"];return t.version||(t.version="1.0"),t.encoding&&i.push("encoding"),t.standalone&&i.push("standalone"),"<?xml "+i.map(function(s){return s+'="'+t[s]+'"'}).join(" ")+" ?>"},r.createXml=function(t,e){var n=this,i="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(s){Object.keys(s.map).forEach(function(a){i+=n.returnAttributeIfPopulated(s.prefix+a,s.map[a],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(s){i+=n.returnAttributeIfPopulated(s,t.properties.rawMap[s],e)}));var o="<"+t.name+i;return t.children||null!=t.textNode?null!=t.textNode?o+">"+t.textNode+"</"+t.name+">\r\n":(o+=">\r\n",t.children&&t.children.forEach(function(s){o+=n.createXml(s,e)}),o+"</"+t.name+">\r\n"):o+"/>\r\n"},r.returnAttributeIfPopulated=function(t,e,n){if(!e&&""!==e&&0!==e)return"";var i=e;return"boolean"==typeof e&&n&&(i=n(e))," "+t+'="'+i+'"'}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]));!function(){function r(){}r.addFolders=function(t){t.forEach(this.addFolder.bind(this))},r.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},r.addFile=function(t,e,n){void 0===n&&(n=!1),this.files.push({path:t,created:new Date,content:e,isBase64:n})},r.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},r.clearStream=function(){this.folders=[],this.files=[]},r.buildFileStream=function(t){var e,n;void 0===t&&(t="");var i=this.folders.concat(this.files),o=i.length,s="",a=0,c=0;try{for(var h=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),p=h.next();!p.done;p=h.next()){var m=this.getHeader(p.value,a),_=m.fileHeader,w=m.folderHeader,E=m.content;a+=_.length+E.length,c+=w.length,t+=_+E,s+=w}}catch(R){e={error:R}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}return t+s+this.buildFolderEnd(o,c,a)},r.getHeader=function(t,e){var n=t.content,i=t.path,o=t.created,s=t.isBase64,c=gt.decToHex,h=(0,gt.utf8_encode)(i),p=h!==i,g=this.convertTime(o),m=this.convertDate(o),_="";if(p){var w=c(1,1)+c(this.getFromCrc32Table(h),4)+h;_="up"+c(w.length,2)+w}var E=n?this.getConvertedContent(n,s):{size:0,content:""},b=E.size,R=E.content,T="\n\0"+(p?"\0\b":"\0\0")+"\0\0"+c(g,2)+c(m,2)+c(b?this.getFromCrc32Table(R):0,4)+c(b,4)+c(b,4)+c(h.length,2)+c(_.length,2);return{fileHeader:"PK\x03\x04"+T+h+_,folderHeader:"PK\x01\x02\x14\0"+T+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+c(e,4)+h+_,content:R||""}},r.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},r.buildFolderEnd=function(t,e,n){var i=gt.decToHex;return"PK\x05\x06\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(n,4)+"\0\0"},r.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},r.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,n=new Uint8Array(e),i=0;i<e;i++)n[i]=t.charCodeAt(i);var o=-1;for(i=0;i<e;i++)o=o>>>8^aW[255&(o^n[i])];return-1^o},r.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},r.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},r.folders=[],r.files=[]}(),vt.registerModules([VU,KU,oW]);let fG=(()=>{class r extends sw{constructor(e){super(),this._ngZone=e}setEmitterUsedCallback(e){this.isEmitterUsed=e}setTimeout(e,n){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},n)}):window.setTimeout(()=>{e()},n)}setInterval(e,n){return new rr(i=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{i(window.setInterval(()=>{e()},n))}):i(window.setInterval(()=>{e()},n))})}addEventListener(e,n,i,o){this.isOutsideAngular(n)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{e.addEventListener(n,i,o)}):e.addEventListener(n,i,o)}dispatchEvent(e,n,i=!1){this.isOutsideAngular(e)?this._ngZone?this._ngZone.runOutsideAngular(n):n():(this.isEmitterUsed(e)||i)&&(!C.R0b.isInAngularZone()&&this._ngZone?this._ngZone.run(n):n())}isFrameworkComponent(e){if(!e)return!1;const n=e.prototype;return n&&"agInit"in n}}return r.\u0275fac=function(e){return new(e||r)(C.LFG(C.R0b))},r.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac}),r})(),pG=(()=>{class r extends _U{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let n=this,o=new class i extends uW{init(a){super.init(a),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return n.createComponent(e)}hasMethod(a){return null!=o.getFrameworkComponentInstance()[a]}callMethod(a,c){const h=this.getFrameworkComponentInstance();return o.getFrameworkComponentInstance()[a].apply(h,c)}addMethod(a,c){o[a]=c}};return o}createComponent(e){let n=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(n)}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=C.n5z(r)))(n||r)}}(),r.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac}),r})();class uW{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let cW=(()=>{class r{constructor(e,n,i,o,s){this.viewContainerRef=n,this.angularFrameworkOverrides=i,this.frameworkComponentWrapper=o,this.componentFactoryResolver=s,this._initialised=!1,this._destroyed=!1,this._fullyReady=rr.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.serverSideStoreType=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new C.vpe,this.toolPanelSizeChanged=new C.vpe,this.cutStart=new C.vpe,this.cutEnd=new C.vpe,this.pasteStart=new C.vpe,this.pasteEnd=new C.vpe,this.columnVisible=new C.vpe,this.columnPinned=new C.vpe,this.columnResized=new C.vpe,this.columnMoved=new C.vpe,this.columnValueChanged=new C.vpe,this.columnPivotModeChanged=new C.vpe,this.columnPivotChanged=new C.vpe,this.columnGroupOpened=new C.vpe,this.newColumnsLoaded=new C.vpe,this.gridColumnsChanged=new C.vpe,this.displayedColumnsChanged=new C.vpe,this.virtualColumnsChanged=new C.vpe,this.columnEverythingChanged=new C.vpe,this.componentStateChanged=new C.vpe,this.cellValueChanged=new C.vpe,this.cellEditRequest=new C.vpe,this.rowValueChanged=new C.vpe,this.cellEditingStarted=new C.vpe,this.cellEditingStopped=new C.vpe,this.rowEditingStarted=new C.vpe,this.rowEditingStopped=new C.vpe,this.undoStarted=new C.vpe,this.undoEnded=new C.vpe,this.redoStarted=new C.vpe,this.redoEnded=new C.vpe,this.rangeDeleteStart=new C.vpe,this.rangeDeleteEnd=new C.vpe,this.filterOpened=new C.vpe,this.filterChanged=new C.vpe,this.filterModified=new C.vpe,this.advancedFilterBuilderVisibleChanged=new C.vpe,this.chartCreated=new C.vpe,this.chartRangeSelectionChanged=new C.vpe,this.chartOptionsChanged=new C.vpe,this.chartDestroyed=new C.vpe,this.cellKeyDown=new C.vpe,this.gridReady=new C.vpe,this.gridPreDestroyed=new C.vpe,this.firstDataRendered=new C.vpe,this.gridSizeChanged=new C.vpe,this.modelUpdated=new C.vpe,this.virtualRowRemoved=new C.vpe,this.viewportChanged=new C.vpe,this.bodyScroll=new C.vpe,this.bodyScrollEnd=new C.vpe,this.dragStarted=new C.vpe,this.dragStopped=new C.vpe,this.paginationChanged=new C.vpe,this.rowDragEnter=new C.vpe,this.rowDragMove=new C.vpe,this.rowDragLeave=new C.vpe,this.rowDragEnd=new C.vpe,this.columnRowGroupChanged=new C.vpe,this.rowGroupOpened=new C.vpe,this.expandOrCollapseAll=new C.vpe,this.pinnedRowDataChanged=new C.vpe,this.rowDataChanged=new C.vpe,this.rowDataUpdated=new C.vpe,this.asyncTransactionsFlushed=new C.vpe,this.storeRefreshed=new C.vpe,this.cellClicked=new C.vpe,this.cellDoubleClicked=new C.vpe,this.cellFocused=new C.vpe,this.cellMouseOver=new C.vpe,this.cellMouseOut=new C.vpe,this.cellMouseDown=new C.vpe,this.rowClicked=new C.vpe,this.rowDoubleClicked=new C.vpe,this.rowSelected=new C.vpe,this.selectionChanged=new C.vpe,this.cellContextMenu=new C.vpe,this.rangeSelectionChanged=new C.vpe,this.tooltipShow=new C.vpe,this.tooltipHide=new C.vpe,this.sortChanged=new C.vpe,this.columnRowGroupChangeRequest=new C.vpe,this.columnPivotChangeRequest=new C.vpe,this.columnValueChangeRequest=new C.vpe,this.columnAggFuncChangeRequest=new C.vpe,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=qc.copyAttributesToGridOptions(this.gridOptions,this),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},new mU(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this.gridPreDestroyed.observers.length>0&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,e=>e)}ngOnChanges(e){this._initialised&&qc.processOnChange(e,this.api)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(e){const n=this[e],i=!!n&&n.observers&&n.observers.length>0,o=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`;return i||!!this.gridOptions&&!!this.gridOptions[o]}globalEventListener(e,n){if(this._destroyed)return;const i=this[e];i&&this.isEmitterUsed(e)&&("gridReady"===e?this._fullyReady.then(o=>{i.emit(n)}):i.emit(n))}}return r.\u0275fac=function(e){return new(e||r)(C.Y36(C.SBq),C.Y36(C.s_b),C.Y36(fG),C.Y36(pG),C.Y36(C._Vd))},r.\u0275cmp=C.Xpm({type:r,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",serverSideStoreType:"serverSideStoreType",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[C._Bn([fG,pG]),C.TTD],decls:0,vars:0,template:function(e,n){},encapsulation:2}),r})(),dW=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=C.oAB({type:r}),r.\u0275inj=C.cJS({}),r})();class cm{constructor(t,e,n){this._encode=t,this._decode=e,this._rangeCallback=n}floor(t){const e=new Date(t),n=this._encode(e);return this._decode(n)}ceil(t){const e=new Date(Number(t)-1),n=this._encode(e);return this._decode(n+1)}range(t,e,n){var i;const o=null===(i=this._rangeCallback)||void 0===i?void 0:i.call(this,t,e),s=this._encode(n?this.floor(t):this.ceil(t)),a=this._encode(n?this.ceil(e):this.floor(e));if(a<s)return[];const c=[];for(let h=s;h<=a;h++){const p=this._decode(h);c.push(p)}return o?.(),c}}class Wo extends cm{getOffset(t,e){const n="number"==typeof t||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(n)%e}every(t,e){let i,n=0;const{snapTo:o="start"}=e??{};if("string"==typeof o){const h=n;i=(p,g)=>(n=this.getOffset("start"===o?p:g,t),()=>n=h)}else"number"==typeof o?n=this.getOffset(new Date(o),t):o instanceof Date&&(n=this.getOffset(o,t));return new cm(h=>{const p=this._encode(h);return Math.floor((p-n)/t)},h=>this._decode(h*t+n),i)}}const pW=new Wo(function hW(r){return r.getTime()},function fW(r){return new Date(r)}),pp=(new Date(0).getFullYear(),1e3),zo=6e4,yl=60*zo,Ud=24*yl,Sw=7*Ud,Ew=30*Ud,UO=365*Ud,gG=(new Date).getTimezoneOffset()*zo,mW=new Wo(function gW(r){return Math.floor((r.getTime()-gG)/pp)},function vW(r){return new Date(gG+r*pp)}),vG=(new Date).getTimezoneOffset()*zo,_W=new Wo(function yW(r){return Math.floor((r.getTime()-vG)/zo)},function CW(r){return new Date(vG+r*zo)}),mG=(new Date).getTimezoneOffset()*zo,EW=new Wo(function wW(r){return Math.floor((r.getTime()-mG)/yl)},function SW(r){return new Date(mG+r*yl)}),OW=new Wo(function DW(r){const t=6e4*r.getTimezoneOffset();return Math.floor((r.getTime()-t)/Ud)},function bW(r){const t=new Date(1970,0,1);return t.setDate(t.getDate()+r),t});function gp(r){const t=new Date(2023,0,1+r).getTime();return new Wo(function e(i){const o=i.getTime();return Math.floor((o-t)/Sw)},function n(i){const o=new Date(t);return o.setDate(o.getDate()+7*i),o})}const RW=gp(0),TW=(gp(1),gp(2),gp(3),gp(4),gp(5),gp(6),RW),MW=new Wo(function AW(r){return 12*r.getFullYear()+r.getMonth()},function xW(r){const t=Math.floor(r/12);return new Date(t,r-12*t,1)}),FW=new Wo(function PW(r){return r.getFullYear()},function IW(r){const t=new Date;return t.setFullYear(r),t.setMonth(0,1),t.setHours(0,0,0,0),t});new Wo(function LW(r){return Math.floor(r.getTime()/zo)},function NW(r){return new Date(r*zo)}),new Wo(function kW(r){return Math.floor(r.getTime()/yl)},function GW(r){return new Date(r*yl)}),new Wo(function VW(r){return Math.floor(r.getTime()/Ud)},function HW(r){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+r),t.setUTCHours(0,0,0,0),t}),new Wo(function BW(r){return 12*r.getUTCFullYear()+r.getUTCMonth()},function jW(r){const t=Math.floor(r/12);return new Date(Date.UTC(t,r-12*t,1))}),new Wo(function UW(r){return r.getUTCFullYear()},function WW(r){const t=new Date;return t.setUTCFullYear(r),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t});const zW=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];function yG(){const r=navigator.userAgent;return!zW.some(t=>t.test(r))}let vi=(()=>{class r{constructor({document:e=window.document,width:n=600,height:i=300,domLayer:o=!1,zIndex:s=0,name:a,overrideDevicePixelRatio:c}){this._container=void 0,this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=e,this.element=e.createElement("canvas"),this.element.width=n,this.element.height=i,this.context=this.element.getContext("2d"),this.imageSource=this.context.canvas;const{style:h}=this.element;h.userSelect="none",h.display="block",o&&(h.position="absolute",h.zIndex=String(s),h.top="0",h.left="0",h.pointerEvents="none",h.opacity="1",a&&(this.element.id=a)),this.setPixelRatio(c),this.resize(n,i)}set container(e){this._container!==e&&(this.remove(),e&&e.appendChild(this.element),this._container=e)}get container(){return this._container}set enabled(e){this.element.style.display=e?"block":"none",this._enabled=!!e}get enabled(){return this._enabled}remove(){const{parentNode:e}=this.element;e?.removeChild(this.element)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}snapshot(){}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}toImage(){const e=this.document.createElement("img");return e.src=this.getDataURL(),e}getDataURL(e){return this.element.toDataURL(e)}download(e,n="image/png"){e=(e??"").trim()||"image";const i=this.getDataURL(n),o=this.document,s=o.createElement("a");s.href=i,s.download=e,s.style.display="none",o.body.appendChild(s),s.click(),o.body.removeChild(s)}get pixelRatio(){return this._pixelRatio}setPixelRatio(e){let n=e??window.devicePixelRatio;yG()||(n=1),r.overrideScale(this.context,n),this._pixelRatio=n}set pixelated(e){this.element.style.imageRendering=e?"pixelated":"auto"}get pixelated(){return"pixelated"===this.element.style.imageRendering}get width(){return this._width}get height(){return this._height}resize(e,n){if(!(e>0&&n>0))return;const{element:i,context:o,pixelRatio:s}=this;i.width=Math.round(e*s),i.height=Math.round(n*s),i.style.width=e+"px",i.style.height=n+"px",o.resetTransform(),this._width=e,this._height=n}static get textMeasuringContext(){if(this._textMeasuringContext)return this._textMeasuringContext;const e=document.createElement("canvas");return this._textMeasuringContext=e.getContext("2d"),this._textMeasuringContext}static get svgText(){if(this._svgText)return this._svgText;const e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");n.setAttribute("width","100"),n.setAttribute("height","100"),n.classList?n.classList.add("text-measuring-svg"):n.setAttribute("class","text-measuring-svg"),n.style.position="absolute",n.style.top="-1000px",n.style.visibility="hidden";const i=document.createElementNS(e,"text");return i.setAttribute("x","0"),i.setAttribute("y","30"),i.setAttribute("text","black"),n.appendChild(i),document.body.appendChild(n),this._svgText=i,i}static get has(){if(this._has)return this._has;const e=navigator.userAgent.indexOf("Chrome")>-1,n=navigator.userAgent.indexOf("Firefox")>-1,i=!e&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!n&&!i,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has}static measureText(e,n,i,o){const s=this.textMeasuringContext;return s.font=n,s.textBaseline=i,s.textAlign=o,s.measureText(e)}static getTextSize(e,n){if(this.has.textMetrics){const i=this.textMeasuringContext;i.font=n;const o=i.measureText(e);return{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent}}return this.measureSvgText(e,n)}static measureSvgText(e,n){const i=this.textSizeCache,o=i[n];if(o){const h=o[e];if(h)return h}else i[n]={};const s=this.svgText;s.style.font=n,s.textContent=e;const a=s.getBBox(),c={width:a.width,height:a.height};return i[n][e]=c,c}static overrideScale(e,n){let i=0;const o={save(){this.$save(),i++},restore(){if(!(i>0))throw new Error("AG Charts - Unable to restore() past depth 0");this.$restore(),i--},setTransform(s,a,c,h,p,g){"object"==typeof s?this.$setTransform(s):this.$setTransform(s*n,a*n,c*n,h*n,p*n,g*n)},resetTransform(){this.$setTransform(n,0,0,n,0,0)},verifyDepthZero(){if(0!==i)throw new Error("AG Charts - Save/restore depth is non-zero: "+i)}};for(const s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e["$"+s]||(e["$"+s]=e[s]),e[s]=o[s])}}return r.textSizeCache={},r})();class un{constructor(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i}clone(){const{x:t,y:e,width:n,height:i}=this;return new un(t,e,n,i)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}isInfinite(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0}shrink(t,e){const n=(i,o)=>{switch(i){case"top":this.y+=o;case"bottom":this.height-=o;break;case"left":this.x+=o;case"right":this.width-=o;break;case"vertical":this.y+=o,this.height-=2*o;break;case"horizontal":this.x+=o,this.width-=2*o;break;default:this.x+=o,this.width-=2*o,this.y+=o,this.height-=2*o}};return"number"==typeof t?n(e,t):Object.entries(t).forEach(([i,o])=>n(i,o)),this}grow(t,e){if("number"==typeof t)this.shrink(-t,e);else{const n=Object.assign({},t);for(const i in n)n[i]*=-1;this.shrink(n)}return this}static merge(t){let e=1/0,n=1/0,i=-1/0,o=-1/0;return t.forEach(s=>{s.x<e&&(e=s.x),s.y<n&&(n=s.y),s.x+s.width>i&&(i=s.x+s.width),s.y+s.height>o&&(o=s.y+s.height)}),new un(e,n,i-e,o-n)}}class Oo{constructor(t=[1,0,0,1,0,0]){this.elements=t}get e(){return[...this.elements]}setElements(t){const e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this}get identity(){const t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]}AxB(t,e,n){const o=t[1]*e[0]+t[3]*e[1],s=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],c=t[0]*e[4]+t[2]*e[5]+t[4],h=t[1]*e[4]+t[3]*e[5]+t[5];(n=n??t)[0]=t[0]*e[0]+t[2]*e[1],n[1]=o,n[2]=s,n[3]=a,n[4]=c,n[5]=h}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const e=new Array(6);return this.AxB(this.elements,t.elements,e),new Oo(e)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let e=t[0],n=t[1],i=t[2],o=t[3];const s=t[4],a=t[5],c=1/(e*o-n*i);return e*=c,n*=c,i*=c,o*=c,new Oo([o,-n,-i,e,i*a-o*s,n*s-e*a])}inverseTo(t){const e=this.elements;let n=e[0],i=e[1],o=e[2],s=e[3];const a=e[4],c=e[5],h=1/(n*s-i*o);return n*=h,i*=h,o*=h,s*=h,t.setElements([s,-i,-o,n,o*c-s*a,i*a-n*c]),this}invertSelf(){const t=this.elements;let e=t[0],n=t[1],i=t[2],o=t[3];const s=t[4],a=t[5],c=1/(e*o-n*i);return e*=c,n*=c,i*=c,o*=c,t[0]=o,t[1]=-n,t[2]=-i,t[3]=e,t[4]=i*a-o*s,t[5]=n*s-e*a,this}transformPoint(t,e){const n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}}transformBBox(t,e){const n=this.elements,i=n[0],o=n[1],s=n[2],a=n[3],c=.5*t.width,h=.5*t.height,p=t.x+c,g=t.y+h,m=Math.abs(c*i)+Math.abs(h*s),_=Math.abs(c*o)+Math.abs(h*a);return e||(e=new un(0,0,0,0)),e.x=p*i+g*s+n[4]-m,e.y=p*o+g*a+n[5]-_,e.width=m+m,e.height=_+_,e}toContext(t){if(this.identity)return;const e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}static flyweight(t){return Oo.instance.setElements(t.elements)}static updateTransformMatrix(t,e,n,i,o,s,a){const[c,h]=[0,0],p=e,g=n;let m,_;1===p&&1===g?(m=0,_=0):(m=null==a?.scalingCenterX?c:a?.scalingCenterX,_=null==a?.scalingCenterY?h:a?.scalingCenterY);const w=i,E=Math.cos(w),b=Math.sin(w);let R,T;0===w?(R=0,T=0):(R=null==a?.rotationCenterX?c:a?.rotationCenterX,T=null==a?.rotationCenterY?h:a?.rotationCenterY);const P=m*(1-p)-R,k=_*(1-g)-T;return t.setElements([E*p,b*p,-b*g,E*g,E*P-b*k+R+o,b*P+E*k+T+s]),t}static fromContext(t){const e=t.getTransform();return new Oo([e.a,e.b,e.c,e.d,e.e,e.f])}}Oo.instance=new Oo;const WO={};function Wd(r){var t;const e=r.constructor,n=Object.prototype.hasOwnProperty.call(e,"className")?e.className:e.name;if(!n)throw new Error(`The ${e} is missing the 'className' property.`);const i=(null!==(t=WO[n])&&void 0!==t?t:0)+1;return WO[n]=i,n+"-"+i}var Be=function(r){return r[r.NONE=0]="NONE",r[r.TRIVIAL=1]="TRIVIAL",r[r.MINOR=2]="MINOR",r[r.MAJOR=3]="MAJOR",r}(Be||{});const KW=function $W(){try{return new Function("return true"),!0}catch{return!1}}();function lt(r){const{changeCb:t,convertor:e}=r??{};return function(n,i){const o=`__${i}`;n[i]||(KW&&null==t&&null==e?function YW(r,t,e,n){const{redraw:i=Be.TRIVIAL,type:o="normal",checkDirtyOnAssignment:s=!1}=n??{},a=new Function("value",`\n        const oldValue = this.${e};\n        if (value !== oldValue) {\n            this.${e} = value;\n            ${"normal"===o?`this.markDirty(this, ${i});`:""}\n            ${"transform"===o?`this.markDirtyTransform(${i});`:""}\n            ${"path"===o?`if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${i}); }`:""}\n            ${"font"===o?`if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${i}); }`:""}\n        }\n        ${s?`if (value != null && value._dirty > ${Be.NONE}) { this.markDirty(value, value._dirty); }`:""}\n`),c=new Function(`return this.${e};`);Object.defineProperty(r,t,{set:a,get:c,enumerable:!0,configurable:!0})}(n,i,o,r):function qW(r,t,e,n){const{redraw:i=Be.TRIVIAL,type:o="normal",changeCb:s,convertor:a,checkDirtyOnAssignment:c=!1}=n??{};Object.defineProperty(r,t,{set:function(g){const m=this[e];(g=a?a(g):g)!==m&&(this[e]=g,"normal"===o&&this.markDirty(this,i),"transform"===o&&this.markDirtyTransform(i),"path"===o&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,i)),"font"===o&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,i)),s&&s(this)),c&&null!=g&&g._dirty>Be.NONE&&this.markDirty(g,g._dirty)},get:function(){return this[e]},enumerable:!0,configurable:!0})}(n,i,o,r))}}class iF{constructor(){this._dirty=Be.MAJOR}markDirty(t,e=Be.TRIVIAL){this._dirty>e||(this._dirty=e)}markClean(t){this._dirty=Be.NONE}isDirty(){return this._dirty>Be.NONE}}var Is=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ro=function(r){return r[r.All=0]="All",r[r.None=1]="None",r}(Ro||{});const CG=r=>{r.parent&&(r.parent.dirtyZIndex=!0),r.zIndexChanged()};class Ii extends iF{constructor({isVirtual:t}={}){super(),this.serialNumber=Ii._nextSerialNumber++,this.id=Wd(this),this.tag=NaN,this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new Oo,this.inverseMatrix=new Oo,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=Ro.All,this.isVirtual=t??!1}get datum(){var t;return void 0!==this._datum?this._datum:null===(t=this._parent)||void 0===t?void 0:t.datum}set datum(t){this._datum=t}_setLayerManager(t){this._layerManager=t,this._debug=t?.debug;for(const e of this._children)e._setLayerManager(t);for(const e of this._virtualChildren)e._setLayerManager(t)}get layerManager(){return this._layerManager}get parent(){return this._parent}get children(){if(0===this._virtualChildren.length)return this._children;const t=[...this._children];for(const e of this._virtualChildren)t.push(...e.children);return t}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}append(t){Array.isArray(t)||(t=[t]);for(const e of t){if(e.parent)throw new Error(`${e} already belongs to another parent: ${e.parent}.`);if(e.layerManager)throw new Error(`${e} already belongs to a scene: ${e.layerManager}.`);if(this.childSet[e.id])throw new Error(`Duplicate ${e.constructor.name} node: ${e}`);e.isVirtual?this._virtualChildren.push(e):this._children.push(e),this.childSet[e.id]=!0,e._parent=this,e._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,Be.MAJOR)}appendChild(t){return this.append(t),t}removeChild(t){const e=()=>{throw new Error("The node to be removed is not a child of this node.")};if(t.parent!==this&&e(),t.isVirtual){const n=this._virtualChildren.indexOf(t);n<0&&e(),this._virtualChildren.splice(n,1)}else{const n=this._children.indexOf(t);n<0&&e(),this._children.splice(n,1)}return delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,Be.MAJOR),t}calculateCumulativeMatrix(){this.computeTransformMatrix();const t=Oo.flyweight(this.matrix);let e=this.parent;for(;e;)e.computeTransformMatrix(),t.preMultiplySelf(e.matrix),e=e.parent;return t}transformPoint(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)}inverseTransformPoint(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)}transformBBox(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)}inverseTransformBBox(t){return this.calculateCumulativeMatrix().transformBBox(t)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,Be.MAJOR)}containsPoint(t,e){return!1}pickNode(t,e){var n;if(!this.visible||this.pointerEvents===Ro.None||!this.containsPoint(t,e))return;const i=this.children;if(i.length>1e3)for(let o=i.length-1;o>=0;o--){const s=i[o],c=(null===(n=s.computeTransformedBBox())||void 0===n?void 0:n.containsPoint(t,e))?s.pickNode(t,e):void 0;if(c)return c}else if(i.length)for(let o=i.length-1;o>=0;o--){const s=i[o].pickNode(t,e);if(s)return s}else if(!this.isContainerNode)return this}findNodes(t){const e=t(this)?[this]:[];for(const n of this.children){const i=n.findNodes(t);i&&e.push(...i)}return e}computeBBox(){}computeTransformedBBox(){const t=this.computeBBox();if(!t)return;this.computeTransformMatrix();const e=Oo.flyweight(this.matrix);let n=this.parent;for(;n;)n.computeTransformMatrix(),e.preMultiplySelf(n.matrix),n=n.parent;return e.transformBBox(t,t),t}computeTransformMatrix(){if(!this.dirtyTransform)return;const{matrix:t,scalingX:e,scalingY:n,rotation:i,translationX:o,translationY:s,scalingCenterX:a,scalingCenterY:c,rotationCenterX:h,rotationCenterY:p}=this;Oo.updateTransformMatrix(t,e,n,i,o,s,{scalingCenterX:a,scalingCenterY:c,rotationCenterX:h,rotationCenterY:p}),t.inverseTo(this.inverseMatrix),this.dirtyTransform=!1}render(t){const{stats:e}=t;this._dirty=Be.NONE,e&&e.nodesRendered++}clearBBox(t){const e=this.computeBBox();if(null==e)return;const{x:n,y:i,width:o,height:s}=e,a=this.transformPoint(n,i),c=this.transformPoint(n+o,i+s);t.clearRect(a.x,a.y,c.x-a.x,c.y-a.y)}markDirty(t,e=Be.TRIVIAL,n=e){this._dirty>e||this._dirty===e&&e===n||(this._dirty=e,this.parent?this.parent.markDirty(this,n):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(t){const{force:e=!1,recursive:n=!0}=t??{};if(this._dirty!==Be.NONE||e){if(this._dirty=Be.NONE,!1!==n)for(const i of this._virtualChildren)i.markClean({force:e});if(!0===n)for(const i of this._children)i.markClean({force:e})}}visibilityChanged(){}get nodeCount(){let t=1,e=this._dirty>=Be.NONE||this.dirtyTransform?1:0,n=this.visible?1:0;const i=o=>{const{count:s,visibleCount:a,dirtyCount:c}=o.nodeCount;t+=s,n+=a,e+=c};for(const o of this._children)i(o);for(const o of this._virtualChildren)i(o);return{count:t,visibleCount:n,dirtyCount:e}}zIndexChanged(){}}function _G(r,t){let e=0;return"number"==typeof r&&"number"==typeof t?e=r-t:"string"==typeof r&&"string"==typeof t?e=r.localeCompare(t):null==r&&null==t||(e=null==r?-1:null==t?1:String(r).localeCompare(String(t))),e}function wG(r,t,e){const n=i=>"function"==typeof i?i():i;for(const i in r){const o=e(n(r[i]),n(t[i]));if(0!==o)return o}return 0}Ii._nextSerialNumber=0,Is([lt({type:"transform"})],Ii.prototype,"scalingX",void 0),Is([lt({type:"transform"})],Ii.prototype,"scalingY",void 0),Is([lt({type:"transform"})],Ii.prototype,"scalingCenterX",void 0),Is([lt({type:"transform"})],Ii.prototype,"scalingCenterY",void 0),Is([lt({type:"transform"})],Ii.prototype,"rotationCenterX",void 0),Is([lt({type:"transform"})],Ii.prototype,"rotationCenterY",void 0),Is([lt({type:"transform"})],Ii.prototype,"rotation",void 0),Is([lt({type:"transform"})],Ii.prototype,"translationX",void 0),Is([lt({type:"transform"})],Ii.prototype,"translationY",void 0),Is([lt({redraw:Be.MAJOR,changeCb:r=>r.visibilityChanged()})],Ii.prototype,"visible",void 0),Is([lt({redraw:Be.TRIVIAL,changeCb:CG})],Ii.prototype,"zIndex",void 0),Is([lt({redraw:Be.TRIVIAL,changeCb:CG})],Ii.prototype,"zIndexSubOrder",void 0);const zO={};function SG(r,t){zO[t]||(r(),zO[t]=!0)}const at={debug(...r){console.log(...r)},warn(r,...t){console.warn(`AG Charts - ${r}`,...t)},error(r,...t){"object"==typeof r?console.error("AG Charts error",r,...t):console.error(`AG Charts - ${r}`,...t)},warnOnce(r,...t){SG(()=>at.warn(r,...t),`Logger.warn: ${r}`)},errorOnce(r,...t){SG(()=>at.error(r,...t),`Logger.warn: ${r}`)}};class Ht extends Ii{constructor(t){var e;super({isVirtual:t?.isVirtual}),this.opts=t,this.opacity=1,this.lastBBox=void 0;const{zIndex:n,zIndexSubOrder:i}=t??{};this.isContainerNode=!0,void 0!==n&&(this.zIndex=n),void 0!==i&&(this.zIndexSubOrder=i),this.name=null===(e=this.opts)||void 0===e?void 0:e.name}zIndexChanged(){var t;this.layer&&(null===(t=this._layerManager)||void 0===t||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return null!=this.layer}_setLayerManager(t){var e,n;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(super._setLayerManager(t),t&&null!==(e=this.opts)&&void 0!==e&&e.layer){const{zIndex:i,zIndexSubOrder:o,name:s}=null!==(n=this.opts)&&void 0!==n?n:{};this.layer=t.addLayer({zIndex:i,zIndexSubOrder:o,name:s,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()})}}getComputedOpacity(){let t=1,e=this;do{e instanceof Ht&&(t*=e.opacity)}while(e=e.parent);return t}getVisibility(){let t=this,e=this.visible;for(;t=t.parent;)t.visible||(e=t.visible);return e}visibilityChanged(){this.layer&&(this.layer.enabled=this.visible)}markDirty(t,e=Be.TRIVIAL){if(this.isVirtual)return void super.markDirty(t,e);let n=e;(e<Be.MINOR||null!=this.layer)&&(n=Be.TRIVIAL),super.markDirty(t,e,n)}containsPoint(t,e){return!0}computeBBox(){return this.computeTransformMatrix(),Ht.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}render(t){var e,n;const{opts:{name:i}={}}=this,{_debug:{consoleLog:o=!1}={}}=this,{dirty:s,dirtyZIndex:a,layer:c,children:h,clipRect:p,dirtyTransform:g}=this;let{ctx:m,forceRender:_,clipBBox:w}=t;const{resized:E,stats:b}=t,R=m.getTransform(),T=s>=Be.MINOR||a||E;let A=T,x=!1;for(const W of h)if(A||(A=null==W.layerManager&&W.dirty>=Be.TRIVIAL),x||(x=null!=W.layerManager&&W.dirty>=Be.TRIVIAL),A)break;if(i&&o&&at.debug({name:i,group:this,isDirty:T,isChildDirty:A,dirtyTransform:g,renderCtx:t,forceRender:_}),g)_="dirtyTransform";else if(c){const W=this.computeBBox();(void 0===this.lastBBox||!this.lastBBox.equals(W))&&(_="dirtyTransform",this.lastBBox=W)}if(!(T||A||x||_))return i&&o&&b&&at.debug({name:i,result:"skipping",renderCtx:t,counts:this.nodeCount,group:this}),c&&b&&(b.layersSkipped++,b.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1});const P=this.visible;if(c){if(m=c.context,m.save(),m.resetTransform(),"dirtyTransform"!==_&&(_=A||a),_&&c.clear(),w){const{width:W,height:re,x:ne,y:Ce}=w;o&&at.debug({name:i,clipBBox:w,ctxTransform:m.getTransform(),renderCtx:t,group:this}),this.clipCtx(m,ne,Ce,W,re)}m.setTransform(R)}else m.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(m),p){const{x:W,y:re,width:ne,height:Ce}=p;m.save(),o&&at.debug({name:i,clipRect:p,ctxTransform:m.getTransform(),renderCtx:t,group:this}),this.clipCtx(m,W,re,ne,Ce),w=this.matrix.transformBBox(p)}const k=this.hasVirtualChildren();a?(this.sortChildren(h),"dirtyTransform"!==_&&(_=!0)):k&&this.sortChildren(h);const H=_!==t.forceRender||w!==t.clipBBox||m!==t.ctx?Object.assign(Object.assign({},t),{ctx:m,forceRender:_,clipBBox:w}):t;let U=0;for(const W of h)W.visible&&P?_||W.dirty!==Be.NONE?(m.save(),W.render(H),m.restore()):b&&(U+=W.nodeCount.count):(W.markClean(),b&&(U+=W.nodeCount.count));if(b&&(b.nodesSkipped+=U),super.render(t),p&&m.restore(),k)for(const W of this.virtualChildren)W.markClean({recursive:"virtual"});c&&(b&&b.layersRendered++,m.restore(),_&&c.snapshot(),null===(n=(e=c.context).verifyDepthZero)||void 0===n||n.call(e)),i&&o&&b&&at.debug({name:i,result:"rendered",skipped:U,renderCtx:t,counts:this.nodeCount,group:this})}sortChildren(t){this.dirtyZIndex=!1,t.sort((e,n)=>{var i,o;return wG([e.zIndex,...null!==(i=e.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],e.serialNumber],[n.zIndex,...null!==(o=n.zIndexSubOrder)&&void 0!==o?o:[void 0,void 0],n.serialNumber],_G)})}clipCtx(t,e,n,i,o){t.beginPath(),t.moveTo(e,n),t.lineTo(e+i,n),t.lineTo(e+i,n+o),t.lineTo(e,n+o),t.closePath(),t.clip()}static computeBBox(t){let e=1/0,n=-1/0,i=1/0,o=-1/0;return t.forEach(s=>{if(!s.visible)return;const a=s.computeTransformedBBox();if(!a)return;const c=a.x,h=a.y;c<e&&(e=c),h<i&&(i=h),c+a.width>n&&(n=c+a.width),h+a.height>o&&(o=h+a.height)}),new un(e,i,n-e,o-i)}setClipRectInGroupCoordinateSpace(t){this.clipRect=t?this.transformBBox(t):void 0}}Ht.className="Group",function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([lt({redraw:Be.MAJOR,convertor:r=>Math.min(1,Math.max(0,r))})],Ht.prototype,"opacity",void 0);class EG{constructor({width:t=600,height:e=300,overrideDevicePixelRatio:n}){this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(t,e),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.setPixelRatio(n),this.resize(t,e)}static isSupported(){return null!=window.OffscreenCanvas}snapshot(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()}destroy(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}get pixelRatio(){return this._pixelRatio}setPixelRatio(t){let e=t??window.devicePixelRatio;yG()||(e=1),vi.overrideScale(this.context,e),this._pixelRatio=e}get width(){return this._width}get height(){return this._height}resize(t,e){if(!(t>0&&e>0))return;const{canvas:n,context:i,pixelRatio:o}=this;n.width=Math.round(t*o),n.height=Math.round(e*o),i.resetTransform(),this._width=t,this._height=e}}function ua(r){const t=typeof window<"u"?window:void 0;return t?.[r]}var Dw=function(r){return r[r.SUMMARY=0]="SUMMARY",r[r.DETAILED=1]="DETAILED",r}(Dw||{});let JW=(()=>{class r{constructor(e){var n,i,o;this.id=Wd(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug={dirtyTree:!1,stats:!1,renderBoundingBoxes:!1,consoleLog:!1,level:Dw.SUMMARY,sceneNodeHighlight:[]};const{document:s=window.document,mode:a=(null!==(n=ua("agChartsSceneRenderModel"))&&void 0!==n?n:"adv-composite"),width:c,height:h,overrideDevicePixelRatio:p}=e;this.overrideDevicePixelRatio=p,this.opts={document:s,mode:a},this.debug.consoleLog=[!0,"scene"].includes(ua("agChartsDebug")),this.debug.level=["scene"].includes(ua("agChartsDebug"))?Dw.DETAILED:Dw.SUMMARY,this.debug.stats=null!==(i=ua("agChartsSceneStats"))&&void 0!==i&&i,this.debug.dirtyTree=null!==(o=ua("agChartsSceneDirtyTree"))&&void 0!==o&&o,this.debug.sceneNodeHighlight=function QW(){var r;let t=null!==(r=ua("agChartsSceneDebug"))&&void 0!==r?r:[];"string"==typeof t&&(t=[t]);const e=[];return t.forEach(n=>{"layout"===n?e.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):e.push(n)}),e}(),this.canvas=new vi({document:s,width:c,height:h,overrideDevicePixelRatio:p})}set container(e){this.canvas.container=e}get container(){return this.canvas.container}download(e,n){this.canvas.download(e,n)}getDataURL(e){return this.canvas.getDataURL(e)}get width(){return this.pendingSize?this.pendingSize[0]:this.canvas.width}get height(){return this.pendingSize?this.pendingSize[1]:this.canvas.height}resize(e,n){e=Math.round(e),n=Math.round(n);const i=e<=0||n<=0,o=isNaN(e)||isNaN(n);return!(e===this.width&&n===this.height||o||i||(this.pendingSize=[e,n],this.markDirty(),0))}addLayer(e){var n;const{mode:i}=this.opts;if(!["composite","dom-composite","adv-composite"].includes(i))return;const{zIndex:s=this._nextZIndex++,name:a,zIndexSubOrder:c,getComputedOpacity:h,getVisibility:p}=e,{width:g,height:m,overrideDevicePixelRatio:_}=this,w="dom-composite"===i,b="adv-composite"===i&&EG.isSupported()?new EG({width:g,height:m,overrideDevicePixelRatio:_}):new vi({document:this.opts.document,width:g,height:m,domLayer:w,zIndex:s,name:a,overrideDevicePixelRatio:_}),R={id:this._nextLayerId++,name:a,zIndex:s,zIndexSubOrder:c,canvas:b,getComputedOpacity:h,getVisibility:p};if(s>=this._nextZIndex&&(this._nextZIndex=s+1),this.layers.push(R),this.sortLayers(),w){const T=this.layers.map(P=>P.canvas).filter(P=>P instanceof vi),A=T.findIndex(P=>P===b);(null!==(n=T[A-1])&&void 0!==n?n:this.canvas).element.insertAdjacentElement("afterend",b.element)}return this.debug.consoleLog&&at.debug("Scene.addLayer() - layers",this.layers),R.canvas}removeLayer(e){const n=this.layers.findIndex(i=>i.canvas===e);n>=0&&(this.layers.splice(n,1),e.destroy(),this.markDirty(),this.debug.consoleLog&&at.debug("Scene.removeLayer() -  layers",this.layers))}moveLayer(e,n,i){const o=this.layers.find(s=>s.canvas===e);o&&(o.zIndex=n,o.zIndexSubOrder=i,this.sortLayers(),this.markDirty(),this.debug.consoleLog&&at.debug("Scene.moveLayer() -  layers",this.layers))}sortLayers(){this.layers.sort((e,n)=>{var i,o;return wG([e.zIndex,...null!==(i=e.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],e.id],[n.zIndex,...null!==(o=n.zIndexSubOrder)&&void 0!==o?o:[void 0,void 0],n.id],_G)})}markDirty(){this._dirty=!0}get dirty(){return this._dirty}set root(e){e!==this._root&&(this._root&&this._root._setLayerManager(),this._root=e,e&&(null===e.parent&&e.layerManager&&e.layerManager!==this&&(e.layerManager.root=null),e._setLayerManager({addLayer:n=>this.addLayer(n),moveLayer:(...n)=>this.moveLayer(...n),removeLayer:(...n)=>this.removeLayer(...n),markDirty:()=>this.markDirty(),canvas:this.canvas,debug:Object.assign(Object.assign({},this.debug),{consoleLog:this.debug.level>=Dw.DETAILED})})),this.markDirty())}get root(){return this._root}strip(){const{layers:e}=this;for(const n of e)n.canvas.destroy(),delete n.canvas;e.splice(0,e.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()}destroy(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})}render(e){var n;return function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const{debugSplitTimes:i=[performance.now()],extraDebugStats:o={}}=e??{},{canvas:s,canvas:{context:a},root:c,layers:h,pendingSize:p,opts:{mode:g}}=this;if(p&&(this.canvas.resize(...p),this.layers.forEach(w=>w.canvas.resize(...p)),this.pendingSize=void 0),c&&!c.visible)return void(this._dirty=!1);if(c&&!this.dirty)return this.debug.consoleLog&&at.debug("Scene.render() - no-op",{redrawType:Be[c.dirty],tree:this.buildTree(c)}),void this.debugStats(i,a,void 0,o);const m={ctx:a,forceRender:!0,resized:!!p,debugNodes:{}};"detailed"===this.debug.stats&&(m.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let _=!1;if((!c||c.dirty>=Be.TRIVIAL)&&(_=!0,s.clear()),c&&this.debug.dirtyTree){const{dirtyTree:w,paths:E}=this.buildDirtyTree(c);at.debug("Scene.render() - dirtyTree",{dirtyTree:w,paths:E})}c&&_&&(this.debug.consoleLog&&at.debug("Scene.render() - before",{redrawType:Be[c.dirty],canvasCleared:_,tree:this.buildTree(c)}),c.visible&&(a.save(),c.render(m),a.restore())),"dom-composite"!==g&&h.length>0&&_&&(this.sortLayers(),a.save(),a.setTransform(1/s.pixelRatio,0,0,1/s.pixelRatio,0,0),h.forEach(({canvas:{imageSource:w,enabled:E},getComputedOpacity:b,getVisibility:R})=>{!E||!R()||(a.globalAlpha=b(),a.drawImage(w,0,0))}),a.restore()),null===(n=a.verifyDepthZero)||void 0===n||n.call(a),this._dirty=!1,this.debugStats(i,a,m.stats,o),this.debugSceneNodeHighlight(a,this.debug.sceneNodeHighlight,m.debugNodes),c&&this.debug.consoleLog&&at.debug("Scene.render() - after",{redrawType:Be[c.dirty],canvasCleared:_,tree:this.buildTree(c)})})}debugStats(e,n,i,o={}){const s=performance.now();if(this.debug.stats){const a=e[0];e.push(s);const c=(P,k)=>{const V=P+k;return`${P} / ${V} (${Math.round(100*P/V)}%)`},h=(P,k)=>Math.round(100*(k-P))/100+"ms",{layersRendered:p=0,layersSkipped:g=0,nodesRendered:m=0,nodesSkipped:_=0}=i??{},w=e.map((P,k)=>k>0?h(e[k-1],P):null).filter(P=>null!=P).join(" + "),E=Object.entries(o).map(([P,k])=>`${P}: ${k}`).join(" ; "),R=[`${h(a,s)} (${w})`,`${E}`,"detailed"===this.debug.stats?`Layers: ${c(p,g)}`:null,"detailed"===this.debug.stats?`Nodes: ${c(m,_)}`:null].filter(P=>null!=P).map(P=>[P,vi.getTextSize(P,n.font)]),T=Math.max(...R.map(([,{width:P}])=>P)),A=R.reduce((P,[,{height:k}])=>P+k,0);n.save(),n.fillStyle="white",n.fillRect(0,0,T,A),n.fillStyle="black";let x=0;for(const[P,k]of R)x+=k.height,n.fillText(P,2,x);n.restore()}}debugSceneNodeHighlight(e,n,i){var o;const s=c=>h=>!!c.test(h.id)||h instanceof Ht&&null!=h.name&&c.test(h.name),a=c=>h=>c===h.id||h instanceof Ht&&null!=h.name&&c===h.name;for(const c of n){if("string"==typeof c&&null!=i[c])continue;const h="string"==typeof c?a(c):s(c),p=null===(o=this.root)||void 0===o?void 0:o.findNodes(h);if(p&&0!==p.length)for(const g of p)g instanceof Ht&&g.name?i[g.name]=g:i[g.id]=g;else at.debug(`Scene.render() - no debugging node with id [${c}] in scene graph.`)}e.save();for(const[c,h]of Object.entries(i)){const p=h.computeTransformedBBox();p?(e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(p.x,p.y,p.width,p.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(c,p.x,p.y,p.width),e.fillText(c,p.x,p.y,p.width)):at.debug(`Scene.render() - no bbox for debugged node [${c}].`)}e.restore()}buildTree(e){var n,i;const o=null!==(n=e instanceof Ht?e.name:null)&&void 0!==n?n:e.id;return Object.assign(Object.assign({name:o,node:e,dirty:Be[e.dirty]},null!==(i=e.parent)&&void 0!==i&&i.isVirtual?{virtualParentDirty:Be[e.parent.dirty],virtualParent:e.parent}:{}),e.children.map(s=>this.buildTree(s)).reduce((s,a)=>{let{name:c}=a;const{node:{visible:h,opacity:p,zIndex:g,zIndexSubOrder:m},node:_,virtualParent:w}=a;(!h||p<=0)&&(c=`(${c})`),_ instanceof Ht&&_.isLayer()&&(c=`*${c}*`);const E=[`${c??"<unknown>"}`,`z: ${g}`,m&&`zo: ${m.map(T=>"function"==typeof T?`${T()} (fn)`:T).join(" / ")}`,w&&"(virtual parent)"].filter(T=>!!T).join(" ");let b=E,R=1;for(;null!=s[b]&&R<100;)b=`${E} (${R++})`;return s[b]=a,s},{}))}buildDirtyTree(e){var n;if(e.dirty===Be.NONE)return{dirtyTree:{},paths:[]};const i=e.children.map(a=>this.buildDirtyTree(a)).filter(a=>a.paths.length>0),o=null!==(n=e instanceof Ht?e.name:null)&&void 0!==n?n:e.id,s=0===i.length?[o]:i.map(a=>a.paths).reduce((a,c)=>a.concat(c),[]).map(a=>`${o}.${a}`);return{dirtyTree:Object.assign({name:o,node:e,dirty:Be[e.dirty]},i.map(a=>a.dirtyTree).filter(a=>void 0!==a.dirty).reduce((a,c)=>{var h;return a[null!==(h=c.name)&&void 0!==h?h:"<unknown>"]=c,a},{})),paths:s}}}return r.className="Scene",r})();class e2{constructor(){this.stops=[]}}const Cl=2*Math.PI;function to(r){return r%=Cl,(r+=Cl)%Cl}function ca(r){return r/180*Math.PI}class n2 extends e2{constructor(){super(...arguments),this.angle=0}createGradient(t,e){const{stops:i,angle:o}=this,s=to(ca(o+90)),a=Math.cos(s),c=Math.sin(s),h=e.width,p=e.height,g=e.x+.5*h,m=e.y+.5*p;if(h>0&&p>0){const _=Math.sqrt(p*p+h*h)/2,w=Math.atan2(p,h);let E;E=s<Math.PI/2?s:s<Math.PI?Math.PI-s:s<3*Math.PI/2?s-Math.PI:2*Math.PI-s;const b=_*Math.abs(Math.cos(E-w)),R=t.createLinearGradient(g+a*b,m+c*b,g-a*b,m-c*b);return i.forEach(T=>{R.addColorStop(T.offset,T.color)}),R}return"black"}}var da=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};const i2=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i;class gn extends Ii{constructor(){super(...arguments),this.lastInstanceId=0,this.fillOpacity=1,this.strokeOpacity=1,this.fill=gn.defaultStyles.fill,this.stroke=gn.defaultStyles.stroke,this.strokeWidth=gn.defaultStyles.strokeWidth,this.lineDash=gn.defaultStyles.lineDash,this.lineDashOffset=gn.defaultStyles.lineDashOffset,this.lineCap=gn.defaultStyles.lineCap,this.lineJoin=gn.defaultStyles.lineJoin,this.opacity=gn.defaultStyles.opacity,this.fillShadow=gn.defaultStyles.fillShadow}static createInstance(t){const e=Object.create(t);return e._setParent(void 0),e.id=t.id+"-Instance-"+String(++t.lastInstanceId),e}restoreOwnStyles(){const t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t);for(let n=0,i=e.length;n<i;n++){const o=e[n];this[o]=t[o]}}restoreAllStyles(){const t=this.constructor.defaultStyles;for(const e in t)this[e]=t[e]}restoreOverriddenStyles(){const t=this.constructor.defaultStyles,e=Object.getPrototypeOf(t);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.prototype.hasOwnProperty.call(e,n)&&(this[n]=t[n])}updateGradient(){const{fill:t}=this;let e;if(t?.startsWith("linear-gradient")&&(e=i2.exec(t))){const n=parseFloat(e[1]),i=[],o=e[2],s=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let a;for(;a=s.exec(o);)i.push(a[0]);this.gradient=new n2,this.gradient.angle=n,this.gradient.stops=i.map((c,h)=>({offset:h/(i.length-1),color:c}))}else this.gradient=void 0}align(t,e){var n,i,o;const s=null!==(o=null===(i=null===(n=this.layerManager)||void 0===n?void 0:n.canvas)||void 0===i?void 0:i.pixelRatio)&&void 0!==o?o:1,a=Math.round(t*s)/s;return null==e?a:0===e?0:e<1?Math.ceil(e*s)/s:Math.round((e+t)*s)/s-a}fillStroke(t){this.renderFill(t),this.renderStroke(t)}renderFill(t){if(this.fill){const{globalAlpha:e}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=e}t.shadowColor="rgba(0, 0, 0, 0)"}applyFill(t){t.fillStyle=this.gradient?this.gradient.createGradient(t,this.computeBBox()):this.fill}applyFillAlpha(t){const{globalAlpha:e}=t;t.globalAlpha=e*this.opacity*this.fillOpacity}applyShadow(t){var e,n;const i=null!==(n=null===(e=this.layerManager)||void 0===e?void 0:e.canvas.pixelRatio)&&void 0!==n?n:1,o=this.fillShadow;o?.enabled&&(t.shadowColor=o.color,t.shadowOffsetX=o.xOffset*i,t.shadowOffsetY=o.yOffset*i,t.shadowBlur=o.blur*i)}renderStroke(t){if(this.stroke&&this.strokeWidth){const{globalAlpha:e}=t;t.strokeStyle=this.stroke,t.globalAlpha=e*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=e}}containsPoint(t,e){return this.isPointInPath(t,e)}}gn.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),da([lt({redraw:Be.MINOR})],gn.prototype,"fillOpacity",void 0),da([lt({redraw:Be.MINOR})],gn.prototype,"strokeOpacity",void 0),da([lt({redraw:Be.MINOR,changeCb:r=>r.updateGradient()})],gn.prototype,"fill",void 0),da([lt({redraw:Be.MINOR})],gn.prototype,"stroke",void 0),da([lt({redraw:Be.MINOR})],gn.prototype,"strokeWidth",void 0),da([lt({redraw:Be.MINOR})],gn.prototype,"lineDash",void 0),da([lt({redraw:Be.MINOR})],gn.prototype,"lineDashOffset",void 0),da([lt({redraw:Be.MINOR})],gn.prototype,"lineCap",void 0),da([lt({redraw:Be.MINOR})],gn.prototype,"lineJoin",void 0),da([lt({redraw:Be.MINOR,convertor:r=>Math.min(1,Math.max(0,r))})],gn.prototype,"opacity",void 0),da([lt({redraw:Be.MINOR,checkDirtyOnAssignment:!0})],gn.prototype,"fillShadow",void 0);var _l=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function $O(r){const{redraw:t=Be.MAJOR,changeCb:e}=r??{};return lt({redraw:t,type:"font",changeCb:e})}class Ot extends gn{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=Ot.defaultStyles.textAlign,this.textBaseline=Ot.defaultStyles.textBaseline,this.lineHeight=void 0}_setLines(){this.lines=RG(this.text)}get font(){return(null==this._font||this._dirtyFont)&&(this._dirtyFont=!1,this._font=vp(this)),this._font}computeBBox(){return vi.has.textMetrics?DG(this.lines,this.x,this.y,this):bG(this.lines,this.x,this.y,this)}getLineHeight(t){var e,n;if(this.lineHeight)return this.lineHeight;if(vi.has.textMetrics){const i=vi.measureText(t,this.font,this.textBaseline,this.textAlign);return(null!==(e=i.fontBoundingBoxAscent)&&void 0!==e?e:i.emHeightAscent)+(null!==(n=i.fontBoundingBoxDescent)&&void 0!==n?n:i.emHeightDescent)}return vi.getTextSize(t,this.font).height}isPointInPath(t,e){const n=this.transformPoint(t,e),i=this.computeBBox();return!!i&&i.containsPoint(n.x,n.y)}render(t){const{ctx:e,forceRender:n,stats:i}=t;if(this.dirty===Be.NONE&&!n)return void(i&&(i.nodesSkipped+=this.nodeCount.count));if(!this.lines.length||!this.layerManager)return void(i&&(i.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(e);const{fill:o,stroke:s,strokeWidth:a}=this;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;const c=this.layerManager.canvas.pixelRatio||1,{globalAlpha:h}=e;if(o){e.fillStyle=o,e.globalAlpha=h*this.opacity*this.fillOpacity;const{fillShadow:p}=this;p?.enabled&&(e.shadowColor=p.color,e.shadowOffsetX=p.xOffset*c,e.shadowOffsetY=p.yOffset*c,e.shadowBlur=p.blur*c),this.renderLines((g,m,_)=>e.fillText(g,m,_))}if(s&&a){e.strokeStyle=s,e.lineWidth=a,e.globalAlpha=h*this.opacity*this.strokeOpacity;const{lineDash:p,lineDashOffset:g,lineCap:m,lineJoin:_}=this;p&&e.setLineDash(p),g&&(e.lineDashOffset=g),m&&(e.lineCap=m),_&&(e.lineJoin=_),this.renderLines((w,E,b)=>e.strokeText(w,E,b))}super.render(t)}renderLines(t){const{lines:e,x:n,y:i}=this,o=this.lines.map(c=>this.getLineHeight(c));let a=-(o.reduce((c,h)=>c+h,0)-o[0])*OG(this.textBaseline);for(let c=0;c<e.length;c++)t(e[c],n,i+a),a+=o[c]}static wrap(t,e,n,i,o){const a=function r2(r){const t=new Map,e=i=>vi.getTextSize(i,r);return{size:e,width:i=>{if(t.has(i))return t.get(i);const{width:o}=e(i);return t.set(i,o),o}}}(vp(i)),c=t.split(/\r?\n/g);if(0===c.length)return"";if("never"===o)return Ot.truncateLine(c[0],e,a,!1);const h=[];let p=0;for(const g of c){const m=Ot.wrapLine(g,e,n,a,i,o,p);if(h.push(m.result),p=m.cumulativeHeight,m.truncated)break}return h.join("\n").trim()}static wrapLine(t,e,n,i,o,s,a){if(!(t=t.trim()))return{result:"",truncated:!1,cumulativeHeight:a};const c=i.size(t);if(c.width<=e)return{result:t,truncated:!1,cumulativeHeight:a+c.height};if(c.height>n||i.width("W")>e)return{result:"",truncated:!0,cumulativeHeight:a};const h=t.split(/\s+/g),p=Ot.wrapLineSequentially(h,e,n,i,o,s,a);a=p.cumulativeHeight;let{lines:g}=p;if(!p.wordsBrokenOrTruncated&&!p.linesTruncated){const w=Ot.wrapLineBalanced(h,e,i,p.lines.length);w.length===g.length&&(g=w)}return{result:g.map(_=>_.join(" ")).join("\n"),truncated:p.linesTruncated,cumulativeHeight:a}}static breakWord(t,e,n,i,o){const s=_=>Ot.punctuationMarks.includes(t[_]),a=i?o.width("-"):0,c=[];let h=0,p=0;for(let _=0;_<t.length;_++){const E=o.width(t[_]);h+E+a>(0===p?e:n)&&(c.push(_),h=0,p++),h+=E}const g=[];let m=0;for(const _ of c){let w=t.substring(m,_);i&&w.length>0&&!s(_-1)&&!s(_)&&(w+="-"),g.push(w),m=_}return g.push(t.substring(m)),g}static truncateLine(t,e,n,i){const o=n.width(t);if(o<e&&!i)return t;const s=n.width("\u2026");if(o+s<=e)return`${t}\u2026`;let c,h,a=Math.floor(t.length*e/o)+1;do{c=t.substring(0,a),h=n.width(c)}while(--a>=0&&h+s>e);return`${c}\u2026`}static wrapLineSequentially(t,e,n,i,o,s,a){const{fontSize:c,lineHeight:h=c*Ot.defaultLineHeightRatio}=o,p="always"===s||"hyphenate"===s,g="hyphenate"===s,m=i.width(" ");let _=!1,w=!1;const E=[];let b=[],R=0;const T=()=>{const A=a+h;if(A>=n){const x=b.join(" "),P=Ot.truncateLine(x,e,i,!0);return b.splice(0,b.length,P),w=!0,!1}return b=[],R=0,a=A,E.push(b),!0};if(!T())return{lines:E,linesTruncated:!0,wordsBrokenOrTruncated:_,cumulativeHeight:a};for(let A=0;A<t.length;A++){const x=t[A],P=i.width(x),k=0===b.length?0:m,V=R+k+P;if(V<=e)b.push(x),R=V;else if(P<=e){if(!T())break;b.push(x),R=P}else{if(_=!0,!p){if(!T())break;const H=Ot.truncateLine(x,e,i,!0);b.push(H),A<t.length-1&&(w=!0);break}{const U=Ot.breakWord(x,e-R-k,e,g,i);let W=!1;for(let re=0;re<U.length;re++){const ne=U[re];if(ne&&b.push(ne),re===U.length-1)R=i.width(ne);else if(!T()){W=!0;break}}if(W)break}}}return{lines:E,linesTruncated:w,wordsBrokenOrTruncated:_,cumulativeHeight:a}}static wrapLineBalanced(t,e,n,i){const o=t.reduce((_,w)=>_+n.width(w),0),s=n.width(" "),c=(o+s*(t.length-i-2))/i,h=[];let p=[],g=n.width(t[0]),m=!0;for(const _ of t){const w=n.width(_);if(m){p=[],p.push(_),g=w,m=!1,h.push(p);continue}const E=g+s+w;E<=c?(p.push(_),g=E):E<=e?(p.push(_),m=!0):(p=[_],g=w,h.push(p))}return h}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}}function vp(r){const{fontFamily:t,fontSize:e,fontStyle:n,fontWeight:i}=r;return[n??"",i??"",e+"px",t].join(" ").trim()}function o2(r,t,e,n){return vi.has.textMetrics?DG(r,t,e,n):bG(r,t,e,n)}function DG(r,t,e,n){var i,o;let s=0,a=0,c=0,h=0,p=0;const g=vp(n),{lineHeight:m,textBaseline:_=Ot.defaultStyles.textBaseline,textAlign:w=Ot.defaultStyles.textAlign}=n;for(let E=0;E<r.length;E++){const b=vi.measureText(r[E],g,_,w);s=Math.max(s,b.actualBoundingBoxLeft),c=Math.max(c,b.width),0==E?(a+=b.actualBoundingBoxAscent,h+=b.actualBoundingBoxAscent):p+=null!==(i=b.fontBoundingBoxAscent)&&void 0!==i?i:b.emHeightAscent,E==r.length-1?h+=b.actualBoundingBoxDescent:p+=null!==(o=b.fontBoundingBoxDescent)&&void 0!==o?o:b.emHeightDescent}return void 0!==m&&(p=(r.length-1)*m),h+=p,a+=p*OG(_),new un(t-s,e-a,c,h)}function bG(r,t,e,n){let i=0,o=0,s=0;const a=vp(n),{lineHeight:c,textBaseline:h=Ot.defaultStyles.textBaseline,textAlign:p=Ot.defaultStyles.textAlign}=n;if(r.length>0){const g=vi.getTextSize(r[0],a);i=g.width,o=g.height}for(let g=1;g<r.length;g++){const m=vi.getTextSize(r[g],a);i=Math.max(i,m.width),s+=c??m.height}switch(p){case"end":case"right":t-=i;break;case"center":t-=i/2}switch(h){case"alphabetic":e-=.7*o+.5*s;break;case"middle":e-=.45*o+.5*s;break;case"ideographic":case"bottom":e-=o+s;break;case"hanging":e-=.2*o+.5*s}return new un(t,e,i,o+s)}function OG(r){switch(r){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}}function RG(r){return"string"==typeof r?r.split(/\r?\n/g):[]}Ot.className="Text",Ot.defaultLineHeightRatio=1.15,Ot.defaultStyles=Object.assign({},gn.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),Ot.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"],_l([lt({redraw:Be.MAJOR})],Ot.prototype,"x",void 0),_l([lt({redraw:Be.MAJOR})],Ot.prototype,"y",void 0),_l([lt({redraw:Be.MAJOR,changeCb:r=>r._setLines()})],Ot.prototype,"text",void 0),_l([$O()],Ot.prototype,"fontStyle",void 0),_l([$O()],Ot.prototype,"fontWeight",void 0),_l([$O()],Ot.prototype,"fontSize",void 0),_l([$O()],Ot.prototype,"fontFamily",void 0),_l([lt({redraw:Be.MAJOR})],Ot.prototype,"textAlign",void 0),_l([lt({redraw:Be.MAJOR})],Ot.prototype,"textBaseline",void 0),_l([lt({redraw:Be.MAJOR})],Ot.prototype,"lineHeight",void 0);class TG{constructor(){this.allEventListeners=new Map}addEventListener(t,e){if("function"!=typeof e)throw new Error("AG Charts - listener must be a Function");const{allEventListeners:n}=this;let i=n.get(t);i||(i=new Set,n.set(t,i)),i.has(e)||i.add(e)}removeEventListener(t,e){const{allEventListeners:n}=this,i=n.get(t);i&&(i.delete(e),0===i.size&&n.delete(t))}hasEventListener(t){return this.allEventListeners.has(t)}clearEventListeners(){this.allEventListeners.clear()}fireEvent(t){const e=this.allEventListeners.get(t.type);e?.forEach(n=>n(t))}}const AG=r=>"string"==typeof r,s2=r=>!!r&&Object.prototype.hasOwnProperty.call(r,"toString")&&AG(r.toString());function oF(r){return AG(r)||s2(r)}function KO(r){return Fs(r)||!!(n=r)&&Object.prototype.hasOwnProperty.call(n,"valueOf")&&Fs(n.valueOf())||(n=>n instanceof Date&&!isNaN(+n))(r);var n}function YO(r,t){return t&&KO(r)?r:t?void 0:oF(r)?r:String(r)}const Fs=r=>"number"==typeof r&&Number.isFinite(r);class zt{constructor(t,e,n,i=1){this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,i||0))}static validColorString(t){return t.indexOf("#")>=0?!!zt.parseHex(t):t.indexOf("rgb")>=0?!!zt.stringToRgba(t):!!zt.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return zt.fromHexString(t);const e=zt.nameToHex[t.toLowerCase()];if(e)return zt.fromHexString(e);if(t.indexOf("rgb")>=0)return zt.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static tryParseFromString(t){try{return zt.fromString(t)}catch{return at.warnOnce(`invalid color string: '${t}'.`),zt.fromArray([0,0,0])}}static parseHex(t){let e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(let n=0;n<t.length;n+=2)e.push(parseInt(`${t[n]}${t[n+1]}`,16));break;case 3:case 4:e=t.split("").map(n=>parseInt(n,16)).map(n=>n+16*n)}if(e?.length>=3&&e.every(n=>n>=0))return 3===e.length&&e.push(255),e}static fromHexString(t){const e=zt.parseHex(t);if(e){const[n,i,o,s]=e;return new zt(n/255,i/255,o/255,s/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let[e,n]=[NaN,NaN];for(let a=0;a<t.length;a++){const c=t[a];if(e||"("!==c){if(")"===c){n=a;break}}else e=a}const i=e&&n&&t.substring(e+1,n);if(!i)return;const o=i.split(","),s=[];for(let a=0;a<o.length;a++){const c=o[a];let h=parseFloat(c);if(isNaN(h))return;c.indexOf("%")>=0?(h=Math.max(0,Math.min(100,h)),h/=100):3===a?h=Math.max(0,Math.min(1,h)):(h=Math.max(0,Math.min(255,h)),h/=255),s.push(h)}return s}static fromRgbaString(t){const e=zt.stringToRgba(t);if(e){if(3===e.length)return new zt(e[0],e[1],e[2]);if(4===e.length)return new zt(e[0],e[1],e[2],e[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(4===t.length)return new zt(t[0],t[1],t[2],t[3]);if(3===t.length)return new zt(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,e,n,i=1){const o=zt.HSBtoRGB(t,e,n);return new zt(o[0],o[1],o[2],i)}static padHex(t){return 1===t.length?"0"+t:t}toHexString(){let t="#"+zt.padHex(Math.round(255*this.r).toString(16))+zt.padHex(Math.round(255*this.g).toString(16))+zt.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=zt.padHex(Math.round(255*this.a).toString(16))),t}toRgbaString(t=3){const e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),`rgba(${e.join(", ")})`):`rgb(${e.join(", ")})`}toString(){return 1===this.a?this.toHexString():this.toRgbaString()}toHSB(){return zt.RGBtoHSB(this.r,this.g,this.b)}static RGBtoHSB(t,e,n){const i=Math.min(t,e,n),o=Math.max(t,e,n);let a=NaN;if(i!==o){const c=o-i,h=(o-t)/c,p=(o-e)/c,g=(o-n)/c;a=t===o?g-p:e===o?2+h-g:4+p-h,a/=6,a<0&&(a+=1)}return[360*a,0!==o?(o-i)/o:0,o]}static HSBtoRGB(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;let i=0,o=0,s=0;if(0===e)i=o=s=n;else{const a=6*(t-Math.floor(t)),c=a-Math.floor(a),h=n*(1-e),p=n*(1-e*c),g=n*(1-e*(1-c));switch(a>>0){case 0:i=n,o=g,s=h;break;case 1:i=p,o=n,s=h;break;case 2:i=h,o=n,s=g;break;case 3:i=h,o=p,s=n;break;case 4:i=g,o=h,s=n;break;case 5:i=n,o=h,s=p}}return[i,o,s]}derive(t,e,n,i){const o=zt.RGBtoHSB(this.r,this.g,this.b);let s=o[2];0==s&&n>1&&(s=.05);const a=((o[0]+t)%360+360)%360,c=Math.max(Math.min(o[1]*e,1),0);s=Math.max(Math.min(s*n,1),0);const h=Math.max(Math.min(this.a*i,1),0),p=zt.HSBtoRGB(a,c,s);return p.push(h),zt.fromArray(p)}brighter(){return this.derive(0,1,1/.7,1)}darker(){return this.derive(0,1,.7,1)}static interpolate(t,e){const n=zt.tryParseFromString(t),i=zt.tryParseFromString(e);return o=>{const s=(c,h)=>c*(1-o)+h*o;return new zt(s(n.r,i.r),s(n.g,i.g),s(n.b,i.b),s(n.a,i.a)).toString()}}}zt.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"});const qO=Symbol("BREAK"),sF="__decorator_config";function dm(r,t){return(e,n)=>{const i=n.toString(),o=`__${i}`,{getters:s,setters:a}=function a2(r,t,e,n){null==Object.getOwnPropertyDescriptor(r,sF)&&Object.defineProperty(r,sF,{value:{}});const i=r[sF];if(null!=i[e])return i[e];i[e]={setters:[],getters:[]};const o=Object.getOwnPropertyDescriptor(r,t),s=o?.set,a=o?.get;return Object.defineProperty(r,t,{set:function(p){var g,m;const _=null!==(m=null===(g=i[e])||void 0===g?void 0:g.setters)&&void 0!==m?m:[];let w;_.some(E=>E.length>2)&&(w=a?a.call(this):this[n]);for(const E of _)if((p=E(this,t,p,w))===qO)return;s?s.call(this,p):this[n]=p},get:function(){var p,g;let m=a?a.call(this):this[n];for(const _ of null!==(g=null===(p=i[e])||void 0===p?void 0:p.getters)&&void 0!==g?g:[])if(m=_(this,t,m),m===qO)return;return m},enumerable:!0,configurable:!1}),i[e]}(e,n,i,o);a.push(r),t&&s.splice(0,0,t)}}function G(r){return dm((t,e,n)=>{var i,o,s;if(r(n,{target:t}))return n;const a=e.toString().replace(/^_*/,"");let c=null!==(o=null===(i=t.constructor)||void 0===i?void 0:i.className)&&void 0!==o?o:null===(s=t.constructor)||void 0===s?void 0:s.name;c?.length<3&&(c=null);const h=c?`of [${c}] `:"";return at.warn(r.message?`Property [${a}] ${h}cannot be set to [${JSON.stringify(n)}]; ${r.message}, ignoring.`:`Property [${a}] ${h}cannot be set to [${JSON.stringify(n)}], ignoring.`),qO})}function St(r,t){return r.message=t,r}const Jn=(r,t,e)=>void 0===r||e(r,t),zd=(r,t)=>St((e,n)=>Array.isArray(e)&&(!r||e.length===r)&&(!t||e.every(i=>t(i,n))),"expecting an Array"),aF=r=>St((t,e)=>Jn(t,e,zd(r)),"expecting an optional Array"),Vu=(...r)=>St((t,e)=>r.every(n=>n(t,e)),r.map(t=>t.message).filter(t=>null!=t).join(" AND ")),XO=r=>null!=r&&!isNaN(r),ZO=r=>St((t,e)=>!XO(t)||!XO(e.target[r])||t<e.target[r],`expected to be less than ${r}`),bw=r=>St((t,e)=>!XO(t)||!XO(e.target[r])||t>e.target[r],`expected to be greater than ${r}`),u2=St(r=>"function"==typeof r,"expecting a Function"),ei=St((r,t)=>Jn(r,t,u2),"expecting an optional Function"),Mn=St(r=>!0===r||!1===r,"expecting a Boolean"),wl=St((r,t)=>Jn(r,t,Mn),"expecting an optional Boolean"),lr=St(r=>"string"==typeof r,"expecting a String"),Mt=St((r,t)=>Jn(r,t,lr),"expecting an optional String"),xG=St(r=>r instanceof Date&&!isNaN(+r),"expecting a Date object"),c2=St((r,t)=>Jn(r,t,xG),"expecting an optional Date"),d2=(St(zd(void 0,xG),"expecting an Array of Date objects"),$e(0)),h2=St((r,t)=>Jn(r,t,d2),"expecting an optional number"),MG=((...r)=>St((t,e)=>r.some(n=>n(t,e)),r.map(t=>t.message).filter(t=>null!=t).join(" OR ")))(c2,h2),QO="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",$o=St(r=>"string"==typeof r&&zt.validColorString(r),`expecting a color String. ${QO}`),Un=St((r,t)=>Jn(r,t,$o),`expecting an optional color String. ${QO}`),Ow=St(zd(void 0,$o),`expecting an Array of color strings. ${QO}`),f2=St((r,t)=>Jn(r,t,Ow),`expecting an optional Array of color strings. ${QO}`);function $e(r,t){return St(n=>"number"==typeof n&&Number.isFinite(n)&&(void 0===r||n>=r)&&(void 0===t||n<=t),"expecting a finite Number"+(void 0!==r?", more than or equal to "+r:"")+(void 0!==t?", less than or equal to "+t:""))}function yn(r,t){return St((n,i)=>Jn(n,i,$e(r,t)),"expecting an optional finite Number"+(void 0!==r?", more than or equal to "+r:"")+(void 0!==t?", less than or equal to "+t:""))}function $d(r,t){return St(n=>"number"==typeof n&&(isNaN(n)||Number.isFinite(n)&&(void 0===r||n>=r)&&(void 0===t||n<=t)),"expecting a finite Number"+(void 0!==r?", more than or equal to "+r:"")+(void 0!==t?", less than or equal to "+t:""))}const PG=St(zd(void 0,$e()),"expecting an Array of numbers"),IG=St((r,t)=>Jn(r,t,PG),"expecting an optional Array of numbers"),FG=St(zd(void 0,lr),"expecting an Array of strings");function LG(...r){return St(e=>"string"==typeof e&&r.indexOf(e)>=0,`expecting one of: ${r.join(", ")}`)}St((r,t)=>Jn(r,t,FG),"expecting an optional Array of strings");const p2=St(zd(void 0,Mn),"expecting an Array of boolean values"),g2=(St((r,t)=>Jn(r,t,p2),"expecting an optional Array of boolean values"),["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]),v2=St(r=>"normal"===r||"italic"===r||"oblique"===r,"expecting a font style keyword such as 'normal', 'italic' or 'oblique'"),mp=St((r,t)=>Jn(r,t,v2),"expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'"),m2=St(r=>g2.includes(r),"expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),yp=St((r,t)=>Jn(r,t,m2),"expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),y2=St(zd(void 0,$e(0)),"expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),hm=St((r,t)=>Jn(r,t,y2),"expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),C2=["butt","round","square"],lF=St(r=>C2.includes(r),"expecting a line cap keyword such as 'butt', 'round' or 'square'"),_2=(St((r,t)=>Jn(r,t,lF),"expecting an optional line cap keyword such as 'butt', 'round' or 'square'"),["round","bevel","miter"]),w2=St(r=>_2.includes(r),"expecting a line join keyword such as 'round', 'bevel' or 'miter'"),S2=(St((r,t)=>Jn(r,t,w2),"expecting an optional line join keyword such as 'round', 'bevel' or 'miter'"),["top","right","bottom","left"]),NG=St(r=>S2.includes(r),"expecting a position keyword such as 'top', 'right', 'bottom' or 'left"),E2=["exact","nearest"],kG=St(r=>"number"==typeof r&&Number.isFinite(r)||E2.includes(r),"expecting an interaction range of 'exact', 'nearest' or a number"),D2=["never","always","hyphenate","on-space"],uF=St(r=>D2.includes(r),"expecting a text wrap strategy keyword such as 'never', 'always', 'hyphenate', 'on-space'");var mi=function(r){return r[r.SERIES_BACKGROUND_ZINDEX=-10]="SERIES_BACKGROUND_ZINDEX",r[r.AXIS_GRID_ZINDEX=0]="AXIS_GRID_ZINDEX",r[r.AXIS_ZINDEX=20]="AXIS_ZINDEX",r[r.SERIES_CROSSLINE_RANGE_ZINDEX=30]="SERIES_CROSSLINE_RANGE_ZINDEX",r[r.SERIES_LAYER_ZINDEX=500]="SERIES_LAYER_ZINDEX",r[r.SERIES_CROSSHAIR_ZINDEX=1e3]="SERIES_CROSSHAIR_ZINDEX",r[r.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",r[r.SERIES_CROSSLINE_LINE_ZINDEX=2500]="SERIES_CROSSLINE_LINE_ZINDEX",r[r.LEGEND_ZINDEX=3e3]="LEGEND_ZINDEX",r}(mi||{}),Qe=function(r){return r.X="x",r.Y="y",r}(Qe||{});class cF{constructor(t){this.type=t,this.continuousDomain=[1/0,-1/0],this.discreteDomain=new Set}extend(t){"discrete"===this.type?this.discreteDomain.add(t):"continuous"===this.type&&(this.continuousDomain[0]>t&&(this.continuousDomain[0]=t),this.continuousDomain[1]<t&&(this.continuousDomain[1]=t))}getDomain(){if("discrete"===this.type)return this.discreteDomain;if("continuous"===this.type)return this.continuousDomain;throw new Error("AG Charts - Unsupported data domain type: "+this.type)}}function JO(r,t=[1/0,-1/0]){for(const e of r)"number"==typeof e&&(e<t[0]&&(t[0]=e),e>t[1]&&(t[1]=e));return t}function b2(r){return r.map(t=>null==t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t?t:"object"==typeof t?JSON.stringify(t):t).join("-")}function O2(r){return Number.isInteger(r)?r:Math.abs(r)>1e4?Math.trunc(r):Math.round(1e4*r)/1e4}function eR(r){if(void 0===r)return[];let[t,e]=r;return t=+t,e=+e,0===t&&0===e?[0,1]:t===1/0&&e===-1/0?[]:(t===1/0&&(t=0),e===-1/0&&(e=0),Fs(t)&&Fs(e)?[t,e]:[])}const fm=Symbol("invalid");let R2=(()=>{class r{constructor(e){const{props:n}=e;let i=!0;for(const c of n){if("key"===c.type&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===c.type&&i&&(i=!1)}this.opts=Object.assign({dataVisible:!0},e),this.keys=n.filter(c=>"key"===c.type).map((c,h)=>Object.assign(Object.assign({},c),{index:h,missing:0})),this.values=n.filter(c=>"value"===c.type).map((c,h)=>Object.assign(Object.assign({},c),{index:h,missing:0})),this.aggregates=n.filter(c=>"aggregate"===c.type).map((c,h)=>Object.assign(Object.assign({},c),{index:h})),this.groupProcessors=n.filter(c=>"group-value-processor"===c.type).map((c,h)=>Object.assign(Object.assign({},c),{index:h})),this.propertyProcessors=n.filter(c=>"property-value-processor"===c.type).map((c,h)=>Object.assign(Object.assign({},c),{index:h})),this.reducers=n.filter(c=>"reducer"===c.type).map((c,h)=>Object.assign(Object.assign({},c),{index:h})),this.processors=n.filter(c=>"processor"===c.type).map((c,h)=>Object.assign(Object.assign({},c),{index:h}));for(const c of this.values)if(null==c.property)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(c)}`);const o=({matchGroupIds:c})=>{for(const h of c??[])if(!this.values.some(p=>p.groupId===h))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${h}).`)},s=({matchScopes:c})=>{for(const h of c??[])if(!this.values.some(p=>{var g;return null===(g=p.scopes)||void 0===g?void 0:g.includes(h)}))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${h}).`)},a=({matchIds:c})=>{for(const h of c??[])if(!this.values.some(p=>p.id===h))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${h}).`)};for(const c of[...this.groupProcessors,...this.aggregates])a(c),o(c),s(c)}resolveProcessedDataIndexById(e,n,i="value"){var o;const{index:s,def:a}=null!==(o=this.resolveProcessedDataDefById(e,n,i))&&void 0!==o?o:{};return{type:i,index:s,def:a}}resolveProcessedDataIndicesById(e,n,i="value"){return this.resolveProcessedDataDefsById(e,n,i).map(({index:o,def:s})=>({type:i,index:o,def:s}))}resolveProcessedDataDefById(e,n,i="value"){return this.resolveProcessedDataDefsById(e,n,i)[0]}resolveProcessedDataDefsById(e,n,i="value"){const{keys:o,values:s,aggregates:a,groupProcessors:c,reducers:h}=this,p=({id:_,scopes:w})=>!(null==_||null!=e&&!w?.includes(e.id))&&("string"==typeof n?_===n:n.test(_)),g=[o,s,a,c,h],m=[];for(const _ of g)m.push(..._.filter(p).map(w=>({index:w.index,def:w})));if(m.length>0)return m;throw new Error(`AG Charts - didn't find property definition for [${n}, ${e.id}, ${i}]`)}getDomain(e,n,i="value",o){var s,a,c,h;let p,g;try{p=this.resolveProcessedDataIndicesById(e,n,i)}catch(w){if("string"!=typeof n&&/didn't find property definition/.test(w.message))return[];throw w}switch(i){case"key":g="keys";break;case"value":g="values";break;case"aggregate":g="aggValues";break;case"group-value-processor":g="groups";break;default:return[]}const m=null!==(a=null===(s=o.domain[g])||void 0===s?void 0:s[p[0].index])&&void 0!==a?a:[];if(1===p.length)return m;const _=[...m];for(const w of p.slice(1))JO(null!==(h=null===(c=o.domain[g])||void 0===c?void 0:c[w.index])&&void 0!==h?h:[],_);return _}processData(e){const{opts:{groupByKeys:n,groupByFn:i},aggregates:o,groupProcessors:s,reducers:a,processors:c,propertyProcessors:h}=this,p=performance.now();for(const _ of[...this.keys,...this.values])_.missing=0;if(n&&0===this.keys.length)return;let g=this.extractData(e);n?g=this.groupData(g):i&&(g=this.groupData(g,i(g))),s.length>0&&this.postProcessGroups(g),o.length>0&&this.aggregateData(g),h.length>0&&this.postProcessProperties(g),a.length>0&&this.reduceData(g),c.length>0&&this.postProcessData(g);for(const _ of[...this.keys,...this.values])e.length>0&&_.missing>=e.length&&at.warnOnce(`the key '${_.property}' was not found in any data element.`);const m=performance.now();return g.time=m-p,r.DEBUG()&&function T2(r){var t,e;const n=(i,o)=>{o.length>0&&(console.log(`DataModel.processData() - ${i}`),console.table(o))};if(console.log("DataModel.processData() - processedData",r),n("Key Domains",r.domain.keys),n("Group Domains",null!==(t=r.domain.groups)&&void 0!==t?t:[]),n("Value Domains",r.domain.values),n("Aggregate Domains",null!==(e=r.domain.aggValues)&&void 0!==e?e:[]),"grouped"===r.type){const i=r.data.reduce((o,s)=>{var a,c;const h=null!==(a=s.keys)&&void 0!==a?a:[],p=null!==(c=s.aggValues)&&void 0!==c?c:[],g=s.keys.map(()=>{}),m=p?.map(()=>{});return o.push(...s.values.map((_,w)=>[...0===w?h:g,..._??[],...0==w?p:m])),o},[]);n("Values",i)}else{const i=r.data.reduce((o,s)=>{var a;const c=null!==(a=s.aggValues)&&void 0!==a?a:[];return o.push([...s.keys,...s.values,...c]),o},[]);n("Values",i)}}(g),g}valueGroupIdxLookup({matchGroupIds:e,matchIds:n,matchScopes:i}){return this.values.map((o,s)=>({def:o,index:s})).filter(({def:o})=>!(e&&(null==o.groupId||!e.includes(o.groupId))||n&&(null==o.id||!n.includes(o.id))||i&&(null==o.scopes||!i.some(s=>{var a;return null===(a=o.scopes)||void 0===a?void 0:a.includes(s)})))).map(({index:o})=>o)}valueIdxLookup(e,n){let i;const o=null==e||0===e.length,s=a=>null==a||(o===(null==a||0===a.length)||a?.some(p=>e.includes(p)));if(i=this.values.findIndex("string"==typeof n?a=>s(a.scopes)&&a.property===n:a=>s(a.scopes)&&a.id===n.id),i>=0)return i;throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(n)} in scope(s) ${JSON.stringify(e)}`)}extractData(e){var n;const{keys:i,values:o,opts:{dataVisible:s}}=this,{dataDomain:a,processValue:c,scopes:h,allScopesHaveSameDefs:p}=this.initDataDomainProcessor(),g=new Array(s?e.length:0);let m=0,_=0;for(const E of e){const b=h.size>0?new Set(h):void 0,R=s?new Array(i.length):void 0;let A,T=0;for(const V of i){if(A=c(V,E,A),A===fm)break;R&&(R[T++]=A)}if(A===fm)continue;const x=s&&o.length>0?new Array(o.length):void 0;let k,P=0;for(const V of o)if(k=c(V,E,k),k===fm){if(p)break;for(const H of null!==(n=V.scopes)&&void 0!==n?n:h)b?.delete(H);if(P++,0===b?.size)break}else x&&(x[P++]=k);if((k!==fm||!p)&&0!==b?.size&&s){const V={datum:E,keys:R,values:x};!p&&b&&b.size<h.size&&(_++,V.validScopes=[...b]),g[m++]=V}}g.length=m;const w=E=>{const b=a.get(E).getDomain();return Array.isArray(b)&&b[0]>b[1]?[]:[...b]};return{type:"ungrouped",data:g,domain:{keys:i.map(E=>w(E)),values:o.map(E=>w(E))},defs:{allScopesHaveSameDefs:p,keys:i,values:o},partialValidDataCount:_,time:0}}groupData(e,n){var i,o,s,a;const c=new Map;for(const m of e.data){const{keys:_,values:w,datum:E,validScopes:b}=m,R=n?n(m):_,T=b2(R);if(c.has(T)){const A=c.get(T);if(A.values.push(w),A.datum.push(E),null!=b)for(let x=0;x<(null!==(o=null===(i=A.validScopes)||void 0===i?void 0:i.length)&&void 0!==o?o:0);x++){const P=null===(s=A.validScopes)||void 0===s?void 0:s[x];b.some(k=>k===P)||null===(a=A.validScopes)||void 0===a||a.splice(x,1)}}else c.set(T,{keys:R,values:[w],datum:[E],validScopes:b})}const h=new Array(c.size),p=new Array(c.size);let g=0;for(const[,{keys:m,values:_,datum:w,validScopes:E}]of c.entries())0!==E?.length&&(p[g]=m,h[g++]={keys:m,values:_,datum:w,validScopes:E});return Object.assign(Object.assign({},e),{type:"grouped",data:h,domain:Object.assign(Object.assign({},e.domain),{groups:p})})}aggregateData(e){var n,i,o,s,a,c,h,p;const{aggregates:g}=this;if(!g)return;const m=g.map(()=>[1/0,-1/0]),_=g.map(R=>this.valueGroupIdxLookup(R)),w=g.map(R=>R.aggregateFunction),E=g.map(R=>R.groupAggregateFunction),b=g.map(R=>R.finalFunction);for(const R of e.data){let{values:T}=R;const{validScopes:A}=R;null!==(n=R.aggValues)&&void 0!==n||(R.aggValues=new Array(_.length)),"ungrouped"===e.type&&(T=[T]);let x=0;for(const P of _){if(null!==(i=A?.some(U=>{var W;return null===(W=g[x].matchScopes)||void 0===W?void 0:W.some(re=>U===re)}))&&void 0!==i&&!i){x++;continue}let V=null!==(s=null===(o=E[x])||void 0===o?void 0:o.call(E))&&void 0!==s?s:JO([]);for(const U of T){const W=P.map(ne=>U[ne]),re=w[x](W,R.keys);re&&(V=null!==(c=null===(a=E[x])||void 0===a?void 0:a.call(E,re,V))&&void 0!==c?c:JO(re,V))}const H=(null!==(p=null===(h=b[x])||void 0===h?void 0:h.call(b,V))&&void 0!==p?p:V).map(U=>O2(U));JO(H,m[x]),R.aggValues[x++]=H}}e.domain.aggValues=m}postProcessGroups(e){var n,i,o,s,a;const{groupProcessors:c}=this;if(!c)return;const h=new Set,p=new Map,g=new Map,m=new Map;for(const w of c){const E=this.valueGroupIdxLookup(w);g.set(w,E),m.set(w,w.adjust());for(const b of E){const R=this.values[b];h.add(b),p.set(b,new cF("category"===R.valueType?"discrete":"continuous"))}}const _=w=>{var E;for(const b of h)null===(E=p.get(b))||void 0===E||E.extend(w[b])};for(const w of e.data){for(const E of c){if(null!==(i=null===(n=w.validScopes)||void 0===n?void 0:n.some(A=>{var x;return null===(x=E.matchScopes)||void 0===x?void 0:x.some(P=>A===P)}))&&void 0!==i&&!i)continue;const R=null!==(o=g.get(E))&&void 0!==o?o:[],T=null!==(a=null===(s=m.get(E))||void 0===s?void 0:s())&&void 0!==a?a:()=>{};if("grouped"!==e.type)w.values&&T(w.values,R);else for(const A of w.values)A&&T(A,R)}if("grouped"===e.type)for(const E of w.values)_(E);else _(w.values)}for(const[w,E]of p)e.domain.values[w]=[...E.getDomain()]}postProcessProperties(e){const{propertyProcessors:n}=this;if(n)for(const{adjust:i,property:o,scopes:s}of n)i()(e,this.valueIdxLookup(s??[],o))}reduceData(e){var n,i,o;const{reducers:s}=this,a=s.map(p=>p.scopes),c=s.map(p=>p.reducer()),h=s.map(p=>p.initialValue);for(const p of e.data){let g=0;for(const m of c)null===(i=null===(n=p.validScopes)||void 0===n?void 0:n.some(w=>{var E;return null===(E=a[g])||void 0===E?void 0:E.some(b=>w===b)}))||void 0===i||i?(h[g]=m(h[g],p),g++):g++}for(let p=0;p<h.length;p++)null!==(o=e.reduced)&&void 0!==o||(e.reduced={}),e.reduced[s[p].property]=h[p]}postProcessData(e){var n;const{processors:i}=this;for(const o of i)null!==(n=e.reduced)&&void 0!==n||(e.reduced={}),e.reduced[o.property]=o.calculate(e)}initDataDomainProcessor(){var e;const{keys:n,values:i}=this,o=new Set;for(const w of i)for(const E of null!==(e=w.scopes)&&void 0!==e?e:[])o.add(E);const s=o.size,a=new Map,c=new Map;let h=!0;const p=(w,E,b=a)=>{var R;"category"===E?b.set(w,new cF("discrete")):(b.set(w,new cF("continuous")),h&&(h=(null!==(R=w.scopes)&&void 0!==R?R:[]).length===s))},g=()=>{n.forEach(w=>p(w,w.valueType)),i.forEach(w=>p(w,w.valueType))};g();const m=this.buildAccessors(...n,...i);return{dataDomain:a,processValue:(w,E,b)=>{var R,T,A,x;let V,k=!1;if(w.property in m){try{V=m[w.property](E)}catch{}k=void 0!==V}else k=w.property in E,V=k?E[w.property]:w.missingValue;if(!k&&!("missingValue"in w)&&w.missing++,a.has(w)||g(),k&&null!==(T=null===(R=w.validation)||void 0===R?void 0:R.call(w,V,E))&&void 0!==T&&!T){if(!("invalidValue"in w))return fm;V=w.invalidValue}return w.processor&&(c.has(w)||c.set(w,w.processor()),V=null===(A=c.get(w))||void 0===A?void 0:A(V,b!==fm?b:void 0)),null===(x=a.get(w))||void 0===x||x.extend(V),V},initDataDomain:g,scopes:o,allScopesHaveSameDefs:h}}buildAccessors(...e){const n={};for(const i of e){if(!(i.property.indexOf(".")>=0||i.property.indexOf("[")>=0))continue;let s;s=i.property.startsWith("[")?`return datum${i.property};`:`return datum.${i.property};`,n[i.property]=new Function("datum",s)}return n}}return r.DEBUG=()=>{var t;return null!==(t=[!0,"data-model"].includes(ua("agChartsDebug")))&&void 0!==t&&t},r})();function GG(){return(r,t)=>{const e=[`Property [${r}] is deprecated.`,t].filter(n=>null!=n).join(" ");at.warnOnce(e)}}var Hu=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};const no="ag-chart-tooltip",M2=`\n.${no} {\n    transition: transform 0.1s ease;\n    display: table;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.${no}-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n.${no}-no-animation {\n    transition: none !important;\n}\n\n.${no}-hidden {\n    visibility: hidden;\n}\n\n.${no}-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.${no}-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.${no}-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.${no}-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.${no}-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n`;function ur(r,t){var e,n,i,o;if("string"==typeof r)return r;t=t??{};const{content:s=(null!==(e=t.content)&&void 0!==e?e:""),title:a=(null!==(n=t.title)&&void 0!==n?n:void 0),color:c=(null!==(i=t.color)&&void 0!==i?i:"white"),backgroundColor:h=(null!==(o=t.backgroundColor)&&void 0!==o?o:"#888")}=r;return`${a?`<div class="${no}-title"\n        style="color: ${c}; background-color: ${h}">${a}</div>`:""}<div class="${no}-content">${s}</div>`}const P2=["pointer","node"],I2=St(r=>P2.includes(r),"expecting a position type keyword such as 'pointer' or 'node'");class Rw{constructor(){this.type="pointer",this.xOffset=0,this.yOffset=0}}Hu([G(I2)],Rw.prototype,"type",void 0),Hu([G($e())],Rw.prototype,"xOffset",void 0),Hu([G($e())],Rw.prototype,"yOffset",void 0);class ha{constructor(t,e,n){this.enableInteraction=!1,this.enabled=!0,this.showArrow=void 0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.position=new Rw,this.showTimeout=0,this._showArrow=!0,this.tooltipRoot=n;const i=e.createElement("div");if(this.element=this.tooltipRoot.appendChild(i),this.element.classList.add(no),this.canvasElement=t,window.IntersectionObserver){const o=new IntersectionObserver(s=>{for(const a of s)a.target===this.canvasElement&&0===a.intersectionRatio&&this.toggle(!1)},{root:this.tooltipRoot});o.observe(this.canvasElement),this.observer=o}if(ha.tooltipDocuments.indexOf(e)<0){const o=e.createElement("style");o.innerHTML=M2,e.head.insertBefore(o,e.head.querySelector("style")),ha.tooltipDocuments.push(e)}}destroy(){const{parentNode:t}=this.element;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)}isVisible(){const{element:t}=this;return!t.classList.contains(no+"-hidden")}updateClass(t,e){const{element:n,class:i,lastClass:o,enableInteraction:s}=this,c=(h,p)=>{const g=`${no}-${h}`;p?n.classList.add(g):n.classList.remove(g)};c("no-animation",!this.isVisible()&&!!t),c("no-interaction",!s),c("hidden",!t),c("arrow",!!e),i!==o&&(o&&n.classList.remove(o),i&&n.classList.add(i),this.lastClass=i)}show(t,e,n=!1){var i,o,s,a,c,h,p;const{element:g,canvasElement:m}=this;if(void 0!==e)g.innerHTML=e;else if(!g.innerHTML)return void this.toggle(!1);const _=(re,ne,Ce)=>Math.max(Math.min(ne,Ce),re),w=null!==(o=null===(i=t.position)||void 0===i?void 0:i.xOffset)&&void 0!==o?o:0,E=null!==(a=null===(s=t.position)||void 0===s?void 0:s.yOffset)&&void 0!==a?a:0,b=m.getBoundingClientRect(),R=b.left+t.offsetX-g.clientWidth/2+w,T=b.top+t.offsetY-g.clientHeight-8+E,A=this.getWindowBoundingBox(),P=A.y+A.height-g.clientHeight,k=_(A.x,R,A.x+A.width-g.clientWidth-1),V=_(A.y,T,P),W=null!==(h=null!==(c=t.showArrow)&&void 0!==c?c:this.showArrow)&&void 0!==h?h:!(k!==R||V!==T||w||E);if(this.updateShowArrow(W),g.style.transform=`translate(${Math.round(k)}px, ${Math.round(V)}px)`,this.enableInteraction=null!==(p=t.enableInteraction)&&void 0!==p&&p,this.delay>0&&!n)return this.toggle(!1),void(this.showTimeout=window.setTimeout(()=>{this.toggle(!0)},this.delay));this.toggle(!0)}getWindowBoundingBox(){return new un(0,0,window.innerWidth,window.innerHeight)}toggle(t){t||window.clearTimeout(this.showTimeout),this.updateClass(t,this._showArrow)}pointerLeftOntoTooltip(t){var e;if(!this.enableInteraction)return!1;const n=null===(e=t.sourceEvent.relatedTarget)||void 0===e?void 0:e.classList,o=!!["","-title","-content"].filter(s=>n?.contains(`${no}${s}`));return void 0!==n&&o}updateShowArrow(t){this._showArrow=t}}function tR(r,t=[0,0]){for(const e of r)"number"==typeof e&&(e<0&&(t[0]+=e),e>0&&(t[1]+=e));return t}function VG(r,t){return{id:t,scopes:[r.id],type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(e,n=[0,0])=>{var i,o;return n[0]+=null!==(i=e?.[0])&&void 0!==i?i:0,n[1]+=null!==(o=e?.[1])&&void 0!==o?o:0,n}}}function HG(r,t,e,n){const i={id:t,scopes:[r.id],matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:(o,s=[])=>{const a=s[1]-s[0];return e.aggregateFunction(o).map(c=>c/a)}};return e.groupAggregateFunction&&(i.groupAggregateFunction=e.groupAggregateFunction),i}ha.tooltipDocuments=[],Hu([G(Mn)],ha.prototype,"enabled",void 0),Hu([G(wl)],ha.prototype,"showArrow",void 0),Hu([G(Mt)],ha.prototype,"class",void 0),Hu([G($e(0))],ha.prototype,"delay",void 0),Hu([function x2(r,t){const e=GG();return dm((n,i,o)=>(o!==n[r]&&(e(i.toString(),`Use [${r}] instead.`),n[r]=t?t(o):o),qO),(n,i)=>(e(i.toString(),`Use [${r}] instead.`),n[r]))}("range",r=>r?"nearest":"exact")],ha.prototype,"tracking",void 0),Hu([G(kG)],ha.prototype,"range",void 0);const Tw=new Map;function nR(r,t){var e,n,i;const o=JSON.stringify(r,null,0);return Tw.has(t)||Tw.set(t,new Map),!(null===(e=Tw.get(t))||void 0===e)&&e.has(o)||null===(n=Tw.get(t))||void 0===n||n.set(o,t(r)),null===(i=Tw.get(t))||void 0===i?void 0:i.get(o)}const dF={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let r=NaN;return(t,e)=>{const n=e.keys[0],i=Math.abs(n-r);return r=n,!isNaN(i)&&i>0&&i<t?i:t}}},k2={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:r}})=>{if(null!=r)return[...r].sort((t,e)=>{for(let n=0;n<t.length;n++){const i=t[n]-e[n];if(0!==i)return i}return 0})}};function G2({normaliseTo:r,mode:t}){const e=(n,i)=>{const o=n*r/i;return o>=0?Math.min(r,o):Math.max(-r,o)};return()=>()=>(n,i)=>{const o=[0,0];for(const a of i){const c=n[a],h=c<0?0:1;"sum"===t?o[h]+=c:o[h]=0===h?Math.min(o[h],c):Math.max(o[h],c)}const s=Math.max(Math.abs(o[0]),o[1]);for(const a of i)n[a]=e(n[a],s)}}function hF(r,t,e,n="sum"){return{scopes:[r.id],type:"group-value-processor",matchGroupIds:t,adjust:nR({normaliseTo:e,mode:n},G2)}}function V2({normaliseTo:r,rangeMin:t,rangeMax:e}){const n=r[1]-r[0],i=(o,s,a)=>{const c=r[0]+(o-s)/a*n;return 0===a||c>=r[1]?r[1]:c<r[0]?r[0]:c};return()=>(o,s)=>{let[a,c]=o.domain.values[s];null!=t&&(a=t),null!=e&&(c=e);const h=c-a;o.domain.values[s]=[r[0],r[1]];for(const p of o.data){let g=p.values;"ungrouped"===o.type&&(g=[g]);for(const m of g)m[s]=i(m[s],a,h)}}}function BG(r,t,e,n,i){return{scopes:[r.id],type:"property-value-processor",property:t,adjust:nR({normaliseTo:e,rangeMin:n,rangeMax:i},V2)}}function H2(r){return()=>()=>(t,e)=>{let n=0;for(const i of e){const o=t[i];"number"!=typeof o||isNaN(o)||("normal"===r&&(n+=o),t[i]=n,"trailing"===r&&(n+=o))}}}function B2({mode:r,sum:t}){return()=>{const e=[];let n=!0;return()=>(i,o)=>{let s=0;for(const a of o){const c=i[a],h=n&&"current"===t?0:e[a];e[a]=c;const p="current"===t?c:h;"number"!=typeof c||isNaN(c)||"number"!=typeof h||isNaN(h)?i[a]=p:("normal"===r&&(s+=p),i[a]=s,"trailing"===r&&(s+=p))}n=!1}}}function j2(r,t,e,n){let i;return i=e.startsWith("window")?nR({mode:e.endsWith("-trailing")?"trailing":"normal",sum:n},B2):nR(e,H2),{scopes:[r.id],type:"group-value-processor",matchGroupIds:[t],adjust:i}}function jG(r,t=!0){return{type:"processor",property:"diff",calculate:e=>{const n={changed:!1,added:[],updated:[],removed:[]},i=new Map,o=new Map,s=new Map;for(let c=0;c<Math.max(r.data.length,e.data.length);c++){const h=r.data[c],p=e.data[c],g=h?.keys.join("___"),m=p?.keys.join("___");g!==m?(s.has(m)?((t||!iR(s.get(m).values,p.values))&&o.set(m,p),s.delete(m)):p&&i.set(m,p),i.has(g)?((t||!iR(i.get(g).values,h.values))&&o.set(g,h),i.delete(g)):h&&s.set(g,h)):iR(h.values,p.values)||o.set(m,p)}return n.added=Array.from(i.values()).map(c=>c.keys),n.updated=Array.from(o.values()).map(c=>c.keys),n.removed=Array.from(s.values()).map(c=>c.keys),n.changed=n.added.length>0||n.updated.length>0||n.removed.length>0,n}}}function iR(r,t){if(null==r||null==t||r.length!==t.length)return!1;for(let e=0;e<r.length;e++){if(Array.isArray(r[e])&&Array.isArray(t[e]))return iR(r[e],t[e]);if(r[e]!==t[e])return!1}return!0}function Fi(r,t){return dm((e,n,i)=>(e[r][t??n]=i,i))}function Sl(r){const{newValue:t,oldValue:e,changeValue:n}=r;return dm((i,o,s,a)=>(s!==a&&(void 0!==a&&e?.call(i,a),void 0!==s&&t?.call(i,s),n?.call(i,s,a)),s))}var cr=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ui=function(r){return r[r.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",r[r.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",r[r.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",r[r.NEAREST_NODE=3]="NEAREST_NODE",r}(Ui||{});function fF(r){return null!=YO(r,!0)}function UG(r){return null!=YO(r,!1)}function pF(r,t,e,n={}){return Object.assign({scopes:[r.id],property:t,type:"key",valueType:e?"range":"category",validation:e?fF:UG},n)}function Wi(r,t,e,n={}){return Object.assign({scopes:[r.id],property:t,type:"value",valueType:e?"range":"category",validation:e?fF:UG},n)}function z2(r,t,e,n={}){return Object.assign(Object.assign({},Wi(r,t,e,n)),{processor:()=>{let r=0;return t=>"number"!=typeof t||isNaN(t)?t:(r+=t,r)}})}function Cp(r,t,e,n,i="current",o){return[Wi(r,t,e,o),j2(r,o.groupId,n,i)]}class Aw{constructor(t,e,n){this.type="nodeClick",this.event=t,this.datum=e.datum,this.seriesId=n.id}}class $2 extends Aw{}class K2 extends Aw{constructor(){super(...arguments),this.type="nodeDoubleClick"}}class xw{constructor(){this.fill="yellow",this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0}}cr([G(Un)],xw.prototype,"fill",void 0),cr([G(yn(0,1))],xw.prototype,"fillOpacity",void 0),cr([G(Un)],xw.prototype,"stroke",void 0),cr([G(yn(0))],xw.prototype,"strokeWidth",void 0);class rR{constructor(){this.strokeWidth=void 0,this.dimOpacity=void 0,this.enabled=void 0}}cr([G(yn(0))],rR.prototype,"strokeWidth",void 0),cr([G(yn(0,1))],rR.prototype,"dimOpacity",void 0),cr([G(wl)],rR.prototype,"enabled",void 0);class WG{constructor(){this.color="black"}}cr([G(Un)],WG.prototype,"color",void 0);class gF{constructor(){this.item=new xw,this.series=new rR,this.text=new WG}}class Bu{constructor(){this.enabled=!0,this.showArrow=void 0,this.interaction=new zG,this.position=new Rw}}cr([G(Mn)],Bu.prototype,"enabled",void 0),cr([G(wl)],Bu.prototype,"showArrow",void 0);class zG{constructor(){this.enabled=!1}}cr([G(Mn)],zG.prototype,"enabled",void 0);class fa extends TG{constructor(t){super(),this.id=Wd(this),this.rootGroup=new Ht({name:"seriesRoot",isVirtual:!0}),this.axes={[Qe.X]:void 0,[Qe.Y]:void 0},this.directions=[Qe.X,Qe.Y],this.nodeDataRefresh=!0,this._data=void 0,this._visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.seriesGrouping=void 0,this._declarationOrder=-1,this.highlightStyle=new gF,this.ctx=t.moduleCtx;const{useLabelLayer:e=!1,pickModes:n=[Ui.NEAREST_BY_MAIN_AXIS_FIRST],directionKeys:i={},directionNames:o={},contentGroupVirtual:s=!0}=t,{rootGroup:a}=this;this.directionKeys=i,this.directionNames=o,this.contentGroup=a.appendChild(new Ht({name:`${this.id}-content`,layer:!s,isVirtual:s,zIndex:mi.SERIES_LAYER_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=a.appendChild(new Ht({name:`${this.id}-highlight`,layer:!0,zIndex:mi.SERIES_LAYER_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")})),this.highlightNode=this.highlightGroup.appendChild(new Ht({name:"highlightNode"})),this.highlightLabel=this.highlightGroup.appendChild(new Ht({name:"highlightLabel"})),this.highlightNode.zIndex=0,this.highlightLabel.zIndex=10,this.pickModes=n,e&&(this.labelGroup=a.appendChild(new Ht({name:`${this.id}-series-labels`,layer:!0,zIndex:mi.SERIES_LABEL_ZINDEX})))}get type(){var t;return null!==(t=this.constructor.type)&&void 0!==t?t:""}set data(t){this._data=t,this.nodeDataRefresh=!0}get data(){return this._data}hasData(){const{data:t}=this;return t&&(!Array.isArray(t)||t.length>0)}set visible(t){this._visible=t,this.visibleChanged()}get visible(){return this._visible}onSeriesGroupingChange(t,e){const{id:n,type:i,visible:o,rootGroup:s}=this;t&&this.ctx.seriesStateManager.deregisterSeries({id:n,type:i}),e&&this.ctx.seriesStateManager.registerSeries({id:n,type:i,visible:o,seriesGrouping:e}),this.ctx.seriesLayerManager.changeGroup({id:n,type:i,rootGroup:s,getGroupZIndexSubOrder:a=>this.getGroupZIndexSubOrder(a),seriesGrouping:e,oldGrouping:t})}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(t,e=0){let n=0;switch(t){case"data":case"paths":break;case"labels":n+=2e4;break;case"marker":n+=1e4;break;case"highlight":e+=15e3}return[()=>this._declarationOrder+n,e]}addChartEventListeners(){}destroy(){this.ctx.seriesStateManager.deregisterSeries(this),this.ctx.seriesLayerManager.releaseGroup(this)}getDirectionValues(t,e){const n=this.resolveKeyDirection(t),i=e?.[n],o=[],s=(...c)=>{for(const h of c)a(h)},a=c=>{Array.isArray(c)?s(...c):"object"==typeof c?s(Object.values(c)):o.push(c)};return i&&i.forEach(c=>{a(this[c])}),o}getKeys(t){return this.getDirectionValues(t,this.directionKeys)}getNames(t){return this.getDirectionValues(t,this.directionNames)}resolveKeyDirection(t){return t}markNodeDataDirty(){this.nodeDataRefresh=!0}visibleChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(t){const{highlightStyle:{series:{dimOpacity:e=1,enabled:n=!0}}}=this;if(!1===n||1===e)return 1;switch(this.isItemIdHighlighted(t)){case"no-highlight":case"highlighted":return 1;case"peer-highlighted":case"other-highlighted":return e}}getStrokeWidth(t,e){const{highlightStyle:{series:{strokeWidth:n,enabled:i=!0}}}=this;if(!1===i||void 0===n)return t;switch(this.isItemIdHighlighted(e)){case"highlighted":return n;case"no-highlight":case"other-highlighted":case"peer-highlighted":return t}}isItemIdHighlighted(t){var e;const n=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),{series:i,itemId:o}=n??{};return null!=i?i!==this?"other-highlighted":void 0===o?"highlighted":t&&n!==t&&o!==t.itemId?"peer-highlighted":"highlighted":"no-highlight"}pickNode(t,e){const{pickModes:n,visible:i,rootGroup:o}=this;if(i&&o.visible)for(const s of n){if(e&&!e.includes(s))continue;let a;switch(s){case Ui.EXACT_SHAPE_MATCH:a=this.pickNodeExactShape(t);break;case Ui.NEAREST_BY_MAIN_AXIS_FIRST:case Ui.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:a=this.pickNodeMainAxisFirst(t,s===Ui.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);break;case Ui.NEAREST_NODE:a=this.pickNodeClosestDatum(t)}if(a)return{pickMode:s,match:a.datum,distance:a.distance}}}pickNodeExactShape(t){const e=this.contentGroup.pickNode(t.x,t.y);if(e)return{datum:e.datum,distance:0}}pickNodeClosestDatum(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeMainAxisFirst(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(t,e){const n=this.getNodeClickEvent(t,e);this.fireEvent(n)}fireNodeDoubleClickEvent(t,e){const n=this.getNodeDoubleClickEvent(t,e);this.fireEvent(n)}getNodeClickEvent(t,e){return new $2(t,e,this)}getNodeDoubleClickEvent(t,e){return new K2(t,e,this)}toggleSeriesItem(t,e){this.visible=e,this.nodeDataRefresh=!0}isEnabled(){return this.visible}fixNumericExtent(t,e){var n;const i=eR(t);if(0===i.length)return i;let[o,s]=i;if(o===s){const[a,c]=null!==(n=e?.calculatePadding(o,s))&&void 0!==n?n:[1,1];o-=a,s+=c}return[o,s]}}fa.highlightedZIndex=1e12,cr([G(lr)],fa.prototype,"id",void 0),cr([G(Mn)],fa.prototype,"_visible",void 0),cr([G(Mn)],fa.prototype,"showInLegend",void 0),cr([G(lr)],fa.prototype,"cursor",void 0),cr([G(kG)],fa.prototype,"nodeClickRange",void 0),cr([Sl({changeValue:function(r,t){this.onSeriesGroupingChange(t,r)}})],fa.prototype,"seriesGrouping",void 0);var oR=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class _p{constructor(t=0,e=t,n=t,i=e){this.top=t,this.right=e,this.bottom=n,this.left=i}clear(){this.top=this.right=this.bottom=this.left=0}}oR([G($e(0))],_p.prototype,"top",void 0),oR([G($e(0))],_p.prototype,"right",void 0),oR([G($e(0))],_p.prototype,"bottom",void 0),oR([G($e(0))],_p.prototype,"left",void 0);class sR{static init(){const t=window.ResizeObserver;t?this.resizeObserver=new t(e=>{for(const n of e){const{width:i,height:o}=n.contentRect;this.checkSize(this.elements.get(n.target),n.target,i,o)}}):this.pollerHandler=window.setInterval(()=>{this.elements.forEach((n,i)=>{this.checkClientSize(i,n)})},100),this.ready=!0}static destroy(){var t;null!=this.pollerHandler&&(clearInterval(this.pollerHandler),this.pollerHandler=void 0),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.resizeObserver=void 0,this.ready=!1}static checkSize(t,e,n,i){t&&(!t.size||n!==t.size.width||i!==t.size.height)&&(t.size={width:n,height:i},t.cb(t.size,e))}static observe(t,e){this.ready||this.init(),this.unobserve(t,!1),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e}),this.checkClientSize(t,{cb:e})}static unobserve(t,e=!0){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t),e&&0===this.elements.size&&this.destroy()}static checkClientSize(t,e){this.checkSize(e,t,t.clientWidth?t.clientWidth:0,t.clientHeight?t.clientHeight:0)}}function Y2(r,t,e,n,i){let o=r.x;r.x<t?o=t:r.x>t+n&&(o=t+n);let s=r.y;r.y<e?s=e:r.y>e+i&&(s=e+i);const a=r.x-o,c=r.y-s;return Math.sqrt(a*a+c*c)<=.5*r.size}function $G(r,t,e,n,i){return r.x+r.width>t&&r.x<t+n&&r.y+r.height>e&&r.y<e+i}function q2(r,t,e,n,i){return t+n<r.x+r.width&&t>r.x&&e>r.y&&e+i<r.y+r.height}function X2(r){return null!=r&&"object"==typeof r.point&&"object"==typeof r.label}sR.elements=new Map,sR.ready=!1;function KG(r,t){let i,o,e=0,n=!1;const s=()=>n,a=()=>{n=!1,o?.(),o=void 0,i=void 0,e>0&&r(c)},c=()=>{const h=e;e=0,n=!0;const p=t({count:h});p?p.then(a).catch(a):a()};return{schedule(h){0===e&&!s()&&r(c,h),e++},await(){return function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if(s())for(null==i&&(i=new Promise(h=>{o=h}));s();)yield i})}}}function YG(r){return new Promise(t=>{setTimeout(()=>t(void 0),r)})}var qG=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class vF{constructor(t,e){this.renderer=void 0,this.text=void 0,this.className=t,this.parentElement=e}show(t){var e,n;let i=this.element;if(i||(i=document.createElement("div"),i.className=this.className,this.element=i),i.style.position="absolute",i.style.left=`${t.x}px`,i.style.top=`${t.y}px`,i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,this.renderer)i.innerHTML=this.renderer();else{const o=document.createElement("div");o.style.alignItems="center",o.style.boxSizing="border-box",o.style.display="flex",o.style.justifyContent="center",o.style.margin="8px",o.style.height="100%",o.style.font="12px Verdana, sans-serif",o.innerText=null!==(e=this.text)&&void 0!==e?e:"No data to display",i.append(o)}null===(n=this.parentElement)||void 0===n||n.append(i)}hide(){var t;null===(t=this.element)||void 0===t||t.remove(),this.element=void 0}}qG([G(ei)],vF.prototype,"renderer",void 0),qG([G(Mt)],vF.prototype,"text",void 0);class n3{constructor(t){this.noData=new vF("ag-chart-no-data-overlay",t)}}function wp(r,t){const e=Ls(r),n=Ls(t);if("array"===n){const h=t;return"array"!==e||r.length!==h.length||h.some((p,g)=>{var m;return null!=wp(null===(m=r)||void 0===m?void 0:m[g],p)})?[...h]:null}if("primitive"===n)return"primitive"!==e?Object.assign({},t):r!==t?t:null;const i=r||{},o=t||{},s=new Set([...Object.keys(i),...Object.keys(o)]);let a=0;const c={};for(const h of s){if(i[h]===o[h])continue;const p=w=>{c[h]=w,a++},g=Ls(i[h]),m=Ls(o[h]);if(g!==m){p(o[h]);continue}if("primitive"===m||null===m){p(o[h]);continue}if("array"===m&&i[h].length!==o[h].length){p(o[h]);continue}if("class-instance"===m){p(o[h]);continue}if("function"===m&&i[h]!==o[h]){p(o[h]);continue}const _=wp(i[h],o[h]);null!==_&&p(_)}return 0===a?null:c}const pa=Symbol("<delete-property>"),XG=Symbol("<unspecified-property>");function yi(r,t){var e;const n=null!==(e=t?.avoidDeepClone)&&void 0!==e?e:[];if(r.map(a=>Ls(a)).some(a=>"array"===a)){const a=r[r.length-1];return a instanceof Array?a.map(c=>{const h=Ls(c);return"array"===h?yi([[],c],t):"object"===h?yi([{},c],t):c}):a}const o={},s=new Set(r.map(a=>null!=a?Object.keys(a):[]).reduce((a,c)=>a.concat(c),[]));for(const a of s){const c=r.map(m=>null!=m&&"object"==typeof m&&a in m?m[a]:XG).filter(m=>m!==XG);if(0===c.length)continue;const h=c[c.length-1];if(h===pa)continue;const p=c.map(m=>Ls(m)),g=p[0];o[a]=p.some(m=>m!==g)?h:"array"!==g&&"object"!==g||n.includes(a)?"array"===g?[...h]:h:yi(c,t)}return o}function Mw(r,t,e={}){var n,i,o;const{path:s,matcherPath:a=(s?s.replace(/(\[[0-9+]+\])/i,"[]"):void 0),skip:c=[],constructors:h={},constructedArrays:p=new WeakMap,allowedTypes:g={},idx:m}=e;if(null==r)throw new Error(`AG Charts - target is uninitialised: ${s??"<root>"}`);if(null==t)return r;const _=r;null!=m&&"_declarationOrder"in _&&(_._declarationOrder=m);const w=Ls(r);for(const E in t){const b=`${a?a+".":""}${E}`;if(c.indexOf(b)>=0)continue;const R=t[E],T=`${s?s+".":""}${E}`,A=_.constructor,x=_[E];let P=null!==(n=h[b])&&void 0!==n?n:h[E];try{const k=Ls(x),V=Ls(R);if("class-instance"===w&&!(E in r)&&!Object.prototype.hasOwnProperty.call(_,E)){at.warn(`unable to set [${T}] in ${A?.name} - property is unknown`);continue}const H=null!==(i=g[b])&&void 0!==i?i:[k];if(("class-instance"!==k||"object"!==V)&&null!=k&&null!=V&&!H.includes(V)){at.warn(`unable to set [${T}] in ${A?.name} - can't apply type of [${V}], allowed types are: [${H}]`);continue}"array"===V?(P=null!==(o=P??p.get(x))&&void 0!==o?o:h[`${b}[]`],_[E]=null!=P?R.map((W,re)=>Mw(new P,W,Object.assign(Object.assign({},e),{path:T,matcherPath:b+"[]",idx:re}))):R):"class-instance"===V?_[E]=R:"object"===V?null!=x?Mw(x,R,Object.assign(Object.assign({},e),{path:T,matcherPath:b,idx:void 0})):_[E]=null!=P?Mw(new P,R,Object.assign(Object.assign({},e),{path:T,matcherPath:b,idx:void 0})):R:_[E]=R}catch(k){at.warn(`unable to set [${T}] in [${A?.name}]; nested error is: ${k.message}`);continue}}return r}function pm(r,t,e,...n){var i;const o=Ls(r),s=null!==(i=e.skip)&&void 0!==i?i:[];if("array"!==o){if("object"===o){t(o,r,...n);for(const a in r){if(s.indexOf(a)>=0)continue;const c=r[a],h=n?.map(g=>g?.[a]),p=Ls(c);("object"===p||"array"===p)&&pm(c,t,e,...h)}}}else r.forEach((a,c)=>{pm(a,t,e,...(n??[]).map(h=>h?.[c]))})}const i3=typeof window<"u";function Ls(r){return null==r?null:i3&&r instanceof HTMLElement?"primitive":r instanceof Array?"array":r instanceof Date?"primitive":"object"==typeof r&&r.constructor===Object?"object":"function"==typeof r?"function":"object"==typeof r&&null!=r.constructor?"class-instance":"primitive"}class mF{constructor(){this.registeredListeners={}}addListener(t,e){var n;const i=Symbol(t);return this.registeredListeners[t]||(this.registeredListeners[t]=[]),null===(n=this.registeredListeners[t])||void 0===n||n.push({symbol:i,handler:e}),i}dispatch(t,...e){var n;const i=null!==(n=this.registeredListeners[t])&&void 0!==n?n:[],o=[];for(const s of i)try{o.push(s.handler(...e))}catch(a){at.errorOnce(a),o.push(void 0)}return o}cancellableDispatch(t,e,...n){var i;const o=null!==(i=this.registeredListeners[t])&&void 0!==i?i:[],s=[];for(const a of o){if(e())break;s.push(a.handler(...n))}return s}reduceDispatch(t,e,...n){var i;const o=null!==(i=this.registeredListeners[t])&&void 0!==i?i:[];let s;for(const a of o)s=a.handler(...n),n=e(s,...n);return s}removeListener(t){for(const e in this.registeredListeners){const n=this.registeredListeners[e],i=n?.findIndex(o=>o.symbol===t);null!=i&&i>=0&&n?.splice(i,1),null!=i&&0===n?.length&&delete this.registeredListeners[e]}}}class Pw{constructor(){this.listeners=new mF}addListener(t,e){return this.listeners.addListener(t,e)}removeListener(t){this.listeners.removeListener(t)}}function Iw(r,t){return r=+r,t=+t,e=>r*(1-e)+t*e}function ZG(r,t){if("string"==typeof r)try{r=zt.fromString(r)}catch{r=zt.fromArray([0,0,0])}if("string"==typeof t)try{t=zt.fromString(t)}catch{t=zt.fromArray([0,0,0])}const e=Iw(r.r,t.r),n=Iw(r.g,t.g),i=Iw(r.b,t.b),o=Iw(r.a,t.a);return function(s){return zt.fromArray([e(s),n(s),i(s),o(s)]).toRgbaString()}}function QG(r,t){const e=typeof t;let n;if("number"===e)return Iw(r,t);if("string"===e)try{return n=zt.fromString(t),ZG(r,t=n)}catch{}throw new Error("Unable to interpolate values")}function aR(r){return({from:t,to:e})=>{const n=QG(t,e);return i=>n(r(i))}}function JG({from:r,to:t}){return QG(r,t)}aR(r=>1-Math.cos(r*Math.PI/2));const gm=aR(r=>Math.sin(r*Math.PI/2));aR(r=>-(Math.cos(r*Math.PI)-1)/2),aR(r=>{if(0===r||1===r)return r;const t=Math.pow(2,-10*r),n=2*Math.PI/3;return t*Math.sin((10*r-.75)*n)+1});var yF=function(r){return r.Loop="loop",r.Reverse="reverse",r}(yF||{});function eV({driver:r,duration:t,from:e,to:n,autoplay:i=!0,delay:o=0,ease:s=JG,repeat:a=0,repeatType:c=yF.Loop,onComplete:h,onPlay:p,onRepeat:g,onStop:m,onUpdate:_}){let w,E=0,b=0,R=0,T=!0,A=!1;const x=s({from:e,to:n}),P={isPlaying:!1,play:V,pause:function H(){return P.isPlaying=!1,P},stop:U,reset:function W(){return A=!1,b=0,R=0,k.reset(),P}},k=r(function Ce(Ie){T||(Ie=-Ie),E>=o?(b+=Ie,A||(w=x(Math.min(1,Math.max(0,b/t))),A=T?b>=t:b<=0),_?.(w),A&&(R<a?function re(){R++,c===yF.Reverse?(T=R%2==0,b=T?b%t:t-b%t):b%=t,A=!1,g?.()}():function ne(){U(),h?.()}())):E+=Ie});function V(){return P.isPlaying=!0,k.start(),p?.(),P}function U(){return P.isPlaying=!1,k.stop(),m?.(),P}return i&&V(),P}class s3 extends Pw{constructor(t){super(),this.controllers={},this.throttles={},this.throttleGroups=new Set,this.updaters=[],this.isPlaying=!1,this.readyToPlay=!1,this.defaultOptions={},this.skipAnimations=!1,this.debug=!1,this.interactionManager=t,window.addEventListener("DOMContentLoaded",()=>{this.readyToPlay=!0}),setTimeout(()=>{this.readyToPlay=!0},10)}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug&&at.debug("AnimationManager.play()");for(const t in this.controllers)this.controllers[t].play();this.startAnimationCycle()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimationFrame(),this.debug&&at.debug("AnimationManager.pause()");for(const t in this.controllers)this.controllers[t].pause()}}stop(){this.isPlaying=!1,this.cancelAnimationFrame(),this.debug&&at.debug("AnimationManager.stop()");for(const t in this.controllers)this.controllers[t].stop()}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}animate(t,e){var n,i,{disableInteractions:o=!0}=e,s=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]])}return e}(e,["disableInteractions"]);if(this.skipAnimations)return void(null===(n=s.onUpdate)||void 0===n||n.call(s,s.to));const a=Object.assign(Object.assign({},s),{autoplay:!!this.isPlaying&&s.autoplay,driver:this.createDriver(t,o)});this.controllers[t]&&this.controllers[t].stop();const c=eV(a);return this.controllers[t]=c,null===(i=s.onUpdate)||void 0===i||i.call(s,s.from),c}animateMany(t,e,n){var i;if(this.skipAnimations){const E=e.map(b=>b.to);return n.onUpdate(E),void(null===(i=n.onComplete)||void 0===i||i.call(n))}const o=e.map(E=>E.from);let s=0,a=0,c=0,h=0;const p=E=>b=>{var R;o[E]=b,++c>=e.length&&(null===(R=n.onUpdate)||void 0===R||R.call(n,o),c=0)},g=()=>{var E;++s>=e.length&&(null===(E=n.onPlay)||void 0===E||E.call(n))},m=()=>{var E;++a>=e.length&&(null===(E=n.onStop)||void 0===E||E.call(n))},_=()=>{var E;++h>=e.length&&(null===(E=n.onComplete)||void 0===E||E.call(n))};let w=0;for(const E of e)this.animate(`${t}-${w}`,Object.assign(Object.assign(Object.assign({},n),E),{onUpdate:p(w),onPlay:g,onStop:m,onComplete:_})),w++}animateWithThrottle(t,e){var n;const i=null!==(n=e.throttleId)&&void 0!==n?n:t;this.throttles[i]&&e.duration&&Date.now()-this.throttles[i]<e.duration&&(e.delay=0,e.duration=1),this.throttles[t]=Date.now(),this.animate(t,Object.assign({},e))}animateManyWithThrottle(t,e,n){var i;const{throttleGroup:o}=n,s=null!==(i=n.throttleId)&&void 0!==i?i:t,a=Date.now(),c=this.throttles[s]&&n.duration&&a-this.throttles[s]<n.duration,h=o&&this.throttleGroups.has(o);return c&&!h&&(n.delay=0,n.duration=1),!c&&o&&this.throttleGroups.add(o),this.throttles[s]=a,this.animateMany(t,e,Object.assign(Object.assign({},n),{onStop:()=>{var g;o&&this.throttleGroups.delete(o),null===(g=n.onStop)||void 0===g||g.call(n)}}))}tween(t){const e=`tween-${btoa(JSON.stringify(t))}`;return function r3(r){let t;const n=eV(Object.assign(Object.assign({},r),{autoplay:!1,onUpdate:o=>{t?.(o)}})),i={start:o=>(n.stop(),n.reset(),n.play(),t=o,i),stop:()=>(n.stop(),i)};return i}(Object.assign(Object.assign({},t),{driver:this.createDriver(e)}))}createDriver(t,e){return n=>({start:()=>{this.updaters.push([t,n]),null==this.requestId&&this.startAnimationCycle(),e&&this.interactionManager.pause(`animation_${t}`)},stop:()=>{delete this.controllers[t],this.updaters=this.updaters.filter(([i])=>i!==t),this.updaters.length<=0&&this.cancelAnimationFrame(),e&&this.interactionManager.resume(`animation_${t}`)},reset:()=>{}})}startAnimationCycle(){if(0===this.updaters.length)return;const t=e=>{if(this.requestId=requestAnimationFrame(t),!this.readyToPlay)return;void 0===this.lastTime&&(this.lastTime=e);const n=e-this.lastTime;this.lastTime=e,this.debug&&at.debug("AnimationManager - frame()",{updaterCount:this.updaters.length}),this.updaters.forEach(([i,o])=>o(n)),this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:n})};this.requestId=requestAnimationFrame(t)}cancelAnimationFrame(){this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=void 0,this.lastTime=void 0)}}class a3{constructor(t){this.states={},this.element=t}updateCursor(t,e){delete this.states[t],null!=e&&(this.states[t]={style:e}),this.applyStates()}applyStates(){let t="default";Object.entries(this.states).reverse().slice(0,1).forEach(([e,{style:n}])=>t=n),this.element.style.cursor=t}}class l3 extends Pw{legendItemClick(t,e,n,i){this.listeners.dispatch("legend-item-click",{type:"legend-item-click",series:t,itemId:e,enabled:n,legendItemName:i})}legendItemDoubleClick(t,e,n,i,o){this.listeners.dispatch("legend-item-double-click",{type:"legend-item-double-click",series:t,itemId:e,enabled:n,legendItemName:o,numVisibleItems:i})}axisHover(t,e){this.listeners.dispatch("axis-hover",{type:"axis-hover",axisId:t,direction:e})}}class c3 extends Pw{constructor(){super(),this.states={},this.activeHighlight=void 0}updateHighlight(t,e){delete this.states[t],null!=e&&(this.states[t]={highlightedDatum:e}),this.applyStates()}getActiveHighlight(){return this.activeHighlight}applyStates(){const t=this.activeHighlight;let e;Object.entries(this.states).reverse().slice(0,1).forEach(([i,{highlightedDatum:o}])=>e=o),this.activeHighlight=e,function u3(r,t){return r===t||!(r?.series!==t?.series||r?.itemId!==t?.itemId||r?.datum!==t?.datum)}(t,this.activeHighlight)||this.listeners.dispatch("highlight-change",{type:"highlight-change",previousHighlight:t,currentHighlight:this.activeHighlight})}}const tV=["pagehide","mousemove","mouseup","wheel"],nV=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel"];class Kd extends Pw{constructor(t,e=document){super(),this.eventHandler=n=>this.processEvent(n),this.mouseDown=!1,this.touchDown=!1,this.enabled=!0,this.pausers=[],this.rootElement=e.body,this.element=t;for(const n of nV)n.startsWith("touch")?t.addEventListener(n,this.eventHandler,{passive:!0}):t.addEventListener(n,this.eventHandler);for(const n of tV)"wheel"===n?window.addEventListener(n,this.eventHandler,{passive:!1}):window.addEventListener(n,this.eventHandler);if(Kd.interactionDocuments.indexOf(e)<0){const n=document.createElement("style");n.innerHTML="\n.ag-chart-wrapper {\n    touch-action: none;\n}\n",document.head.insertBefore(n,document.head.querySelector("style")),Kd.interactionDocuments.push(e)}}destroy(){for(const t of tV)window.removeEventListener(t,this.eventHandler);for(const t of nV)this.element.removeEventListener(t,this.eventHandler)}resume(t){return this.pausers=this.pausers.filter(e=>e!==t),this.enabled=this.pausers.length<=0,this.enabled}pause(t){this.enabled=!1,this.pausers.push(t)}processEvent(t){const e=this.decideInteractionEventTypes(t);e.length>0&&this.enabled&&this.dispatchEvent(t,e).catch(n=>at.errorOnce(n))}dispatchEvent(t,e){return function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const n=this.calculateCoordinates(t);if(null!=n)for(const i of e){const o=this.buildEvent(Object.assign(Object.assign({event:t},n),{type:i}));this.listeners.cancellableDispatch(i,()=>o.consumed,o)}})}decideInteractionEventTypes(t){switch(t.type){case"click":return["click"];case"dblclick":return["dblclick"];case"contextmenu":return["contextmenu"];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(t)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(t)?(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(t)?(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"mouseout":case"touchcancel":return["leave"];case"mouseenter":const e=t instanceof MouseEvent&&1==(1&t.buttons);return this.mouseDown!==e?(this.mouseDown=e,[e?"drag-start":"drag-end"]):[];case"pagehide":return["page-left"];case"wheel":return["wheel"]}return[]}isEventOverElement(t){var e;return t.target===this.element||(null===(e=t.target)||void 0===e?void 0:e.parentElement)===this.element}calculateCoordinates(t){var e;if(t instanceof MouseEvent){const{clientX:n,clientY:i,pageX:o,pageY:s,offsetX:a,offsetY:c}=t;return this.fixOffsets(t,{clientX:n,clientY:i,pageX:o,pageY:s,offsetX:a,offsetY:c})}if(typeof TouchEvent<"u"&&t instanceof TouchEvent){const n=null!==(e=t.touches[0])&&void 0!==e?e:t.changedTouches[0],{clientX:i,clientY:o,pageX:s,pageY:a}=n;return Object.assign(Object.assign({},Kd.NULL_COORDS),{clientX:i,clientY:o,pageX:s,pageY:a})}if(t instanceof PageTransitionEvent)return t.persisted?void 0:Kd.NULL_COORDS}fixOffsets(t,e){const n=i=>{let o=0,s=0;for(;i;)o+=i.offsetLeft,s+=i.offsetTop,i=i.offsetParent;return{x:o,y:s}};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){const i=n(this.dragStartElement),o=n(t.target);e.offsetX-=i.x-o.x,e.offsetY-=i.y-o.y}return e}buildEvent(t){const{type:e,event:n,clientX:i,clientY:o}=t;let{offsetX:s,offsetY:a,pageX:c,pageY:h}=t;if(!Fs(s)||!Fs(a)){const g=this.element.getBoundingClientRect();s=i-g.left,a=o-g.top}if(!Fs(c)||!Fs(h)){const g=this.rootElement.getBoundingClientRect();c=i-g.left,h=o-g.top}const p={type:e,offsetX:s,offsetY:a,pageX:c,pageY:h,sourceEvent:n,consumed:!1,consume:()=>p.consumed=!0};return p}}Kd.interactionDocuments=[],Kd.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};class f3{constructor(t,e){this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=t;const n=e.addListener("hover",i=>this.checkExclusiveRects(i));this.destroyFns.push(()=>e.removeListener(n))}updateTooltip(t,e,n){var i;null==n&&(n=null===(i=this.states[t])||void 0===i?void 0:i.content),this.states[t]={content:n,meta:e},this.applyStates()}updateExclusiveRect(t,e){e?this.exclusiveAreas[t]=e:delete this.exclusiveAreas[t]}removeTooltip(t){delete this.states[t],this.applyStates()}getTooltipMeta(t){var e;return null===(e=this.states[t])||void 0===e?void 0:e.meta}destroy(){for(const t of this.destroyFns)t()}checkExclusiveRects(t){let e;for(const[n,i]of Object.entries(this.exclusiveAreas))if(i.containsPoint(t.offsetX,t.offsetY)){e=n;break}e!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=e,this.applyStates())}applyStates(){var t;const e=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states);let n,i;if(e.reverse(),e.slice(0,1).forEach(o=>{var s;const{content:a,meta:c}=null!==(s=this.states[o])&&void 0!==s?s:{};n=a,i=c}),void 0===i||void 0===n)return this.appliedState=void 0,void this.tooltip.toggle(!1);if((null===(t=this.appliedState)||void 0===t?void 0:t.content)===n){const o=this.tooltip.isVisible();this.tooltip.show(i,void 0,o)}else this.tooltip.show(i,n);this.appliedState={content:n,meta:i}}}class p3 extends Pw{constructor(){super(...arguments),this.axes={}}updateAxes(t){const e=new Set(Object.keys(this.axes));t.forEach(n=>{var i,o,s;e.delete(n.id),null!==(i=(o=this.axes)[s=n.id])&&void 0!==i||(o[s]=new g3(n))}),e.forEach(n=>{delete this.axes[n]}),this.initialZoom&&(this.updateZoom(this.initialZoom.callerId,this.initialZoom.newZoom),this.initialZoom=void 0)}updateZoom(t,e){0!==Object.keys(this.axes).length?(Object.values(this.axes).forEach(n=>{n.updateZoom(t,e?.[n.getDirection()])}),this.applyStates()):this.initialZoom={callerId:t,newZoom:e}}updateAxisZoom(t,e,n){var i;null===(i=this.axes[e])||void 0===i||i.updateZoom(t,n),this.applyStates()}getZoom(){let t,e;if(Object.values(this.axes).forEach(n=>{n.getDirection()===Qe.X?t=n.getZoom():n.getDirection()===Qe.Y&&(e=n.getZoom())}),t||e)return{x:t,y:e}}getAxisZoom(t){var e;return null===(e=this.axes[t])||void 0===e?void 0:e.getZoom()}getAxisZooms(){const t={};for(const[e,n]of Object.entries(this.axes))t[e]={direction:n.getDirection(),zoom:n.getZoom()};return t}applyStates(){if(!Object.values(this.axes).map(o=>o.applyStates()).some(Boolean))return;const e=this.getZoom(),n={};for(const[o,s]of Object.entries(this.axes))n[o]=s.getZoom();const i=Object.assign(Object.assign({type:"zoom-change"},e??{}),{axes:n});this.listeners.dispatch("zoom-change",i)}}class g3{constructor(t){this.states={},this.currentZoom=void 0,this.axis=t}getDirection(){return this.axis.direction}updateZoom(t,e){delete this.states[t],null!=e&&(this.states[t]=Object.assign({},e))}getZoom(){return this.currentZoom}applyStates(){var t,e;const n=this.currentZoom,i=Object.keys(this.states)[Object.keys(this.states).length-1];return this.currentZoom=Object.assign({},this.states[i]),n?.min!==(null===(t=this.currentZoom)||void 0===t?void 0:t.min)||n?.max!==(null===(e=this.currentZoom)||void 0===e?void 0:e.max)}}class y3{constructor(){this.layoutProcessors=new mF,this.listeners=new mF}addListener(t,e){if(function v3(r){return"layout-complete"!==r}(t))return this.layoutProcessors.addListener(t,e);if(function m3(r){return"layout-complete"===r}(t))return this.listeners.addListener(t,e);throw new Error("AG Charts - unsupported listener type: "+t)}removeListener(t){this.listeners.removeListener(t),this.layoutProcessors.removeListener(t)}dispatchPerformLayout(t,e){return this.layoutProcessors.reduceDispatch(t,({shrinkRect:i},o)=>[Object.assign(Object.assign({},o),{shrinkRect:i})],e)??e}dispatchLayoutComplete(t){this.listeners.dispatch("layout-complete",t)}}class C3{constructor(t){this.getSeries=t}}var ln=function(r){return r[r.FULL=0]="FULL",r[r.PROCESS_DATA=1]="PROCESS_DATA",r[r.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",r[r.SERIES_UPDATE=3]="SERIES_UPDATE",r[r.TOOLTIP_RECALCULATION=4]="TOOLTIP_RECALCULATION",r[r.SCENE_RENDER=5]="SCENE_RENDER",r[r.NONE=6]="NONE",r}(ln||{});class _3{constructor(t){this.updateCallback=t}update(t=ln.FULL,{forceNodeDataRefresh:e=!1}={}){this.updateCallback(t,{forceNodeDataRefresh:e})}}class iV{constructor(){this.range="tooltip"}}!function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([G(LG("tooltip","node"))],iV.prototype,"range",void 0);class Wn{constructor(t,e,n=!0){this._nodes=[],this._data=[],this._datumNodeIndices=new Map,this._garbage=[],this._garbageCollection=!0,this._parent=t,this._factory=Object.prototype.isPrototypeOf.call(Ii,e)?()=>new e:e,this._garbageCollection=n}static select(t,e,n=!0){return new Wn(t,e,n)}each(t){return this._nodes.forEach((e,n)=>t(e,e.datum,n)),this}update(t,e,n){const i=this._data,o=this._parent,s=this._factory,a=new Map;if(n?t.forEach((c,h)=>{const p=n(c);if(a.set(p,h),!this._datumNodeIndices.has(p)){const g=s(c);g.datum=c,e?.(g),o.appendChild(g),this._nodes.push(g),this._datumNodeIndices.set(p,this._nodes.length-1)}}):t.length>i.length?t.slice(i.length).forEach(c=>{const h=s(c);h.datum=c,e?.(h),o.appendChild(h),this._nodes.push(h)}):t.length<i.length&&this._nodes.splice(t.length).forEach(c=>{o.removeChild(c)}),this._data=t.slice(0),n){for(const[c,h]of this._datumNodeIndices){const p=a.get(c);void 0!==p?this._nodes[h].datum=t[p]:this._garbage.push(c)}this._garbageCollection&&this.cleanup()}else for(let c=0;c<t.length;c++)this._nodes[c].datum=this._data[c];return this}clear(){return this.update([]),this}cleanup(){if(0===this._garbage.length)return;this._garbage.forEach(i=>{const o=this._datumNodeIndices.get(i);if(void 0===o)return;const s=this._nodes[o];delete this._nodes[o],this._datumNodeIndices.delete(i),s&&this._parent.removeChild(s)});let t=0;const e=this._datumNodeIndices.entries(),n=new Map;for(const[i,o]of e)n.set(o,i);this._nodes=this._nodes.filter((i,o)=>{if(void 0===i)return!1;const s=n.get(o);return this._datumNodeIndices.set(s,t),t++,!0}),this._garbage=[]}static selectAll(t,e){const n=[],i=o=>{e(o)&&n.push(o),o.children.forEach(i)};return i(t),n}static selectByClass(t,e){return Wn.selectAll(t,n=>n instanceof e)}static selectByTag(t,e){return Wn.selectAll(t,n=>n.tag===e)}select(t){return Wn.selectAll(this._parent,t)}selectByClass(t){return this.select(e=>e instanceof t)}selectByTag(t){return this.select(e=>e.tag===t)}nodes(){return this._nodes}}function Fw(r,t,e,n,i,o,s,a){const c=(e-r)*(a-o)-(n-t)*(s-i);if(0===c)return null;const h=((s-i)*(t-o)-(r-i)*(a-o))/c,p=((e-r)*(t-o)-(n-t)*(r-i))/c;return h>=0&&h<=1&&p>=0&&p<=1?{x:r+h*(e-r),y:t+h*(n-t)}:null}function b3(r,t,e,n,i,o,s,a,c,h,p,g){const m=[],_=h-g,w=p-c,E=c*(g-h)-h*(p-c),b=rV(r,e,i,s),R=rV(t,n,o,a),k=function D3(r,t,e,n){if(0===r)return function E3(r,t,e){if(0===r)return function S3(r,t){const e=-t/r;return 0!==r&&e>=0&&e<=1?[e]:[]}(t,e);const n=t*t-4*r*e,i=[];if(0===n){const o=-t/(2*r);o>=0&&o<=1&&i.push(o)}else if(n>0){const o=Math.sqrt(n),s=(-t-o)/(2*r),a=(-t+o)/(2*r);s>=0&&s<=1&&i.push(s),a>=0&&a<=1&&i.push(a)}return i}(t,e,n);const i=t/r,o=e/r,a=(3*o-i*i)/9,c=(9*i*o-n/r*27-2*i*i*i)/54,h=a*a*a+c*c,p=1/3,g=[];if(h>=0){const m=Math.sqrt(h),_=Math.sign(c+m)*Math.pow(Math.abs(c+m),p),w=Math.sign(c-m)*Math.pow(Math.abs(c-m),p),E=Math.abs(Math.sqrt(3)*(_-w)/2),b=-p*i+(_+w);if(b>=0&&b<=1&&g.push(b),0===E){const R=-p*i-(_+w)/2;R>=0&&R<=1&&g.push(R)}}else{const m=Math.acos(c/Math.sqrt(-a*a*a)),_=p*i,w=2*Math.sqrt(-a),E=w*Math.cos(p*m)-_,b=w*Math.cos(p*(m+2*Math.PI))-_,R=w*Math.cos(p*(m+4*Math.PI))-_;E>=0&&E<=1&&g.push(E),b>=0&&b<=1&&g.push(b),R>=0&&R<=1&&g.push(R)}return g}(_*b[0]+w*R[0],_*b[1]+w*R[1],_*b[2]+w*R[2],_*b[3]+w*R[3]+E);for(const V of k){const H=V*V,U=V*H,W=b[0]*U+b[1]*H+b[2]*V+b[3],re=R[0]*U+R[1]*H+R[2]*V+R[3];let ne;ne=c!==p?(W-c)/(p-c):(re-h)/(g-h),ne>=0&&ne<=1&&m.push({x:W,y:re})}return m}function rV(r,t,e,n){return[3*t-r-3*e+n,3*r-6*t+3*e,-3*r+3*t,r]}function oV(r,t,e,n,i,o,s,a,c,h){const p=(h-a)/(c-s),g=a-p*s,m=Math.pow(p,2)+1,_=2*(p*(g-t)-r),w=Math.pow(r,2)+Math.pow(g-t,2)-Math.pow(e,2),E=Math.pow(_,2)-4*m*w;if(E<0)return[];const b=(-_+Math.sqrt(E))/2/m,R=(-_-Math.sqrt(E))/2/m,T=[];return[b,R].forEach(A=>{if(!(A>=Math.min(s,c)&&A<=Math.max(s,c)))return;const P=p*A,k=to(o?i:n);let V=to(o?n:i),H=to(Math.atan2(P,A));V<=k&&(V+=2*Math.PI),H<k&&(H+=2*Math.PI),H>=k&&H<=V&&T.push({x:A,y:P})}),T}var Gr=function(r){return r[r.Move=0]="Move",r[r.Line=1]="Line",r[r.Arc=2]="Arc",r[r.Curve=3]="Curve",r[r.ClosePath=4]="ClosePath",r}(Gr||{});class CF{constructor(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}isDirty(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(let t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(let t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1}draw(t){const e=this.commands,n=this.params;let i=0;t.beginPath();for(const o of e)switch(o){case Gr.Move:t.moveTo(n[i++],n[i++]);break;case Gr.Line:t.lineTo(n[i++],n[i++]);break;case Gr.Curve:t.bezierCurveTo(n[i++],n[i++],n[i++],n[i++],n[i++],n[i++]);break;case Gr.Arc:t.arc(n[i++],n[i++],n[i++],n[i++],n[i++],1===n[i++]);break;case Gr.ClosePath:t.closePath()}0===e.length&&t.closePath()}moveTo(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push(Gr.Move),this.params.push(t,e)}lineTo(t,e){this.xy?(this.commands.push(Gr.Line),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)}rect(t,e,n,i){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.closePath()}arc(t,e,n,i,o,s=!1){const a=t+n*Math.cos(o),c=e+n*Math.sin(o);this.xy?(this.xy[0]=a,this.xy[1]=c):this.xy=[a,c],this.commands.push(Gr.Arc),this.params.push(t,e,n,i,o,s?1:0)}cubicCurveTo(t,e,n,i,o,s){this.xy||this.moveTo(t,e),this.commands.push(Gr.Curve),this.params.push(t,e,n,i,o,s),this.xy&&(this.xy[0]=o,this.xy[1]=s)}get closedPath(){return this._closedPath}closePath(){this.xy&&(this.xy=void 0,this.commands.push(Gr.ClosePath),this._closedPath=!0)}clear({trackChanges:t}={trackChanges:!1}){t?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1}isPointInPath(t,e){const n=this.commands,i=this.params,o=n.length,s=-1e4,a=-1e4;let c=NaN,h=NaN,p=0,g=0,m=0;for(let _=0,w=0;_<o;_++)switch(n[_]){case Gr.Move:isNaN(c)||Fw(c,h,p,g,s,a,t,e)&&m++,p=i[w++],c=p,g=i[w++],h=g;break;case Gr.Line:Fw(p,g,i[w++],i[w++],s,a,t,e)&&m++,p=i[w-2],g=i[w-1];break;case Gr.Curve:m+=b3(p,g,i[w++],i[w++],i[w++],i[w++],i[w++],i[w++],s,a,t,e).length,p=i[w-2],g=i[w-1];break;case Gr.Arc:m+=oV(i[w++],i[w++],i[w++],i[w++],i[w++],!!i[w++],s,a,t,e).length,p=i[w-2],g=i[w-1];break;case Gr.ClosePath:isNaN(c)||Fw(c,h,p,g,s,a,t,e)&&m++}return m%2==1}}var sV=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function zn(r){const{redraw:t=Be.MAJOR,changeCb:e,convertor:n}=r??{};return lt({redraw:t,type:"path",convertor:n,changeCb:e})}class El extends gn{constructor(){super(...arguments),this.path=new CF,this._dirtyPath=!0}set dirtyPath(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,Be.MAJOR))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var t,e;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(e=null===(t=this.fillShadow)||void 0===t?void 0:t.isDirty())&&void 0!==e&&e)}isPointInPath(t,e){const n=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)}isDirtyPath(){return!1}updatePath(){}render(t){var e,n;const{ctx:i,forceRender:o,stats:s}=t;if(this.dirty!==Be.NONE||o){if(this.computeTransformMatrix(),this.matrix.toContext(i),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath){if(i.save(),"normal"===this.clipMode&&(this.clipPath.draw(i),i.clip()),this.path.draw(i),this.fillStroke(i),"punch-out"===this.clipMode){this.clipPath.draw(i),i.clip();const{x:a=-1e4,y:c=-1e4,width:h=2e4,height:p=2e4}=null!==(e=this.computeBBox())&&void 0!==e?e:{};i.clearRect(a,c,h,p)}i.restore()}else this.path.draw(i),this.fillStroke(i);null===(n=this.fillShadow)||void 0===n||n.markClean(),super.render(t)}else s&&(s.nodesSkipped+=this.nodeCount.count)}}El.className="Path",sV([zn()],El.prototype,"clipPath",void 0),sV([zn()],El.prototype,"clipMode",void 0);var _F=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class ga extends El{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){const{x:t,y:e,size:n}=this,i=n/2;return new un(t-i,e-i,n,n)}applyPath(t,e){const{path:n}=this;let{x:i,y:o}=this;n.clear();for(const{x:s,y:a,t:c}of e)i+=s*t,o+=a*t,"move"===c?n.moveTo(i,o):n.lineTo(i,o);n.closePath()}}_F([zn()],ga.prototype,"x",void 0),_F([zn()],ga.prototype,"y",void 0),_F([zn({convertor:Math.abs})],ga.prototype,"size",void 0);let lR=(()=>{class r extends ga{updatePath(){const{path:e,x:n,y:i}=this,o=this.size/2;e.clear(),e.moveTo(this.align(n-o),this.align(i-o)),e.lineTo(this.align(n+o),this.align(i-o)),e.lineTo(this.align(n+o),this.align(i+o)),e.lineTo(this.align(n-o),this.align(i+o)),e.closePath()}}return r.className="Square",r})();var va=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class To extends Ht{constructor(){super({name:"markerLabelGroup"}),this.label=new Ot,this._marker=new lR,this._markerSize=15,this._spacing=8;const t=this.label;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=vi.has.textMetrics?1:0,this.append([this.marker,t]),this.update()}set marker(t){this._marker!==t&&(this.removeChild(this._marker),this._marker=t,this.appendChild(t),this.update())}get marker(){return this._marker}set markerSize(t){this._markerSize!==t&&(this._markerSize=t,this.update())}get markerSize(){return this._markerSize}set spacing(t){this._spacing!==t&&(this._spacing=t,this.update())}get spacing(){return this._spacing}update(){const e=this.markerSize;this.marker.size=e,this.label.x=e/2+this.spacing}render(t){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,super.render(t)}}To.className="MarkerLabel",va([Fi("label")],To.prototype,"text",void 0),va([Fi("label")],To.prototype,"fontStyle",void 0),va([Fi("label")],To.prototype,"fontWeight",void 0),va([Fi("label")],To.prototype,"fontSize",void 0),va([Fi("label")],To.prototype,"fontFamily",void 0),va([Fi("label","fill")],To.prototype,"color",void 0),va([Fi("marker","fill")],To.prototype,"markerFill",void 0),va([Fi("marker","stroke")],To.prototype,"markerStroke",void 0),va([Fi("marker","strokeWidth")],To.prototype,"markerStrokeWidth",void 0),va([Fi("marker","fillOpacity")],To.prototype,"markerFillOpacity",void 0),va([Fi("marker","strokeOpacity")],To.prototype,"markerStrokeOpacity",void 0);let wF=(()=>{class r extends ga{updatePath(){const{x:e,y:n,path:i,size:o}=this,s=o/2;i.clear(),i.arc(e,n,s,0,2*Math.PI),i.closePath()}}return r.className="Circle",r})(),O3=(()=>{class r extends ga{updatePath(){super.applyPath(this.size/4.2,r.moves)}}return r.className="Cross",r.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],r})(),R3=(()=>{class r extends ga{updatePath(){super.applyPath(this.size/2,r.moves)}}return r.className="Diamond",r.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],r})(),T3=(()=>{class r extends ga{rad(e){return e/180*Math.PI}updatePath(){const{x:e,path:n,size:i,rad:o}=this,s=i/4,a=this.y+s/2;n.clear(),n.arc(e-s,a-s,s,o(130),o(330)),n.arc(e+s,a-s,s,o(220),o(50)),n.lineTo(e,a+s),n.closePath()}}return r.className="Heart",r})(),A3=(()=>{class r extends ga{updatePath(){super.applyPath(this.size/3,r.moves)}}return r.className="Plus",r.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],r})(),Lw=(()=>{class r extends ga{updatePath(){super.applyPath(1.1*this.size,r.moves)}}return r.className="Triangle",r.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],r})();function vm(r=lR){if("string"==typeof r)switch(r){case"circle":return wF;case"cross":return O3;case"diamond":return R3;case"heart":return T3;case"plus":return A3;case"triangle":return Lw;default:return lR}return"function"==typeof r?r:lR}function x3({orientation:r,bboxes:t,maxHeight:e,maxWidth:n,itemPaddingY:i=0,itemPaddingX:o=0,forceResult:s=!1}){const a="horizontal"===r,c={max:a?n:e,fn:a?m=>m.width:m=>m.height,padding:a?o:i},h={max:a?e:n,fn:a?m=>m.height:m=>m.width,padding:a?i:o};let p=0;const g=[];for(;p<t.length;){const _=M3(t.slice(p),p,c,h,s);if(!_)return;p+=_.processedBBoxCount,g.push(_.pageIndices)}return function I3(r,t,e,n,i){let o=0,s=0;return{pages:r.map(c=>{"horizontal"===t&&(c=function F3(r){const t=[];for(const e of r[0])t.push([]);return r.forEach((e,n)=>{e.forEach((i,o)=>{t[o][n]=i})}),t}(c));let h=0;const p=c.map(_=>{const w=_.map(R=>(h=Math.max(R,h),e[R]));let E=0,b=0;return w.forEach(R=>{E+=R.height+n,b=Math.max(b,R.width+i)}),{indices:_,bboxes:w,columnHeight:E,columnWidth:b}});let g=0,m=0;return p.forEach(_=>{g+=_.columnWidth,m=Math.max(m,_.columnHeight)}),o=Math.max(g,o),s=Math.max(m,s),{columns:p,startIndex:c[0][0],endIndex:h,pageWidth:g,pageHeight:m}}),maxPageWidth:o,maxPageHeight:s}}(g,r,t,i,o)}function M3(r,t,e,n,i){let s=function L3(r,t){const e=r.length;let n=0;for(let i=0;i<e;i++)if(n+=t.fn(r[i])+t.padding,n>t.max)return e/i<2?Math.ceil(e/2):i;return e}(r,e);if(s<1){if(!i)return;s=1}for(let a=s;a>=1;a--){const c=P3(r,t,a,e,n,i);if(null==c&&a<=1)return;if(null!=c){if("number"!=typeof c)return{processedBBoxCount:c.length*c[0].length,pageIndices:c};if(c<=1)return;a=c<a&&c>1?c:a}}}function P3(r,t,e,n,i,o){var s;const a=[];let c=0,h=0,p=[];const g=[];for(let m=0;m<r.length;m++){const _=(m+e)%e;0===_&&(c+=h,h=0,p.length>0&&a.push(p),p=[]);const w=n.fn(r[m])+n.padding;if(g[_]=Math.max(null!==(s=g[_])&&void 0!==s?s:0,w),h=Math.max(h,i.fn(r[m])+i.padding),c+h>i.max&&(!o||a.length>0)){p=[];break}if(g.reduce((T,A)=>T+A,0)>n.max&&!o)return g.length<e?g.length:void 0;p.push(m+t)}return p.length>0&&a.push(p),a.length>0?a:void 0}var Ko=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class mm{constructor(){this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}}Ko([G($o)],mm.prototype,"color",void 0),Ko([G(mp)],mm.prototype,"fontStyle",void 0),Ko([G(yp)],mm.prototype,"fontWeight",void 0),Ko([G($e(0))],mm.prototype,"fontSize",void 0),Ko([G(lr)],mm.prototype,"fontFamily",void 0);class ju{constructor(){this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}}Ko([G($e(0))],ju.prototype,"size",void 0),Ko([G(Un)],ju.prototype,"fill",void 0),Ko([G(yn(0,1))],ju.prototype,"fillOpacity",void 0),Ko([G(Un)],ju.prototype,"stroke",void 0),Ko([G($e(0))],ju.prototype,"strokeWidth",void 0),Ko([G($e(0,1))],ju.prototype,"strokeOpacity",void 0);class SF{constructor(){this.size=15,this._shape=Lw,this.padding=8}set shape(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()}get shape(){return this._shape}}Ko([G($e(0))],SF.prototype,"size",void 0),Ko([G($e(0))],SF.prototype,"padding",void 0);let N3=(()=>{class r{constructor(e,n,i,o){this.chartUpdateCallback=e,this.pageUpdateCallback=n,this.interactionManager=i,this.cursorManager=o,this.id=Wd(this),this.group=new Ht({name:"pagination"}),this.labelNode=new Ot,this.marker=new SF,this.activeStyle=new ju,this.inactiveStyle=new ju,this.highlightStyle=new ju,this.label=new mm,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Lw,this._previousButton=new Lw;const{labelNode:s}=this;s.textBaseline="middle",s.fontSize=12,s.fontFamily="Verdana, sans-serif",s.fill="black",s.y=vi.has.textMetrics?1:0,this.group.append([this.nextButton,this.previousButton,s]),this.interactionManager.addListener("click",a=>this.onPaginationClick(a)),this.interactionManager.addListener("hover",a=>this.onPaginationMouseMove(a)),this.marker.parent=this,this.update(),this.updateMarkers()}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){"horizontal"===(this._orientation=e,e)?(this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2):(this.previousButton.rotation=0,this.nextButton.rotation=Math.PI)}get orientation(){return this._orientation}set nextButton(e){this._nextButton!==e&&(this.group.removeChild(this._nextButton),this._nextButton=e,this.group.appendChild(e))}get nextButton(){return this._nextButton}set previousButton(e){this._previousButton!==e&&(this.group.removeChild(this._previousButton),this._previousButton=e,this.group.appendChild(e))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:n}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+n}updateNextButtonPosition(){const e=this.labelNode.computeBBox();this.nextButton.translationX=e.x+e.width+this.marker.size/2+this.marker.padding}updateLabel(){const{currentPage:e,totalPages:n,labelNode:i,label:{color:o,fontStyle:s,fontWeight:a,fontSize:c,fontFamily:h}}=this;i.text=`${e+1} / ${n}`,i.fill=o,i.fontStyle=s,i.fontWeight=a,i.fontSize=c,i.fontFamily=h}updateMarkers(){const{nextButton:e,previousButton:n,nextButtonDisabled:i,previousButtonDisabled:o,activeStyle:s,inactiveStyle:a,highlightStyle:c,highlightActive:h}=this,p=(g,m)=>m?a:g===h?c:s;this.updateMarker(e,p("next",i)),this.updateMarker(n,p("previous",o))}updateMarker(e,n){var i;const{size:o}=this.marker;e.size=o,e.fill=n.fill,e.fillOpacity=null!==(i=n.fillOpacity)&&void 0!==i?i:1,e.stroke=n.stroke,e.strokeWidth=n.strokeWidth,e.strokeOpacity=n.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:n}=this,i=0===n,s=0===e;this.nextButtonDisabled=e===n-1||i,this.previousButtonDisabled=s||i}nextButtonContainsPoint(e,n){return!this.nextButtonDisabled&&this.nextButton.containsPoint(e,n)}previousButtonContainsPoint(e,n){return!this.previousButtonDisabled&&this.previousButton.containsPoint(e,n)}onPaginationClick(e){const{offsetX:n,offsetY:i}=e;this.nextButtonContainsPoint(n,i)?(this.incrementPage(),this.onPaginationChanged(),e.consume()):this.previousButtonContainsPoint(n,i)&&(this.decrementPage(),this.onPaginationChanged(),e.consume())}onPaginationMouseMove(e){const{offsetX:n,offsetY:i}=e;this.nextButtonContainsPoint(n,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(n,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(ln.SCENE_RENDER)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const e=vm(this.marker.shape||Lw);this.previousButton=new e,this.nextButton=new e,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(ln.SCENE_RENDER)}attachPagination(e){e.append(this.group)}computeBBox(){return this.group.computeBBox()}}return r.className="Pagination",r})();var oi=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};const k3=["horizontal","vertical"],G3=St((r,t)=>Jn(r,t,e=>k3.includes(e)),"expecting an orientation keyword such as 'horizontal' or 'vertical'");class Yd{constructor(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}}oi([G(yn(0))],Yd.prototype,"maxLength",void 0),oi([G($o)],Yd.prototype,"color",void 0),oi([G(mp)],Yd.prototype,"fontStyle",void 0),oi([G(yp)],Yd.prototype,"fontWeight",void 0),oi([G($e(0))],Yd.prototype,"fontSize",void 0),oi([G(lr)],Yd.prototype,"fontFamily",void 0),oi([G(ei)],Yd.prototype,"formatter",void 0);class uR{constructor(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=1}set shape(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()}get shape(){return this._shape}}oi([G($e(0))],uR.prototype,"size",void 0),oi([G($e(0))],uR.prototype,"padding",void 0),oi([G($e(0))],uR.prototype,"strokeWidth",void 0);class Nw{constructor(){this.marker=new uR,this.label=new Yd,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0}}oi([G(yn(0))],Nw.prototype,"maxWidth",void 0),oi([G($e(0))],Nw.prototype,"paddingX",void 0),oi([G($e(0))],Nw.prototype,"paddingY",void 0),oi([G(Mn)],Nw.prototype,"toggleSeriesVisible",void 0);class aV{constructor(){this.legendItemClick=void 0,this.legendItemDoubleClick=void 0}}oi([G(ei)],aV.prototype,"legendItemClick",void 0);class Uu{constructor(t){this.ctx=t,this.id=Wd(this),this.group=new Ht({name:"legend",layer:!0,zIndex:mi.LEGEND_ZINDEX}),this.itemSelection=Wn.select(this.group,To),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.item=new Nw,this.listeners=new aV,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.position="bottom",this.maxWidth=void 0,this.maxHeight=void 0,this.reverseOrder=void 0,this.destroyFns=[],this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new N3(i=>t.updateService.update(i),i=>this.updatePageNumber(i),t.interactionManager,t.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;const e=[t.interactionManager.addListener("click",i=>this.checkLegendClick(i)),t.interactionManager.addListener("dblclick",i=>this.checkLegendDoubleClick(i)),t.interactionManager.addListener("hover",i=>this.handleLegendMouseMove(i))],n=[t.layoutService.addListener("start-layout",i=>this.positionLegend(i.shrinkRect))];this.destroyFns.push(...e.map(i=>()=>t.interactionManager.removeListener(i)),...n.map(i=>()=>t.layoutService.removeListener(i)),()=>this.detachLegend())}set data(t){this._data=t,this.updateGroupVisibility()}get data(){return this._data}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}getOrientation(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}destroy(){this.destroyFns.forEach(t=>t())}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,Be.MINOR)}getCharacterWidths(t){const{characterWidths:e}=this;if(e.has(t))return e.get(t);const n={"...":vi.getTextSize("...",t).width};return e.set(t,n),n}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.append(this.group)}detachLegend(){var t;null===(t=this.group.parent)||void 0===t||t.removeChild(this.group)}getItemLabel(t){const{ctx:{callbackCache:e}}=this,{formatter:n}=this.item.label;return n?e.call(n,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId}):t.label.text}performLayout(t,e){const{paddingX:n,paddingY:i,label:o,maxWidth:s,marker:{size:a,padding:c,shape:h},label:{maxLength:p=1/0,fontStyle:g,fontWeight:m,fontSize:_,fontFamily:w}}=this.item,E=[...this.data];this.reverseOrder&&E.reverse(),this.itemSelection.update(E);const b=[],R=vp(o),A=s??.8*t,x=a+c+n;if(this.itemSelection.each((ne,Ce)=>{var Ie;const Ve=vm(h??Ce.marker.shape);ne.marker&&ne.marker instanceof Ve||(ne.marker=new Ve),ne.markerSize=a,ne.spacing=c,ne.fontStyle=g,ne.fontWeight=m,ne.fontSize=_,ne.fontFamily=w;const de=null!==(Ie=Ce.itemId)&&void 0!==Ie?Ie:Ce.id,ae=(this.getItemLabel(Ce)??"<unknown>").replace(/\r?\n/g," ");ne.text=this.truncate(ae,p,A,x,R,de),b.push(ne.computeBBox())}),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return!1;const P=this.size,k=this.oldSize;P[0]=t,P[1]=e,(P[0]!==k[0]||P[1]!==k[1])&&(k[0]=P[0],k[1]=P[1]);const{pages:V,maxPageHeight:H,maxPageWidth:U}=this.updatePagination(b,t,e);this.pages=V,this.maxPageSize=[U-n,H-i];const W=this.pagination.currentPage;this.pages.length<1||!this.pages[W]?this.visible=!1:(this.visible=!0,this.updatePositions(W),this.update())}truncate(t,e,n,i,o,s){const c=t.split("");let h=!1;if(t.length>e&&(t=`${t.substring(0,e)}`,h=!0),Math.floor(i+vi.getTextSize(t,o).width)>n){let g="";const m=this.getCharacterWidths(o);let _=i+m["..."];for(const w of c){if(m[w]||(m[w]=vi.getTextSize(w,o).width),_+=m[w],_>n)break;g+=w}t=g,h=!0}return h?(t+="...",this.truncatedItems.add(s)):this.truncatedItems.delete(s),t}updatePagination(t,e,n){const i=this.getOrientation(),o=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=i,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:s,maxPageHeight:a,maxPageWidth:c,paginationBBox:h,paginationVertical:p}=this.calculatePagination(t,e,n),g=s.findIndex(A=>A.endIndex>=o);this.pagination.currentPage=Math.min(Math.max(g,0),s.length-1);const{paddingX:m,paddingY:_}=this.item,b=a-_;let R=0,T=-h.y-this.item.marker.size/2;return p?T+=b+8:(R+=c-m-h.x+8,T+=(b-h.height)/2),this.pagination.translationX=R,this.pagination.translationY=T,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:a,maxPageWidth:c,pages:s}}calculatePagination(t,e,n){var i,o,s;const{paddingX:a,paddingY:c}=this.item,h=this.getOrientation(),p=["left","right"].includes(this.position);let g=this.pagination.computeBBox(),m=new un(0,0,0,0),_=[],w=0,E=0,b=0;const R=A=>{const{width:x,height:P}=A;return x===g.width&&P===g.height},T=void 0!==this.maxWidth||void 0!==this.maxHeight;do{if(b++>10){at.warn("unable to find stable legend layout.");break}g=m;const P=x3({orientation:h,bboxes:t,maxHeight:n-(p?g.height:0),maxWidth:e-(p?0:g.width),itemPaddingY:c,itemPaddingX:a,forceResult:T});_=null!==(i=P?.pages)&&void 0!==i?i:[],w=null!==(o=P?.maxPageWidth)&&void 0!==o?o:0,E=null!==(s=P?.maxPageHeight)&&void 0!==s?s:0;const k=_.length;if(this.pagination.visible=k>1,this.pagination.totalPages=k,this.pagination.update(),m=this.pagination.computeBBox(),!this.pagination.visible)break}while(!R(m));return{maxPageWidth:w,maxPageHeight:E,pages:_,paginationBBox:g,paginationVertical:p}}updatePositions(t=0){const{item:{paddingY:e},itemSelection:n,pages:i}=this;if(i.length<1||!i[t])return;const{columns:o,startIndex:s,endIndex:a}=i[t];let c=0,h=0;const p=o.length,g=o[0].indices.length,m="horizontal"===this.getOrientation(),_=o[0].bboxes[0].height+e,w=[];n.each((E,b,R)=>{var T,A;if(R<s||R>a)return void(E.visible=!1);const x=R-s;let P=0,k=0;m?(P=x%p,k=Math.floor(x/p)):(P=Math.floor(x/g),k=x%g),E.visible=!0;const V=o[P];V&&(h=_*k,c=null!==(T=w[k])&&void 0!==T?T:0,w[k]=(null!==(A=w[k])&&void 0!==A?A:0)+V.columnWidth,E.translationX=Math.floor(c),E.translationY=Math.floor(h))})}updatePageNumber(t){const{pages:e}=this,{startIndex:n,endIndex:i}=e[t];this.paginationTrackingIndex=0===n?0:t===e.length-1?i:Math.floor((n+i)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.ctx.updateService.update(ln.SCENE_RENDER)}update(){const{marker:{strokeWidth:t},label:{color:e}}=this.item;this.itemSelection.each((n,i)=>{const o=i.marker;n.markerFill=o.fill,n.markerStroke=o.stroke,n.markerStrokeWidth=t,n.markerFillOpacity=o.fillOpacity,n.markerStrokeOpacity=o.strokeOpacity,n.opacity=i.enabled?1:.5,n.color=e})}getDatumForPoint(t,e){const n=[],i={dist:1/0,datum:void 0};for(const s of this.group.children){if(!(s.visible&&s instanceof To))continue;const a=s.computeBBox();if(a.grow(this.item.paddingX/2,"horizontal"),a.grow(this.item.paddingY/2,"vertical"),a.containsPoint(t,e))return s.datum;const c=t-a.x-this.item.paddingX/2,h=e-a.y-this.item.paddingY/2,p=Math.pow(c,2)+Math.pow(h,2);c>=0&&h>=0&&p<i.dist&&(i.dist=p,i.datum=s.datum),n.push(a)}if(un.merge(n).containsPoint(t,e))return i.datum}computeBBox(){return this.group.computeBBox()}computePagedBBox(){const t=this.group.computeBBox();if(this.pages.length<=1)return t;const[e,n]=this.maxPageSize;return t.height=Math.max(n,t.height),t.width=Math.max(e,t.width),t}checkLegendClick(t){const{listeners:{legendItemClick:e},ctx:{dataService:n,highlightManager:i},item:{toggleSeriesVisible:o}}=this,{offsetX:s,offsetY:a}=t,c=this.computeBBox(),h=this.group.visible&&c.containsPoint(s,a),p=this.getDatumForPoint(s,a);if(!h||!p)return;const{id:g,itemId:m,enabled:_}=p,E=n.getSeries().find(R=>R.id===g);if(!E)return;t.consume();let b=_;o&&(b=!_,this.ctx.chartEventManager.legendItemClick(E,m,b,p.legendItemName)),b?i.updateHighlight(this.id,{series:E,itemId:m,datum:void 0}):i.updateHighlight(this.id),this.ctx.updateService.update(ln.PROCESS_DATA,{forceNodeDataRefresh:!0}),e?.({type:"click",enabled:b,itemId:m,seriesId:E.id})}checkLegendDoubleClick(t){var e;const{listeners:{legendItemDoubleClick:n},ctx:{dataService:i},item:{toggleSeriesVisible:o}}=this,{offsetX:s,offsetY:a}=t;if("integrated"===this.ctx.mode)return;const c=this.computeBBox(),h=this.group.visible&&c.containsPoint(s,a),p=this.getDatumForPoint(s,a);if(!h||!p)return;const{id:g,itemId:m,seriesId:_}=p,w=i.getSeries(),E=w.find(b=>b.id===g);if(E){if(t.consume(),o){const b=w.reduce((A,x)=>[...A,...x.getLegendData().filter(P=>"category"===P.legendType)],[]),R={};b.forEach(A=>{var x,P;null!==(x=R[P=A.seriesId])&&void 0!==x||(R[P]=0),A.enabled&&R[A.seriesId]++});const T=b.find(A=>A.itemId===m&&A.seriesId===_);this.ctx.chartEventManager.legendItemDoubleClick(E,m,null!==(e=T?.enabled)&&void 0!==e&&e,R,T?.legendItemName)}this.ctx.updateService.update(ln.PROCESS_DATA,{forceNodeDataRefresh:!0}),n?.({type:"dblclick",enabled:!0,itemId:m,seriesId:E.id})}}handleLegendMouseMove(t){var e;const{enabled:n,item:{toggleSeriesVisible:i},listeners:o}=this;if(!n)return;const s=this.computeBBox(),{pageX:a,pageY:c,offsetX:h,offsetY:p}=t,g=this.group.visible&&s.containsPoint(h,p);if(!g)return this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id),void this.ctx.tooltipManager.removeTooltip(this.id);t.consume();const m=this.getDatumForPoint(h,p);if(!g||void 0===m)return this.ctx.cursorManager.updateCursor(this.id),void this.ctx.highlightManager.updateHighlight(this.id);const w=m?this.ctx.dataService.getSeries().find(E=>E.id===m?.id):void 0;if(m&&this.truncatedItems.has(null!==(e=m.itemId)&&void 0!==e?e:m.id)){const E=this.getItemLabel(m);this.ctx.tooltipManager.updateTooltip(this.id,{pageX:a,pageY:c,offsetX:h,offsetY:p,event:t,showArrow:!1},ur({content:E}))}else this.ctx.tooltipManager.removeTooltip(this.id);(i||null!=o.legendItemClick||null!=o.legendItemDoubleClick)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),m?.enabled&&w?this.ctx.highlightManager.updateHighlight(this.id,{series:w,itemId:m?.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}positionLegend(t){const e=t.clone();if(!this.enabled||!this.data.length)return{shrinkRect:e};const[n,i]=this.calculateLegendDimensions(t);this.group.translationX=0,this.group.translationY=0,this.performLayout(n,i);const o=this.computePagedBBox(),s=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return t.height-o.height;default:return t.width-o.width}};if(this.visible){let a,c;switch(this.position){case"top":case"bottom":a=(t.width-o.width)/2,c=s(),e.shrink(o.height,this.position);break;default:a=s(),c=(t.height-o.height)/2,e.shrink(o.width,this.position)}this.group.translationX=Math.floor(-o.x+t.x+a),this.group.translationY=Math.floor(-o.y+t.y+c)}if(this.visible&&this.enabled&&this.data.length){e.shrink(this.spacing,this.position);const c=o.clone();c.x+=this.group.translationX,c.y+=this.group.translationY,this.ctx.tooltipManager.updateExclusiveRect(this.id,c)}else this.ctx.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:e}}calculateLegendDimensions(t){const{width:e,height:n}=t,i=e/n;let c=0,h=0;switch(this.position){case"top":case"bottom":const p=i<1?Math.min(.5,1/i*.2):.2;c=this.maxWidth?Math.min(this.maxWidth,e):e,h=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*p);break;default:const g=i>1?Math.min(.5,.25*i):.25;c=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*g),h=this.maxHeight?Math.min(this.maxHeight,n):n}return[c,h]}}Uu.className="Legend",oi([G(Mn)],Uu.prototype,"_enabled",void 0),oi([G(NG)],Uu.prototype,"position",void 0),oi([G(yn(0))],Uu.prototype,"maxWidth",void 0),oi([G(yn(0))],Uu.prototype,"maxHeight",void 0),oi([G(wl)],Uu.prototype,"reverseOrder",void 0),oi([G(G3)],Uu.prototype,"orientation",void 0),oi([G($e(0))],Uu.prototype,"spacing",void 0);const cR={category:Uu};function V3(r,t){if(cR[r])throw new Error(`AG Charts - already registered legend type: ${r}`);cR[r]=t}class B3{constructor(){this.cache=new Map}call(t,...e){let n,i=this.cache.get(t);const o=()=>{try{const s=t(...e);return i&&null!=n&&i.set(n,s),s}catch(s){return void at.warnOnce("User callback errored, ignoring",s)}};try{n=JSON.stringify(e)}catch{return o()}return null==i&&(i=new Map,this.cache.set(t,i)),i.has(n)?i.get(n):o()}invalidateCache(){this.cache=new Map}}var lV=function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})};let j3=(()=>{class r{constructor(){this.requested=[],this.status="setup"}request(e,n,i){return lV(this,void 0,void 0,function*(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");return new Promise((o,s)=>{this.requested.push({id:e,opts:i,data:n,resultCb:o,reject:s})})})}execute(){return lV(this,void 0,void 0,function*(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",r.DEBUG()&&at.debug("DataController.execute() - requested",this.requested);const e=this.mergeRequested();r.DEBUG()&&at.debug("DataController.execute() - merged",e);for(const{opts:n,data:i,resultCbs:o,rejects:s,ids:a}of e)try{const c=new R2(n),h=c.processData(i);h&&0===h.partialValidDataCount?o.forEach(p=>p({dataModel:c,processedData:h})):h?this.splitResult(c,h,a,o):s.forEach(p=>p(new Error("AG Charts - no processed data generated")))}catch(c){s.forEach(h=>h(c))}})}mergeRequested(){const e=[],n=c=>c.filter(h=>"key"===h.type).map(h=>h.property).join(";"),i=({opts:c,data:h})=>p=>p[0].data===h&&p[0].opts.groupByKeys===c.groupByKeys&&p[0].opts.dataVisible===c.dataVisible&&p[0].opts.groupByFn===c.groupByFn&&n(p[0].opts.props)===n(c.props),o=c=>h=>{var p;if(h.type!==c.type||h.id!==c.id)return!1;const g=null!==(p=wp(h,c))&&void 0!==p?p:{};return delete g.scopes,0===Object.keys(g).length},s=c=>Object.assign(Object.assign({},c[0]),{props:c.reduce((h,p)=>{var g,m,_;for(const w of p.props){const E=h.find(o(w));E?(null!==(g=E.scopes)&&void 0!==g||(E.scopes=[]),E.scopes.push(...null!==(m=w.scopes)&&void 0!==m?m:[],...null!==(_=p.scopes)&&void 0!==_?_:[])):h.push(w)}return h},[])});for(const c of this.requested){const h=e.find(i(c));h?h.push(c):e.push([c])}return e.map(c=>({ids:c.map(({id:h})=>h),resultCbs:c.map(({resultCb:h})=>h),rejects:c.map(({reject:h})=>h),data:c[0].data,opts:s(c.map(({opts:h})=>h))}))}splitResult(e,n,i,o){for(let s=0;s<i.length;s++){const a=i[s];(0,o[s])({dataModel:e,processedData:Object.assign(Object.assign({},n),{data:n.data.filter(({validScopes:h})=>null==h||h.some(p=>p===a))})})}}}return r.DEBUG=()=>{var t;return null!==(t=[!0,"data-model"].includes(ua("agChartsDebug")))&&void 0!==t&&t},r})();class U3{constructor(){this.groups={}}registerSeries({id:t,seriesGrouping:e,visible:n,type:i}){var o,s;e&&(null!==(o=(s=this.groups)[i])&&void 0!==o||(s[i]={}),this.groups[i][t]={grouping:e,visible:n})}deregisterSeries({id:t,type:e}){this.groups[e]&&delete this.groups[e][t],this.groups[e]&&0===Object.keys(this.groups[e]).length&&delete this.groups[e]}getVisiblePeerGroupIndex({type:t,seriesGrouping:e}){var n;if(!e)return{visibleGroupCount:1,index:0};const i=[...Object.entries(null!==(n=this.groups[t])&&void 0!==n?n:{}).filter(([o,s])=>s.visible).reduce((o,[s,a])=>(a.visible&&o.add(a.grouping.groupIndex),o),new Set).values()];return i.sort((o,s)=>o-s),{visibleGroupCount:i.length,index:i.indexOf(e.groupIndex)}}}class W3{constructor(t){this.groups={},this.series={},this.rootGroup=t}requestGroup(t){var e,n,i,o;const{id:s,type:a,rootGroup:c,seriesGrouping:h}=t,{groupIndex:p=s}=h??{};if(null!=this.series[s])throw new Error(`AG Charts - series already has an allocated layer: ${this.series[s]}`);null!==(e=(i=this.groups)[a])&&void 0!==e||(i[a]={});let g=this.groups[a][p];return g||(g=null!==(n=(o=this.groups[a])[p])&&void 0!==n?n:o[p]={seriesIds:[],group:this.rootGroup.appendChild(new Ht({name:`${a}-content`,layer:!0,zIndex:mi.SERIES_LAYER_ZINDEX,zIndexSubOrder:t.getGroupZIndexSubOrder("data")}))}),this.series[s]={layerState:g,seriesConfig:t},g.seriesIds.push(s),g.group.appendChild(c),g.group}changeGroup(t){var e,n;const{id:i,seriesGrouping:o,type:s,rootGroup:a,oldGrouping:c}=t,{groupIndex:h=i}=o??{};null!==(n=null===(e=this.groups[s])||void 0===e?void 0:e[h])&&void 0!==n&&n.seriesIds.includes(i)||(null!=this.series[i]&&this.releaseGroup({id:i,seriesGrouping:c,type:s,rootGroup:a}),this.requestGroup(t))}releaseGroup(t){var e,n,i,o,s;const{id:a,seriesGrouping:c,rootGroup:h,type:p}=t,{groupIndex:g=a}=c??{};if(null==this.series[a])throw new Error(`AG Charts - series doesn't have an allocated layer: ${a}`);const m=null!==(n=null===(e=this.groups[p])||void 0===e?void 0:e[g])&&void 0!==n?n:null===(i=this.series[a])||void 0===i?void 0:i.layerState;if(m&&(m.seriesIds=m.seriesIds.filter(_=>_!==a),m.group.removeChild(h)),0===m?.seriesIds.length)this.rootGroup.removeChild(m.group),delete this.groups[p][g],delete this.groups[p][a];else if(m?.seriesIds.length>0){const _=null===(s=this.series[null===(o=m?.seriesIds)||void 0===o?void 0:o[0]])||void 0===s?void 0:s.seriesConfig;m.group.zIndexSubOrder=_?.getGroupZIndexSubOrder("data")}delete this.series[a]}destroy(){for(const t of Object.values(this.groups))for(const e of Object.values(t))this.rootGroup.removeChild(e.group);this.groups={},this.series={}}}var Dl=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qd=function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})};class Yo extends TG{constructor(t=window.document,e,n){var i;super(),this.id=Wd(this),this.processedOptions={},this.userOptions={},this.queuedUserOptions=[],this.seriesRoot=new Ht({name:`${this.id}-Series-root`}),this.extraDebugStats={},this.container=void 0,this.data=[],this.padding=new _p(20),this.seriesAreaPadding=new _p(0),this.title=void 0,this.subtitle=void 0,this.footnote=void 0,this.mode="standalone",this._destroyed=!1,this.modules={},this.legendModules={},this._pendingFactoryUpdates=[],this._performUpdateNoRenderCount=0,this._performUpdateType=ln.NONE,this.seriesToUpdate=new Set,this.performUpdateTrigger=function t3(r){return KG((t,e=0)=>setTimeout(t,e),r)}(({count:h})=>qd(this,void 0,void 0,function*(){if(!this._destroyed)try{yield this.performUpdate(h)}catch(p){this._lastPerformUpdateError=p,at.error("update error",p)}})),this._axes=[],this._series=[],this.applyLegendOptions=void 0,this.lastInteractionEvent=void 0,this.pointerScheduler=function e3(r){return KG((t,e)=>requestAnimationFrame(t),r)}(()=>{this.lastInteractionEvent&&this.handlePointer(this.lastInteractionEvent),this.lastInteractionEvent=void 0}),this.onSeriesNodeClick=h=>{const p=Object.assign(Object.assign({},h),{type:"seriesNodeClick"});Object.defineProperty(p,"series",{enumerable:!1,get:()=>h.series}),this.fireEvent(p)},this.onSeriesNodeDoubleClick=h=>{const p=Object.assign(Object.assign({},h),{type:"seriesNodeDoubleClick"});this.fireEvent(p)};const o=n?.scene,s=null!==(i=n?.element)&&void 0!==i?i:t.createElement("div"),a=n?.container,c=new Ht({name:"root"});c.visible=!1,c.append(this.seriesRoot),this.axisGroup=new Ht({name:"Axes",layer:!0,zIndex:mi.AXIS_ZINDEX}),c.appendChild(this.axisGroup),this.element=s,s.classList.add("ag-chart-wrapper"),s.style.position="relative",this.scene=o??new JW({document:t,overrideDevicePixelRatio:e}),this.scene.debug.consoleLog=!1,this.scene.root=c,this.scene.container=s,this.autoSize=!0,this.chartEventManager=new l3,this.cursorManager=new a3(s),this.highlightManager=new c3,this.interactionManager=new Kd(s),this.zoomManager=new p3,this.dataService=new C3(()=>this.series),this.layoutService=new y3,this.updateService=new _3((h=ln.FULL,{forceNodeDataRefresh:p})=>this.update(h,{forceNodeDataRefresh:p})),this.seriesStateManager=new U3,this.seriesLayerManager=new W3(this.seriesRoot),this.callbackCache=new B3,this.animationManager=new s3(this.interactionManager),this.animationManager.skipAnimations=!0,this.animationManager.play(),this.tooltip=new ha(this.scene.canvas.element,t,t.body),this.tooltipManager=new f3(this.tooltip,this.interactionManager),this.overlays=new n3(this.element),this.highlight=new iV,this.container=a,this.debug=!1,sR.observe(this.element,h=>{var p;const{width:g,height:m}=h;if(!this.autoSize||0===g&&0===m)return;const[_=0,w=0]=null!==(p=this._lastAutoSize)&&void 0!==p?p:[];_===g&&w===m||(this._lastAutoSize=[g,m],this.resize())}),this.layoutService.addListener("start-layout",h=>this.positionPadding(h.shrinkRect)),this.layoutService.addListener("start-layout",h=>this.positionCaptions(h.shrinkRect)),this.interactionManager.addListener("click",h=>this.onClick(h)),this.interactionManager.addListener("dblclick",h=>this.onDoubleClick(h)),this.interactionManager.addListener("hover",h=>this.onMouseMove(h)),this.interactionManager.addListener("leave",h=>this.onLeave(h)),this.interactionManager.addListener("page-left",()=>this.destroy()),this.interactionManager.addListener("wheel",()=>this.disablePointer()),this.animationManager.addListener("animation-frame",h=>{this.update(ln.SCENE_RENDER)}),this.highlightManager.addListener("highlight-change",h=>this.changeHighlightDatum(h)),this.zoomManager.addListener("zoom-change",h=>this.update(ln.PROCESS_DATA,{forceNodeDataRefresh:!0})),this.attachLegend("category")}getOptions(){var t;const{queuedUserOptions:e}=this;return yi([null!==(t=e[e.length-1])&&void 0!==t?t:this.userOptions])}autoSizeChanged(t){const{style:e}=this.element;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize()}else e.display="inline-block",e.width="auto",e.height="auto"}download(t,e){this.scene.download(t,e)}get destroyed(){return this._destroyed}addModule(t){if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);const e=new t.instanceConstructor(this.getModuleContext());this.modules[t.optionsKey]={instance:e},this[t.optionsKey]=e}removeModule(t){var e,n;null===(n=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===n||n.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]}isModuleEnabled(t){return null!=this.modules[t.optionsKey]}getModuleContext(){const{scene:t,animationManager:e,chartEventManager:n,cursorManager:i,highlightManager:o,interactionManager:s,tooltipManager:a,zoomManager:c,dataService:h,layoutService:p,updateService:g,seriesStateManager:m,seriesLayerManager:_,mode:w,callbackCache:E}=this;return{scene:t,animationManager:e,chartEventManager:n,cursorManager:i,highlightManager:o,interactionManager:s,tooltipManager:a,zoomManager:c,dataService:h,layoutService:p,updateService:g,mode:w,seriesStateManager:m,seriesLayerManager:_,callbackCache:E}}destroy(t){var e;if(this._destroyed)return;const n=t?.keepTransferableResources;let i;this._performUpdateType=ln.NONE,this._pendingFactoryUpdates.splice(0),this.tooltipManager.destroy(),this.tooltip.destroy(),null===(e=this.legend)||void 0===e||e.destroy(),this.overlays.noData.hide(),sR.unobserve(this.element);for(const[o,s]of Object.entries(this.modules))s.instance.destroy(),delete this.modules[o],delete this[o];return this.interactionManager.destroy(),this.animationManager.stop(),n?(this.scene.strip(),i={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.removeAllSeries(),this.seriesLayerManager.destroy(),this.axes.forEach(o=>o.destroy()),this.axes=[],this.callbackCache.invalidateCache(),this._destroyed=!0,i}log(...t){this.debug&&at.debug(...t)}disablePointer(t=!1){t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent&&(this.lastInteractionEvent=void 0)}requestFactoryUpdate(t){const e=this._pendingFactoryUpdates,n=e.length;0===n?(e.push(t),this._processCallbacks().catch(i=>at.errorOnce(i))):e.splice(1,n-1,t)}_processCallbacks(){return qd(this,void 0,void 0,function*(){const t=this._pendingFactoryUpdates;for(;t.length>0;)if(this.updatePending)yield YG(1);else{try{yield t[0](),this.callbackCache.invalidateCache()}catch(e){at.error("update error",e)}t.shift()}})}get performUpdateType(){return this._performUpdateType}get updatePending(){return this._performUpdateType!==ln.NONE||null!=this.lastInteractionEvent}get lastPerformUpdateError(){return this._lastPerformUpdateError}awaitUpdateCompletion(){return qd(this,void 0,void 0,function*(){yield this.performUpdateTrigger.await()})}update(t=ln.FULL,e){const{forceNodeDataRefresh:n=!1,seriesToUpdate:i=this.series}=e??{};n&&this.series.forEach(o=>o.markNodeDataDirty());for(const o of i)this.seriesToUpdate.add(o);t<this._performUpdateType&&(this._performUpdateType=t,this.performUpdateTrigger.schedule())}performUpdate(t){var e;return qd(this,void 0,void 0,function*(){const{_performUpdateType:n,extraDebugStats:i}=this;this.log("Chart.performUpdate() - start",ln[n]);const o=[performance.now()];switch(n){case ln.FULL:case ln.PROCESS_DATA:yield this.processData(),this.disablePointer(!0),o.push(performance.now());case ln.PERFORM_LAYOUT:if(!this.checkFirstAutoSize())break;yield this.performLayout(),this.handleOverlays(),this.log("Chart.performUpdate() - seriesRect",this.seriesRect),o.push(performance.now());case ln.SERIES_UPDATE:const{seriesRect:a}=this,c=[...this.seriesToUpdate].map(p=>p.update({seriesRect:a}));this.seriesToUpdate.clear(),yield Promise.all(c),o.push(performance.now());case ln.TOOLTIP_RECALCULATION:const h=this.tooltipManager.getTooltipMeta(this.id);n<ln.SERIES_UPDATE&&"hover"===(null===(e=h?.event)||void 0===e?void 0:e.type)&&this.handlePointer(h.event);case ln.SCENE_RENDER:yield this.scene.render({debugSplitTimes:o,extraDebugStats:i}),this.extraDebugStats={};case ln.NONE:this._performUpdateType=ln.NONE}const s=performance.now();this.log("Chart.performUpdate() - end",{chart:this,durationMs:Math.round(100*(s-o[0]))/100,count:t,performUpdateType:ln[n]})})}checkFirstAutoSize(){if(this.autoSize&&!this._lastAutoSize){const t=this._performUpdateNoRenderCount++,e=10*(2^t);if(t<5)return this._performUpdateType=ln.PERFORM_LAYOUT,this.performUpdateTrigger.schedule(e),this.log("Chart.checkFirstAutoSize() - backing off until first size update",e),!1;this.log("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}set axes(t){const e=new Set;this._axes.forEach(n=>{n.detachAxis(this.axisGroup),e.add(n)}),this._axes=t.filter(n=>!n.linkedTo).concat(t.filter(n=>n.linkedTo)),this._axes.forEach(n=>{n.attachAxis(this.axisGroup),e.delete(n)}),this.zoomManager.updateAxes(this._axes),e.forEach(n=>n.destroy())}get axes(){return this._axes}set series(t){this.removeAllSeries(),t.forEach(e=>this.addSeries(e))}get series(){return this._series}addSeries(t){const{series:e}=this;return e.indexOf(t)<0&&(e.push(t),null==t.rootGroup.parent&&this.seriesLayerManager.requestGroup(t),this.initSeries(t),!0)}initSeries(t){t.chart=this,t.data||(t.data=this.data),this.addSeriesListeners(t),t.addChartEventListeners()}removeAllSeries(){this.series.forEach(t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.destroy(),t.chart=void 0}),this._series=[]}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)}updateAllSeriesListeners(){this.series.forEach(t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(t)})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(e=>e.axes[t.direction]===t)})}assignAxesToSeries(){const t={};this.axes.forEach(e=>{var n;const i=e.direction;(null!==(n=t[i])&&void 0!==n?n:t[i]=[]).push(e)}),this.series.forEach(e=>{e.directions.forEach(n=>{const i=t[n];if(!i)return void at.warn(`no available axis for direction [${n}]; check series and axes configuration.`);const o=e.getKeys(n),s=this.findMatchingAxis(i,e.getKeys(n));s?e.axes[n]=s:at.warn(`no matching axis for direction [${n}] and keys [${o}]; check series and axes configuration.`)})})}findMatchingAxis(t,e){for(const n of t){const i=n.keys;if(!i.length)return n;if(e)for(const o of e)if(i.indexOf(o)>=0)return n}}resize(t,e){var n,i,o,s;t??(t=null!==(n=this.width)&&void 0!==n?n:this.autoSize?null===(i=this._lastAutoSize)||void 0===i?void 0:i[0]:this.scene.canvas.width),e??(e=null!==(o=this.height)&&void 0!==o?o:this.autoSize?null===(s=this._lastAutoSize)||void 0===s?void 0:s[1]:this.scene.canvas.height),this.log("Chart.resize()",{width:t,height:e}),t&&e&&Number.isFinite(t)&&Number.isFinite(e)&&this.scene.resize(t,e)&&(this.disablePointer(),this.update(ln.PERFORM_LAYOUT,{forceNodeDataRefresh:!0}))}processData(){return qd(this,void 0,void 0,function*(){this.axes.length>0&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const t=new j3,e=this.series.map(n=>n.processData(t));yield t.execute(),yield Promise.all(e),yield this.updateLegend()})}placeLabels(){const t=[],e=[];for(const o of this.series){if(!o.visible)continue;const s=o.getLabelData();s&&X2(s[0])&&(e.push(s),t.push(o))}const{seriesRect:n}=this,i=n&&e.length>0?function Z2(r,t,e=5){const n=[];r=r.map(i=>i.slice().sort((o,s)=>s.point.size-o.point.size));for(let i=0;i<r.length;i++){const o=n[i]=[],s=r[i];if(s?.length&&s[0].label)for(let a=0,c=s.length;a<c;a++){const h=s[a],p=h.label,m=h.point.x-.5*p.width,_=h.point.y-.5*h.point.size-p.height-e,{width:w,height:E}=p;t&&!q2(t,m,_,w,E)||r.some(A=>A.some(x=>Y2(x.point,m,_,w,E)))||n.some(A=>A.some(x=>$G(x,m,_,w,E)))||o.push({index:a,text:p.text,x:m,y:_,width:w,height:E,datum:h})}}return n}(e,{x:0,y:0,width:n.width,height:n.height}):[];return new Map(i.map((o,s)=>[t[s],o]))}attachLegend(t){var e;if(this.legendType===t&&this.legend)return this.legend;null===(e=this.legend)||void 0===e||e.destroy(),this.legend=void 0;const i=function H3(r,t){if(cR[r])return new cR[r](t);throw new Error(`AG Charts - unknown legend type: ${r}`)}(t,this.getModuleContext());return i.attachLegend(this.scene.root),this.legend=i,this.legendType=t,i}setLegendInit(t){this.applyLegendOptions=t}updateLegend(){var t;return qd(this,void 0,void 0,function*(){const e=[];this.series.filter(o=>o.showInLegend).forEach(o=>{const s=o.getLegendData();e.push(...s)});const n=e.length>0?e[0].legendType:"category",i=this.attachLegend(n);null===(t=this.applyLegendOptions)||void 0===t||t.call(this,i),"category"===n&&this.validateLegendData(e),i.data=e})}validateLegendData(t){const e={};t.forEach(n=>{var i,o,s,a,c;const h=null===(i=this.series.find(g=>g.id===n.seriesId))||void 0===i?void 0:i.type;if(!h)return;const p=n;null!==(o=e[h])&&void 0!==o||(e[h]={[p.label.text]:new Set}),null!==(s=(a=e[h])[c=p.label.text])&&void 0!==s||(a[c]=new Set),null!=p.marker.fill&&e[h][p.label.text].add(p.marker.fill)}),Object.keys(e).forEach(n=>{Object.keys(e[n]).forEach(i=>{e[n][i].size>1&&at.warnOnce(`legend item '${i}' has multiple fill colors, this may cause unexpected behaviour.`)})})}performLayout(){return qd(this,void 0,void 0,function*(){null!=this.scene.root&&(this.scene.root.visible=!0);const{scene:{width:t,height:e}}=this;let n=new un(0,0,t,e);return({shrinkRect:n}=this.layoutService.dispatchPerformLayout("start-layout",{shrinkRect:n})),({shrinkRect:n}=this.layoutService.dispatchPerformLayout("before-series",{shrinkRect:n})),n})}positionPadding(t){const{padding:e}=this;return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),{shrinkRect:t}}positionCaptions(t){var e;const{title:n,subtitle:i,footnote:o}=this,s=t.clone(),a=p=>{var g;const _=null!==(g=p.lineHeight)&&void 0!==g?g:p.fontSize*Ot.defaultLineHeightRatio,w=t.width,E=Math.max(_,t.height/10);p.computeTextWrap(w,E)},c=p=>{var g;const m=s.y;p.node.x=s.x+s.width/2,p.node.y=m,p.node.textBaseline="top",a(p);const _=p.node.computeBBox(),w=Math.ceil(_.y-m+_.height+(null!==(g=p.spacing)&&void 0!==g?g:0));s.shrink(w,"top")};return n&&(n.node.visible=n.enabled,n.node.visible&&c(n)),i&&(i.node.visible=null!==(e=n?.enabled&&i.enabled)&&void 0!==e&&e,i.node.visible&&c(i)),o&&(o.node.visible=o.enabled,o.node.visible&&(p=>{var g;const m=s.y+s.height;p.node.x=s.x+s.width/2,p.node.y=m,p.node.textBaseline="bottom",a(p);const _=p.node.computeBBox(),w=Math.ceil(m-_.y+(null!==(g=p.spacing)&&void 0!==g?g:0));s.shrink(w,"bottom")})(o)),{shrinkRect:s}}getSeriesRect(){return this.seriesRect}pickSeriesNode(t,e,n){var i,o;const s=performance.now(),a=e?[Ui.EXACT_SHAPE_MATCH]:void 0,c=[...this.series].reverse();let h;for(const p of c){if(!p.visible||!p.rootGroup.visible)continue;const{match:g,distance:m}=null!==(i=p.pickNode(t,a))&&void 0!==i?i:{};if(g&&null!=m&&((!h||h.distance>m)&&m<=(n??1/0)&&(h={series:p,distance:m,datum:g}),0===m))break}return this.extraDebugStats.pickSeriesNode=Math.round((null!==(o=this.extraDebugStats.pickSeriesNode)&&void 0!==o?o:0)+(performance.now()-s)),h}onMouseMove(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(ln.SCENE_RENDER)}onLeave(t){this.tooltip.pointerLeftOntoTooltip(t)||this.disablePointer()}handlePointer(t){const{lastPick:e,hoverRect:n}=this,{offsetX:i,offsetY:o}=t,s=(a=!1)=>{e&&this.disablePointer(a)};n?.containsPoint(i,o)?(this.handlePointerTooltip(t,s),this.handlePointerNode(t)):s()}handlePointerTooltip(t,e){var n,i;const{lastPick:o,tooltip:s}=this,{range:a}=s,{pageX:c,pageY:h,offsetX:p,offsetY:g}=t;let m;"number"==typeof a&&Number.isFinite(a)&&(m=a);const _=this.pickSeriesNode({x:p,y:g},"exact"===a,m);if(!_)return this.tooltipManager.updateTooltip(this.id),void("tooltip"===this.highlight.range&&e(!0));const w="node"===this.highlight.range||!o||o.datum!==_.datum;let E;w?(E=_.series.getTooltipHtml(_.datum),"tooltip"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,_.datum)):o&&(o.event=t.sourceEvent);const x=this.tooltip.enabled&&_.series.tooltip.enabled&&("nearest"===a||null!=m||"exact"===a&&0===_.distance)&&(!w||void 0!==E),k=this.mergePointerDatum({pageX:c,pageY:h,offsetX:p,offsetY:g,event:t,showArrow:_.series.tooltip.showArrow,position:{xOffset:_.datum.series.tooltip.position.xOffset,yOffset:_.datum.series.tooltip.position.yOffset}},_.datum);k.enableInteraction=null!==(i=null===(n=_.series.tooltip.interaction)||void 0===n?void 0:n.enabled)&&void 0!==i&&i,x&&this.tooltipManager.updateTooltip(this.id,k,E)}handlePointerNode(t){this.checkSeriesNodeRange(t,(n,i)=>{(n.hasEventListener("nodeClick")||n.hasEventListener("nodeDoubleClick"))&&this.cursorManager.updateCursor("chart","pointer"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,i)})||(this.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id))}onClick(t){this.checkSeriesNodeClick(t)?this.update(ln.SERIES_UPDATE):this.fireEvent({type:"click",event:t.sourceEvent})}onDoubleClick(t){this.checkSeriesNodeDoubleClick(t)?this.update(ln.SERIES_UPDATE):this.fireEvent({type:"doubleClick",event:t.sourceEvent})}checkSeriesNodeClick(t){return this.checkSeriesNodeRange(t,(e,n)=>e.fireNodeClickEvent(t.sourceEvent,n))}checkSeriesNodeDoubleClick(t){return this.checkSeriesNodeRange(t,(e,n)=>e.fireNodeDoubleClickEvent(t.sourceEvent,n))}checkSeriesNodeRange(t,e){const n=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),i=n?.datum,o=i?.series.nodeClickRange;if(i&&"nearest"===o)return e(i.series,i),!0;let s;"number"==typeof o&&Number.isFinite(o)&&(s=o);const a=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},"exact"===o,s);return!!a&&!(null==s&&("exact"!==o||0!==a.distance)||(e(a.series,a.datum),0))}mergePointerDatum(t,e){const{type:n}=e.series.tooltip.position;if("node"===n&&e.nodeMidPoint){const{x:i,y:o}=e.nodeMidPoint,{canvas:s}=this.scene,a=e.series.contentGroup.inverseTransformPoint(i,o),c=s.element.getBoundingClientRect();return Object.assign(Object.assign({},t),{pageX:Math.round(c.left+window.scrollX+a.x),pageY:Math.round(c.top+window.scrollY+a.y),offsetX:Math.round(a.x),offsetY:Math.round(a.y)})}return t}changeHighlightDatum(t){var e,n;const i=new Set,{series:o,datum:s}=null!==(e=t.currentHighlight)&&void 0!==e?e:{},{series:a,datum:c}=null!==(n=t.previousHighlight)&&void 0!==n?n:{};a&&i.add(a),o&&i.add(o),a?.cursor&&c&&this.cursorManager.updateCursor(a.id),o?.cursor&&s&&this.cursorManager.updateCursor(o.id,o.cursor),this.lastPick=t.currentHighlight?{datum:t.currentHighlight}:void 0,null==o||null==a?this.update(ln.SERIES_UPDATE):this.update(ln.SERIES_UPDATE,{seriesToUpdate:i})}waitForUpdate(t=5e3){return qd(this,void 0,void 0,function*(){const e=performance.now();for(;this._pendingFactoryUpdates.length>0||this.updatePending;){if(performance.now()-e>t)throw new Error("waitForUpdate() timeout reached.");yield YG(5)}yield this.awaitUpdateCompletion()})}handleOverlays(){this.handleNoDataOverlay()}handleNoDataOverlay(){const t=!this.series.some(n=>n.hasData()),e=this.getSeriesRect();t&&e?this.overlays.noData.show(e):this.overlays.noData.hide()}}function EF(r,t,e){return Math.max(t,Math.min(e,r))}Dl([Sl({newValue(r){this.scene.debug.consoleLog=r,this.animationManager&&(this.animationManager.debug=r)}})],Yo.prototype,"debug",void 0),Dl([Sl({newValue(r){this.destroyed||r.appendChild(this.element)},oldValue(r){r.removeChild(this.element)}})],Yo.prototype,"container",void 0),Dl([Sl({newValue(r){var t;null===(t=this.series)||void 0===t||t.forEach(e=>e.data=r)}})],Yo.prototype,"data",void 0),Dl([Sl({newValue(r){this.resize(r)}})],Yo.prototype,"width",void 0),Dl([Sl({newValue(r){this.resize(void 0,r)}})],Yo.prototype,"height",void 0),Dl([Sl({changeValue(r){this.autoSizeChanged(r)}}),G(Mn)],Yo.prototype,"autoSize",void 0),Dl([Sl({newValue(r){var t;null===(t=this.scene.root)||void 0===t||t.appendChild(r.node)},oldValue(r){var t;null===(t=this.scene.root)||void 0===t||t.removeChild(r.node)}})],Yo.prototype,"title",void 0),Dl([Sl({newValue(r){var t;null===(t=this.scene.root)||void 0===t||t.appendChild(r.node)},oldValue(r){var t;null===(t=this.scene.root)||void 0===t||t.removeChild(r.node)}})],Yo.prototype,"subtitle",void 0),Dl([Sl({newValue(r){var t;null===(t=this.scene.root)||void 0===t||t.appendChild(r.node)},oldValue(r){var t;null===(t=this.scene.root)||void 0===t||t.removeChild(r.node)}})],Yo.prototype,"footnote",void 0),Dl([G(LG("standalone","integrated"))],Yo.prototype,"mode",void 0);class dR{constructor(){this.type="band",this.cache=null,this.cacheProps=["_domain","range","_paddingInner","_paddingOuter","round","interval"],this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}didChange(){const{cache:t}=this;return!(t&&!this.cacheProps.some(n=>this[n]!==t[n])||(this.cache={},this.cacheProps.forEach(n=>this.cache[n]=this[n]),0))}refresh(){this.didChange()&&this.update()}set domain(t){const e=[];this.index=new Map;const n=this.index;t.forEach(i=>{void 0===n.get(i)&&n.set(i,e.push(i)-1)}),this._domain=e}get domain(){return this._domain}ticks(){this.refresh();const{interval:t=1}=this,e=Math.abs(Math.round(t));return this._domain.filter((n,i)=>i%e==0)}convert(t){this.refresh();const e=this.index.get(t);if(void 0===e)return NaN;const n=this.ordinalRange[e];return void 0===n?NaN:n}invert(t){this.refresh();const e=this.ordinalRange.findIndex(n=>n===t);return this.domain[e]}get bandwidth(){return this.refresh(),this._bandwidth}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=EF(t,0,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this._paddingInner=EF(t,0,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this._paddingOuter=EF(t,0,1)}get paddingOuter(){return this._paddingOuter}update(){const t=this._domain.length;if(0===t)return;const e=this.round,n=this._paddingInner,i=this._paddingOuter,[o,s]=this.range,a=s-o,c=a/Math.max(1,t+2*i-n),h=e?Math.floor(c):c,g=o+(a-h*(t-n))/2,m=e?Math.round(g):g,_=h*(1-n),w=e?Math.round(_):_,E=c*(1-n),b=[];for(let R=0;R<t;R++)b.push(m+h*R);this._bandwidth=w,this._rawBandwidth=E,this.ordinalRange=b}}var hR=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class io extends gn{constructor(){super(),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}computeBBox(){return new un(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(t,e){return!1}render(t){var e;const{ctx:n,forceRender:i,stats:o}=t;if(this.dirty===Be.NONE&&!i)return void(o&&(o.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(n);let s=this.x1,a=this.y1,c=this.x2,h=this.y2;if(s===c){const p=Math.round(s)+Math.floor(this.strokeWidth)%2/2;s=p,c=p}else if(a===h){const p=Math.round(a)+Math.floor(this.strokeWidth)%2/2;a=p,h=p}n.beginPath(),n.moveTo(s,a),n.lineTo(c,h),this.fillStroke(n),null===(e=this.fillShadow)||void 0===e||e.markClean(),super.render(t)}}io.className="Line",io.defaultStyles=Object.assign({},gn.defaultStyles,{fill:void 0,strokeWidth:1}),hR([lt({redraw:Be.MAJOR})],io.prototype,"x1",void 0),hR([lt({redraw:Be.MAJOR})],io.prototype,"y1",void 0),hR([lt({redraw:Be.MAJOR})],io.prototype,"x2",void 0),hR([lt({redraw:Be.MAJOR})],io.prototype,"y2",void 0);var Ns=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class ci{constructor(){this.node=new Ot,this.enabled=!1,this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.spacing=ci.PADDING,this.lineHeight=void 0,this.maxWidth=void 0,this.maxHeight=void 0,this.wrapping="always";const t=this.node;t.textAlign="center",t.pointerEvents=Ro.None}computeTextWrap(t,e){var n,i;const{text:o,wrapping:s}=this,a=Math.min(null!==(n=this.maxWidth)&&void 0!==n?n:1/0,t),c=null!==(i=this.maxHeight)&&void 0!==i?i:e;if(!isFinite(a)&&!isFinite(c))return void(this.node.text=o);const h=Ot.wrap(o??"",a,c,this,s);this.node.text=h}}function $3(r,t){return r.length===t.length&&r.every((e,n)=>Number(e)===Number(t[n]))}ci.PADDING=10,Ns([G(Mn)],ci.prototype,"enabled",void 0),Ns([G(Mt),Fi("node")],ci.prototype,"text",void 0),Ns([G(mp),Fi("node")],ci.prototype,"fontStyle",void 0),Ns([G(yp),Fi("node")],ci.prototype,"fontWeight",void 0),Ns([G($e(0)),Fi("node")],ci.prototype,"fontSize",void 0),Ns([G(lr),Fi("node")],ci.prototype,"fontFamily",void 0),Ns([G(Un),Fi("node","fill")],ci.prototype,"color",void 0),Ns([G(yn(0))],ci.prototype,"spacing",void 0),Ns([G(yn(0))],ci.prototype,"lineHeight",void 0),Ns([G(yn(0))],ci.prototype,"maxWidth",void 0),Ns([G(yn(0))],ci.prototype,"maxHeight",void 0),Ns([G(uF)],ci.prototype,"wrapping",void 0);let Pn=(()=>{class r{constructor(e,n){this.domain=e,this.range=n,this.nice=!1,this.tickCount=r.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=null,this.strictClampByDefault=!1,this.cache=null,this.cacheProps=["domain","range","nice","tickCount","minTickCount","maxTickCount"]}transform(e){return e}transformInvert(e){return e}fromDomain(e){return"number"==typeof e?e:e instanceof Date?e.getTime():NaN}getDomain(){return this.nice&&(this.refresh(),this.niceDomain)?this.niceDomain:this.domain}convert(e,n){var i;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const o=null!==(i=n?.strict)&&void 0!==i?i:this.strictClampByDefault,s=this.getDomain().map(m=>this.transform(m)),[a,c]=s,{range:h}=this,[p,g]=h;return(e=this.transform(e))<a?o?NaN:p:e>c?o?NaN:g:a===c?(p+g)/2:e===a?p:e===c?g:p+(this.fromDomain(e)-this.fromDomain(a))/(this.fromDomain(c)-this.fromDomain(a))*(g-p)}invert(e){this.refresh();const n=this.getDomain().map(_=>this.transform(_)),[i,o]=n,{range:s}=this,[a,c]=s,h=a>c;let m;return e<(h?c:a)?h?o:i:e>(h?a:c)?h?i:o:(m=this.toDomain(a===c?(this.fromDomain(i)+this.fromDomain(o))/2:this.fromDomain(i)+(e-a)/(c-a)*(this.fromDomain(o)-this.fromDomain(i))),this.transformInvert(m))}didChange(){const{cache:e}=this;return!(e&&!this.cacheProps.some(i=>this[i]!==e[i])||(this.cache={},this.cacheProps.forEach(i=>this.cache[i]=this[i]),0))}refresh(){this.didChange()&&this.update()}isDenseInterval({start:e,stop:n,interval:i,count:o}){const{range:s}=this,a=n-e,c=Math.min(s[0],s[1]);return o??(o=a/("number"==typeof i?i:1)),o>=Math.max(s[0],s[1])-c&&(at.warn("the configured tick interval results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration."),!0)}}return r.defaultTickCount=5,r.defaultMaxTickCount=6,r})();function DF(r,t,e,n,i){if(e<2)return fR(r,t,t-r);const o=kw(r,t,e,n,i);return isNaN(o)?new bF(0):fR(r=Math.ceil(r/o)*o,t=Math.floor(t/o)*o,o)}const uV=[1,2,5,10];function kw(r,t,e,n=0,i=1/0){const s=Math.floor(Math.log10((t-r)/e)),a=Math.pow(10,s),c=uV.map(h=>{const g=Math.ceil((t-r)/(h*a));return{multiplier:h,isWithinBounds:g>=n&&g<=i,diffCount:Math.abs(g-e)}}).sort((h,p)=>h.isWithinBounds!==p.isWithinBounds?h.isWithinBounds?-1:1:h.diffCount-p.diffCount)[0].multiplier;return!c||isNaN(c)?NaN:c*a}class bF extends Array{constructor(t,e){if(super(),e)for(let n=0,i=e.length;n<i;n++)this[n]=e[n];this.fractionDigits=t}}function fR(r,t,e){const i=(c=>{var h,p;const g=c.split("e");return Math.max((null!==(p=null===(h=g[0].split(".")[1])||void 0===h?void 0:h.length)&&void 0!==p?p:0)-Number(g[1]),0)})((e%1).toExponential()),o=Math.pow(10,i),s=Math.ceil((t-r)/e),a=new bF(i);for(let c=0;c<=s;c++)a.push(Math.round((r+e*c)*o)/o);return a}const pR={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function OF(r,t=new Date(r.getFullYear(),0,1)){const e=r.getTimezoneOffset()-t.getTimezoneOffset(),n=r.getTime()-t.getTime()+6e4*e;return Math.floor(n/864e5)}function cV(r,t){const i=(t-new Date(r.getFullYear(),0,1).getDay()+7)%7,o=new Date(r.getFullYear(),0,i+1);return o<=r?Math.floor(OF(r,o)/7)+1:0}function fV(r,t=r.getFullYear()){const n=new Date(t,0,1).getDay(),o=new Date(t,0,(4-n+7)%7-3+1);return o<=r?Math.floor(OF(r,o)/7)+1:fV(r,t-1)}const X3={a:r=>pR.shortDays[r.getDay()],A:r=>pR.days[r.getDay()],b:r=>pR.shortMonths[r.getMonth()],B:r=>pR.months[r.getMonth()],c:"%x, %X",d:(r,t)=>dr(r.getDate(),2,t??"0"),e:"%_d",f:(r,t)=>dr(1e3*r.getMilliseconds(),6,t??"0"),H:(r,t)=>dr(r.getHours(),2,t??"0"),I:(r,t)=>{const e=r.getHours()%12;return 0===e?"12":dr(e,2,t??"0")},j:(r,t)=>dr(OF(r)+1,3,t??"0"),m:(r,t)=>dr(r.getMonth()+1,2,t??"0"),M:(r,t)=>dr(r.getMinutes(),2,t??"0"),L:(r,t)=>dr(r.getMilliseconds(),3,t??"0"),p:r=>r.getHours()<12?"AM":"PM",Q:r=>String(r.getTime()),s:r=>String(Math.floor(r.getTime()/1e3)),S:(r,t)=>dr(r.getSeconds(),2,t??"0"),u:r=>{let t=r.getDay();return t<1&&(t+=7),String(t%7)},U:(r,t)=>dr(cV(r,0),2,t??"0"),V:(r,t)=>dr(fV(r),2,t??"0"),w:(r,t)=>dr(r.getDay(),2,t??"0"),W:(r,t)=>dr(cV(r,1),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(r,t)=>dr(r.getFullYear()%100,2,t??"0"),Y:(r,t)=>dr(r.getFullYear(),4,t??"0"),Z:r=>function q3(r){const t=r.getTimezoneOffset(),e=Math.abs(t);return`${t>0?"-":"+"}${dr(Math.floor(e/60),2,"0")}${dr(Math.floor(e%60),2,"0")}`}(r),"%":()=>"%"},Z3={_:" ",0:"0","-":""};function dr(r,t,e){const n=String(Math.floor(r));return n.length>=t?n:`${e.repeat(t-n.length)}${n}`}function gR(r){const t=[];for(;r.length>0;){let e=r.indexOf("%");if(0!==e){const a=e>0?r.substring(0,e):r;t.push(a)}if(e<0)break;const i=Z3[r[e+1]];null!=i&&e++;const o=r[e+1],s=X3[o];if("function"==typeof s)t.push([s,i]);else if("string"==typeof s){const a=gR(s);t.push([a,i])}else t.push(`${i??""}${o}`);r=r.substring(e+2)}return e=>{const n="number"==typeof e?new Date(e):e;return t.map(i=>"string"==typeof i?i:i[0](n,i[1])).join("")}}var Cn=function(r){return r[r.MILLISECOND=0]="MILLISECOND",r[r.SECOND=1]="SECOND",r[r.MINUTE=2]="MINUTE",r[r.HOUR=3]="HOUR",r[r.WEEK_DAY=4]="WEEK_DAY",r[r.SHORT_MONTH=5]="SHORT_MONTH",r[r.MONTH=6]="MONTH",r[r.SHORT_YEAR=7]="SHORT_YEAR",r[r.YEAR=8]="YEAR",r}(Cn||{});const Sp={[Cn.MILLISECOND]:".%L",[Cn.SECOND]:":%S",[Cn.MINUTE]:"%I:%M",[Cn.HOUR]:"%I %p",[Cn.WEEK_DAY]:"%a",[Cn.SHORT_MONTH]:"%b %d",[Cn.MONTH]:"%B",[Cn.SHORT_YEAR]:"%y",[Cn.YEAR]:"%Y"};function ma(r){return r instanceof Date?r.getTime():r}class pV extends Pn{constructor(){super([new Date(2022,11,7),new Date(2022,11,8)],[0,1]),this.type="time",this.cacheProps=["domain","range","nice","tickCount","interval","minTickCount","maxTickCount"],this.year=FW,this.month=MW,this.week=TW,this.day=OW,this.hour=EW,this.minute=_W,this.second=mW,this.millisecond=pW,this.tickIntervals=[[this.second,1,pp],[this.second,5,5e3],[this.second,15,15e3],[this.second,30,3e4],[this.minute,1,zo],[this.minute,5,5*zo],[this.minute,15,15*zo],[this.minute,30,30*zo],[this.hour,1,yl],[this.hour,3,3*yl],[this.hour,6,6*yl],[this.hour,12,12*yl],[this.day,1,Ud],[this.day,2,2*Ud],[this.week,1,Sw],[this.week,2,2*Sw],[this.week,3,3*Sw],[this.month,1,Ew],[this.month,2,2*Ew],[this.month,3,3*Ew],[this.month,4,4*Ew],[this.month,6,6*Ew],[this.year,1,UO]]}toDomain(t){return new Date(t)}calculateDefaultTickFormat(t=[]){let e=Cn.YEAR;const n=h=>{h<e&&(e=h)};for(const h of t)n(this.getLowestGranularityFormat(h));const i=ma(t[0]),o=ma(t[t.length-1]),s=new Date(i).getFullYear(),c=new Date(o).getFullYear()-s>0;return this.buildFormatString(e,c)}buildFormatString(t,e){let n=[Sp[t]],i=0;const o=this.getDomain(),s=Math.min(...o.map(ma)),c=Math.max(...o.map(ma))-s;switch(t){case Cn.SECOND:c/zo>1&&n.push(Sp[Cn.MINUTE]);case Cn.MINUTE:c/yl>1&&n.push(Sp[Cn.HOUR]);case Cn.HOUR:i=n.length,c/Ud>1&&n.push(Sp[Cn.WEEK_DAY]);case Cn.WEEK_DAY:if(c/Sw>1||e){const h=n.indexOf(Sp[Cn.WEEK_DAY]);h>-1&&n.splice(h,1,Sp[Cn.SHORT_MONTH])}case Cn.SHORT_MONTH:case Cn.MONTH:(c/UO>1||e)&&n.push(Sp[Cn.YEAR])}return i<n.length&&(n=[...n.slice(0,i),n.slice(i).join(" ")]),i>0&&(n=[...n.slice(0,i).reverse(),...n.slice(i)],i<n.length&&n.splice(i,0," ")),n.join("")}getLowestGranularityFormat(t){return this.second.floor(t)<t?Cn.MILLISECOND:this.minute.floor(t)<t?Cn.SECOND:this.hour.floor(t)<t?Cn.MINUTE:this.day.floor(t)<t?Cn.HOUR:this.month.floor(t)<t?this.week.floor(t)<t?Cn.WEEK_DAY:Cn.SHORT_MONTH:this.year.floor(t)<t?Cn.MONTH:Cn.YEAR}defaultTickFormat(t){const e=this.calculateDefaultTickFormat(t);return n=>gR(e)(n)}getTickInterval({start:t,stop:e,count:n,minCount:i,maxCount:o}){const{tickIntervals:s}=this;let a,c;const h=n??Pn.defaultTickCount,p=Math.abs(e-t)/Math.max(h,1);let g=0;for(;g<s.length&&p>s[g][2];)g++;if(0===g)c=Math.max(kw(t,e,h,i,o),1),a=this.millisecond;else if(g===s.length)c=kw(t/UO,e/UO,h,i,o),a=this.year;else{const w=p-s[g-1][2]<s[g][2]-p?g-1:g;[a,c]=s[w]}return a.every(c)}invert(t){return new Date(super.invert(t))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const[t,e]=this.getDomain().map(ma);if(void 0!==this.interval)return this.getTicksForInterval({start:t,stop:e});if(this.nice){const{tickCount:n}=this;if(2===n)return this.niceDomain;if(1===n)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:t,stop:e})}getDefaultTicks({start:t,stop:e}){const n=this.getTickInterval({start:t,stop:e,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return n?n.range(new Date(t),new Date(e)):[]}getTicksForInterval({start:t,stop:e}){const{interval:n,tickIntervals:i}=this;if(!n)return[];if(n instanceof cm){const g=n.range(new Date(t),new Date(e));return this.isDenseInterval({start:t,stop:e,interval:n,count:g.length})?this.getDefaultTicks({start:t,stop:e}):g}const o=Math.abs(n);if(this.isDenseInterval({start:t,stop:e,interval:o}))return this.getDefaultTicks({start:t,stop:e});const s=[...i];s.reverse();const a=s.find(g=>o%g[2]==0);if(a)return a[0].every(o/(a[2]/a[1])).range(new Date(t),new Date(e));let c=new Date(t);const h=new Date(e),p=[];for(;c<=h;)p.push(c),c=new Date(c),c.setMilliseconds(c.getMilliseconds()+o);return p}tickFormat({ticks:t,specifier:e}){return null==e?this.defaultTickFormat(t):gR(e)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[e,n]=this.domain;for(let i=0;i<4;i++){this.updateNiceDomainIteration(e,n);const[o,s]=this.niceDomain;if(ma(e)===ma(o)&&ma(n)===ma(s))break;e=o,n=s}}updateNiceDomainIteration(t,e){const n=ma(t),i=ma(e),{interval:o}=this;let s;if(o instanceof cm)s=o;else{const a="number"==typeof o?(i-n)/Math.max(o,1):this.tickCount;s=this.getTickInterval({start:n,stop:i,count:a,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(s){const a=s.range(t,e,!0);this.niceDomain=[a[0],a[a.length-1]]}}}const ym=r=>`(${r})`,Wu=r=>`${ym(r)}?`,gV=r=>Wu(`?:${r}`),Q3=new RegExp(["^",gV(`${Wu(".")}${ym("[<>=^]")}`),Wu("[+\\-( ]"),Wu("[$\u20ac\xa3\xa5\u20a3\u20b9#]"),Wu("0"),Wu("\\d+"),Wu(","),gV(`\\.${ym("\\d+")}`),Wu("~"),Wu("[%a-z]"),"$"].join(""),"i"),J3=new RegExp(["^",ym(".*?"),`#\\{${ym(".+?")}\\}`,ym(".*?"),"$"].join(""));function vV(r){let t,e;const n=J3.exec(r);n&&([,t,r,e]=n);const i=Q3.exec(r);if(!i)throw new Error(`The number formatter is invalid: ${r}`);const[,o,s,a,c,h,p,g,m,_,w]=i;return{fill:o,align:s,sign:a,symbol:c,zero:h,width:parseInt(p),comma:g,precision:parseInt(m),trim:!!_,type:w,prefix:t,suffix:e}}function mV(r){const t="string"==typeof r?vV(r):r,{fill:e,align:n,sign:i="-",symbol:o,zero:s,width:a,comma:c,type:h,prefix:p="",suffix:g="",precision:m}=t;let{trim:_}=t;const w=void 0===m||isNaN(m);let E,b;if(h)if(h in qo&&h in Cm)E=w?Cm[h]:qo[h];else if(h in qo)E=qo[h];else{if(!(h in Cm))throw new Error(`The number formatter type is invalid: ${h}`);E=Cm[h]}else E=qo.g,_=!0;return b=null==m||w?h?6:12:m,R=>{let T=E(R,b);return _&&(T=function ez(r){return r.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}(T)),c&&(T=function tz(r,t){let e=r.indexOf(".");e<0&&(e=r.length);const n=r.substring(0,e).split(""),i=r.substring(e);for(let o=n.length-3;o>0;o-=3)n.splice(o,0,t);return`${n.join("")}${i}`}(T,c)),T=function oz(r,t,e=""){if("("===e)return r>=0?t:`(${t})`;return`${r>=0?"+"===e?"+":"":rz}${t}`}(R,T,i),o&&"#"!==o&&(T=`${o}${T}`),"#"===o&&"x"===h&&(T=`0x${T}`),"s"===h&&(T=`${T}${function nz(r){return iz[yV(r)]}(R)}`),("%"===h||"p"===h)&&(T=`${T}%`),null!=a&&!isNaN(a)&&(T=function sz(r,t,e=" ",n=">"){let i=r;if(">"!==n&&n){if("<"===n)i=i.padEnd(t,e);else if("^"===n){const o=Math.max(0,t-i.length),s=Math.ceil(o/2),a=Math.floor(o/2);i=i.padStart(s+i.length,e),i=i.padEnd(a+i.length,e)}}else i=i.padStart(t,e);return i}(T,a,e??s,n)),T=`${p}${T}${g}`,T}}const vR=r=>Math.floor(Math.abs(r)),Cm={b:r=>vR(r).toString(2),c:r=>String.fromCharCode(r),d:r=>Math.round(Math.abs(r)).toFixed(0),o:r=>vR(r).toString(8),x:r=>vR(r).toString(16),X:r=>Cm.x(r).toUpperCase(),n:r=>Cm.d(r),"%":r=>`${vR(100*r).toFixed(0)}`},qo={e:(r,t)=>Math.abs(r).toExponential(t),E:(r,t)=>qo.e(r,t).toUpperCase(),f:(r,t)=>Math.abs(r).toFixed(t),F:(r,t)=>qo.f(r,t).toUpperCase(),g:(r,t)=>{if(0===r)return"0";const e=Math.abs(r),n=Math.floor(Math.log10(e));return n>=-4&&n<t?e.toFixed(t-1-n):e.toExponential(t-1)},G:(r,t)=>qo.g(r,t).toUpperCase(),n:(r,t)=>qo.g(r,t),p:(r,t)=>qo.r(100*r,t),r:(r,t)=>{if(0===r)return"0";const e=Math.abs(r),i=Math.floor(Math.log10(e))-(t-1);if(i<=0)return e.toFixed(-i);const o=Math.pow(10,i);return(Math.round(e/o)*o).toFixed()},s:(r,t)=>{const e=yV(r);return qo.r(r/Math.pow(10,e),t)},"%":(r,t)=>qo.f(100*r,t)};function yV(r){const t=Math.log10(Math.abs(r)),e=3*Math.floor(t/3);return Math.max(CV,Math.min(_V,e))}const CV=-24,_V=24,iz={[CV]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xb5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[_V]:"Y"},rz="\u2212",wV=r=>r;class Gw extends Pn{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.cacheProps=["domain","range","nice","tickCount","base"],this.baseLog=wV,this.basePow=wV,this.log=t=>this.domain[0]>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>this.domain[0]>=0?this.basePow(t):-this.basePow(-t)}toDomain(t){return t}transform(t){return this.domain[0]>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return this.domain[0]>=0?Math.exp(t):-Math.exp(-t)}update(){!this.domain||this.domain.length<2||(this.updateLogFn(),this.updatePowFn(),this.nice&&this.updateNiceDomain())}updateLogFn(){const{base:t}=this;let e;if(10===t)e=Math.log10;else if(t===Math.E)e=Math.log;else if(2===t)e=Math.log2;else{const n=Math.log(t);e=i=>Math.log(i)/n}this.baseLog=e}updatePowFn(){const{base:t}=this;let e;e=10===t?Gw.pow10:t===Math.E?Math.exp:n=>Math.pow(t,n),this.basePow=e}updateNiceDomain(){const[t,e]=this.domain,n=this.pow(Math.floor(this.log(t))),i=this.pow(Math.ceil(this.log(e)));this.niceDomain=[n,i]}static pow10(t){return t>=0?Math.pow(10,t):1/Math.pow(10,-t)}ticks(){var t;const e=null!==(t=this.tickCount)&&void 0!==t?t:10;if(!this.domain||this.domain.length<2||e<1)return[];this.refresh();const n=this.base,[i,o]=this.getDomain();let s=this.log(i),a=this.log(o);if(this.interval){const b=Math.abs(this.interval),R=Math.abs(a-s),T=fR(s,a,Math.min(R,b)).map(A=>this.pow(A)).filter(A=>A>=i&&A<=o);if(!this.isDenseInterval({start:i,stop:o,interval:b,count:T.length}))return T}if(n%1!=0||a-s>=e)return DF(s,a,Math.min(a-s,e)).map(b=>this.pow(b));const p=[],g=i>0;s=Math.floor(s)-1,a=Math.round(a)+1;const m=Math.min(...this.range),w=(Math.max(...this.range)-m)/e;let E=1/0;for(let b=s;b<=a;b++){const R=this.convert(this.pow(b+1));for(let T=1;T<n;T++){const A=g?T:n-T+1,x=this.pow(b)*A,P=this.convert(x),k=Math.abs(E-P),V=Math.abs(P-R);x>=i&&x<=o&&(1===T||k>=w&&V>=w)&&(p.push(x),E=P)}}return p}tickFormat({count:t,ticks:e,specifier:n}){const{base:i}=this;return null==n&&(n=10===i?".0e":","),"string"==typeof n&&(n=mV(n)),t===1/0?n:(null==e&&this.ticks(),o=>n(o))}}function zu(r){const{length:t}=r;if(0===t)return;let e=1/0,n=-1/0;for(let o=0;o<t;o++){let s=r[o];s instanceof Date&&(s=s.getTime()),"number"==typeof s&&(s<e&&(e=s),s>n&&(n=s))}const i=[e,n];return i.some(o=>!isFinite(o))?void 0:i}!function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([G($e(0))],Gw.prototype,"base",void 0);var _m=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class hr{constructor(){this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}getFont(){return vp(this)}}function RF(r){const{parallelFlipRotation:t=0,regularFlipRotation:e=0}=r,n=r.rotation?to(ca(r.rotation)):0,i=!n&&t>=0&&t<=Math.PI?-1:1,o=!n&&e>=0&&e<=Math.PI?-1:1;let s=0;return r.parallel?s=i*Math.PI/2:-1===o&&(s=Math.PI),{configuredRotation:n,defaultRotation:s,parallelFlipFlag:i,regularFlipFlag:o}}function TF(r,t,e,n,i){const o=t>0&&t<=Math.PI,s=e>0&&e<=Math.PI;if(r){if(!t&&!e)return"center";if(n*(o||s?-1:1)==-1)return"end"}else if(n*i==-1)return"end";return"start"}function hz(r,t,e,n,i){const{width:o,height:s}=t,a=new un(e,n,0,0);i.transformBBox(a,t);const{x:c=0,y:h=0}=t;return t.width=o,t.height=s,{point:{x:c,y:h,size:0},label:{width:o,height:s,text:r}}}function Xd(r,t=[void 0]){return dm((e,n,i)=>t.includes(i)?r:i)}_m([G(Mn)],hr.prototype,"enabled",void 0),_m([G($e(0))],hr.prototype,"fontSize",void 0),_m([G(lr)],hr.prototype,"fontFamily",void 0),_m([G(mp)],hr.prototype,"fontStyle",void 0),_m([G(yp)],hr.prototype,"fontWeight",void 0),_m([G($o)],hr.prototype,"color",void 0);var zi=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class Ci{constructor(){this.enabled=!0,this.autoWrap=!1,this.maxWidth=void 0,this.maxHeight=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.format=void 0}getSideFlag(){return this.mirrored?1:-1}getFont(){return vp(this)}}zi([G(Mn)],Ci.prototype,"enabled",void 0),zi([G(wl)],Ci.prototype,"autoWrap",void 0),zi([G(yn(0))],Ci.prototype,"maxWidth",void 0),zi([G(yn(0))],Ci.prototype,"maxHeight",void 0),zi([G(mp)],Ci.prototype,"fontStyle",void 0),zi([G(yp)],Ci.prototype,"fontWeight",void 0),zi([G($e(1))],Ci.prototype,"fontSize",void 0),zi([G(lr)],Ci.prototype,"fontFamily",void 0),zi([G($e(0))],Ci.prototype,"padding",void 0),zi([G($d()),Xd(NaN)],Ci.prototype,"minSpacing",void 0),zi([G(Un)],Ci.prototype,"color",void 0),zi([G(yn(-360,360))],Ci.prototype,"rotation",void 0),zi([G(wl)],Ci.prototype,"autoRotate",void 0),zi([G($e(-360,360))],Ci.prototype,"autoRotateAngle",void 0),zi([G(Mn)],Ci.prototype,"avoidCollisions",void 0),zi([G(Mn)],Ci.prototype,"mirrored",void 0),zi([G(Mn)],Ci.prototype,"parallel",void 0),zi([G(Mt)],Ci.prototype,"format",void 0);var SV=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class mR{constructor(){this.width=1,this.color="rgba(195, 195, 195, 1)"}}SV([G($e(0))],mR.prototype,"width",void 0),SV([G(Un)],mR.prototype,"color",void 0);var Zd=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};const fz=St((r,t)=>$e(0)(r,t)||r instanceof cm,"expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),pz=St((r,t)=>Jn(r,t,fz),"expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),gz=St((r,t)=>Jn(r,t,(e,n)=>0!==e&&$e(0)(e,n)||e instanceof cm),"expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'");class ya{constructor(){this.enabled=!0,this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}}Zd([G(Mn)],ya.prototype,"enabled",void 0),Zd([G($e(0))],ya.prototype,"width",void 0),Zd([G($e(0))],ya.prototype,"size",void 0),Zd([G(Un)],ya.prototype,"color",void 0),Zd([G(pz),function A2(r,t){const e=t?.default,n=GG();return dm((i,o,s)=>(s!==e&&n(o.toString(),r),s))}("Use tick.interval or tick.minSpacing and tick.maxSpacing instead")],ya.prototype,"count",void 0),Zd([G(gz)],ya.prototype,"interval",void 0),Zd([G(aF())],ya.prototype,"values",void 0),Zd([G(Vu($d(1),ZO("maxSpacing"))),Xd(NaN)],ya.prototype,"minSpacing",void 0);let AF=(()=>{class r{constructor(e,n){this.state=e,this.states=n,r.DEBUG()&&at.debug(`%c${this.constructor.name} | init -> ${e}`,"color: green")}transition(e,n){var i,o,s,a,c;const h=this.states[this.state],p=null===(i=h?.on)||void 0===i?void 0:i[e];if(!p)return void(r.DEBUG()&&at.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${this.state}`,"color: grey"));const g=p.target,m=this.states[g];return r.DEBUG()&&at.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${g}`,"color: green"),p.action(n),null===(s=null===(o=h?.actions)||void 0===o?void 0:o.onExit)||void 0===s||s.call(o),null===(c=null===(a=m?.actions)||void 0===a?void 0:a.onEnter)||void 0===c||c.call(a),this.state=g,this.state}}return r.DEBUG=()=>{var t;return null!==(t=[!0,"animation"].includes(ua("agChartsDebug")))&&void 0!==t&&t},r})();var xF=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};const mz=["stroke","lineDash"],yz=St(zd(void 0,r=>{for(const t in r)if(!mz.includes(t))return!1;return!0}),"expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'");var yR=function(r){return r[r.TickLine=0]="TickLine",r[r.TickLabel=1]="TickLabel",r[r.GridLine=2]="GridLine",r[r.GridArc=3]="GridArc",r[r.AxisLine=4]="AxisLine",r}(yR||{}),bl=function(r){return r[r.CREATE=0]="CREATE",r[r.CREATE_SECONDARY=1]="CREATE_SECONDARY",r[r.FILTER=2]="FILTER",r[r.VALUES=3]="VALUES",r}(bl||{});class Cz extends AF{}class Qd{constructor(t,e){this.moduleCtx=t,this.id=Wd(this),this.nice=!0,this.dataDomain=[],this.keys=[],this.boundSeries=[],this.includeInvisibleDomains=!1,this.axisGroup=new Ht({name:`${this.id}-axis`,zIndex:mi.AXIS_ZINDEX}),this.lineNode=this.axisGroup.appendChild(new io),this.tickLineGroup=this.axisGroup.appendChild(new Ht({name:`${this.id}-Axis-tick-lines`,zIndex:mi.AXIS_ZINDEX})),this.tickLabelGroup=this.axisGroup.appendChild(new Ht({name:`${this.id}-Axis-tick-labels`,zIndex:mi.AXIS_ZINDEX})),this.crossLineGroup=new Ht({name:`${this.id}-CrossLines`}),this.gridGroup=new Ht({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new Ht({name:`${this.id}-gridLines`,zIndex:mi.AXIS_GRID_ZINDEX})),this.tickLineGroupSelection=Wn.select(this.tickLineGroup,io,!1),this.tickLabelGroupSelection=Wn.select(this.tickLabelGroup,Ot,!1),this.gridLineGroupSelection=Wn.select(this.gridLineGroup,io,!1),this.line=new mR,this.tick=this.createTick(),this.label=new Ci,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.modules={},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=void 0,this._titleCaption=new ci,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.maxThickness=1/0,this._scale=e,this.refreshScale(),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node);const n=t.interactionManager.addListener("hover",i=>this.checkAxisHover(i));this.destroyFns.push(()=>t.interactionManager.removeListener(n)),this.animationManager=t.animationManager,this.animationState=new Cz("empty",{empty:{on:{update:{target:"align",action:()=>this.resetSelectionNodes()}}},align:{on:{update:{target:"ready",action:()=>this.resetSelectionNodes()}}},ready:{on:{update:{target:"ready",action:i=>this.animateReadyUpdate(i)}}}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines)}get scale(){return this._scale}get type(){var t;return null!==(t=this.constructor.type)&&void 0!==t?t:""}set crossLines(t){var e,n;null===(e=this._crossLines)||void 0===e||e.forEach(i=>this.detachCrossLine(i)),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,null===(n=this._crossLines)||void 0===n||n.forEach(i=>{this.attachCrossLine(i),this.initCrossLine(i)})}get crossLines(){return this._crossLines}attachCrossLine(t){this.crossLineGroup.appendChild(t.group)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group)}destroy(){for(const[t,e]of Object.entries(this.modules))e.instance.destroy(),delete this.modules[t],delete this[t];this.destroyFns.forEach(t=>t())}refreshScale(){var t;this.range=this.scale.range.slice(),null===(t=this.crossLines)||void 0===t||t.forEach(e=>{this.initCrossLine(e)})}updateRange(){var t;const{range:e,visibleRange:n,scale:i}=this,o=(e[1]-e[0])/(n[1]-n[0]),a=e[0]-o*n[0];i.range=[a,a+o],null===(t=this.crossLines)||void 0===t||t.forEach(c=>{c.clippedRange=[e[0],e[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t){t.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup)}detachAxis(t){t.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)}inRange(t,e=0,n=0){return 0===this.inRangeEx(t,e,n)}inRangeEx(t,e=0,n=0){const{range:i}=this,o=Math.min(i[0],i[1]),s=Math.max(i[0],i[1]);return t+e<o-n?-1:t>s+n?1:0}onLabelFormatChange(t,e){const{scale:n,fractionDigits:i}=this,s=!(n instanceof Gw)&&i>0?a=>"number"==typeof a?a.toFixed(i):String(a):a=>String(a);if(e&&n&&n.tickFormat)try{this.labelFormatter=n.tickFormat({ticks:t,specifier:e})}catch{this.labelFormatter=s,at.warnOnce(`the axis label format string ${e} is invalid. No formatting will be applied`)}else this.labelFormatter=s}setDomain(){var t;const{scale:e,dataDomain:n,tick:{values:i}}=this;if(i&&e instanceof Pn){const[o,s]=null!==(t=zu(i))&&void 0!==t?t:[1/0,-1/0],a=Math.min(e.fromDomain(n[0]),o),c=Math.max(e.fromDomain(n[1]),s);e.domain=[e.toDomain(a),e.toDomain(c)]}else e.domain=n}setTickInterval(t){var e;this.scale.interval=null!==(e=this.tick.interval)&&void 0!==e?e:t}setTickCount(t,e,n){const{scale:i}=this;if(t&&i instanceof Pn){if("number"==typeof t)return i.tickCount=t,i.minTickCount=e??0,void(i.maxTickCount=n??1/0);i instanceof pV&&this.setTickInterval(t)}}set gridLength(t){var e;(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineGroupSelection=this.gridLineGroupSelection.clear()),this._gridLength=t,null===(e=this.crossLines)||void 0===e||e.forEach(n=>{this.initCrossLine(n)})}get gridLength(){return this._gridLength}createTick(){return new ya}checkAxisHover(t){this.computeBBox().containsPoint(t.offsetX,t.offsetY)&&this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(t){const e=this.tickLabelGroupSelection.nodes().map(w=>w.datum.tickId),{rotation:n,parallelFlipRotation:i,regularFlipRotation:o}=this.calculateRotations(),s=this.label.getSideFlag(),a=s*(this.tick.size+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.updatePosition({rotation:n,sideFlag:s}),this.updateLine();const c=this.generateTicks({primaryTickCount:t,parallelFlipRotation:i,regularFlipRotation:o,labelX:a,sideFlag:s}),{tickData:h,combinedRotation:p,textBaseline:g,textAlign:m}=c,_=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]])}return e}(c,["tickData","combinedRotation","textBaseline","textAlign"]);if(this.updateSelections(h.ticks),this.animationManager.skipAnimations)this.resetSelectionNodes();else{const w=this.calculateUpdateDiff(e,h);this.animationState.transition("update",w)}return this.updateLabels({tickLabelGroupSelection:this.tickLabelGroupSelection,combinedRotation:p,textBaseline:g,textAlign:m,labelX:a}),this.updateVisibility(),this.updateGridLines(s),this.updateTickLines(s),this.updateTitle({anyTickVisible:h.ticks.length>0,sideFlag:s}),this.updateCrossLines({rotation:n,parallelFlipRotation:i,regularFlipRotation:o,sideFlag:s}),this.updateLayoutState(),_.primaryTickCount}updateLayoutState(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}}updateScale(){this.updateRange(),this.calculateDomain(),this.setDomain(),this.setTickInterval(this.tick.interval);const{scale:t,nice:e}=this;t instanceof Pn&&(this.setTickCount(this.tick.count),t.nice=e,t.update())}calculateRotations(){const t=ca(this.rotation);return{rotation:t,parallelFlipRotation:to(t),regularFlipRotation:to(t-Math.PI/2)}}generateTicks({primaryTickCount:t,parallelFlipRotation:e,regularFlipRotation:n,labelX:i,sideFlag:o}){var s;const{scale:a,tick:c,label:{parallel:h,rotation:p,fontFamily:g,fontSize:m,fontStyle:_,fontWeight:w}}=this,E=void 0!==t,{defaultRotation:b,configuredRotation:R,parallelFlipFlag:T,regularFlipFlag:A}=RF({rotation:p,parallel:h,regularFlipRotation:n,parallelFlipRotation:e}),x=R+b,P=new Oo,{maxTickCount:k}=this.estimateTickCount({minSpacing:c.minSpacing,maxSpacing:null!==(s=c.maxSpacing)&&void 0!==s?s:NaN}),H=!c.count&&a instanceof Pn&&!isNaN(k)?k:10;let U=TF(h,R,0,o,A);const W=function dz(r,t,e,n){return r&&!t?e*n==-1?"hanging":"bottom":"middle"}(h,R,o,T),re={fontFamily:g,fontSize:m,fontStyle:_,fontWeight:w,textBaseline:W,textAlign:U};let ne={rawTicks:[],ticks:[],labelCount:0},Ce=0,Ie=0,Ve=!0,de=!1;for(;Ve&&Ce<=H&&!de;){Ie=0,U=TF(h,R,0,o,A);const ae=this.getTickStrategies({secondaryAxis:E,index:Ce});for(const Fe of ae){({tickData:ne,index:Ce,autoRotation:Ie,terminate:de}=Fe({index:Ce,tickData:ne,textProps:re,labelOverlap:Ve,terminate:de,primaryTickCount:t}));const qe=ne.ticks;U=TF(h,R,Ie,o,A),Ve=this.checkLabelOverlap(x+Ie,0!==R||0!==Ie,P,qe,i,Object.assign(Object.assign({},re),{textAlign:U}))}}return!E&&ne.rawTicks.length>0&&(t=ne.rawTicks.length),{tickData:ne,primaryTickCount:t,combinedRotation:b+R+Ie,textBaseline:W,textAlign:U}}getTickStrategies({index:t,secondaryAxis:e}){const{scale:n,label:i,tick:o}=this,s=n instanceof Pn,a=i.enabled&&i.avoidCollisions,h=!0===i.autoRotate&&void 0===i.rotation,p=[];let g;return g=this.tick.values?bl.VALUES:e?bl.CREATE_SECONDARY:s&&void 0===this.tick.count||0===t||!a?bl.CREATE:bl.FILTER,p.push(({index:_,tickData:w,primaryTickCount:E,terminate:b})=>this.createTickData(g,_,w,b,E)),s||isNaN(o.minSpacing)||p.push(({index:w,tickData:E,primaryTickCount:b,terminate:R})=>this.createTickData(bl.FILTER,w,E,R,b)),a?(i.autoWrap?p.push(({index:w,tickData:E,textProps:b})=>this.wrapLabels(E,w,b)):h&&p.push(({index:w,tickData:E,labelOverlap:b,terminate:R})=>({index:w,tickData:E,autoRotation:this.getAutoRotation(b),terminate:R})),p):p}createTickData(t,e,n,i,o){var s,a,c;const{scale:h,tick:p}=this,{maxTickCount:g,minTickCount:m,defaultTickCount:_}=this.estimateTickCount({minSpacing:p.minSpacing,maxSpacing:null!==(s=p.maxSpacing)&&void 0!==s?s:NaN}),w=h instanceof Pn,E=p.count||!w||isNaN(g)?10:g;let b=null!==(a=p.count)&&void 0!==a?a:w?Math.max(_-e,m):g;const R=void 0===p.interval&&void 0===p.values&&void 0===p.count&&b>m&&(w||t===bl.FILTER);let T=!0;for(;T&&e<=E;){const x=n.rawTicks;b=null!==(c=p.count)&&void 0!==c?c:w?Math.max(_-e,m):g;const{rawTicks:P,ticks:k,labelCount:V}=this.getTicks({tickGenerationType:t,previousTicks:x,tickCount:b,minTickCount:m,maxTickCount:g,primaryTickCount:o});n.rawTicks=P,n.ticks=k,n.labelCount=V,T=!!R&&$3(P,x),e++}return i||(i=void 0!==p.interval||void 0!==p.values),{tickData:n,index:e,autoRotation:0,terminate:i}}checkLabelOverlap(t,e,n,i,o,s){Oo.updateTransformMatrix(n,1,1,t,0,0);const a=this.createLabelData(i,o,s,n),c=function cz(r,t){return isNaN(r)?t?0:10:r}(this.label.minSpacing,e);return function Q2(r,t){const e=[];for(let n=0;n<r.length;n++){const i=r[n],{point:{x:o,y:s},label:{text:a}}=i;let{label:{width:c,height:h}}=i;if(c+=t??0,h+=t??0,e.some(g=>$G(g,o,s,c,h)))return!0;e.push({index:n,text:a,x:o,y:s,width:c,height:h,datum:i})}return!1}(a,c)}createLabelData(t,e,n,i){const o=[];for(const s of t){const{tickLabel:a,translationY:c}=s;if(""===a||null==a)continue;const h=RG(a),{width:p,height:g}=o2(h,e,c,n),_=hz(a,new un(e,c,p,g),e,c,i);o.push(_)}return o}getAutoRotation(t){return t?to(ca(this.label.autoRotateAngle)):0}getTicks({tickGenerationType:t,previousTicks:e,tickCount:n,minTickCount:i,maxTickCount:o,primaryTickCount:s}){var a;const{scale:c}=this;let h=[];switch(t){case bl.VALUES:h=this.tick.values;break;case bl.CREATE_SECONDARY:h=this.updateSecondaryAxisTicks(s);break;case bl.FILTER:h=this.filterTicks(e,n);break;default:h=this.createTicks(n,i,o)}this.onLabelFormatChange(h,this.label.format),this.fractionDigits=h.fractionDigits>=0?h.fractionDigits:0;const p=(null!==(a=this.scale.bandwidth)&&void 0!==a?a:0)/2,g=[];let m=0;const _=new Map;for(let w=0;w<h.length;w++){const E=h[w],b=c.convert(E)+p,R=this.formatTick(E,w);let T=R;if(_.has(T)){const A=_.get(T);_.set(T,A+1),T=`${T}_${A}`}else _.set(T,1);g.push({tick:E,tickId:T,tickLabel:R,translationY:b}),""!==R&&null!=R&&m++}return{rawTicks:h,ticks:g,labelCount:m}}filterTicks(t,e){var n;const o=isNaN(this.tick.minSpacing)&&isNaN(null!==(n=this.tick.maxSpacing)&&void 0!==n?n:NaN)?2:Math.ceil(t.length/e);return t.filter((s,a)=>a%o==0)}createTicks(t,e,n){var i,o,s;return this.setTickCount(t,e,n),null!==(s=null===(o=(i=this.scale).ticks)||void 0===o?void 0:o.call(i))&&void 0!==s?s:[]}estimateTickCount({minSpacing:t,maxSpacing:e}){const n=this.calculateAvailableRange(),i=Math.max(Qd.defaultTickMinSpacing,n/Pn.defaultMaxTickCount);isNaN(t)&&isNaN(e)?(t=i)>(e=n)&&(e=t):isNaN(t)?(t=i)>e&&(t=e):isNaN(e)&&t>(e=n)&&(e=t);const o=Math.max(1,Math.floor(n/t)),s=Math.min(o,Math.ceil(n/e));let a=Pn.defaultTickCount;return a>o?a=o:a<s&&(a=s),{minTickCount:s,maxTickCount:o,defaultTickCount:a}}updateVisibility(){const{range:t}=this,e=Math.min(...t),n=Math.max(...t),i=c=>{const h=Math.floor(e),p=Math.ceil(n);h!==p?(c.translationY>=h-1&&c.translationY<h&&(c.translationY=h),c.translationY>p&&c.translationY<=p+1&&(c.translationY=p),c.visible=c.translationY>=h&&c.translationY<=p):c.visible=!1},{gridLineGroupSelection:o,tickLineGroupSelection:s,tickLabelGroupSelection:a}=this;o.each(i),s.each(i),a.each(i),this.tickLineGroup.visible=this.tick.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:e,regularFlipRotation:n,sideFlag:i}){var o;const s=this.isAnySeriesActive();null===(o=this.crossLines)||void 0===o||o.forEach(a=>{var c;a.sideFlag=-i,a.direction=t===-Math.PI/2?Qe.X:Qe.Y,a.label.parallel=null!==(c=a.label.parallel)&&void 0!==c?c:this.label.parallel,a.parallelFlipRotation=e,a.regularFlipRotation=n,a.update(s)})}updateTickLines(t){const{tick:e}=this;this.tickLineGroupSelection.each(n=>{n.strokeWidth=e.width,n.stroke=e.color,n.x1=t*e.size,n.x2=0,n.y1=0,n.y2=0})}calculateAvailableRange(){const{range:t}=this,e=Math.min(...t);return Math.max(...t)-e}calculateDomain(){const{direction:t,boundSeries:e,includeInvisibleDomains:n}=this;if(this.linkedTo)this.dataDomain=this.linkedTo.dataDomain;else{const i=[],o=e.filter(a=>n||a.isEnabled());for(const a of o)i.push(a.getDomain(t));const s=(new Array).concat(...i);this.dataDomain=this.normaliseDataDomain(s)}}updatePosition({rotation:t,sideFlag:e}){const{crossLineGroup:n,axisGroup:i,gridGroup:o,translation:s,gridLineGroupSelection:a,gridPadding:c,gridLength:h}=this,p=Math.floor(s.x),g=Math.floor(s.y);n.translationX=p,n.translationY=g,n.rotation=t,i.translationX=p,i.translationY=g,i.rotation=t,o.translationX=p,o.translationY=g,o.rotation=t,a.each(m=>{m.x1=c,m.x2=-e*h+c,m.y1=0,m.y2=0})}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t){const n=this.gridLineGroupSelection.update(this.gridLength?t:[],s=>{const a=new io;a.tag=yR.GridLine,s.append(a)},s=>s.tickId),i=this.tickLineGroupSelection.update(t,s=>{const a=new io;a.tag=yR.TickLine,s.appendChild(a)},s=>s.tickId),o=this.tickLabelGroupSelection.update(t,s=>{const a=new Ot;a.tag=yR.TickLabel,s.appendChild(a)},s=>s.tickId);this.tickLineGroupSelection=i,this.tickLabelGroupSelection=o,this.gridLineGroupSelection=n}updateGridLines(t){const{gridStyle:e,tick:n,gridPadding:i,gridLength:o}=this;if(0===o||0===e.length)return;const s=e.length;this.gridLineGroupSelection.each((a,c,h)=>{const p=e[h%s];a.x1=i,a.x2=-t*o+i,a.y1=0,a.y2=0,a.stroke=p.stroke,a.strokeWidth=n.width,a.lineDash=p.lineDash,a.fill=void 0})}updateLabels({tickLabelGroupSelection:t,combinedRotation:e,textBaseline:n,textAlign:i,labelX:o}){const{label:s,label:{enabled:a}}=this;a&&t.each((c,h)=>{const{tickLabel:p}=h;c.fontStyle=s.fontStyle,c.fontWeight=s.fontWeight,c.fontSize=s.fontSize,c.fontFamily=s.fontFamily,c.fill=s.color,c.text=p,""!==c.text&&null!=c.text?(c.textBaseline=n,c.textAlign=i,c.x=o,c.rotationCenterX=o,c.rotation=e,c.visible=!0):c.visible=!1})}wrapLabels(t,e,n){const{label:{parallel:i,maxWidth:o,maxHeight:s}}=this,a=i?Math.round(this.calculateAvailableRange()/t.labelCount):this.maxThickness,c=o??a,h=i?this.maxThickness:Math.round(this.calculateAvailableRange()/t.labelCount),p=s??h;return t.ticks.forEach(g=>{const{tickLabel:m}=g,w=Ot.wrap(m,c,p,n,"hyphenate");g.tickLabel=w}),{tickData:t,index:e,autoRotation:0,terminate:!0}}updateLine(){const{lineNode:t,range:e}=this;t.x1=0,t.x2=0,t.y1=e[0],t.y2=e[1],t.strokeWidth=this.line.width,t.stroke=this.line.color,t.visible=!0}updateTitle({anyTickVisible:t,sideFlag:e}){var n;const i=b=>b.defaultValue,{rotation:o,title:s,_titleCaption:a,lineNode:c,range:h,tickLineGroup:p,tickLabelGroup:g,moduleCtx:{callbackCache:m}}=this,{formatter:_=i}=null!==(n=this.title)&&void 0!==n?n:{};if(!s)return void(a.enabled=!1);a.enabled=s.enabled,a.fontFamily=s.fontFamily,a.fontSize=s.fontSize,a.fontStyle=s.fontStyle,a.fontWeight=s.fontWeight,a.color=s.color,a.wrapping=s.wrapping;let w=!1;const E=a.node;if(s.enabled&&c.visible){w=!0;const b=to(o),R=ci.PADDING,T=-1===e&&b>Math.PI&&b<2*Math.PI?-1:1;E.rotation=T*e*Math.PI/2,E.x=Math.floor(T*e*(h[0]+h[1])/2);let A=0;if(t){const x=Ht.computeBBox([p,g]),P=0===o?x.width:x.height;Math.abs(P)<1/0&&(A+=P)}E.y=-1===e?Math.floor(T*(-R-A)):Math.floor(-R-A),E.textBaseline=1===T?"bottom":"top",E.text=m.call(_,this.getTitleFormatterParams())}E.visible=w}formatTick(t,e){var n,i;const{label:o,labelFormatter:s,fractionDigits:a,moduleCtx:{callbackCache:c}}=this;if(o.formatter){const h=a>0?t:String(t);return null!==(n=c.call(o.formatter,{value:h,index:e,fractionDigits:a,formatter:s}))&&void 0!==n?n:h}return s&&null!==(i=c.call(s,t))&&void 0!==i?i:String(t)}formatDatum(t){return String(t)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,e,n,i){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new un(t,e,n,i))}clipGrid(t,e,n,i){this.gridGroup.setClipRectInGroupCoordinateSpace(new un(t,e,n,i))}calculatePadding(t,e){return[Math.abs(.01*t),Math.abs(.01*t)]}getTitleFormatterParams(){var t;const e=this.boundSeries.reduce((n,i)=>{const o=i.getKeys(this.direction),s=i.getNames(this.direction);for(let a=0;a<o.length;a++)n.push({key:o[a],name:s[a]});return n},[]);return{direction:this.direction,boundSeries:e,defaultValue:null===(t=this.title)||void 0===t?void 0:t.text}}normaliseDataDomain(t){return t}getLayoutState(){return Object.assign({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.tick.size},this.layout)}createAxisContext(){return{axisId:this.id,direction:this.direction,continuous:this.scale instanceof Pn,keys:()=>this.boundSeries.map(e=>e.getKeys(this.direction)).reduce((e,n)=>(e.push(...n),e),[]),scaleValueFormatter:e=>{var n,i,o;return null!==(o=null===(i=(n=this.scale).tickFormat)||void 0===i?void 0:i.call(n,{specifier:e}))&&void 0!==o?o:void 0},scaleBandwidth:()=>{var e;return null!==(e=this.scale.bandwidth)&&void 0!==e?e:0},scaleConvert:e=>this.scale.convert(e),scaleInvert:e=>{var n,i,o;return null!==(o=null===(i=(n=this.scale).invert)||void 0===i?void 0:i.call(n,e))&&void 0!==o?o:void 0}}}addModule(t){if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);null==this.axisContext&&(this.axisContext=this.createAxisContext());const e=new t.instanceConstructor(Object.assign(Object.assign({},this.moduleCtx),{parent:this.axisContext}));this.modules[t.optionsKey]={instance:e},this[t.optionsKey]=e}removeModule(t){var e,n;null===(n=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===n||n.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]}isModuleEnabled(t){return null!=this.modules[t.optionsKey]}animateReadyUpdate(t){var e,n;if(!t.changed)return void this.resetSelectionNodes();const{gridLineGroupSelection:i,tickLineGroupSelection:o,tickLabelGroupSelection:s}=this,a=Object.keys(t.added).length,c=Object.keys(t.removed).length;if(c===t.tickCount)return void this.resetSelectionNodes();const h=null!==(n=null===(e=this.animationManager)||void 0===e?void 0:e.defaultOptions.duration)&&void 0!==n?n:1e3;let p=Math.floor(h/2);a>0&&c>0&&(p=Math.floor(h/3));const g={delay:c>0?p:0,duration:p},m=`${this.id}_${Math.random()}`;s.each((_,w)=>{this.animateSelectionNode(s,t,g,_,w,m)}),i.each((_,w)=>{this.animateSelectionNode(i,t,g,_,w,m)}),o.each((_,w)=>{this.animateSelectionNode(o,t,g,_,w,m)})}animateSelectionNode(t,e,n,i,o,s){const a=Math.round(o.translationY);let c={from:i.translationY,to:a},h={from:1,to:1};const{duration:p}=n;let{delay:g}=n;const m=o.tickLabel;e.added[m]?(c={from:a,to:a},h={from:0,to:1},g+=p):e.removed[m]&&(h={from:1,to:0},g=0),this.animationManager.animateManyWithThrottle(`${this.id}_ready-update_${i.id}`,[c,h],{disableInteractions:!1,delay:g,duration:p,ease:gm,throttleId:this.id,throttleGroup:s,onUpdate([w,E]){i.translationY=w,i.opacity=E},onComplete(){t.cleanup()}})}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:e,tickLabelGroupSelection:n}=this;t.cleanup(),e.cleanup(),n.cleanup();const i=o=>{o.translationY=Math.round(o.datum.translationY),o.opacity=1};t.each(i),e.each(i),n.each(i)}calculateUpdateDiff(t,e){var n;const i=new Set,o=new Set,s=Math.max(t.length,e.ticks.length);for(let h=0;h<s;h++){const p=t[h],g=null===(n=e.ticks[h])||void 0===n?void 0:n.tickId;p!==g&&(o.has(g)?o.delete(g):g&&i.add(g),i.has(p)?i.delete(p):p&&o.add(p))}const a={},c={};return i.forEach(h=>{a[h]=!0}),o.forEach(h=>{c[h]=!0}),{changed:i.size>0||o.size>0,tickCount:s,added:a,removed:c}}}Qd.defaultTickMinSpacing=50,xF([G(Mn)],Qd.prototype,"nice",void 0),xF([G(FG)],Qd.prototype,"keys",void 0),xF([G(yz)],Qd.prototype,"gridStyle",void 0);var $u=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class Ol{constructor(){this.enabled=!1,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.color=void 0,this.wrapping="always",this.formatter=void 0}}$u([G(Mn)],Ol.prototype,"enabled",void 0),$u([G(Mt)],Ol.prototype,"text",void 0),$u([G(mp)],Ol.prototype,"fontStyle",void 0),$u([G(yp)],Ol.prototype,"fontWeight",void 0),$u([G($e(0))],Ol.prototype,"fontSize",void 0),$u([G(lr)],Ol.prototype,"fontFamily",void 0),$u([G(Un)],Ol.prototype,"color",void 0),$u([G(uF)],Ol.prototype,"wrapping",void 0),$u([G(ei)],Ol.prototype,"formatter",void 0);var Vw=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class Jd extends iF{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}}Vw([G(Mn),lt({redraw:Be.MAJOR})],Jd.prototype,"enabled",void 0),Vw([G($o),lt({redraw:Be.MAJOR})],Jd.prototype,"color",void 0),Vw([G($e()),lt({redraw:Be.MAJOR})],Jd.prototype,"xOffset",void 0),Vw([G($e()),lt({redraw:Be.MAJOR})],Jd.prototype,"yOffset",void 0),Vw([G($e(0)),lt({redraw:Be.MAJOR})],Jd.prototype,"blur",void 0);class CR extends Pn{constructor(){super([0,1],[0,1]),this.type="linear"}toDomain(t){return t}ticks(){var t;const e=null!==(t=this.tickCount)&&void 0!==t?t:Pn.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||this.domain.some(s=>!isFinite(s)))return[];this.refresh();const[n,i]=this.getDomain(),{interval:o}=this;if(o){const s=Math.abs(o);if(!this.isDenseInterval({start:n,stop:i,interval:s}))return fR(n,i,s)}return DF(n,i,e,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){var t,e;const n=null!==(t=this.tickCount)&&void 0!==t?t:Pn.defaultTickCount;let[i,o]=this.domain;if(n<1)return void(this.niceDomain=[i,o]);if(1===n)return void(this.niceDomain=function K3(r,t){const e=Math.floor(Math.log10(t-r)),n=Math.pow(10,e);return uV.map(i=>{const o=i*n,s=Math.floor(r/o)*o,a=Math.ceil(t/o)*o;return{error:1-(t-r)/(a-s),domain:[s,a]}}).sort((i,o)=>i.error-o.error)[0].domain}(i,o));let a=i,c=o;for(let h=0;h<4;h++){const p=null!==(e=this.interval)&&void 0!==e?e:kw(i,o,n,this.minTickCount,this.maxTickCount),[g,m]=this.domain;if(p>=1)i=Math.floor(g/p)*p,o=Math.ceil(m/p)*p;else{const _=1/p;i=Math.floor(g*_)/_,o=Math.ceil(m*_)/_}if(i===a&&o===c)break;a=i,c=o}this.niceDomain=[i,o]}tickFormat({ticks:t,specifier:e}){return function az(r,t){const e=vV(t??",f"),{precision:n}=e;(null==n||isNaN(n))&&("f"===e.type||"%"===e.type?e.precision=Math.max(...r.map(o=>{if("number"!=typeof o||0===o)return 0;const s=Math.floor(Math.log10(Math.abs(o))),c=o.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e"),h=c.indexOf(".");if(h<0)return s>=0?0:-s;const p=c.indexOf("e")-h;return Math.max(0,p-s-1)})):(!e.type||e.type in qo)&&(e.precision=Math.max(...r.map(o=>{if("number"!=typeof o)return 0;const s=o.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e");return s.substring(0,s.indexOf("e")).replace(".","").length}))));const i=mV(e);return o=>i(Number(o))}(t??this.ticks(),e)}}function MF(r,t,e=1e-10){return Math.abs(r-t)<e}function EV(r,t=2){const e=Math.floor(Math.log(Math.abs(r))/Math.LN10);return e>=0||!isFinite(e)?r.toFixed(t):r.toFixed(Math.abs(e)-1+t)}function DV(r,t,e){const n=Math.sqrt(Math.pow(r,2)+Math.pow(t,2)),{innerRadius:i,outerRadius:o}=e;if(n<Math.min(i,o)||n>Math.max(i,o))return!1;let s=Math.atan2(t,r);s<-Math.PI/2&&(s+=2*Math.PI);const{startAngle:a,endAngle:c}=e;return c===-Math.PI/2?s<a:a===3*Math.PI/2?s>c:s<=c&&s>=a}function bV(r,t){const{startAngle:e,endAngle:n,innerRadius:i,outerRadius:o}=t,s={x:o*Math.cos(e),y:o*Math.sin(e)},a={x:o*Math.cos(n),y:o*Math.sin(n)},c=0===i?{x:0,y:0}:{x:i*Math.cos(e),y:i*Math.sin(e)},h=0===i?{x:0,y:0}:{x:i*Math.cos(n),y:i*Math.sin(n)};return null!=Fw(r.start.x,r.start.y,r.end.x,r.end.y,s.x,s.y,c.x,c.y)||null!=Fw(r.start.x,r.start.y,r.end.x,r.end.y,a.x,a.y,h.x,h.y)||oV(0,0,o,e,n,!0,r.start.x,r.start.y,r.end.x,r.end.y).length>0}var Ep=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class Ku extends El{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=2*Math.PI,this.angleOffset=0}computeBBox(){const t=this.outerRadius;return new un(this.centerX-t,this.centerY-t,2*t,2*t)}updatePath(){const t=this.path,e=this.angleOffset,n=this.startAngle+e,i=this.endAngle+e,o=Math.min(this.innerRadius,this.outerRadius),s=Math.max(this.innerRadius,this.outerRadius),a=MF(to(this.startAngle),to(this.endAngle)),c=this.centerX,h=this.centerY;t.clear(),a?(t.arc(c,h,s,n,i),o>0&&(t.moveTo(c+o*Math.cos(i),h+o*Math.sin(i)),t.arc(c,h,o,i,n,!0))):(t.moveTo(c+o*Math.cos(n),h+o*Math.sin(n)),t.arc(c,h,s,n,i),o>0?t.arc(c,h,o,i,n,!0):t.lineTo(c,h)),t.closePath(),this.dirtyPath=!1}isPointInPath(t,e){const{angleOffset:n}=this,i=this.startAngle+n,o=this.endAngle+n,s=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),c=this.transformPoint(t,e);return DV(c.x,c.y,{startAngle:i,endAngle:o,innerRadius:s,outerRadius:a})}}Ku.className="Sector",Ep([zn()],Ku.prototype,"centerX",void 0),Ep([zn()],Ku.prototype,"centerY",void 0),Ep([zn()],Ku.prototype,"innerRadius",void 0),Ep([zn()],Ku.prototype,"outerRadius",void 0),Ep([zn()],Ku.prototype,"startAngle",void 0),Ep([zn()],Ku.prototype,"endAngle",void 0),Ep([zn()],Ku.prototype,"angleOffset",void 0);class OV extends fa{constructor({moduleCtx:t,useLabelLayer:e=!1,pickModes:n=[Ui.EXACT_SHAPE_MATCH]}){super({moduleCtx:t,useLabelLayer:e,pickModes:n,contentGroupVirtual:!1,directionKeys:{[Qe.X]:["angleKey"],[Qe.Y]:["radiusKey"]},directionNames:{[Qe.X]:["angleName"],[Qe.Y]:["radiusName"]}}),this.centerX=0,this.centerY=0,this.radius=0}getLabelData(){return[]}computeLabelsBBox(t,e){return null}}var Yt=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wm=function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})};class RV extends Aw{constructor(t,e,n,i,o,s,a){super(o,s,a),this.angleKey=t,this.calloutLabelKey=e,this.sectorLabelKey=n,this.radiusKey=i}}class Sz extends RV{constructor(){super(...arguments),this.type="nodeClick"}}class Ez extends RV{constructor(){super(...arguments),this.type="nodeDoubleClick"}}var Rl=function(r){return r[r.Sector=0]="Sector",r[r.Callout=1]="Callout",r[r.Label=2]="Label",r}(Rl||{});class Dp extends hr{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.formatter=void 0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}}Yt([G($e(0))],Dp.prototype,"offset",void 0),Yt([G($e(0))],Dp.prototype,"minAngle",void 0),Yt([G(ei)],Dp.prototype,"formatter",void 0),Yt([G($e(0))],Dp.prototype,"minSpacing",void 0),Yt([G($e(0))],Dp.prototype,"maxCollisionOffset",void 0),Yt([G(Mn)],Dp.prototype,"avoidCollisions",void 0);class _R extends hr{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5,this.formatter=void 0}}Yt([G($e())],_R.prototype,"positionOffset",void 0),Yt([G($e(0,1))],_R.prototype,"positionRatio",void 0),Yt([G(ei)],_R.prototype,"formatter",void 0);class wR{constructor(){this.colors=void 0,this.length=10,this.strokeWidth=1}}Yt([G(f2)],wR.prototype,"colors",void 0),Yt([G($e(0))],wR.prototype,"length",void 0),Yt([G($e(0))],wR.prototype,"strokeWidth",void 0);class TV extends Bu{constructor(){super(...arguments),this.renderer=void 0}}Yt([G(ei)],TV.prototype,"renderer",void 0);class AV extends ci{constructor(){super(...arguments),this.showInLegend=!1}}Yt([G(Mn)],AV.prototype,"showInLegend",void 0);class PF extends hr{constructor(){super(...arguments),this.text="",this.margin=2}}Yt([G(lr)],PF.prototype,"text",void 0),Yt([G($e())],PF.prototype,"margin",void 0);class IF{constructor(){this.fill="transparent",this.fillOpacity=1}}Yt([G($o)],IF.prototype,"fill",void 0),Yt([G(yn(0,1))],IF.prototype,"fillOpacity",void 0);class Dz extends AF{}class In extends OV{constructor(t){var e,n,i;super({moduleCtx:t,useLabelLayer:!0}),this.radiusScale=new CR,this.groupSelection=Wn.select(this.contentGroup,Ht),this.highlightSelection=Wn.select(this.highlightGroup,Ht),this.nodeData=[],this.seriesItemEnabled=[],this.title=void 0,this.calloutLabel=new Dp,this.sectorLabel=new _R,this.calloutLine=new wR,this.tooltip=new TV,this.angleKey="",this.angleName="",this.innerLabels=[],this.innerCircle=void 0,this.radiusKey=void 0,this.radiusName=void 0,this.radiusMin=void 0,this.radiusMax=void 0,this.calloutLabelKey=void 0,this.calloutLabelName=void 0,this.sectorLabelKey=void 0,this.sectorLabelName=void 0,this.legendItemKey=void 0,this.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],this.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.formatter=void 0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.innerRadiusOffset=0,this.innerRadiusRatio=1,this.strokeWidth=1,this.shadow=void 0,this.highlightStyle=new gF,this.surroundingRadius=void 0,this.angleScale=new CR,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(c=>c+Math.PI/2),this.backgroundGroup=this.rootGroup.appendChild(new Ht({name:`${this.id}-background`,layer:!0,zIndex:mi.SERIES_BACKGROUND_ZINDEX}));const o=new Ht({name:"pieCalloutLabels"}),s=new Ht({name:"pieSectorLabels"}),a=new Ht({name:"innerLabels"});null===(e=this.labelGroup)||void 0===e||e.append(o),null===(n=this.labelGroup)||void 0===n||n.append(s),null===(i=this.labelGroup)||void 0===i||i.append(a),this.calloutLabelSelection=Wn.select(o,Ht),this.sectorLabelSelection=Wn.select(s,Ot),this.innerLabelsSelection=Wn.select(a,Ot),this.animationState=new Dz("empty",{empty:{on:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()}}},ready:{on:{update:{target:"ready",action:()=>this.animateReadyUpdateReady()}}}})}set data(t){this._data=t,this.processSeriesItemEnabled()}get data(){return this._data}addChartEventListeners(){var t;null===(t=this.ctx.chartEventManager)||void 0===t||t.addListener("legend-item-click",e=>this.onLegendItemClick(e))}visibleChanged(){this.processSeriesItemEnabled()}processSeriesItemEnabled(){var t;const{data:e,visible:n}=this;this.seriesItemEnabled=null!==(t=e?.map(()=>n))&&void 0!==t?t:[]}getDomain(t){return t===Qe.X?this.angleScale.domain:this.radiusScale.domain}processData(t){var e,n;return wm(this,void 0,void 0,function*(){let{data:i=[]}=this;const{angleKey:o,radiusKey:s,calloutLabelKey:a,sectorLabelKey:c,legendItemKey:h,seriesItemEnabled:p}=this;if(!o)return;const g=[];s&&(g.push(function W2(r,t,e={}){const{min:n=-1/0,max:i=1/0}=e,o=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]])}return e}(e,["min","max"]);return Object.assign({scopes:[r.id],type:"value",property:t,valueType:"range",validation:fF,processor:()=>s=>"number"!=typeof s||isNaN(s)?s:Math.min(Math.max(s,n),i)},o)}(this,s,{id:"radiusValue",min:null!==(e=this.radiusMin)&&void 0!==e?e:0,max:this.radiusMax}),Wi(this,s,!0,{id:"radiusRaw"}),BG(this,{id:"radiusValue"},[0,1],null!==(n=this.radiusMin)&&void 0!==n?n:0,this.radiusMax)),g.push()),a&&g.push(Wi(this,a,!1,{id:"calloutLabelValue"})),c&&g.push(Wi(this,c,!1,{id:"sectorLabelValue"})),h&&g.push(Wi(this,h,!1,{id:"legendItemValue"})),i=i.map((w,E)=>p[E]?w:Object.assign(Object.assign({},w),{[o]:0}));const{dataModel:m,processedData:_}=yield t.request(this.id,i,{props:[z2(this,o,!0,{id:"angleValue"}),Wi(this,o,!0,{id:"angleRaw"}),BG(this,{id:"angleValue"},[0,1],0),...g]});this.dataModel=m,this.processedData=_})}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const[{nodeData:t=[]}={}]=this._createNodeData();this.nodeData=t,this.nodeDataRefresh=!1}createNodeData(){return wm(this,void 0,void 0,function*(){return this._createNodeData()})}getProcessedDataIndexes(t){return{angleIdx:t.resolveProcessedDataIndexById(this,"angleValue").index,radiusIdx:this.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue").index:-1,calloutLabelIdx:this.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,sectorLabelIdx:this.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,legendItemIdx:this.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue").index:-1}}_createNodeData(){const{id:t,processedData:e,dataModel:n,rotation:i,angleScale:o}=this;if(!e||!n||"ungrouped"!==e.type)return[];const{angleIdx:s,radiusIdx:a,calloutLabelIdx:c,sectorLabelIdx:h,legendItemIdx:p}=this.getProcessedDataIndexes(n);let g=0;const m=e.data.map((_,w)=>{var E;const{datum:b,values:R}=_,T=R[s],A=o.convert(g)+ca(i);g=T;const x=o.convert(g)+ca(i),P=Math.abs(x-A),k=A+P/2,V=R[s+1],H=a>=0&&null!==(E=R[a])&&void 0!==E?E:1,U=a>=0?R[a+1]:void 0,W=p>=0?R[p]:void 0,re=this.getLabels(b,k,P,!0,T,U,R[c],R[h],W),ne=this.getSectorFormat(b,w,w,!1);return Object.assign({itemId:w,series:this,datum:b,index:w,angleValue:V,midAngle:k,midCos:Math.cos(k),midSin:Math.sin(k),startAngle:A,endAngle:x,sectorFormat:ne,radius:H,radiusValue:U,legendItemValue:W},re)});return[{itemId:t,nodeData:m,labelData:m}]}getLabels(t,e,n,i,o,s,a,c,h){const{calloutLabel:p,sectorLabel:g,legendItemKey:m,ctx:{callbackCache:_}}=this,w=!i||p.enabled?this.calloutLabelKey:void 0,E=!i||g.enabled?this.sectorLabelKey:void 0;if(!w&&!E&&!m)return{};const b=this.getLabelFormatterParams(t,o,s,a,c);let R,T;return w&&(R=n>ca(p.minAngle)?p.formatter?_.call(p.formatter,b):String(a):void 0),E&&(T=g.formatter?_.call(g.formatter,b):String(c)),Object.assign(Object.assign(Object.assign({},null!=R?{calloutLabel:Object.assign(Object.assign({},this.getTextAlignment(e)),{text:R,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})}:{}),null!=T?{sectorLabel:{text:T}}:{}),null!=m&&null!=h?{legendItem:{key:m,text:h}}:{})}getLabelFormatterParams(t,e,n,i,o){const{id:s,radiusKey:a,radiusName:c,angleKey:h,angleName:p,calloutLabelKey:g,calloutLabelName:m,sectorLabelKey:_,sectorLabelName:w}=this;return{datum:t,angleKey:h,angleValue:e,angleName:p,radiusKey:a,radiusValue:n,radiusName:c,calloutLabelKey:g,calloutLabelValue:i,calloutLabelName:m,sectorLabelKey:_,sectorLabelValue:o,sectorLabelName:w,seriesId:s}}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=function t2(r){return(r%=Cl)<-Math.PI?r+=Cl:r>=Math.PI&&(r-=Cl),r}(t),i=-3*Math.PI/4,a=function _z(r,t){return r>=0?Math.floor(r%t):Math.floor(r%t+t)}(Math.floor((n-i)/(Math.PI/2)),e.length);return e[a]}getSectorFormat(t,e,n,i){var o,s,a,c,h,p,g,m;const{angleKey:_,radiusKey:w,fills:E,strokes:b,fillOpacity:R,formatter:T,id:A,ctx:{callbackCache:x,highlightManager:P}}=this,k=P?.getActiveHighlight(),V=i&&k?.series===this&&e===k.itemId,H=V?this.highlightStyle.item:null,U=null!==(o=H?.fill)&&void 0!==o?o:E[n%E.length],W=null!==(s=H?.fillOpacity)&&void 0!==s?s:R,re=null!==(a=H?.stroke)&&void 0!==a?a:b[n%b.length],ne=null!==(c=H?.strokeWidth)&&void 0!==c?c:this.getStrokeWidth(this.strokeWidth);let Ce;return T&&(Ce=x.call(T,{datum:t,angleKey:_,radiusKey:w,fill:U,stroke:re,strokeWidth:ne,highlighted:V,seriesId:A})),{fill:null!==(h=Ce?.fill)&&void 0!==h?h:U,fillOpacity:null!==(p=Ce?.fillOpacity)&&void 0!==p?p:W,stroke:null!==(g=Ce?.stroke)&&void 0!==g?g:re,strokeWidth:null!==(m=Ce?.strokeWidth)&&void 0!==m?m:ne}}getInnerRadius(){const{radius:t,innerRadiusRatio:e,innerRadiusOffset:n}=this,i=t*(e??1)+(n||0);return i===t||i<0?0:i}getOuterRadius(){const{radius:t,outerRadiusRatio:e,outerRadiusOffset:n}=this,i=t*(e??1)+(n||0);return i<0?0:i}updateRadiusScale(){const t=this.getInnerRadius(),e=this.getOuterRadius();this.radiusScale.range=[t,e]}getTitleTranslationY(){var t,e;const n=Math.max(0,this.radiusScale.range[1]);return 0===n?NaN:-n-(2+(null!==(e=null===(t=this.title)||void 0===t?void 0:t.spacing)&&void 0!==e?e:0))-Math.max(0,-n)}update({seriesRect:t}){return wm(this,void 0,void 0,function*(){const{title:e}=this;if(this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(),this.updateInnerCircleNodes(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const n=this.getTitleTranslationY(),i=e.node.computeBBox();e.node.visible=e.enabled&&isFinite(n)&&!this.bboxIntersectsSurroundingSeries(i,0,n),e.node.translationY=isFinite(n)?n:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var t,e;const{title:n,oldTitle:i}=this;i!==n&&(i&&(null===(t=this.labelGroup)||void 0===t||t.removeChild(i.node)),n&&(n.node.textBaseline="bottom",null===(e=this.labelGroup)||void 0===e||e.appendChild(n.node)),this.oldTitle=n)}updateInnerCircleNodes(){var t;const{innerCircle:e,oldInnerCircle:n,innerCircleNode:i}=this;if(n!==e){let o;i&&this.backgroundGroup.removeChild(i),e&&(o=new wF,o.fill=e.fill,o.fillOpacity=null!==(t=e.fillOpacity)&&void 0!==t?t:1,this.backgroundGroup.appendChild(o)),this.oldInnerCircle=e,this.innerCircleNode=o}}updateNodeMidPoint(){this.nodeData.forEach(t=>{const e=this.radiusScale.convert(t.radius);t.nodeMidPoint={x:t.midCos*Math.max(0,e/2),y:t.midSin*Math.max(0,e/2)}})}updateSelections(){return wm(this,void 0,void 0,function*(){yield this.updateGroupSelection()})}updateGroupSelection(){return wm(this,void 0,void 0,function*(){const{groupSelection:t,highlightSelection:e,calloutLabelSelection:n,sectorLabelSelection:i,innerLabelsSelection:o}=this,s=a=>a.update(this.nodeData,c=>{const h=new Ku;h.tag=Rl.Sector,c.appendChild(h)});this.groupSelection=s(t),this.highlightSelection=s(e),n.update(this.nodeData,a=>{const c=new io;c.tag=Rl.Callout,c.pointerEvents=Ro.None,a.appendChild(c);const h=new Ot;h.tag=Rl.Label,h.pointerEvents=Ro.None,a.appendChild(h)}),i.update(this.nodeData,a=>{a.pointerEvents=Ro.None}),o.update(this.innerLabels,a=>{a.pointerEvents=Ro.None})})}updateNodes(t){var e;return wm(this,void 0,void 0,function*(){const n=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),i=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&n?.series===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity(),this.updateInnerCircle();const{radiusScale:o}=this,s=o.convert(0),a=(c,h,p,g)=>{const m=o.convert(h.radius),_=c.parent,w=_?.parent;g&&_&&w&&(w.removeChild(_),w.appendChild(_)),c.innerRadius=Math.max(0,s),c.outerRadius=Math.max(0,m),g&&(c.startAngle=h.startAngle,c.endAngle=h.endAngle);const E=this.getSectorFormat(h.datum,h.itemId,p,g);c.fill=E.fill,c.stroke=E.stroke,c.strokeWidth=E.strokeWidth,c.fillOpacity=E.fillOpacity,c.strokeOpacity=this.strokeOpacity,c.lineDash=this.lineDash,c.lineDashOffset=this.lineDashOffset,c.fillShadow=this.shadow,c.lineJoin="round",c.visible=this.seriesItemEnabled[p]};this.groupSelection.selectByTag(Rl.Sector).forEach((c,h)=>a(c,c.datum,h,!1)),this.highlightSelection.selectByTag(Rl.Sector).forEach((c,h)=>{const p=n?.series===this&&c.datum.itemId===n.itemId;p?a(c,c.datum,h,p):c.visible=!1}),this.animationState.transition("update"),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes()})}updateCalloutLineNodes(){var t;const{radiusScale:e,calloutLine:n}=this,i=n.length,o=n.strokeWidth,s=null!==(t=n.colors)&&void 0!==t?t:this.strokes,{offset:a}=this.calloutLabel;this.calloutLabelSelection.selectByTag(Rl.Callout).forEach((c,h)=>{const p=c.datum,g=e.convert(p.radius),m=Math.max(0,g),_=p.calloutLabel;if(_?.text&&!_.hidden&&0!==m){c.visible=!0,c.strokeWidth=o,c.stroke=s[h%s.length],c.fill=void 0;const w=p.midCos*m,E=p.midSin*m;let b=p.midCos*(m+i),R=p.midSin*(m+i);if((_.collisionTextAlign||0!==_.collisionOffsetY)&&null!=_.box){const A=_.box;let x=b,P=R;b<A.x?x=A.x:b>A.x+A.width&&(x=A.x+A.width),R<A.y?P=A.y:R>A.y+A.height&&(P=A.y+A.height);const k=x-b,V=P-R,H=Math.sqrt(Math.pow(k,2)+Math.pow(V,2)),U=H-a;U>0&&(b+=k*U/H,R+=V*U/H)}c.x1=w,c.y1=E,c.x2=b,c.y2=R}else c.visible=!1})}getLabelOverflow(t,e,n){const i=n.x-this.centerX,o=n.x+n.width-this.centerX;let h=1;e.x+1<i?h=(e.x+e.width-i)/e.width:e.x+e.width-1>o&&(h=(o-e.x)/e.width);const p=e.y+1<n.y-this.centerY||e.y+e.height-1>n.y+n.height-this.centerY;return{textLength:1===h?t.length:Math.floor(t.length*h)-1,hasVerticalOverflow:p,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(e)}}bboxIntersectsSurroundingSeries(t,e=0,n=0){const{surroundingRadius:i}=this;if(null==i)return!1;const o=[{x:t.x+e,y:t.y+n},{x:t.x+t.width+e,y:t.y+n},{x:t.x+t.width+e,y:t.y+t.height+n},{x:t.x+e,y:t.y+t.height+n}],s=Math.pow(i,2);return o.some(a=>Math.pow(a.x,2)+Math.pow(a.y,2)>s)}computeCalloutLabelCollisionOffsets(){const{radiusScale:t,calloutLabel:e,calloutLine:n}=this,{offset:i,minSpacing:o}=e,s=t.convert(0),c=this.nodeData,h=this.nodeData.filter(A=>!(A=>{const x=A.calloutLabel,P=t.convert(A.radius),k=Math.max(0,P);return!x||0===k})(A));if(h.forEach(A=>{const x=A.calloutLabel;null!=x&&(x.hidden=!1,x.collisionTextAlign=void 0,x.collisionOffsetY=0)}),h.length<=1)return;const p=h.filter(A=>A.midCos<0).sort((A,x)=>A.midSin-x.midSin),g=h.filter(A=>A.midCos>=0).sort((A,x)=>A.midSin-x.midSin),m=h.filter(A=>{var x;return A.midSin<0&&"center"===(null===(x=A.calloutLabel)||void 0===x?void 0:x.textAlign)}).sort((A,x)=>A.midCos-x.midCos),_=h.filter(A=>{var x;return A.midSin>=0&&"center"===(null===(x=A.calloutLabel)||void 0===x?void 0:x.textAlign)}).sort((A,x)=>A.midCos-x.midCos),w=new Ot,E=A=>{var x;const P=A.calloutLabel;if(null==P)return new un(0,0,0,0);const k=t.convert(A.radius),H=Math.max(0,k)+n.length+i,U=A.midCos*H,W=A.midSin*H+P.collisionOffsetY;return w.text=P.text,w.x=U,w.y=W,w.setFont(this.calloutLabel),w.setAlign({textAlign:null!==(x=P.collisionTextAlign)&&void 0!==x?x:P.textAlign,textBaseline:P.textBaseline}),w.computeBBox()},b=(A,x,P)=>{const k=E(A).grow(o/2),V=E(x).grow(o/2);k.x<V.x+V.width&&k.x+k.width>V.x&&("to-top"===P?k.y<V.y+V.height:k.y+k.height>V.y)&&(x.calloutLabel.collisionOffsetY="to-top"===P?k.y-V.y-V.height:k.y+k.height-V.y)},R=A=>{const x=A.slice().sort((k,V)=>Math.abs(k.midSin)-Math.abs(V.midSin))[0],P=A.indexOf(x);for(let k=P-1;k>=0;k--)b(A[k+1],A[k],"to-top");for(let k=P+1;k<A.length;k++)b(A[k-1],A[k],"to-bottom")},T=A=>{const x=h.some(W=>0!==W.calloutLabel.collisionOffsetY),P=A.map(W=>E(W)),k=P.map(W=>W.clone().grow(o/2));let V=!1;for(let W=0;W<k.length&&!V;W++){const re=k[W];for(let ne=W+1;ne<A.length;ne++)if(re.collidesBBox(k[ne])){V=!0;break}}const H=c.map(W=>{const{startAngle:re,endAngle:ne}=W,Ce=t.convert(W.radius),Ie=Math.max(0,Ce);return{startAngle:re,endAngle:ne,innerRadius:s,outerRadius:Ie}}),U=P.some(W=>H.some(re=>function wz(r,t){const i={x:r.x,y:r.y+r.height},o={x:r.x+r.width,y:r.y+r.height};return bV({start:{x:r.x,y:r.y},end:{x:r.x+r.width,y:r.y}},t)||bV({start:i,end:o},t)}(W,re)));!V&&!x&&!U||A.filter(W=>"center"===W.calloutLabel.textAlign).forEach(W=>{W.calloutLabel.collisionTextAlign=W.midCos<0?"right":W.midCos>0?"left":"center"})};R(p),R(g),T(m),T(_)}updateCalloutLabelNodes(t){const{radiusScale:e,calloutLabel:n,calloutLine:i}=this,o=i.length,{offset:s,color:a}=n,c=new Ot;this.calloutLabelSelection.selectByTag(Rl.Label).forEach(h=>{var p;const{datum:g}=h,m=g.calloutLabel,_=e.convert(g.radius),w=Math.max(0,_);if(!m?.text||0===w||m.hidden)return void(h.visible=!1);const E=w+o+s,b=g.midCos*E,R=g.midSin*E+m.collisionOffsetY,T={textAlign:null!==(p=m.collisionTextAlign)&&void 0!==p?p:m.textAlign,textBaseline:m.textBaseline};c.text=m.text,c.x=b,c.y=R,c.setFont(this.calloutLabel),c.setAlign(T);const A=c.computeBBox();let x=m.text,P=!0;if(n.avoidCollisions){const{textLength:k,hasVerticalOverflow:V}=this.getLabelOverflow(m.text,A,t);x=m.text.length===k?m.text:`${m.text.substring(0,k)}\u2026`,P=!V}h.text=x,h.x=b,h.y=R,h.setFont(this.calloutLabel),h.setAlign(T),h.fill=a,h.visible=P})}computeLabelsBBox(t,e){var n;const{radiusScale:i,calloutLabel:o,calloutLine:s}=this,a=s.length,{offset:c,maxCollisionOffset:h,minSpacing:p}=o;if(!o.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(),this.computeCalloutLabelCollisionOffsets();const g=[],m=new Ot;let _;if(null!==(n=this.title)&&void 0!==n&&n.text&&this.title.enabled){const w=this.getTitleTranslationY();isFinite(w)&&(m.text=this.title.text,m.x=0,m.y=w,m.setFont(this.title),m.setAlign({textBaseline:"bottom",textAlign:"center"}),_=m.computeBBox(),g.push(_))}return this.nodeData.forEach(w=>{var E;const b=w.calloutLabel,R=i.convert(w.radius),T=Math.max(0,R);if(!b||0===T)return null;const A=T+a+c,x=w.midCos*A,P=w.midSin*A+b.collisionOffsetY;m.text=b.text,m.x=x,m.y=P,m.setFont(this.calloutLabel),m.setAlign({textAlign:null!==(E=b.collisionTextAlign)&&void 0!==E?E:b.textAlign,textBaseline:b.textBaseline});const k=m.computeBBox();if(b.box=k,Math.abs(b.collisionOffsetY)>h)b.hidden=!0;else{if(_){const V=e.y-this.centerY,H=new un(_.x-p,V,_.width+2*p,_.y+_.height+p-V);if(k.collidesBBox(H))return void(b.hidden=!0)}if(t.hideWhenNecessary){const{textLength:V,hasVerticalOverflow:H,hasSurroundingSeriesOverflow:U}=this.getLabelOverflow(b.text,k,e);if(H||b.text.length>2&&V<2||U)return void(b.hidden=!0)}b.hidden=!1,g.push(k)}}),0===g.length?null:un.merge(g)}updateSectorLabelNodes(){const{radiusScale:t}=this,e=t.convert(0),{fontSize:n,fontStyle:i,fontWeight:o,fontFamily:s,positionOffset:a,positionRatio:c,color:h}=this.sectorLabel,p=e>0,g=1===this.seriesItemEnabled.filter(Boolean).length;this.sectorLabelSelection.each((m,_)=>{const w=_.sectorLabel,E=t.convert(_.radius),b=Math.max(0,E);let R=!1;if(w&&0!==b){const T=e*(1-c)+E*c+a;m.fill=h,m.fontStyle=i,m.fontWeight=o,m.fontSize=n,m.fontFamily=s,m.text=w.text,!p&&g?(m.x=0,m.y=0):(m.x=_.midCos*T,m.y=_.midSin*T),m.textAlign="center",m.textBaseline="middle";const x=m.computeBBox(),P=[[x.x,x.y],[x.x+x.width,x.y],[x.x+x.width,x.y+x.height],[x.x,x.y+x.height]],{startAngle:k,endAngle:V}=_,H={startAngle:k,endAngle:V,innerRadius:e,outerRadius:b};P.every(([U,W])=>DV(U,W,H))&&(R=!0)}m.visible=R})}updateInnerCircle(){const t=this.innerCircleNode;if(!t)return;const e=this.getInnerRadius();if(0===e)t.size=0;else{const n=Math.min(e,this.getOuterRadius());t.size=Math.ceil(2*n+1)}}updateInnerLabelNodes(){const t=[],e=[];this.innerLabelsSelection.each((g,m)=>{const{fontStyle:_,fontWeight:w,fontSize:E,fontFamily:b,color:R}=m;g.fontStyle=_,g.fontWeight=w,g.fontSize=E,g.fontFamily=b,g.text=m.text,g.x=0,g.y=0,g.fill=R,g.textAlign="center",g.textBaseline="alphabetic",t.push(g.computeBBox()),e.push(m.margin)});const n=g=>0===g?0:e[g],i=g=>g===e.length-1?0:e[g],o=t.reduce((g,m,_)=>g+m.height+n(_)+i(_),0),s=Math.max(...t.map(g=>g.width)),a=this.getInnerRadius(),h=Math.sqrt(Math.pow(s/2,2)+Math.pow(o/2,2))<=(a>0?a:this.getOuterRadius()),p=[];for(let g=0,m=-o/2;g<t.length;g++){const w=t[g].height+m+n(g);p.push(w),m=w+i(g)}this.innerLabelsSelection.each((g,m,_)=>{g.y=p[_],g.visible=h})}getNodeClickEvent(t,e){return new Sz(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)}getNodeDoubleClickEvent(t,e){return new Ez(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)}getTooltipHtml(t){var e;const{angleKey:n}=this;if(!n)return"";const{tooltip:i,angleName:o,radiusKey:s,radiusName:a,calloutLabelKey:c,sectorLabelKey:h,calloutLabelName:p,sectorLabelName:g,id:m}=this,{renderer:_}=i,{datum:w,angleValue:E,radiusValue:b,sectorFormat:{fill:R},calloutLabel:{text:T=""}={}}=t,A="number"==typeof E?EV(E):String(E),x=null===(e=this.title)||void 0===e?void 0:e.text,k={title:x,backgroundColor:R,content:`${T?`${T}: `:""}${A}`};return _?ur(_({datum:w,angleKey:n,angleValue:E,angleName:o,radiusKey:s,radiusValue:b,radiusName:a,calloutLabelKey:c,calloutLabelName:p,sectorLabelKey:h,sectorLabelName:g,title:x,color:R,seriesId:m}),k):ur(k)}getLegendData(){var t,e,n;const{processedData:i,calloutLabelKey:o,legendItemKey:s,id:a,dataModel:c}=this;if(!c||!i||0===i.data.length)return[];if(!s&&!o)return[];const{angleIdx:h,radiusIdx:p,calloutLabelIdx:g,sectorLabelIdx:m,legendItemIdx:_}=this.getProcessedDataIndexes(c),w=(null===(t=this.title)||void 0===t?void 0:t.showInLegend)&&this.title.text,E=[];for(let b=0;b<i.data.length;b++){const{datum:R,values:T}=i.data[b],A=[];w&&A.push(w);const x=this.getLabels(R,2*Math.PI,2*Math.PI,!1,T[h],T[p],T[g],T[m],T[_]);if(s&&void 0!==x.legendItem?A.push(x.legendItem.text):o&&void 0!==(null===(e=x.calloutLabel)||void 0===e?void 0:e.text)&&A.push(null===(n=x.calloutLabel)||void 0===n?void 0:n.text),0===A.length)continue;const P=this.getSectorFormat(R,b,b,!1);E.push({legendType:"category",id:a,itemId:b,seriesId:a,enabled:this.seriesItemEnabled[b],label:{text:A.join(" - ")},marker:{fill:P.fill,stroke:P.stroke,fillOpacity:this.fillOpacity,strokeOpacity:this.strokeOpacity}})}return E}onLegendItemClick(t){const{enabled:e,itemId:n,series:i}=t;i.id===this.id?this.toggleSeriesItem(n,e):"pie"===i.type&&this.toggleOtherSeriesItems(i,n,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.nodeDataRefresh=!0}toggleOtherSeriesItems(t,e,n){var i,o;const{legendItemKey:s,dataModel:a}=this;if(!s||!a)return;const c=t.legendItemKey&&(null===(i=t.data)||void 0===i?void 0:i.find((p,g)=>g===e)[t.legendItemKey]);if(!c)return;const h=a.resolveProcessedDataIndexById(this,"legendItemValue").index;null===(o=this.processedData)||void 0===o||o.data.forEach(({values:p},g)=>{p[h]===c&&this.toggleSeriesItem(g,n)})}animateEmptyUpdateReady(){var t,e;const n=null!==(e=null===(t=this.ctx.animationManager)||void 0===t?void 0:t.defaultOptions.duration)&&void 0!==e?e:1e3,o=Math.PI/-2+ca(this.rotation);this.groupSelection.selectByTag(Rl.Sector).forEach(a=>{var c;const h=a.datum;null===(c=this.ctx.animationManager)||void 0===c||c.animateMany(`${this.id}_empty-update-ready_${a.id}`,[{from:o,to:h.startAngle},{from:o,to:h.endAngle}],{duration:n,ease:gm,onUpdate([p,g]){a.startAngle=p,a.endAngle=g}})});const s={from:0,to:1,delay:n,duration:200};this.calloutLabelSelection.each(a=>{var c;null===(c=this.ctx.animationManager)||void 0===c||c.animate(`${this.id}_empty-update-ready_${a.id}`,Object.assign(Object.assign({},s),{onUpdate(h){a.opacity=h}}))}),this.sectorLabelSelection.each(a=>{var c;null===(c=this.ctx.animationManager)||void 0===c||c.animate(`${this.id}_empty-update-ready_${a.id}`,Object.assign(Object.assign({},s),{onUpdate(h){a.opacity=h}}))}),this.innerLabelsSelection.each(a=>{var c;null===(c=this.ctx.animationManager)||void 0===c||c.animate(`${this.id}_empty-update-ready_${a.id}`,Object.assign(Object.assign({},s),{onUpdate(h){a.opacity=h}}))})}animateReadyUpdateReady(){this.groupSelection.selectByTag(Rl.Sector).forEach(t=>{const{datum:e}=t;t.startAngle=e.startAngle,t.endAngle=e.endAngle})}}In.className="PieSeries",In.type="pie",Yt([G(lr)],In.prototype,"angleKey",void 0),Yt([G(lr)],In.prototype,"angleName",void 0),Yt([G(Mt)],In.prototype,"radiusKey",void 0),Yt([G(Mt)],In.prototype,"radiusName",void 0),Yt([G(yn(0))],In.prototype,"radiusMin",void 0),Yt([G(yn(0))],In.prototype,"radiusMax",void 0),Yt([G(Mt)],In.prototype,"calloutLabelKey",void 0),Yt([G(Mt)],In.prototype,"calloutLabelName",void 0),Yt([G(Mt)],In.prototype,"sectorLabelKey",void 0),Yt([G(Mt)],In.prototype,"sectorLabelName",void 0),Yt([G(Mt)],In.prototype,"legendItemKey",void 0),Yt([G(Ow)],In.prototype,"fills",void 0),Yt([G(Ow)],In.prototype,"strokes",void 0),Yt([G($e(0,1))],In.prototype,"fillOpacity",void 0),Yt([G($e(0,1))],In.prototype,"strokeOpacity",void 0),Yt([G(hm)],In.prototype,"lineDash",void 0),Yt([G($e(0))],In.prototype,"lineDashOffset",void 0),Yt([G(ei)],In.prototype,"formatter",void 0),Yt([G($e(-360,360))],In.prototype,"rotation",void 0),Yt([G($e())],In.prototype,"outerRadiusOffset",void 0),Yt([G($e(0))],In.prototype,"outerRadiusRatio",void 0),Yt([G($e())],In.prototype,"innerRadiusOffset",void 0),Yt([G($e(0))],In.prototype,"innerRadiusRatio",void 0),Yt([G($e(0))],In.prototype,"strokeWidth",void 0);const Hw={constructors:{},constructedArrays:new WeakMap},xV={constructors:{title:ci,subtitle:ci,footnote:ci,shadow:Jd,innerCircle:IF,"axes[].title":Ol,"series[].innerLabels[]":PF},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function MV(){return{constructors:Object.assign(Object.assign({},xV.constructors),Hw.constructors),constructedArrays:Hw.constructedArrays,allowedTypes:Object.assign({},xV.allowedTypes)}}const Oz={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},Rz={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}},FF=({yDirection:r,xEnd:t,yStart:e,yEnd:n})=>r?{x:t/2,y:e}:{x:t,y:isNaN(n)?e:(e+n)/2},PV=({yDirection:r,xStart:t,xEnd:e,yStart:n,yEnd:i})=>r?{x:t,y:isNaN(i)?n:(n+i)/2}:{x:e/2,y:n},IV=({yDirection:r,xEnd:t,yStart:e,yEnd:n})=>r?{x:t,y:isNaN(n)?e:(e+n)/2}:{x:t/2,y:isNaN(n)?e:n},FV=({yDirection:r,xStart:t,xEnd:e,yStart:n,yEnd:i})=>r?{x:e/2,y:isNaN(i)?n:i}:{x:t,y:isNaN(i)?n:(n+i)/2},LV=({yDirection:r,xStart:t,xEnd:e,yStart:n})=>r?{x:t/2,y:n}:{x:e,y:n},NV=({yDirection:r,xStart:t,yStart:e,yEnd:n})=>r?{x:t,y:isNaN(n)?e:n}:{x:t,y:e},kV=({yDirection:r,xEnd:t,yStart:e,yEnd:n})=>r?{x:t,y:e}:{x:t,y:isNaN(n)?e:n},GV=({yDirection:r,xStart:t,xEnd:e,yStart:n,yEnd:i})=>r?{x:e,y:isNaN(i)?n:i}:{x:t,y:isNaN(i)?n:i},Mz={top:{c:FF},bottom:{c:FV},left:{c:PV},right:{c:IV},topLeft:{c:LV},topRight:{c:kV},bottomLeft:{c:NV},bottomRight:{c:GV},inside:{c:({xEnd:r,yStart:t,yEnd:e})=>({x:r/2,y:isNaN(e)?t:(t+e)/2})},insideLeft:{c:PV},insideRight:{c:IV},insideTop:{c:FF},insideBottom:{c:FV},insideTopLeft:{c:LV},insideBottomLeft:{c:NV},insideTopRight:{c:kV},insideBottomRight:{c:GV}};var bp=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class Tl extends gn{constructor(){super(),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new un(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(t,e){return!1}render(t){var e;const{ctx:n,forceRender:i,stats:o}=t;if(this.dirty===Be.NONE&&!i)return void(o&&(o.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(n);let{x1:s,y1:a,x2:c,y2:h}=this;s=this.align(s),a=this.align(a),c=this.align(c),h=this.align(h);const{fill:p,opacity:g,isRange:m}=this;if(m&&p){const{fillOpacity:A}=this;n.fillStyle=p,n.globalAlpha=g*A,n.beginPath(),n.moveTo(s,a),n.lineTo(c,a),n.lineTo(c,h),n.lineTo(s,h),n.closePath(),n.fill()}const{stroke:w,strokeWidth:E,startLine:b,endLine:R}=this;if((b||R)&&w&&E){const{strokeOpacity:A,lineDash:x,lineDashOffset:P,lineCap:k,lineJoin:V}=this;n.strokeStyle=w,n.globalAlpha=g*A,n.lineWidth=E,x&&n.setLineDash(x),P&&(n.lineDashOffset=P),k&&(n.lineCap=k),V&&(n.lineJoin=V),n.beginPath(),b&&(n.moveTo(s,a),n.lineTo(c,a)),R&&(n.moveTo(c,h),n.lineTo(s,h)),n.stroke()}null===(e=this.fillShadow)||void 0===e||e.markClean(),super.render(t)}}Tl.className="Range",Tl.defaultStyles=Object.assign(Object.assign({},gn.defaultStyles),{strokeWidth:1}),bp([lt({redraw:Be.MINOR})],Tl.prototype,"x1",void 0),bp([lt({redraw:Be.MINOR})],Tl.prototype,"y1",void 0),bp([lt({redraw:Be.MINOR})],Tl.prototype,"x2",void 0),bp([lt({redraw:Be.MINOR})],Tl.prototype,"y2",void 0),bp([lt({redraw:Be.MINOR})],Tl.prototype,"startLine",void 0),bp([lt({redraw:Be.MINOR})],Tl.prototype,"endLine",void 0),bp([lt({redraw:Be.MINOR})],Tl.prototype,"isRange",void 0);var _i=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};const Pz=["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],Iz=St((r,t)=>Jn(r,t,e=>Pz.includes(e)),"expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'"),Fz=St((r,t)=>Jn(r,t,e=>"range"===e||"line"===e),"expecting a crossLine type keyword such as 'range' or 'line'");class ks{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}}_i([G(wl)],ks.prototype,"enabled",void 0),_i([G(Mt)],ks.prototype,"text",void 0),_i([G(mp)],ks.prototype,"fontStyle",void 0),_i([G(yp)],ks.prototype,"fontWeight",void 0),_i([G($e(0))],ks.prototype,"fontSize",void 0),_i([G(lr)],ks.prototype,"fontFamily",void 0),_i([G($e(0))],ks.prototype,"padding",void 0),_i([G(Un)],ks.prototype,"color",void 0),_i([G(Iz)],ks.prototype,"position",void 0),_i([G(yn(-360,360))],ks.prototype,"rotation",void 0),_i([G(wl)],ks.prototype,"parallel",void 0);class fr{constructor(){this.id=Wd(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new ks,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=Qe.X,this.group=new Ht({name:`${this.id}`,layer:!0,zIndex:fr.LINE_LAYER_ZINDEX}),this.crossLineRange=new Tl,this.crossLineLabel=new Ot,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;const{group:t,crossLineRange:e,crossLineLabel:n}=this;t.append([e,n]),e.pointerEvents=Ro.None}update(t){this.enabled&&(this.group.visible=t,t)&&(this.createNodeData()?(this.updateNodes(),this.group.zIndex=this.getZIndex(this.isRange)):this.group.visible=!1)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(){var t,e;const{scale:n,gridLength:i,sideFlag:o,direction:s,label:{position:a="top"},clippedRange:c,strokeWidth:h=0}=this;if(!n)return!1;const p=null!==(t=n.bandwidth)&&void 0!==t?t:0,g=A=>Math.max(Math.min(...c),Math.min(Math.max(...c),A)),[m,_]=[0,o*i];let[w,E]=this.getRange(),[b,R]=[Number(n.convert(w,{strict:!1})),n.convert(E,{strict:!1})+p];b=g(b),R=g(R),[w,E]=[Number(n.convert(w)),n.convert(E)+p];const T=!isNaN(b)&&!isNaN(R)&&(w===b||E===R||b!==R)&&Math.abs(R-b)>0;if(T&&b!==Math.min(b,R)&&([b,R]=[Math.min(b,R),Math.max(b,R)],[w,E]=[E,w]),this.isRange=T,this.startLine=!isNaN(w)&&h>0&&w===b,this.endLine=!isNaN(E)&&h>0&&E===R,!T&&!this.startLine&&!this.endLine)return!1;if(this.data=[b,R],this.label.enabled){const A=s===Qe.Y,{c:x=FF}=null!==(e=Mz[a])&&void 0!==e?e:{},{x:P,y:k}=x({yDirection:A,xStart:m,xEnd:_,yStart:b,yEnd:R});this.labelPoint={x:P,y:k}}return!0}updateRangeNode(){var t;const{crossLineRange:e,sideFlag:n,gridLength:i,data:o,startLine:s,endLine:a,isRange:c,fill:h,fillOpacity:p,stroke:g,strokeWidth:m,lineDash:_}=this;e.x1=0,e.x2=n*i,e.y1=o[0],e.y2=o[1],e.startLine=s,e.endLine=a,e.isRange=c,e.fill=h,e.fillOpacity=p??1,e.stroke=g,e.strokeWidth=m??1,e.strokeOpacity=null!==(t=this.strokeOpacity)&&void 0!==t?t:1,e.lineDash=_}updateLabel(){const{crossLineLabel:t,label:e}=this;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:e,y:n}={},label:{parallel:i,rotation:o,position:s="top",padding:a=0},direction:c,parallelFlipRotation:h,regularFlipRotation:p}=this;if(void 0===e||void 0===n)return;const{defaultRotation:g,configuredRotation:m}=RF({rotation:o,parallel:i,regularFlipRotation:p,parallelFlipRotation:h});t.rotation=g+m,t.textBaseline="middle",t.textAlign="center";const _=this.computeLabelBBox();if(!_)return;const w=c===Qe.Y,{xTranslation:E,yTranslation:b}=function Tz({yDirection:r,padding:t=0,position:e="top",bbox:n}){const i=r?Oz:Rz,{xTranslationDirection:o,yTranslationDirection:s}=i[e];return{xTranslation:o*(t+(r?n.width:n.height)/2),yTranslation:s*(t+(r?n.height:n.width)/2)}}({yDirection:w,padding:a,position:s,bbox:_});t.translationX=e+E,t.translationY=n+b}getZIndex(t=!1){return t?fr.RANGE_LAYER_ZINDEX:fr.LINE_LAYER_ZINDEX}getRange(){const{value:t,range:e,scale:n}=this,i=n instanceof Pn;let[o,s]=e??[t,void 0];return!i&&void 0===s&&(s=o),o=null!=YO(o,i)?o:void 0,s=null!=YO(s,i)?s:void 0,i&&o===s&&(s=void 0),void 0===o&&void 0!==s&&(o=s,s=void 0),[o,s]}computeLabelBBox(){return this.crossLineLabel.computeTransformedBBox()}calculatePadding(t){var e,n,i,o,s,a,c,h;const{isRange:p,startLine:g,endLine:m,direction:_,label:{padding:w=0,position:E="top"}}=this;if(!p&&!g&&!m)return;const b=this.computeLabelBBox(),R=b?.x,T=b?.y;if(!b||null==R||null==T)return;const A=function Az({yDirection:r,bbox:t,padding:e=0,position:n="top"}){const i={};return n.startsWith("inside")||("top"!==n||r?"bottom"!==n||r?"left"===n&&r?i.left=e+t.width:"right"===n&&r&&(i.right=e+t.width):i.bottom=e+t.height:i.top=e+t.height),i}({yDirection:_===Qe.Y,padding:w,position:E,bbox:b});t.left=Math.max(null!==(e=t.left)&&void 0!==e?e:0,null!==(n=A.left)&&void 0!==n?n:0),t.right=Math.max(null!==(i=t.right)&&void 0!==i?i:0,null!==(o=A.right)&&void 0!==o?o:0),t.top=Math.max(null!==(s=t.top)&&void 0!==s?s:0,null!==(a=A.top)&&void 0!==a?a:0),t.bottom=Math.max(null!==(c=t.bottom)&&void 0!==c?c:0,null!==(h=A.bottom)&&void 0!==h?h:0)}}fr.LINE_LAYER_ZINDEX=mi.SERIES_CROSSLINE_LINE_ZINDEX,fr.RANGE_LAYER_ZINDEX=mi.SERIES_CROSSLINE_RANGE_ZINDEX,fr.className="CrossLine",_i([G(wl)],fr.prototype,"enabled",void 0),_i([G(Fz)],fr.prototype,"type",void 0),_i([G(aF(2))],fr.prototype,"range",void 0),_i([G(Un)],fr.prototype,"fill",void 0),_i([G(yn(0,1))],fr.prototype,"fillOpacity",void 0),_i([G(Un)],fr.prototype,"stroke",void 0),_i([G(yn())],fr.prototype,"strokeWidth",void 0),_i([G(yn(0,1))],fr.prototype,"strokeOpacity",void 0),_i([G(hm)],fr.prototype,"lineDash",void 0);var VV=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class Sm extends Qd{constructor(){super(...arguments),this.thickness=0,this.position="left"}get direction(){return["top","bottom"].includes(this.position)?Qe.X:Qe.Y}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t){return this.updateDirection(),super.update(t)}createAxisContext(){return Object.assign(Object.assign({},super.createAxisContext()),{position:this.position})}assignCrossLineArrayConstructor(t){!function bz(r,t){var e;null===(e=Hw.constructedArrays)||void 0===e||e.set(r,t)}(t,fr)}}VV([G($e(0))],Sm.prototype,"thickness",void 0),VV([G(NG)],Sm.prototype,"position",void 0);class Yu extends Sm{constructor(t){super(t,new dR),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(t){this.scale.paddingOuter=t}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(t){var e,n;const i={};for(const o of t)null!==(e=i[n=String(o)])&&void 0!==e||(i[n]=o);return Object.values(i)}calculateDomain(){if(!this._paddingOverrideEnabled){const{boundSeries:t}=this,e=t.map(n=>{var i;return null===(i=n.getBandScalePadding)||void 0===i?void 0:i.call(n)}).filter(n=>null!=n);e.length>0&&(this.scale.paddingInner=Math.min(...e.map(n=>n.inner)),this.scale.paddingOuter=Math.max(...e.map(n=>n.outer)))}return super.calculateDomain()}}Yu.className="CategoryAxis",Yu.type="category",function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([G($e(0,1))],Yu.prototype,"groupPaddingInner",void 0);class HV{constructor(t="",e,n=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=n}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((t,e)=>e!==this.number):[]}}function Gz(r,t,e){const i=e/(t.number-r.number);t.change-=i,t.shift+=e,r.change+=i,t.prelim+=e,t.mod+=e}function Vz(r,t,e){return t.getSiblings().indexOf(r.ancestor)>=0?r.ancestor:e}function BV(r,t){const e=r.children;if(e.length){let n=e[0];e.forEach(s=>{BV(s,t),n=function Bz(r,t,e){const n=r.getLeftSibling();if(n){let i=r,o=r,s=n,a=o.getLeftmostSibling(),c=o.mod,h=i.mod,p=s.mod,g=a.mod;for(;s.nextRight()&&o.nextLeft();){s=s.nextRight(),o=o.nextLeft(),a=a.nextLeft(),i=i.nextRight(),i.ancestor=r;const m=s.prelim+p-(o.prelim+c)+e;m>0&&(Gz(Vz(s,r,t),r,m),c+=m,h+=m),p+=s.mod,c+=o.mod,g+=a.mod,h+=i.mod}s.nextRight()&&!i.nextRight()?(i.thread=s.nextRight(),i.mod+=p-h):(o.nextLeft()&&!a.nextLeft()&&(a.thread=o.nextLeft(),a.mod+=c-g),t=r)}return t}(s,n,t)}),function Hz(r){const t=r.children;if(t){let e=0,n=0;for(let i=t.length-1;i>=0;i--){const o=t[i];o.prelim+=e,o.mod+=e,n+=o.change,e+=o.shift+n}}}(r);const i=(e[0].prelim+e[e.length-1].prelim)/2,o=r.getLeftSibling();o?(r.prelim=o.prelim+t,r.mod=r.prelim-i):r.prelim=i}else{const n=r.getLeftSibling();r.prelim=n?n.prelim+t:0}}class jV{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(t,e){const{x:n,y:i}=e(t);n>this.right&&(this.right=n),n<this.left&&(this.left=n),i>this.bottom&&(this.bottom=i),i<this.top&&(this.top=i)}}function UV(r,t,e){r.x=r.prelim+t,r.y=r.depth,e.update(r),r.children.forEach(n=>UV(n,t+r.mod,e))}function WV(r){const t=r.children;let e=0;t.forEach(n=>{WV(n),n.children.length?e+=n.leafCount:e++}),r.leafCount=e,t.length?(r.subtreeLeft=t[0].subtreeLeft,r.subtreeRight=t[r.children.length-1].subtreeRight,r.x=(r.subtreeLeft+r.subtreeRight)/2):(r.subtreeLeft=r.x,r.subtreeRight=r.x)}function jz(r){const t=new Uz;return BV(r,1),UV(r,-r.prelim,t),WV(r),t}class Uz{constructor(){this.dimensions=new jV,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(t){this.dimensions.update(t,e=>({x:e.x,y:e.y})),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)}resize(t,e,n=0,i=0,o=!1){const s=this.leafCount-1,a=this.depth,c=this.dimensions;let h=1,p=1;t>0&&s&&(h=t/s/((c.right-c.left)/s),o&&(h=-h)),e>0&&a&&(p=e/a/((c.bottom-c.top)/a));const g=new jV;this.nodes.forEach(w=>{w.screenX=w.x*h,w.screenY=w.y*p,g.update(w,E=>({x:E.screenX,y:E.screenY}))});const m=-g.left,_=-g.top;this.nodes.forEach(w=>{w.screenX+=m+n,w.screenY+=_+i})}}var zV=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class $V extends Ci{constructor(){super(...arguments),this.grid=!1}}zV([G(Mn)],$V.prototype,"grid",void 0);class Op extends Sm{constructor(t){super(t,new dR),this.tickScale=new dR,this.translation={x:0,y:0},this.line=new mR,this.label=new $V,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:e,tickLabelGroup:n,gridLineGroup:i,tickScale:o,scale:s}=this;s.paddingOuter=.1,s.paddingInner=2*s.paddingOuter,this.range=s.range.slice(),this.refreshScale(),o.paddingInner=1,o.paddingOuter=0,this.gridLineSelection=Wn.select(i,io),this.axisLineSelection=Wn.select(e,io),this.separatorSelection=Wn.select(e,io),this.labelSelection=Wn.select(n,Ot)}updateRange(){const{range:t,visibleRange:e,scale:n}=this,i=(t[1]-t[0])/(e[1]-e[0]),s=t[0]-i*e[0];this.tickScale.range=n.range=[s,s+i],this.resizeTickTree()}resizeTickTree(){var t;const e=this.scale,n=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,i=this.tickTreeLayout,o=this.lineHeight;i&&i.resize(Math.abs(n[1]-n[0]),i.depth*o,(Math.min(n[0],n[1])||0)+(null!==(t=e.bandwidth)&&void 0!==t?t:0)/2,-i.depth*o,n[1]-n[0]<0)}get lineHeight(){return 1.5*this.label.fontSize}set gridLength(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineSelection.clear(),this.labelSelection.clear()),this._gridLength=t}get gridLength(){return this._gridLength}calculateDomain(){var t;const{direction:e,boundSeries:n}=this,i=[];let o;n.filter(c=>c.visible).forEach(c=>{if(e===Qe.X)if(void 0===o){const h=c.getDomain(e);i.push(h),o="number"==typeof h[0]}else o&&i.push(c.getDomain(e));else i.push(c.getDomain(e))});const s=(new Array).concat(...i),a=null!==(t=zu(s))&&void 0!==t?t:s;this.dataDomain=this.normaliseDataDomain(a),this.scale.domain=this.dataDomain}normaliseDataDomain(t){const e=t.filter((o,s,a)=>a.indexOf(o)===s),n=function Nz(r,t=!0){const e=new HV;let n=0;return t&&r.forEach(i=>n=Math.max(n,i.labels.length)),r.forEach(i=>{if(t)for(;i.labels.length<n;)i.labels.unshift("");!function kz(r,t){const e=t.labels.slice().reverse(),n=e.length-1;e.forEach((i,o)=>{const s=r.children,a=s.find(h=>h.label===i),c=o!==n;if(a&&c)r=a;else{const h=new HV(i,r);h.number=s.length,s.push(h),c&&(r=h)}})}(e,i)}),e}(e);this.tickTreeLayout=jz(n);const i=e.slice();return i.push(""),this.tickScale.domain=i,this.resizeTickTree(),e}update(t){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:e,label:n,label:{parallel:i},moduleCtx:{callbackCache:o},tickScale:s,range:a,title:c,title:{formatter:h=(Ke=>Ke.defaultValue)}={},_titleCaption:p}=this,g=e.range[0],m=e.range[1],w=Math.abs(m-g)/e.domain.length||0,E=ca(this.rotation),b=Math.abs(Math.cos(E))<1e-8,R=n.getSideFlag();this.updatePosition({rotation:E,sideFlag:R}),p.node.visible=!1;const T=this.lineHeight,A=this.tickTreeLayout,x=e.ticks(),P=A?A.nodes:[],k=!!A&&A.depth>1,V=s.ticks(),{defaultRotation:H,configuredRotation:U,parallelFlipFlag:W}=RF({rotation:n.rotation,parallel:i,regularFlipRotation:to(E-Math.PI/2),parallelFlipRotation:to(E)}),re=this.gridLineSelection.update(this.gridLength?V:[]),ne=this.labelSelection.update(P),Ce=n.formatter,Ie=new Map;let Ve=0;ne.each((Ke,mt,Tt)=>{var cn;Ke.fontStyle=n.fontStyle,Ke.fontWeight=n.fontWeight,Ke.fontSize=n.fontSize,Ke.fontFamily=n.fontFamily,Ke.fill=n.color,Ke.textBaseline=-1===W?"bottom":"hanging",Ke.textAlign="center",Ke.translationX=mt.screenY-.25*n.fontSize,Ke.translationY=mt.screenX,0===Tt?c?.enabled&&x.length>0?(Ke.visible=!0,Ke.text=o.call(h,this.getTitleFormatterParams()),Ke.fontSize=c.fontSize,Ke.fontStyle=c.fontStyle,Ke.fontWeight=c.fontWeight,Ke.fontFamily=c.fontFamily,Ke.textBaseline="hanging"):Ke.visible=!1:Ce?(Ke.text=null!==(cn=o.call(Ce,{value:String(mt.label),index:Tt}))&&void 0!==cn?cn:String(mt.label),Ke.visible=mt.screenX>=a[0]&&mt.screenX<=a[1]):(Ke.text=String(mt.label),Ke.visible=mt.screenX>=a[0]&&mt.screenX<=a[1]);const pn=Ke.computeBBox();Ie.set(Ke.id,pn),pn.width>Ve&&(Ve=pn.width)});const de=R*n.padding,fe=this.label.grid,ae=[];ne.each((Ke,mt,Tt)=>{if(Ke.x=de,Ke.rotationCenterX=de,mt.children.length){Ke.translationX-=Ve-T+this.label.padding;const cn=mt.leafCount*w,pn=Ie.get(Ke.id);pn&&pn.width>cn?Ke.visible=!1:Ke.rotation=b?H:-Math.PI/2}else{Ke.rotation=U,Ke.textAlign="end",Ke.textBaseline="middle";const cn=Ie.get(Ke.id);cn&&cn.height>w&&(Ke.visible=!1)}if(mt.parent&&k){const cn=mt.children.length?mt.screenX-mt.leafCount*w/2:mt.screenX-w/2;if(mt.children.length){const pn=-Ve-2*this.label.padding+mt.screenY;ae.push({y:cn,x1:pn+T,x2:pn,toString:()=>String(Tt)})}else(mt.number!==mt.children.length-1||fe)&&ae.push({y:cn,x1:0,x2:-Ve-2*this.label.padding,toString:()=>String(Tt)})}});let Fe=0;ae.forEach(Ke=>Fe=Math.min(Fe,Ke.x2)),ae.push({y:Math.max(g,m),x1:0,x2:Fe,toString:()=>String(ae.length)});this.separatorSelection.update(ae).each((Ke,mt)=>{Ke.x1=mt.x1,Ke.x2=mt.x2,Ke.y1=mt.y,Ke.y2=mt.y,Ke.visible=mt.y>=a[0]-1e-7&&mt.y<=a[1]+1e-7,Ke.stroke=this.tick.color,Ke.fill=void 0,Ke.strokeWidth=1}),this.gridLineSelection=re,this.labelSelection=ne;const Dt=A?A.depth+1:1,kt=[];for(let Ke=0;Ke<Dt;Ke++)kt.push(Ke);if(this.axisLineSelection.update(kt).each((Ke,mt,Tt)=>{const cn=Tt>0?-Ve-2*this.label.padding-(Tt-1)*T:0;Ke.x1=cn,Ke.x2=cn,Ke.y1=a[0],Ke.y2=a[1],Ke.strokeWidth=this.line.width,Ke.stroke=this.line.color,Ke.visible=x.length>0&&(0===Tt||fe&&k)}),this.gridLength){const Ke=this.gridStyle,mt=Ke.length;re.each((Tt,cn,pn)=>{const uo=Math.round(s.convert(cn));Tt.x1=0,Tt.x2=-R*this.gridLength,Tt.y1=uo,Tt.y2=uo,Tt.visible=uo>=a[0]&&uo<=a[1];const Yi=Ke[pn%mt];Tt.stroke=Yi.stroke,Tt.strokeWidth=this.tick.width,Tt.lineDash=Yi.lineDash,Tt.fill=void 0})}return t}}Op.className="GroupedCategoryAxis",Op.type="groupedCategory",zV([G(Un)],Op.prototype,"labelColor",void 0);const zz=["top","right","bottom","left"];let KV=(()=>{class r extends Yo{constructor(e=window.document,n,i){super(e,n,i),this.paired=!0,this._lastAxisWidths={top:0,bottom:0,left:0,right:0},this._lastVisibility={crossLines:!0,series:!0}}performLayout(){const e=Object.create(null,{performLayout:{get:()=>super.performLayout}});return function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const n=yield e.performLayout.call(this),{seriesRect:i,visibility:o,clipSeries:s}=this.updateAxes(n);this.seriesRoot.visible=o.series,this.seriesRect=i,this.seriesRoot.translationX=Math.floor(i.x),this.seriesRoot.translationY=Math.floor(i.y);const{seriesRoot:a,seriesAreaPadding:c}=this,h=i.clone().grow({top:c.top,right:c.right,bottom:c.bottom,left:c.left}),g=h.clone().grow(20);return this.hoverRect=g,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:i,paddedRect:h,hoverRect:g,visible:o.series},axes:this.axes.map(m=>Object.assign({id:m.id},m.getLayoutState()))}),s?a.setClipRectInGroupCoordinateSpace(i):a.setClipRectInGroupCoordinateSpace(),n})}updateAxes(e){var n;const i=Object.assign({},this._lastAxisWidths),o=Object.assign({},this._lastVisibility),s=new Set(this._axes.map(E=>E.position));for(const E of Object.keys(i))s.has(E)||delete i[E];const a=(E,b)=>!Object.keys(E).some(R=>null==i[R])&&o.crossLines===b.crossLines&&o.series===b.series&&Object.entries(i).every(([R,T])=>{const A=E[R];return null==T&&null==A||T===A}),c=E=>Object.entries(E).reduce((b,[R,T])=>(T&&Math.abs(T)===1/0&&(T=0),b[R]=null!=T?Math.ceil(T):T,b),{});let h={},p={},g=!1,m=null===(n=this.seriesRect)||void 0===n?void 0:n.clone(),_=0;do{Object.assign(i,h),Object.assign(o,p);const E=this.updateAxesPass(i,e.clone(),m);if(h=c(E.axisWidths),p=E.visibility,g=E.clipSeries,m=E.seriesRect,_++>10){at.warn("unable to find stable axis layout.");break}}while(!a(h,p));return this.axes.forEach(E=>{if(E.setCrossLinesVisible(o.crossLines),m)switch(E.clipGrid(m.x,m.y,m.width+5,m.height+5),E.position){case"left":case"right":E.clipTickLines(e.x,m.y,e.width+5,m.height+5);break;case"top":case"bottom":E.clipTickLines(m.x,e.y,m.width+5,e.height+5)}}),this._lastAxisWidths=i,this._lastVisibility=o,{seriesRect:m,visibility:o,clipSeries:g}}updateAxesPass(e,n,i){const{axes:o}=this,s={},a={},c={series:!0,crossLines:!0};let h=!1;const p={},g=this.applySeriesPadding(n),m=i?this.buildCrossLinePadding(e):{},_=this.buildAxisBound(g,e,m,c),w=this.buildSeriesRect(_,e);return o.forEach(E=>{var b,R;const{position:T="left"}=E,{clipSeries:A,axisThickness:x,axisOffset:P}=this.calculateAxisDimensions({axis:E,seriesRect:w,paddedBounds:g,axisWidths:e,newAxisWidths:a,primaryTickCounts:p,clipSeries:h,addInterAxisPadding:(null!==(b=s[T])&&void 0!==b?b:0)>0});s[T]=(null!==(R=s[T])&&void 0!==R?R:0)+1,h=h||A,this.positionAxis({axis:E,axisBound:_,axisOffset:P,axisThickness:x,axisWidths:e,primaryTickCounts:p,seriesRect:w})}),{clipSeries:h,seriesRect:w,axisWidths:a,visibility:c}}buildCrossLinePadding(e){var n;const i={};this.axes.forEach(o=>{o.crossLines&&o.crossLines.forEach(s=>{s.calculatePadding(i)})});for(const[o,s=0]of Object.entries(i))i[o]=Math.max(s-(null!==(n=e[o])&&void 0!==n?n:0),0);return i}applySeriesPadding(e){const n=e.clone(),i=this.axes.slice().reverse();return zz.forEach(o=>{const s=this.seriesAreaPadding[o],a=i.find(c=>c.position===o);a?a.seriesAreaPadding=s:n.shrink(s,o)}),n}buildAxisBound(e,n,i,o){var s,a,c,h;const p=e.clone(),{top:g=0,right:m=0,bottom:_=0,left:w=0}=i,E=w+m,b=g+_,R=(null!==(s=n.left)&&void 0!==s?s:0)+(null!==(a=n.right)&&void 0!==a?a:0)+E,T=(null!==(c=n.top)&&void 0!==c?c:0)+(null!==(h=n.bottom)&&void 0!==h?h:0)+b;return p.width<=R||p.height<=T?(o.crossLines=!1,o.series=!1,p):(p.x+=w,p.y+=g,p.width-=E,p.height-=b,p)}buildSeriesRect(e,n){const i=e.clone(),{top:o,bottom:s,left:a,right:c}=n;return i.x+=a??0,i.y+=o??0,i.width-=(a??0)+(c??0),i.height-=(o??0)+(s??0),i.width=Math.max(0,i.width),i.height=Math.max(0,i.height),i}clampToOutsideSeriesRect(e,n,i,o){const{x:s,y:a,width:c,height:h}=e;return(1===o?Math.min:Math.max)(n,[s,a,s+c,a+h][("x"===i?0:1)+(1===o?0:2)])}calculateAxisDimensions(e){var n,i,o,s,a;const{axis:c,seriesRect:h,paddedBounds:p,axisWidths:g,newAxisWidths:m,primaryTickCounts:_,addInterAxisPadding:w}=e;let{clipSeries:E}=e;const{position:b="left",direction:R}=c,A=null!==(n=m[b])&&void 0!==n?n:0;switch(b){case"top":case"bottom":c.range=[0,h.width],c.gridLength=h.height;break;case"right":case"left":c.range=(re=c)instanceof Yu||re instanceof Op?[0,h.height]:[h.height,0],c.gridLength=h.width}var re;const x=this.zoomManager.getAxisZoom(c.id),{min:P=0,max:k=1}=x??{};c.visibleRange=[P,k],!E&&(c.visibleRange[0]>0||c.visibleRange[1]<1)&&(E=!0);let V=c.nice?_[R]:void 0;c.maxThickness=null!=c.thickness&&c.thickness>0?c.thickness:R===Qe.Y?.3*p.width:.3*p.height,V=c.update(V),_[R]=null!==(i=_[R])&&void 0!==i?i:V;let U=0;if(null!=c.thickness&&c.thickness>0)U=c.thickness;else{const re=c.computeBBox();U=R===Qe.X?re.height:re.width}return w&&(U+=15),U=Math.ceil(U),m[b]=(null!==(o=m[b])&&void 0!==o?o:0)+U,c.gridPadding=(null!==(s=g[b])&&void 0!==s?s:0)-(null!==(a=m[b])&&void 0!==a?a:0),{clipSeries:E,axisThickness:U,axisOffset:A}}positionAxis(e){var n,i,o,s;const{axis:a,axisBound:c,axisWidths:h,seriesRect:p,axisOffset:g,axisThickness:m}=e,{position:_}=a;switch(_){case"top":a.translation.x=c.x+(null!==(n=h.left)&&void 0!==n?n:0),a.translation.y=this.clampToOutsideSeriesRect(p,c.y+1+g+m,"y",1);break;case"bottom":a.translation.x=c.x+(null!==(i=h.left)&&void 0!==i?i:0),a.translation.y=this.clampToOutsideSeriesRect(p,c.y+c.height+1-m-g,"y",-1);break;case"left":a.translation.y=c.y+(null!==(o=h.top)&&void 0!==o?o:0),a.translation.x=this.clampToOutsideSeriesRect(p,c.x+g+m,"x",1);break;case"right":a.translation.y=c.y+(null!==(s=h.top)&&void 0!==s?s:0),a.translation.x=this.clampToOutsideSeriesRect(p,c.x+c.width-m-g,"x",-1)}a.updatePosition({rotation:ca(a.rotation),sideFlag:a.label.getSideFlag()})}}return r.className="CartesianChart",r.type="cartesian",r})();class YV extends Qd{constructor(){super(...arguments),this.shape="polygon"}computeLabelsBBox(t,e){return null}}let qV=(()=>{class r extends Yo{constructor(e=window.document,n,i){super(e,n,i),this.padding=new _p(40)}performLayout(){const e=Object.create(null,{performLayout:{get:()=>super.performLayout}});return function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const n=yield e.performLayout.call(this),i=n.clone();this.computeSeriesRect(n),this.computeCircle(n),this.axes.forEach(a=>a.update());const s=n.clone().grow(20);return this.hoverRect=s,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:i,paddedRect:n,hoverRect:s,visible:!0},axes:[]}),n})}updateAxes(e,n,i){var o;this.axes.forEach(h=>{var p;if(h.direction===Qe.X){const g=ca(null!==(p=h.rotation)&&void 0!==p?p:0);h.range=[-Math.PI/2+g,3*Math.PI/2+g],h.gridLength=i,h.translation.x=e,h.translation.y=n}else h.direction===Qe.Y&&(h.range=[i,0],h.translation.x=e,h.translation.y=n-i);h.updateScale()});const s=this.axes.find(h=>h.direction===Qe.X),a=s?.scale,c=null===(o=a?.ticks)||void 0===o?void 0:o.call(a).map(h=>a.convert(h));this.axes.filter(h=>h instanceof YV).forEach(h=>h.gridAngles=c)}computeSeriesRect(e){const{seriesAreaPadding:n}=this;e.shrink(n.left,"left"),e.shrink(n.top,"top"),e.shrink(n.right,"right"),e.shrink(n.bottom,"bottom"),this.seriesRect=e}computeCircle(e){const n=this.series.filter(g=>g instanceof OV),i=this.axes.filter(g=>g instanceof YV),o=(g,m,_)=>{this.updateAxes(g,m,_),n.forEach(E=>{E.centerX=g,E.centerY=m,E.radius=_});const w=n.filter(E=>E instanceof In);if(w.length>1){const E=w.map(b=>{const R=b.getInnerRadius();return{series:b,innerRadius:R}}).sort((b,R)=>b.innerRadius-R.innerRadius);E[E.length-1].series.surroundingRadius=void 0;for(let b=0;b<E.length-1;b++)E[b].series.surroundingRadius=E[b+1].innerRadius}},s=e.x+e.width/2,a=e.y+e.height/2,c=Math.max(0,Math.min(e.width,e.height)/2);let h=c;o(s,a,h);const p=({hideWhenNecessary:g=!1}={})=>{const m=[];for(const E of[...i,...n]){const b=E.computeLabelsBBox({hideWhenNecessary:g},e);b&&m.push(b)}if(0===m.length)return void o(s,a,c);const _=un.merge(m),w=this.refineCircle(_,h,e);o(w.centerX,w.centerY,w.radius),w.radius!==h&&(h=w.radius)};return p(),p(),p(),p({hideWhenNecessary:!0}),p({hideWhenNecessary:!0}),{radius:h,centerX:s,centerY:a}}refineCircle(e,n,i){const a=-n,c=n,h=n;let p=Math.max(0,-n-e.x),g=Math.max(0,a-e.y),m=Math.max(0,e.x+e.width-c),_=Math.max(0,e.y+e.height-h),b=Math.min(i.width-p-m,i.height-g-_)/2;const A=Math.min(.5*i.width/2,.5*i.height/2);if(b<A){b=A;const k=p+m;if(2*b+(g+_)>i.height){const H=i.height-2*b;2*Math.min(g,_)>H?(g=H/2,_=H/2):g>_?g=H-_:_=H-g}if(2*b+k>i.width){const H=i.width-2*b;2*Math.min(p,m)>H?(p=H/2,m=H/2):p>m?p=H-m:m=H-p}}return{centerX:i.x+(i.width-(p+2*b+m))/2+p+b,centerY:i.y+(i.height-(g+2*b+_))/2+g+b,radius:b}}}return r.className="PolarChart",r.type="polar",r})();var XV=function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})};let ZV=(()=>{class r extends Yo{constructor(e=window.document,n,i){super(e,n,i),this._data={}}performLayout(){const e=Object.create(null,{performLayout:{get:()=>super.performLayout}});return XV(this,void 0,void 0,function*(){const n=yield e.performLayout.call(this),{seriesAreaPadding:i}=this,o=n.clone();n.shrink(i.left,"left"),n.shrink(i.top,"top"),n.shrink(i.right,"right"),n.shrink(i.bottom,"bottom"),this.seriesRect=n;const a=n.clone().grow(20);this.hoverRect=a,this.seriesRoot.translationX=Math.floor(n.x),this.seriesRoot.translationY=Math.floor(n.y),yield Promise.all(this.series.map(h=>XV(this,void 0,void 0,function*(){yield h.update({seriesRect:n})})));const{seriesRoot:c}=this;return c.setClipRectInGroupCoordinateSpace(new un(n.x,n.y,n.width,n.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:o,paddedRect:n,hoverRect:a,visible:!0},axes:[]}),n})}}return r.className="HierarchyChart",r.type="hierarchy",r})();var LF=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class QV extends ya{constructor(){super(...arguments),this.maxSpacing=NaN}}LF([G(Vu($d(1),bw("minSpacing"))),Xd(NaN)],QV.prototype,"maxSpacing",void 0);class eh extends Sm{constructor(t,e=new CR){super(t,e),this.min=NaN,this.max=NaN,e.strictClampByDefault=!0}normaliseDataDomain(t){const{min:e,max:n}=this;return function uz(r,t,e){var n;return r.length>2&&(r=null!==(n=zu(r))&&void 0!==n?n:[NaN,NaN]),isNaN(t)||(r=[t,r[1]]),isNaN(e)||(r=[r[0],e]),r[0]>r[1]&&(r=[]),r}(t,e,n)}formatDatum(t){return"number"==typeof t?t.toFixed(2):(at.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(t))}createTick(){return new QV}updateSecondaryAxisTicks(t){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");const[e,n]=function Kz(r,t){let e=Math.floor(r[0]),n=r[1];e=function Yz(r,t,e){const n=Math.abs(t-r)/(e-1),i=Math.floor(Math.log10(n)),o=Math.pow(10,i);return Math.floor(r/o)*o}(e,n,t);const i=function Xz(r,t,e){return function Zz(r){const t=Math.floor(Math.log10(r)),e=Math.pow(10,t),n=r/e*10;return n>0&&n<=1?e/10:n>1&&n<=2?2*e/10:n>1&&n<=5?5*e/10:n>5&&n<=10?10*e/10:n>10&&n<=20?20*e/10:n>20&&n<=40?40*e/10:n>40&&n<=50?50*e/10:n>50&&n<=100?100*e/10:n}((t-r)/(e-1))}(e,n,t);n=e+(t-1)*i;const s=[e,n],a=function qz(r,t,e){const n=Math.floor(Math.log10(t)),i=t>0&&t<1?Math.abs(n):0,o=Math.pow(10,i),s=new bF(i);for(let a=0;a<e;a++)s[a]=Math.round((r+t*a)*o)/o;return s}(e,i,t);return[s,a]}(this.dataDomain,t??0);return this.scale.nice=!1,this.scale.domain=e,this.scale.update(),n}}eh.className="NumberAxis",eh.type="number",LF([G(Vu($d(),ZO("max"))),Xd(NaN)],eh.prototype,"min",void 0),LF([G(Vu($d(),bw("min"))),Xd(NaN)],eh.prototype,"max",void 0);var JV=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function e1(){return St(t=>"number"==typeof t&&0!==t,"expecting a non-zero Number")}class th extends eh{constructor(t){super(t,new Gw),this.min=NaN,this.max=NaN,this.scale.strictClampByDefault=!0}normaliseDataDomain(t){var e;const{min:n,max:i}=this;t.length>2&&(t=null!==(e=zu(t))&&void 0!==e?e:[NaN,NaN]),isNaN(n)||(t=[n,t[1]]),isNaN(i)||(t=[t[0],i]);const s=t[0]<0&&t[1]>0,a=0===t[0]&&0===t[1];return(t[0]>t[1]||s||a)&&(t=[],s?at.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):a&&at.warn("the data domain has 0 extent, no data is rendered.")),0===t[0]&&(t[0]=1),0===t[1]&&(t[1]=-1),t}set base(t){this.scale.base=t}get base(){return this.scale.base}}th.className="LogAxis",th.type="log",JV([G(Vu($d(),ZO("max"),e1())),Xd(NaN)],th.prototype,"min",void 0),JV([G(Vu($d(),bw("min"),e1())),Xd(NaN)],th.prototype,"max",void 0);var NF=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class t1 extends ya{constructor(){super(...arguments),this.maxSpacing=NaN}}NF([G(Vu($d(1),bw("minSpacing"))),Xd(NaN)],t1.prototype,"maxSpacing",void 0);class Rp extends Sm{constructor(t){super(t,new pV),this.datumFormat="%m/%d/%y, %H:%M:%S",this.min=void 0,this.max=void 0;const{scale:e}=this;e.strictClampByDefault=!0,this.refreshScale(),this.datumFormatter=e.tickFormat({specifier:this.datumFormat})}normaliseDataDomain(t){var e;let{min:n,max:i}=this;return"number"==typeof n&&(n=new Date(n)),"number"==typeof i&&(i=new Date(i)),t.length>2&&(t=(null!==(e=zu(t))&&void 0!==e?e:[0,1e3]).map(o=>new Date(o))),n instanceof Date&&(t=[n,t[1]]),i instanceof Date&&(t=[t[0],i]),t[0]>t[1]&&(t=[]),t}createTick(){return new t1}onLabelFormatChange(t,e){e?super.onLabelFormatChange(t,e):this.labelFormatter=this.scale.tickFormat({ticks:t})}formatDatum(t){var e;return null!==(e=this.moduleCtx.callbackCache.call(this.datumFormatter,t))&&void 0!==e?e:String(t)}calculatePadding(t,e){return[0,1]}}Rp.className="TimeAxis",Rp.type="time",NF([G(Vu(MG,ZO("max")))],Rp.prototype,"min",void 0),NF([G(Vu(MG,bw("min")))],Rp.prototype,"max",void 0);const SR={[eh.type]:eh,[Yu.type]:Yu,[Rp.type]:Rp,[Op.type]:Op,[th.type]:th};function Qz(r,t){SR[r]=t}function Jz(r,t){const e=SR[r];if(e)return new e(t);throw new Error(`AG Charts - unknown axis type: ${r}`)}const kF={has:r=>Object.prototype.hasOwnProperty.call(SR,r),get axesTypes(){return Object.keys(SR)}},n1={};function i1(r,t){n1[r]=t}var Al=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};const t$=["circle","cross","diamond","heart","plus","square","triangle"],n$=St(r=>t$.includes(r)||Object.getPrototypeOf(r)===ga,"expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class");class Ca extends iF{constructor(){super(...arguments),this.enabled=!0,this.shape=wF,this.size=6,this.maxSize=30,this.domain=void 0,this.fill=void 0,this.stroke=void 0,this.strokeWidth=1,this.fillOpacity=void 0,this.strokeOpacity=void 0}}Al([G(Mn),lt({redraw:Be.MAJOR})],Ca.prototype,"enabled",void 0),Al([G(n$),lt({redraw:Be.MAJOR})],Ca.prototype,"shape",void 0),Al([G($e(0)),lt({redraw:Be.MAJOR})],Ca.prototype,"size",void 0),Al([G($e(0)),lt({redraw:Be.MAJOR})],Ca.prototype,"maxSize",void 0),Al([G(IG),lt({redraw:Be.MAJOR})],Ca.prototype,"domain",void 0),Al([G(Un),lt({redraw:Be.MAJOR})],Ca.prototype,"fill",void 0),Al([G(Un),lt({redraw:Be.MAJOR})],Ca.prototype,"stroke",void 0),Al([G(yn(0)),lt({redraw:Be.MAJOR})],Ca.prototype,"strokeWidth",void 0),Al([G(yn(0,1)),lt({redraw:Be.MAJOR})],Ca.prototype,"fillOpacity",void 0),Al([G(yn(0,1)),lt({redraw:Be.MAJOR})],Ca.prototype,"strokeOpacity",void 0);var r1=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xo=function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})};const i$={[Qe.X]:["xKey"],[Qe.Y]:["yKey"]},r$={[Qe.X]:["xName"],[Qe.Y]:["yName"]};class GF extends Aw{constructor(t,e,n,i,o){super(n,i,o),this.xKey=t,this.yKey=e}}class ER extends GF{constructor(){super(...arguments),this.type="nodeClick"}}class DR extends GF{constructor(){super(...arguments),this.type="nodeDoubleClick"}}class o$ extends AF{}class Em extends fa{constructor(t){super(Object.assign(Object.assign({},t),{useSeriesGroupLayer:!0,directionKeys:i$,directionNames:r$})),this.legendItemName=void 0,this._contextNodeData=[],this.nodeDataDependencies={},this.highlightSelection=Wn.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=Wn.select(this.highlightLabel,Ot),this.subGroups=[],this.subGroupId=0,this.datumSelectionGarbageCollection=!0;const{pathsPerSeries:e=1,hasMarkers:n=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:o=[]}=t;this.opts={pathsPerSeries:e,hasMarkers:n,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:o},this.animationState=new o$("empty",{empty:{on:{update:{target:"ready",action:s=>this.animateEmptyUpdateReady(s)}}},ready:{on:{updateData:{target:"waiting",action:()=>{}},update:{target:"ready",action:s=>this.animateReadyUpdate(s)},highlight:{target:"ready",action:s=>this.animateReadyHighlight(s)},highlightMarkers:{target:"ready",action:s=>this.animateReadyHighlightMarkers(s)},resize:{target:"ready",action:s=>this.animateReadyResize(s)}}},waiting:{on:{update:{target:"ready",action:s=>this.animateWaitingUpdateReady(s)}}}})}get contextNodeData(){var t;return null===(t=this._contextNodeData)||void 0===t?void 0:t.slice()}addChartEventListeners(){var t,e;null===(t=this.ctx.chartEventManager)||void 0===t||t.addListener("legend-item-click",n=>this.onLegendItemClick(n)),null===(e=this.ctx.chartEventManager)||void 0===e||e.addListener("legend-item-double-click",n=>this.onLegendItemDoubleClick(n))}destroy(){super.destroy(),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)}checkDomainXY(t,e,n,i){return(n&&KO(t)||!n&&oF(t))&&(i&&KO(e)||!i&&oF(e))?[t,e]:void 0}checkRangeXY(t,e,n,i){return!isNaN(t)&&!isNaN(e)&&n.inRange(t)&&i.inRange(e)}update({seriesRect:t}){var e,n;return Xo(this,void 0,void 0,function*(){const{visible:i}=this,{series:o}=null!==(n=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&void 0!==n?n:{},s=o?o===this:void 0,a={seriesRectWidth:t?.width,seriesRectHeight:t?.height},c=null!=wp(this.nodeDataDependencies,a);c&&(this.nodeDataDependencies=a,this.markNodeDataDirty()),yield this.updateSelections(s,i),yield this.updateNodes(s,i),c&&this.animationState.transition("resize",{datumSelections:this.subGroups.map(({datumSelection:h})=>h),markerSelections:this.subGroups.map(({markerSelection:h})=>h),contextData:this._contextNodeData,paths:this.subGroups.map(({paths:h})=>h)}),this.animationState.transition("update",{datumSelections:this.subGroups.map(({datumSelection:h})=>h),markerSelections:this.subGroups.map(({markerSelection:h})=>h),labelSelections:this.subGroups.map(({labelSelection:h})=>h),contextData:this._contextNodeData,paths:this.subGroups.map(({paths:h})=>h),seriesRect:t})})}updateSelections(t,e){var n;return Xo(this,void 0,void 0,function*(){yield this.updateHighlightSelection(t),e&&(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty()||(this.nodeDataRefresh&&(this.nodeDataRefresh=!1,!(null===(n=this.chart)||void 0===n)&&n.debug&&at.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this._contextNodeData=yield this.createNodeData(),yield this.updateSeriesGroups()),yield Promise.all(this.subGroups.map((i,o)=>this.updateSeriesGroupSelections(i,o)))))})}updateSeriesGroupSelections(t,e){return Xo(this,void 0,void 0,function*(){const{datumSelection:n,labelSelection:i,markerSelection:o}=t,s=this._contextNodeData[e],{nodeData:a,labelData:c}=s;t.datumSelection=yield this.updateDatumSelection({nodeData:a,datumSelection:n,seriesIdx:e}),t.labelSelection=yield this.updateLabelSelection({labelData:c,labelSelection:i,seriesIdx:e}),o&&(t.markerSelection=yield this.updateMarkerSelection({nodeData:a,markerSelection:o,seriesIdx:e}))})}nodeFactory(){return new Ht}markerFactory(){return new(vm())}updateSeriesGroups(){return Xo(this,void 0,void 0,function*(){const{_contextNodeData:t,contentGroup:e,subGroups:n,opts:{pathsPerSeries:i,hasMarkers:o}}=this;if(t.length===n.length)return;t.length<n.length&&n.splice(t.length).forEach(({dataNodeGroup:a,markerGroup:c,labelGroup:h,paths:p})=>{e.removeChild(a),c&&e.removeChild(c),h&&e.removeChild(h);for(const g of p)e.removeChild(g)});const s=t.length;for(;s>n.length;){const c=this.subGroupId++,h=new Ht({name:`${this.id}-series-sub${c}-dataNodes`,layer:!1,zIndex:mi.SERIES_LAYER_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("data",c)}),p=o?new Ht({name:`${this.id}-series-sub${this.subGroupId++}-markers`,layer:!1,zIndex:mi.SERIES_LAYER_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("marker",c)}):void 0,g=new Ht({name:`${this.id}-series-sub${this.subGroupId++}-labels`,layer:!1,zIndex:mi.SERIES_LABEL_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("labels",c)});e.appendChild(h),e.appendChild(g),p&&e.appendChild(p);const m=[];for(let _=0;_<i;_++)m[_]=new El,m[_].zIndex=mi.SERIES_LAYER_ZINDEX,m[_].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",_),e.appendChild(m[_]);n.push({paths:m,dataNodeGroup:h,markerGroup:p,labelGroup:g,labelSelection:Wn.select(g,Ot),datumSelection:Wn.select(h,()=>this.nodeFactory(),this.datumSelectionGarbageCollection),markerSelection:p?Wn.select(p,()=>this.markerFactory()):void 0})}})}getGroupZIndexSubOrder(t,e=0){var n;const i=super.getGroupZIndexSubOrder(t,e);if("paths"===t){const o=null!==(n=this.opts.pathsZIndexSubOrderOffset[e])&&void 0!==n?n:0,s=i[0];i[0]="function"==typeof s?()=>+s()+o:+s+o}return i}updateNodes(t,e){var n;return Xo(this,void 0,void 0,function*(){const{highlightSelection:i,highlightLabelSelection:o,_contextNodeData:s,opts:{hasMarkers:a,hasHighlightedLabels:c}}=this,h=this.visible&&(null===(n=this._contextNodeData)||void 0===n?void 0:n.length)>0&&e;this.rootGroup.visible=h,this.contentGroup.visible=h,this.highlightGroup.visible=h&&!!t;const p=this.subGroups.map((g,m)=>{const{itemId:_}=s[m];return this.getOpacity({itemId:_})});a?(yield this.updateMarkerNodes({markerSelection:i,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlightMarkers",i)):(yield this.updateDatumNodes({datumSelection:i,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlight",i)),c&&(yield this.updateLabelNodes({labelSelection:o,seriesIdx:-1})),yield Promise.all(this.subGroups.map((g,m)=>Xo(this,void 0,void 0,function*(){const{dataNodeGroup:_,markerGroup:w,datumSelection:E,labelSelection:b,markerSelection:R,paths:T,labelGroup:A}=g,x=h,P=p[m];_.opacity=P,_.visible=x,A.visible=x,w&&(w.opacity=P,w.zIndex=_.zIndex>=mi.SERIES_LAYER_ZINDEX?_.zIndex:_.zIndex+1,w.visible=x),A&&(A.opacity=P);for(const k of T)k.opacity=P,k.visible=x;_.visible&&(yield this.updateDatumNodes({datumSelection:E,isHighlight:!1,seriesIdx:m}),yield this.updateLabelNodes({labelSelection:b,seriesIdx:m}),a&&R&&(yield this.updateMarkerNodes({markerSelection:R,isHighlight:!1,seriesIdx:m})))})))})}updateHighlightSelection(t){var e;return Xo(this,void 0,void 0,function*(){const{highlightSelection:n,highlightLabelSelection:i,_contextNodeData:o}=this,s=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),a=t&&s?.datum?s:void 0;let c;if(this.highlightSelection=yield this.updateHighlightSelectionItem({item:a,highlightSelection:n}),this.isLabelEnabled()&&null!=a){const{itemId:h}=a;for(const{labelData:p}of o)if(c=p.find(g=>g.datum===a.datum&&g.itemId===h),null!=c)break}this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({item:c,highlightLabelSelection:i})})}pickNodeExactShape(t){const e=super.pickNodeExactShape(t);if(e)return e;const{x:n,y:i}=t,{opts:{hasMarkers:o}}=this;for(const{dataNodeGroup:s,markerGroup:a}of this.subGroups){let c=s.pickNode(n,i);if(!c&&o&&(c=a?.pickNode(n,i)),c)return{datum:c.datum,distance:0}}}pickNodeClosestDatum(t){var e,n;const{x:i,y:o}=t,{axes:s,rootGroup:a,_contextNodeData:c}=this,h=s[Qe.X],p=s[Qe.Y],g=a.transformPoint(i,o);let _,m=1/0;for(const w of c)for(const E of w.nodeData){const{point:{x:b=NaN,y:R=NaN}={}}=E;if(isNaN(b)||isNaN(R)||!h?.inRange(b)||!p?.inRange(R))continue;const A=Math.max(Math.pow(g.x-b,2)+Math.pow(g.y-R,2),0);A<m&&(m=A,_=E)}if(_)return{datum:_,distance:Math.max(Math.sqrt(m)-(null!==(n=null===(e=_.point)||void 0===e?void 0:e.size)&&void 0!==n?n:0),0)}}pickNodeMainAxisFirst(t,e){var n,i;const{x:o,y:s}=t,{axes:a,rootGroup:c,_contextNodeData:h}=this,p=a[Qe.X],g=a[Qe.Y],m=[p,g].filter(T=>T instanceof Yu).map(T=>T.direction);if(e&&0===m.length)return;const[_=Qe.X]=m,w=c.transformPoint(o,s),E=_===Qe.X?[w.x,w.y]:[w.y,w.x],b=[1/0,1/0];let R;for(const T of h)for(const A of T.nodeData){const{point:{x=NaN,y:P=NaN}={}}=A;if(isNaN(x)||isNaN(P)||!p?.inRange(x)||!g?.inRange(P))continue;const V=_===Qe.X?[x,P]:[P,x];let H=!0;for(let U=0;U<V.length;U++){const W=Math.abs(V[U]-E[U]);if(W>b[U]){H=!1;break}W<b[U]&&(b[U]=W,b.fill(1/0,U+1,b.length))}H&&(R=A)}return R?{datum:R,distance:Math.max(Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2))-(null!==(i=null===(n=R.point)||void 0===n?void 0:n.size)&&void 0!==i?i:0),0)}:void 0}onLegendItemClick(t){const{enabled:e,itemId:n,series:i,legendItemName:o}=t;(i.id===this.id||null!=this.legendItemName&&this.legendItemName===o)&&this.toggleSeriesItem(n,e)}onLegendItemDoubleClick(t){const{enabled:e,itemId:n,series:i,numVisibleItems:o,legendItemName:s}=t,a=Object.values(o).reduce((h,p)=>h+p,0);this.toggleSeriesItem(n,!!(i.id===this.id||null!=this.legendItemName&&this.legendItemName===s||e&&1===a))}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}updateHighlightSelectionItem(t){return Xo(this,void 0,void 0,function*(){const{opts:{hasMarkers:e}}=this,{item:n,highlightSelection:i}=t,o=n?[n]:[];return e?this.updateMarkerSelection({nodeData:o,markerSelection:i,seriesIdx:-1}):this.updateDatumSelection({nodeData:o,datumSelection:i,seriesIdx:-1})})}updateHighlightSelectionLabel(t){return Xo(this,void 0,void 0,function*(){const{item:e,highlightLabelSelection:n}=t;return this.updateLabelSelection({labelData:e?[e]:[],labelSelection:n,seriesIdx:-1})})}updateDatumSelection(t){return Xo(this,void 0,void 0,function*(){return t.datumSelection})}updateDatumNodes(t){return Xo(this,void 0,void 0,function*(){})}updateMarkerSelection(t){return Xo(this,void 0,void 0,function*(){return t.markerSelection})}updateMarkerNodes(t){return Xo(this,void 0,void 0,function*(){})}animateEmptyUpdateReady(t){}animateReadyUpdate(t){}animateWaitingUpdateReady(t){}animateReadyHighlight(t){}animateReadyHighlightMarkers(t){}animateReadyResize(t){}}r1([G(Mt)],Em.prototype,"legendItemName",void 0);class bR extends Ca{constructor(){super(...arguments),this.formatter=void 0}}r1([G(ei),lt({redraw:Be.MAJOR})],bR.prototype,"formatter",void 0);const s$=/(#\{(.*?)\})/g;function o1(r,t,e){return r.replace(s$,function(...n){const i=n[2],[o,s]=i.split(":"),a=t[o];if("number"==typeof a){const c=s&&e&&e[s];if(c){const{locales:h,options:p}=c;return a.toLocaleString(h,p)}return String(a)}if(a instanceof Date){const c=s&&e&&e[s];return"string"==typeof c?gR(c)(a):a.toDateString()}return"string"==typeof a||a?.toString?String(a):""})}let Dm=null;function pr(r){return Dm=Dm??document.createElement("div"),r?(Dm.textContent=r,Dm.innerHTML):""}var ro=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bm=function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})};class s1 extends hr{constructor(){super(...arguments),this.formatter=void 0}}ro([G(ei)],s1.prototype,"formatter",void 0);class VF extends Bu{constructor(){super(...arguments),this.renderer=void 0,this.format=void 0}}ro([G(ei)],VF.prototype,"renderer",void 0),ro([G(Mt)],VF.prototype,"format",void 0);var Bw=function(r){return r[r.Fill=0]="Fill",r[r.Stroke=1]="Stroke",r[r.Marker=2]="Marker",r[r.Label=3]="Label",r}(Bw||{});class oo extends Em{constructor(t){super({moduleCtx:t,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0}),this.tooltip=new VF,this.marker=new bR,this.label=new s1,this.fill="#c16068",this.stroke="#874349",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.xKey=void 0,this.xName=void 0,this.strokeWidth=2,this.shadow=void 0;const{marker:e,label:n}=this;e.enabled=!1,n.enabled=!1}processData(t){return bm(this,void 0,void 0,function*(){const{xKey:e,yKey:n,axes:i,normalizedTo:o,data:s,visible:a,seriesGrouping:{groupIndex:c=this.id}={}}=this;if(!e||!n||!s)return;const h=i[Qe.X],p=i[Qe.Y],g=h?.scale instanceof Pn,m=p?.scale instanceof Pn,_=[`area-stack-${c}-yValues`,`area-stack-${c}-yValues-trailing`,`area-stack-${c}-yValues-prev`,`area-stack-${c}-yValues-trailing-prev`,`area-stack-${c}-yValues-marker`],w=[],E=o&&isFinite(o)?o:void 0;E&&(w.push(hF(this,[_[0],_[1],_[4]],E,"range")),w.push(hF(this,[_[2],_[3]],E,"range")));const{dataModel:b,processedData:R}=yield t.request(this.id,s,{props:[pF(this,e,g,{id:"xValue"}),Wi(this,n,m,{id:"yValue-raw",invalidValue:null}),...Cp(this,n,m,"window","current",{id:"yValue-end",invalidValue:null,groupId:_[0]}),...Cp(this,n,m,"window-trailing","current",{id:"yValue-start",invalidValue:null,groupId:_[1]}),...Cp(this,n,m,"window","last",{id:"yValue-previous-end",invalidValue:null,groupId:_[2]}),...Cp(this,n,m,"window-trailing","last",{id:"yValue-previous-start",invalidValue:null,groupId:_[3]}),...Cp(this,n,m,"normal","current",{id:"yValue-cumulative",invalidValue:null,groupId:_[4]}),...w],groupByKeys:!0,dataVisible:a});this.dataModel=b,this.processedData=R})}getDomain(t){const{processedData:e,dataModel:n,axes:i}=this;if(!e||!n)return[];const o=i[Qe.X],s=i[Qe.Y],a=n.resolveProcessedDataDefById(this,"xValue"),c=n.getDomain(this,"xValue","key",e),h=n.getDomain(this,/yValue-(previous-)?end/,"value",e);return t===Qe.X?"key"===a?.def.type&&"category"===a.def.valueType?c:this.fixNumericExtent(zu(c),o):this.fixNumericExtent(s instanceof th||s instanceof Rp?h:[h[0]>0?0:h[0],h[1]<0?0:h[1]],s)}createNodeData(){var t;return bm(this,void 0,void 0,function*(){const{axes:e,data:n,processedData:{data:i}={},dataModel:o,ctx:{callbackCache:s}}=this,a=e[Qe.X],c=e[Qe.Y];if(!(a&&c&&n&&o))return[];const{yKey:h="",xKey:p="",marker:g,label:m,fill:_,stroke:w,id:E}=this,{scale:b}=a,{scale:R}=c,T=R instanceof Pn,A=(null!==(t=b.bandwidth)&&void 0!==t?t:0)/2,x=o.resolveProcessedDataIndexById(this,"yValue-start").index,P=o.resolveProcessedDataIndexById(this,"yValue-end").index,k=o.resolveProcessedDataIndexById(this,"yValue-raw").index,V=o.resolveProcessedDataIndexById(this,"yValue-previous-start").index,H=o.resolveProcessedDataIndexById(this,"yValue-previous-end").index,U=o.resolveProcessedDataIndexById(this,"yValue-cumulative").index,W=(kt,Ct,Ke)=>{const mt=b.convert(kt)+A,Tt=R.convert(Ct,{strict:!1});return[{x:mt,y:R.convert(Ke,{strict:!1}),size:g.size},{x:mt,y:Tt,size:g.size}]},re=(kt,Ct,Ke)=>{let mt;const Tt=this.normalizedTo&&isFinite(this.normalizedTo),cn=Tt&&T&&KO(Ke);return(!Tt&&!isNaN(Ke)||cn)&&(mt=Ct),{x:b.convert(kt)+A,y:R.convert(mt,{strict:!1}),size:g.size}},ne=[],Ce=[],Ie={itemId:h,points:[],yValues:[]},Ve={itemId:h,points:[]},de={itemId:h,fillSelectionData:Ve,labelData:ne,nodeData:Ce,strokeSelectionData:Ie},fe=Ve.points,ae=[],Fe=Ie.points,qe=Ie.yValues;let Dt,Je=-1;i?.forEach(kt=>{const{keys:[Ct],datum:Ke,values:mt}=kt;mt.forEach((Tt,cn)=>{var pn;Je++;const uo=Ke[cn],Yi=Tt[k],rN=Tt[x],Km=Tt[P],hT=Tt[V],mS=Tt[H],fT=null!=Yi,Ym=re(Ct,+Tt[U],Yi);if(fT&&g&&Ce.push({index:Je,series:this,itemId:h,datum:uo,nodeMidPoint:{x:Ym.x,y:Ym.y},cumulativeValue:Km,yValue:Yi,xValue:Ct,yKey:h,xKey:p,point:Ym,fill:_,stroke:w}),fT&&m){let Ll;Ll=m.formatter?null!==(pn=s.call(m.formatter,{value:Yi,seriesId:E}))&&void 0!==pn?pn:"":Fs(Yi)?Number(Yi).toFixed(2):String(Yi),ne.push({index:Je,itemId:h,point:Ym,label:Ll?{text:Ll,fontStyle:m.fontStyle,fontWeight:m.fontWeight,fontSize:m.fontSize,fontFamily:m.fontFamily,textAlign:"center",textBaseline:"bottom",fill:m.color}:void 0})}const yS=[hT,rN],CS=[mS,Km];if([Dt,Ct].some(Ll=>null==Ll))return void(Dt=Ct);yS.some(Ll=>null==Ll)&&(yS[0]=0,yS[1]=0),CS.some(Ll=>null==Ll)&&(CS[0]=0,CS[1]=0);const sN=W(Dt,+yS[0],+CS[0]);fe.push(sN[0]),ae.push(sN[1]);const aN=W(Ct,+yS[1],+CS[1]);fe.push(aN[0]),ae.push(aN[1]),Fe.push({x:NaN,y:NaN}),qe.push(void 0),null!=mS&&(Fe.push(sN[0]),qe.push(mS)),null!=Km&&(Fe.push(aN[0]),qe.push(Km)),Dt=Ct})});for(let kt=ae.length-1;kt>=0;kt--)fe.push(ae[kt]);return[de]})}isPathOrSelectionDirty(){return this.marker.isDirty()}markerFactory(){const{shape:t}=this.marker;return new(vm(t))}updateMarkerSelection(t){return bm(this,void 0,void 0,function*(){const{nodeData:e,markerSelection:n}=t,{marker:{enabled:i}}=this,o=i&&e?e:[];return this.marker.isDirty()&&n.clear(),n.update(o,s=>{s.tag=Bw.Marker})})}updateMarkerNodes(t){var e;return bm(this,void 0,void 0,function*(){const{markerSelection:n,isHighlight:i}=t,{id:o,xKey:s="",marker:a,fill:c,stroke:h,fillOpacity:p,marker:{fillOpacity:g=p},strokeOpacity:m,highlightStyle:{item:{fill:_,fillOpacity:w=g,stroke:E,strokeWidth:b}},visible:R,ctx:{callbackCache:T}}=this,{size:A,formatter:x}=a,P=null!==(e=a.strokeWidth)&&void 0!==e?e:this.strokeWidth,k="function"==typeof a.shape;n.each((V,H)=>{var U,W,re,ne,Ce,Ie,Ve,de;const fe=i&&void 0!==_?_:null!==(U=a.fill)&&void 0!==U?U:c,ae=i?w:g,Fe=i&&void 0!==E?E:null!==(W=a.stroke)&&void 0!==W?W:h,qe=i&&void 0!==b?b:P;let Je;x&&(Je=T.call(x,{datum:H.datum,xKey:s,yKey:H.yKey,fill:fe,stroke:Fe,strokeWidth:qe,size:A,highlighted:i,seriesId:o})),V.fill=null!==(re=Je?.fill)&&void 0!==re?re:fe,V.stroke=null!==(ne=Je?.stroke)&&void 0!==ne?ne:Fe,V.strokeWidth=null!==(Ce=Je?.strokeWidth)&&void 0!==Ce?Ce:qe,V.fillOpacity=ae??1,V.strokeOpacity=null!==(Ve=null!==(Ie=a.strokeOpacity)&&void 0!==Ie?Ie:m)&&void 0!==Ve?Ve:1,V.size=null!==(de=Je?.size)&&void 0!==de?de:A,V.translationX=H.point.x,V.translationY=H.point.y,V.visible=V.size>0&&R&&!isNaN(H.point.x)&&!isNaN(H.point.y),k&&!V.dirtyPath&&(V.path.clear({trackChanges:!0}),V.updatePath(),V.checkPathDirty())}),i||this.marker.markClean()})}updateLabelSelection(t){return bm(this,void 0,void 0,function*(){const{labelData:e,labelSelection:n}=t;return n.update(e,i=>{i.tag=Bw.Label})})}updateLabelNodes(t){return bm(this,void 0,void 0,function*(){const{labelSelection:e}=t,{enabled:n,fontStyle:i,fontWeight:o,fontSize:s,fontFamily:a,color:c}=this.label;e.each((h,p)=>{const{point:g,label:m}=p;m&&n?(h.fontStyle=i,h.fontWeight=o,h.fontSize=s,h.fontFamily=a,h.textAlign=m.textAlign,h.textBaseline=m.textBaseline,h.text=m.text,h.x=g.x,h.y=g.y-10,h.fill=c,h.visible=!0):h.visible=!1})})}getNodeClickEvent(t,e){var n;return new ER(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)}getNodeDoubleClickEvent(t,e){var n;return new DR(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)}getTooltipHtml(t){var e,n,i;const{xKey:o,id:s,axes:a,xName:c,yName:h,fill:p,stroke:g,tooltip:m,marker:_,dataModel:w}=this,{yKey:E,xValue:b,yValue:R,datum:T}=t,A=a[Qe.X],x=a[Qe.Y];if(!(o&&E&&A&&x&&Fs(R)&&w))return"";const P=w.resolveProcessedDataIndexById(this,"yValue-raw").index,{size:k,formatter:V,strokeWidth:H,fill:U,stroke:W}=_,re=A.formatDatum(b),ne=x.formatDatum(R),Ce=null===(n=null===(e=this.processedData)||void 0===e?void 0:e.data[t.index])||void 0===n?void 0:n.values[0][P],Ie=pr(h),Ve=pr(re+": "+ne),fe=U??p;let Fe;V&&(Fe=V({datum:T,xKey:o,yKey:E,fill:fe,stroke:W??g,strokeWidth:H??this.strokeWidth,size:k,highlighted:!1,seriesId:s}));const qe=null!==(i=Fe?.fill)&&void 0!==i?i:fe,Je={title:Ie,backgroundColor:qe,content:Ve},{renderer:Dt,format:kt}=m;if(kt||Dt){const Ct={datum:T,xKey:o,xName:c,xValue:b,yKey:E,yValue:R,processedYValue:Ce,yName:h,color:qe,title:Ie,seriesId:s};if(kt)return ur({content:o1(kt,Ct)},Je);if(Dt)return ur(Dt(Ct),Je)}return ur(Je)}getLegendData(){var t,e,n,i;const{data:o,id:s,xKey:a,yKey:c,yName:h,marker:p,fill:g,stroke:m,fillOpacity:_,strokeOpacity:w,visible:E}=this;return o?.length&&a&&c?[{legendType:"category",id:s,itemId:c,seriesId:s,enabled:E,label:{text:h??c},marker:{shape:p.shape,fill:null!==(t=p.fill)&&void 0!==t?t:g,stroke:null!==(e=p.stroke)&&void 0!==e?e:m,fillOpacity:null!==(n=p.fillOpacity)&&void 0!==n?n:_,strokeOpacity:null!==(i=p.strokeOpacity)&&void 0!==i?i:w}}]:[]}animateEmptyUpdateReady({markerSelections:t,labelSelections:e,contextData:n,paths:i,seriesRect:o}){const{stroke:s,fill:a,fillOpacity:c,lineDash:h,lineDashOffset:p,strokeOpacity:g,strokeWidth:m,shadow:_}=this;n.forEach(({fillSelectionData:w,strokeSelectionData:E,itemId:b},R)=>{var T,A,x,P,k;const[V,H]=i[R],U=null!==(A=null===(T=this.ctx.animationManager)||void 0===T?void 0:T.defaultOptions.duration)&&void 0!==A?A:1e3,re={from:0,to:null!==(x=o?.width)&&void 0!==x?x:0,duration:U};{const{points:ne,yValues:Ce}=E;H.tag=Bw.Stroke,H.fill=void 0,H.lineJoin=H.lineCap="round",H.pointerEvents=Ro.None,H.stroke=s,H.strokeWidth=this.getStrokeWidth(this.strokeWidth,{itemId:b}),H.strokeOpacity=g,H.lineDash=h,H.lineDashOffset=p,null===(P=this.ctx.animationManager)||void 0===P||P.animate(`${this.id}_empty-update-ready_stroke_${R}`,Object.assign(Object.assign({},re),{onUpdate(Ie){H.path.clear({trackChanges:!0});let Ve=!0;ne.forEach((de,fe)=>{if(void 0===Ce[fe]||isNaN(de.x)||isNaN(de.y))Ve=!0;else if(de.x<=Ie)Ve?(H.path.moveTo(de.x,de.y),Ve=!1):H.path.lineTo(de.x,de.y);else if(fe>0&&void 0!==Ce[fe]&&void 0!==Ce[fe-1]&&ne[fe-1].x<=Ie){const ae=ne[fe-1];H.path.lineTo(Ie,ae.y+(Ie-ae.x)*(de.y-ae.y)/(de.x-ae.x))}}),H.checkPathDirty()}}))}{const{points:ne}=w,Ce=ne.slice(0,ne.length/2),Ie=ne.slice(ne.length/2);V.tag=Bw.Fill,V.stroke=void 0,V.lineJoin="round",V.pointerEvents=Ro.None,V.fill=a,V.fillOpacity=c,V.strokeOpacity=g,V.strokeWidth=m,V.lineDash=h,V.lineDashOffset=p,V.fillShadow=_,null===(k=this.ctx.animationManager)||void 0===k||k.animate(`${this.id}_empty-update-ready_fill_${R}`,Object.assign(Object.assign({},re),{onUpdate(Ve){V.path.clear({trackChanges:!0});let de=0,fe=0;Ce.forEach((ae,Fe)=>{if(ae.x<=Ve)de=ae.x,fe=ae.y,V.path.lineTo(ae.x,ae.y);else if(Fe>0&&Ce[Fe-1].x<Ve){const qe=Ce[Fe-1];de=Ve,fe=qe.y+(de-qe.x)*(ae.y-qe.y)/(ae.x-qe.x),V.path.lineTo(de,fe)}}),Ie.forEach((ae,Fe)=>{const qe=Ie.length-Fe-1;if(ae.x<=Ve)V.path.lineTo(ae.x,ae.y);else if(qe>0&&Ce[qe-1].x<Ve){const Dt=Ie[Fe+1];V.path.lineTo(de,ae.y+(de-ae.x)*(Dt.y-ae.y)/(Dt.x-ae.x))}}),Ie.length>0&&V.path.lineTo(Ie[Ie.length-1].x,Ie[Ie.length-1].y),V.path.closePath(),V.checkPathDirty()}}))}t[R].each((ne,Ce)=>{var Ie,Ve,de,fe;const ae=o?.width?Ce.point.x/o.width*U:0,Fe=this.animateFormatter(Ce),qe=null!==(Ve=null===(Ie=Ce.point)||void 0===Ie?void 0:Ie.size)&&void 0!==Ve?Ve:0;null===(de=this.ctx.animationManager)||void 0===de||de.animate(`${this.id}_empty-update-ready_${ne.id}`,Object.assign(Object.assign({},re),{to:null!==(fe=Fe?.size)&&void 0!==fe?fe:qe,delay:ae,duration:200,onUpdate(Je){ne.size=Je}}))}),e[R].each((ne,Ce)=>{var Ie;null===(Ie=this.ctx.animationManager)||void 0===Ie||Ie.animate(`${this.id}_empty-update-ready_${ne.id}`,{from:0,to:1,delay:o?.width?Ce.point.x/o.width*U:0,duration:200,onUpdate:de=>{ne.opacity=de}})})})}animateReadyUpdate({contextData:t,paths:e}){const{stroke:n,fill:i,fillOpacity:o,lineDash:s,lineDashOffset:a,strokeOpacity:c,strokeWidth:h,shadow:p}=this;t.forEach(({strokeSelectionData:g,fillSelectionData:m,itemId:_},w)=>{const[E,b]=e[w];b.stroke=n,b.strokeWidth=this.getStrokeWidth(this.strokeWidth,{itemId:_}),b.strokeOpacity=c,b.lineDash=s,b.lineDashOffset=a,b.path.clear({trackChanges:!0});let R=!0;g.points.forEach((T,A)=>{void 0===g.yValues[A]||isNaN(T.x)||isNaN(T.y)?R=!0:R?(b.path.moveTo(T.x,T.y),R=!1):b.path.lineTo(T.x,T.y)}),b.checkPathDirty(),E.fill=i,E.fillOpacity=o,E.strokeOpacity=c,E.strokeWidth=h,E.lineDash=s,E.lineDashOffset=a,E.fillShadow=p,E.path.clear({trackChanges:!0}),m.points.forEach(T=>{E.path.lineTo(T.x,T.y)}),E.path.closePath(),E.checkPathDirty()})}animateFormatter(t){var e,n,i;const{marker:o,fill:s,stroke:a,xKey:c="",id:h,ctx:{callbackCache:p}}=this,{size:g,formatter:m}=o,_=null!==(e=o.fill)&&void 0!==e?e:s,w=null!==(n=o.stroke)&&void 0!==n?n:a,E=null!==(i=o.strokeWidth)&&void 0!==i?i:this.strokeWidth;let b;return m&&(b=p.call(m,{datum:t.datum,xKey:c,yKey:t.yKey,fill:_,stroke:w,strokeWidth:E,size:g,highlighted:!1,seriesId:h})),b}isLabelEnabled(){return this.label.enabled}}oo.className="AreaSeries",oo.type="area",ro([G($o)],oo.prototype,"fill",void 0),ro([G($o)],oo.prototype,"stroke",void 0),ro([G($e(0,1))],oo.prototype,"fillOpacity",void 0),ro([G($e(0,1))],oo.prototype,"strokeOpacity",void 0),ro([G(hm)],oo.prototype,"lineDash",void 0),ro([G($e(0))],oo.prototype,"lineDashOffset",void 0),ro([G(Mt)],oo.prototype,"xKey",void 0),ro([G(Mt)],oo.prototype,"xName",void 0),ro([G(Mt)],oo.prototype,"yKey",void 0),ro([G(Mt)],oo.prototype,"yName",void 0),ro([G(yn(0))],oo.prototype,"normalizedTo",void 0),ro([G($e(0))],oo.prototype,"strokeWidth",void 0);var Om=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class Zo extends El{constructor(){super(...arguments),this.borderPath=new CF,this.x=0,this.y=0,this.width=10,this.height=10,this.radius=0,this.crisp=!1,this.lastUpdatePathStrokeWidth=gn.defaultStyles.strokeWidth,this.effectiveStrokeWidth=gn.defaultStyles.strokeWidth,this.microPixelEffectOpacity=1}isDirtyPath(){var t;return!!(this.lastUpdatePathStrokeWidth!==this.strokeWidth||this.path.isDirty()||this.borderPath.isDirty()||null!==(t=this.clipPath)&&void 0!==t&&t.isDirty())}updatePath(){var t,e,n;const{path:i,borderPath:o,crisp:s}=this;let{x:a,y:c,width:h,height:p,strokeWidth:g}=this;const _=1/(null!==(e=null===(t=this.layerManager)||void 0===t?void 0:t.canvas.pixelRatio)&&void 0!==e?e:1);let w=1;if(i.clear({trackChanges:!0}),o.clear({trackChanges:!0}),s&&(h<=_&&(w*=h/_),p<=_&&(w*=p/_),h=this.align(a,h),p=this.align(c,p),a=this.align(a),c=this.align(c)),g)if(h<_){const E=a+_/2;o.moveTo(E,c),o.lineTo(E,c+p),g=_,this.borderClipPath=void 0}else if(p<_){const E=c+_/2;o.moveTo(a,E),o.lineTo(a+h,E),g=_,this.borderClipPath=void 0}else if(g<h&&g<p){const E=g/2;a+=E,c+=E,h-=g,p-=g,this.borderClipPath=void 0,i.rect(a,c,h,p),o.rect(a,c,h,p)}else this.borderClipPath=null!==(n=this.borderClipPath)&&void 0!==n?n:new CF,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(a,c,h,p),o.rect(a,c,h,p);else this.borderClipPath=void 0,i.rect(a,c,h,p);this.effectiveStrokeWidth=g,this.lastUpdatePathStrokeWidth=g,this.microPixelEffectOpacity=w}computeBBox(){const{x:t,y:e,width:n,height:i}=this;return new un(t,e,n,i)}isPointInPath(t,e){const n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)}applyFillAlpha(t){const{fillOpacity:e,microPixelEffectOpacity:n,opacity:i}=this,{globalAlpha:o}=t;t.globalAlpha=o*i*e*n}renderStroke(t){const{stroke:e,effectiveStrokeWidth:n,borderPath:i,borderClipPath:o,opacity:s,microPixelEffectOpacity:a}=this;if(e&&n){const{strokeOpacity:h,lineDash:p,lineDashOffset:g,lineCap:m,lineJoin:_}=this;o&&(o.draw(t),t.clip()),i.draw(t);const{globalAlpha:w}=t;t.strokeStyle=e,t.globalAlpha=w*s*h*a,t.lineWidth=n,p&&t.setLineDash(p),g&&(t.lineDashOffset=g),m&&(t.lineCap=m),_&&(t.lineJoin=_),t.stroke(),t.globalAlpha=w}}}Zo.className="Rect",Om([zn()],Zo.prototype,"x",void 0),Om([zn()],Zo.prototype,"y",void 0),Om([zn()],Zo.prototype,"width",void 0),Om([zn()],Zo.prototype,"height",void 0),Om([zn()],Zo.prototype,"radius",void 0),Om([zn()],Zo.prototype,"crisp",void 0);var gr=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Rm=function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})};const f$=["inside","outside"];var HF=function(r){return r[r.Bar=0]="Bar",r[r.Label=1]="Label",r}(HF||{});class BF extends hr{constructor(){super(...arguments),this.formatter=void 0,this.placement="inside"}}gr([G(ei)],BF.prototype,"formatter",void 0),gr([G((r,t)=>Jn(r,t,e=>f$.includes(e)))],BF.prototype,"placement",void 0);class a1 extends Bu{constructor(){super(...arguments),this.renderer=void 0}}gr([G(ei)],a1.prototype,"renderer",void 0);class $i extends Em{constructor(t){super({moduleCtx:t,pickModes:[Ui.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasHighlightedLabels:!0}),this.label=new BF,this.tooltip=new a1,this.fill="#c16068",this.stroke="#874349",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.formatter=void 0,this.xKey=void 0,this.xName=void 0,this.yKey=void 0,this.yName=void 0,this.groupScale=new dR,this.stackGroup=void 0,this.strokeWidth=1,this.shadow=void 0,this.smallestDataInterval=void 0,this.datumSelectionGarbageCollection=!1,this.label.enabled=!1}resolveKeyDirection(t){return this.getBarDirection()===Qe.X?t===Qe.X?Qe.Y:Qe.X:t}processData(t){var e,n,i,o,s;return Rm(this,void 0,void 0,function*(){const{xKey:a,yKey:c,normalizedTo:h,seriesGrouping:{groupIndex:p=this.id}={},data:g=[]}=this,m=Math.abs(h??NaN),_=(null===(e=this.getCategoryAxis())||void 0===e?void 0:e.scale)instanceof Pn,w=(null===(n=this.getValueAxis())||void 0===n?void 0:n.scale)instanceof Pn,E=`bar-stack-${p}-yValues`,b=`${E}-trailing`,R=m&&isFinite(m)?m:void 0,T=[];R&&T.push(hF(this,[E,b],R,"range")),(null===(i=this.ctx.animationManager)||void 0===i||!i.skipAnimations)&&this.processedData&&T.push(jG(this.processedData));const{dataModel:A,processedData:x}=yield t.request(this.id,g,{props:[pF(this,a,_,{id:"xValue"}),Wi(this,c,w,{id:"yValue-raw",invalidValue:null}),...Cp(this,c,w,"normal","current",{id:"yValue-end",invalidValue:null,groupId:E}),...Cp(this,c,w,"trailing","current",{id:"yValue-start",invalidValue:null,groupId:b}),..._?[dF]:[],...T],groupByKeys:!0,dataVisible:this.visible});this.dataModel=A,this.processedData=x,this.smallestDataInterval={x:null!==(s=null===(o=x.reduced)||void 0===o?void 0:o[dF.property])&&void 0!==s?s:1/0,y:1/0},this.animationState.transition("updateData")})}getDomain(t){var e;const{processedData:n,dataModel:i}=this;if(!n||!i)return[];const{reduced:{[dF.property]:o}={}}=n,s=this.getCategoryAxis(),a=this.getValueAxis(),c=i.resolveProcessedDataDefById(this,"xValue"),h=i.getDomain(this,"xValue","key",n),p=i.getDomain(this,"yValue-end","value",n);if(t===this.getCategoryDirection()){if("key"===c?.def.type&&"category"===c?.def.valueType)return h;const g=isFinite(o)?o:0,m=null!==(e=zu(h))&&void 0!==e?e:[NaN,NaN];return this.fixNumericExtent(t===Qe.Y?[m[0]+-g,m[1]]:[m[0],m[1]+g],s)}return this.getValueAxis()instanceof th?this.fixNumericExtent(p,a):this.fixNumericExtent([p[0]>0?0:p[0],p[1]<0?0:p[1]],a)}getNodeClickEvent(t,e){var n;return new ER(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)}getNodeDoubleClickEvent(t,e){var n;return new DR(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)}getCategoryAxis(){const t=this.getCategoryDirection();return this.axes[t]}getValueAxis(){const t=this.getBarDirection();return this.axes[t]}calculateStep(t){var e;const{smallestDataInterval:n}=this,i=this.getCategoryAxis();if(!i)return;const s=(i.dataDomain[1]-i.dataDomain[0])/(null!==(e=n?.x)&&void 0!==e?e:1)+1,a=Math.floor(t),c=Math.min(s,a);return t/Math.max(1,c)}createNodeData(){return Rm(this,void 0,void 0,function*(){const{visible:t,dataModel:e}=this,n=this.getCategoryAxis(),i=this.getValueAxis();if(!(e&&t&&n&&i))return[];const o=n.scale,s=i.scale,{groupScale:a,yKey:c="",xKey:h="",fill:p,stroke:g,strokeWidth:m,label:_,id:w,processedData:E,ctx:b,ctx:{seriesStateManager:R}}=this;let T=o.bandwidth;if(o instanceof Pn){const ne=Math.max(n.range[0],n.range[1]);T=this.calculateStep(ne)}const A=[],{index:x,visibleGroupCount:P}=R.getVisiblePeerGroupIndex(this);for(let ne=0;ne<P;ne++)A.push(String(ne));a.domain=A,a.range=[0,T??0],a.padding=n instanceof Yu?n.groupPaddingInner:n instanceof Op?.1:0,a.round=0!==a.padding;const k=a.bandwidth>=1?a.bandwidth:a.rawBandwidth,V=e.resolveProcessedDataIndexById(this,"xValue","key").index,H=e.resolveProcessedDataIndexById(this,"yValue-raw").index,U=e.resolveProcessedDataIndexById(this,"yValue-start").index,W=e.resolveProcessedDataIndexById(this,"yValue-end").index,re={itemId:c,nodeData:[],labelData:[]};return E?.data.forEach(({keys:ne,datum:Ce,values:Ie},Ve)=>{const de=ne[V],fe=o.convert(de),ae=+Ie[0][W],Fe=+Ie[0][U],qe=Ie[0][H],Je=fe+a.convert(String(x));if(!n.inRange(Je,k)||isNaN(ae))return;const Dt=s.convert(ae,{strict:!1}),kt=s.convert(Fe,{strict:!1}),Ct=this.getBarDirection()===Qe.X,Ke={x:Ct?Math.min(Dt,kt):Je,y:Ct?Je:Math.min(Dt,kt),width:Ct?Math.abs(kt-Dt):k,height:Ct?k:Math.abs(kt-Dt)},mt={x:Ke.x+Ke.width/2,y:Ke.y+Ke.height/2},{fontStyle:Tt,fontWeight:cn,fontSize:pn,fontFamily:uo,color:Yi,formatter:rN,placement:Km}=_,{text:hT,textAlign:mS,textBaseline:oN,x:fT,y:Ym}=function l$({value:r,rect:t,placement:e,seriesId:n,padding:i=0,formatter:o,barAlongX:s,ctx:{callbackCache:a}}){let c;o&&(c=a.call(o,{value:Fs(r)?r:void 0,seriesId:n})),void 0===c&&(c=Fs(r)?r.toFixed(2):"");let h=t.x+t.width/2,p=t.y+t.height/2,g="center",m="middle";const _=r>=0;switch(e){case"start":s?(h=_?t.x-i:t.x+t.width+i,g=_?"start":"end"):(p=_?t.y+t.height+i:t.y-i,m=_?"top":"bottom");break;case"outside":case"end":s?(h=_?t.x+t.width+i:t.x-i,g=_?"start":"end"):(p=_?t.y-i:t.y+t.height+i,m=_?"bottom":"top");break;default:m="middle"}return{text:c,textAlign:g,textBaseline:m,x:h,y:p}}({value:qe,rect:Ke,formatter:rN,placement:Km,seriesId:w,barAlongX:Ct,ctx:b}),pT={index:Ve,series:this,itemId:c,datum:Ce[0],cumulativeValue:Fe+ae,xValue:de,yValue:qe,yKey:c,xKey:h,x:Ke.x,y:Ke.y,width:Ke.width,height:Ke.height,nodeMidPoint:mt,fill:p,stroke:g,strokeWidth:m,label:hT?{text:hT,fontStyle:Tt,fontWeight:cn,fontSize:pn,fontFamily:uo,textAlign:mS,textBaseline:oN,fill:Yi,x:fT,y:Ym}:void 0};re.nodeData.push(pT),re.labelData.push(pT)}),[re]})}nodeFactory(){return new Zo}updateDatumSelection(t){return Rm(this,void 0,void 0,function*(){const{nodeData:e,datumSelection:n}=t;return n.update(e,o=>o.tag=HF.Bar,o=>o.xValue)})}updateDatumNodes(t){return Rm(this,void 0,void 0,function*(){const{datumSelection:e,isHighlight:n}=t,{fill:i,stroke:o,fillOpacity:s,strokeOpacity:a,lineDash:c,lineDashOffset:h,shadow:p,formatter:g,id:m,highlightStyle:{item:_},ctx:w,stackGroup:E}=this,b=this.axes[Qe.X],R=function d$(r=[]){const[t,e]=r;return!(0!==t||1!==e)}(b?.visibleRange),T=this.getCategoryDirection()===Qe.X;e.each((A,x)=>{const P={fill:i,stroke:o,fillOpacity:s,strokeOpacity:a,lineDash:c,lineDashOffset:h,fillShadow:p,strokeWidth:this.getStrokeWidth(this.strokeWidth,x)},k=T?x.width>0:x.height>0,V=function c$(r){var t,e,n,i,o,s,a,{datum:c,isHighlighted:h,style:p,highlightStyle:g,formatter:m,seriesId:_,stackGroup:w,ctx:{callbackCache:E}}=r,b=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]])}return e}(r,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","stackGroup","ctx"]);const R=h&&null!==(t=g.fill)&&void 0!==t?t:p.fill,T=h&&null!==(e=g.stroke)&&void 0!==e?e:p.stroke,A=h&&null!==(n=g.strokeWidth)&&void 0!==n?n:p.strokeWidth,x=h&&null!==(i=g.fillOpacity)&&void 0!==i?i:p.fillOpacity,{strokeOpacity:P,fillShadow:k,lineDash:V,lineDashOffset:H}=p;let U;return m&&(U=E.call(m,Object.assign({datum:c.datum,xKey:c.xKey,yKey:c.yKey,fill:R,stroke:T,strokeWidth:A,highlighted:h,seriesId:_,stackGroup:w},b))),{fill:null!==(o=U?.fill)&&void 0!==o?o:R,stroke:null!==(s=U?.stroke)&&void 0!==s?s:T,strokeWidth:null!==(a=U?.strokeWidth)&&void 0!==a?a:A,fillOpacity:x,strokeOpacity:P,lineDash:V,lineDashOffset:H,fillShadow:k}}({datum:x,isHighlighted:n,style:P,highlightStyle:_,formatter:g,seriesId:m,stackGroup:E,ctx:w});V.crisp=R,V.visible=k,function u$({rect:r,config:t}){const{crisp:e=!0,fill:n,stroke:i,strokeWidth:o,fillOpacity:s,strokeOpacity:a,lineDash:c,lineDashOffset:h,fillShadow:p,visible:g=!0}=t;r.crisp=e,r.fill=n,r.stroke=i,r.strokeWidth=o,r.fillOpacity=s,r.strokeOpacity=a,r.lineDash=c,r.lineDashOffset=h,r.fillShadow=p,r.visible=g}({rect:A,config:V})})})}updateLabelSelection(t){return Rm(this,void 0,void 0,function*(){const{labelData:e,labelSelection:n}=t,{enabled:i}=this.label;return n.update(i?e:[],s=>{s.tag=HF.Label,s.pointerEvents=Ro.None})})}updateLabelNodes(t){return Rm(this,void 0,void 0,function*(){const{labelSelection:e}=t;e.each((n,i)=>{!function h$({labelNode:r,labelDatum:t,config:e,visible:n}){if(t&&e&&e.enabled){const{x:i,y:o,text:s,textAlign:a,textBaseline:c}=t,{fontStyle:h,fontWeight:p,fontSize:g,fontFamily:m,color:_}=e;r.fontStyle=h,r.fontWeight=p,r.fontSize=g,r.fontFamily=m,r.textAlign=a,r.textBaseline=c,r.text=s,r.x=i,r.y=o,r.fill=_,r.visible=n}else r.visible=!1}({labelNode:n,labelDatum:i.label,config:this.label,visible:!0})})})}getTooltipHtml(t){var e;const{xKey:n,yKey:i,processedData:o,ctx:{callbackCache:s}}=this,a=this.getCategoryAxis(),c=this.getValueAxis(),{xValue:h,yValue:p,datum:g}=t;if(!(o&&n&&i&&a&&c))return"";const{xName:m,yName:_,fill:w,stroke:E,tooltip:b,formatter:R,id:T,stackGroup:A}=this,{renderer:x}=b,P=this.getStrokeWidth(this.strokeWidth),k=pr(a.formatDatum(h)),V=pr(c.formatDatum(p)),H=pr(_),U=k+": "+V;let W;R&&(W=s.call(R,{datum:g,fill:w,stroke:E,strokeWidth:P,highlighted:!1,xKey:n,yKey:i,seriesId:T,stackGroup:A}));const re=null!==(e=W?.fill)&&void 0!==e?e:w,ne={title:H,backgroundColor:re,content:U};return x?ur(x({datum:g,xKey:n,xValue:h,xName:m,yKey:i,yValue:p,yName:_,color:re,title:H,seriesId:T,stackGroup:A}),ne):ur(ne)}getLegendData(){var t;const{id:e,data:n,xKey:i,yKey:o,yName:s,legendItemName:a,fill:c,stroke:h,fillOpacity:p,strokeOpacity:g,visible:m,showInLegend:_}=this;if(!(_&&n?.length&&i&&o))return[];const w=[];return w.push({legendType:"category",id:e,itemId:o,seriesId:e,enabled:m,label:{text:null!==(t=a??s)&&void 0!==t?t:o},legendItemName:a,marker:{fill:c,stroke:h,fillOpacity:p,strokeOpacity:g}}),w}animateEmptyUpdateReady({datumSelections:t,labelSelections:e}){var n,i;const o=null!==(i=null===(n=this.ctx.animationManager)||void 0===n?void 0:n.defaultOptions.duration)&&void 0!==i?i:1e3,{startingX:a,startingY:c}=this.getDirectionStartingValues(t);t.forEach(h=>{h.each((p,g)=>{var m;let _=a,w=0,E=g.y,b=g.height;this.getBarDirection()===Qe.Y&&(_=g.x,w=g.width,E=c,b=0),null===(m=this.ctx.animationManager)||void 0===m||m.animateMany(`${this.id}_empty-update-ready_${p.id}`,[{from:_,to:g.x},{from:w,to:g.width},{from:E,to:g.y},{from:b,to:g.height}],{duration:o,ease:gm,onUpdate([T,A,x,P]){p.x=T,p.width=A,p.y=x,p.height=P}})})}),e.forEach(h=>{h.each(p=>{var g;null===(g=this.ctx.animationManager)||void 0===g||g.animate(`${this.id}_empty-update-ready_${p.id}`,{from:0,to:1,delay:o,duration:200,onUpdate:m=>{p.opacity=m}})})})}animateReadyHighlight(t){this.resetSelectionRects(t)}animateReadyResize({datumSelections:t}){var e;null===(e=this.ctx.animationManager)||void 0===e||e.reset(),t.forEach(n=>{this.resetSelectionRects(n)})}animateWaitingUpdateReady({datumSelections:t,labelSelections:e}){var n,i,o,s,a;const{processedData:c}=this,h=null===(n=c?.reduced)||void 0===n?void 0:n.diff;if(!h?.changed)return void t.forEach(x=>{this.resetSelectionRects(x)});const p=null!==(o=null===(i=this.ctx.animationManager)||void 0===i?void 0:i.defaultOptions.duration)&&void 0!==o?o:1e3;let m=p;(h.added.length>0||h.removed.length>0)&&(m=Math.floor(p/2));const{startingX:_,startingY:w}=this.getDirectionStartingValues(t),E=null===(a=null===(s=this.processedData)||void 0===s?void 0:s.defs.keys)||void 0===a?void 0:a[0],b={};h.added.forEach(x=>{b[x[0]]=!0});const R={};h.removed.forEach(x=>{R[x[0]]=!0});const T=`${this.id}_${Math.random()}`,A=`${this.id}_${Math.random()}`;t.forEach(x=>{x.each((P,k)=>{var V;let H=[{from:P.x,to:k.x},{from:P.width,to:k.width},{from:P.y,to:k.y},{from:P.height,to:k.height}],U=h.removed.length>0?m:0,W=m,re=!1;const ne=E?k.xValue:"";let Ce=_,Ie=0,Ve=k.y,de=k.height;this.getBarDirection()===Qe.Y&&(Ce=k.x,Ie=k.width,Ve=w,de=0),void 0!==ne&&void 0!==b[ne]?(H=[{from:Ce,to:k.x},{from:Ie,to:k.width},{from:Ve,to:k.y},{from:de,to:k.height}],W=m):void 0!==ne&&void 0!==R[ne]&&(H=[{from:k.x,to:Ce},{from:k.width,to:Ie},{from:k.y,to:Ve},{from:k.height,to:de}],U=0,W=m,re=!0),null===(V=this.ctx.animationManager)||void 0===V||V.animateManyWithThrottle(`${this.id}_waiting-update-ready_${P.id}`,H,{delay:U,duration:W,ease:gm,throttleId:`${this.id}_rects`,throttleGroup:T,onUpdate([Fe,qe,Je,Dt]){P.x=Fe,P.width=qe,P.y=Je,P.height=Dt},onComplete(){re&&x.cleanup()}})})}),e.forEach(x=>{x.each(P=>{var k;P.opacity=0,null===(k=this.ctx.animationManager)||void 0===k||k.animateWithThrottle(`${this.id}_waiting-update-ready_${P.id}`,{from:0,to:1,delay:p,duration:200,throttleId:`${this.id}_labels`,throttleGroup:A,onUpdate:V=>{P.opacity=V}})})})}resetSelectionRects(t){t.each((e,n)=>{e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height}),t.cleanup()}getDirectionStartingValues(t){const e=this.getBarDirection()===Qe.Y,n=this.axes[Qe.X],i=this.axes[Qe.Y],o=n?.scale instanceof Pn;let a=1/0,c=0;return i&&e&&(i?.scale instanceof Pn?c=i.scale.convert(0):t.forEach(h=>h.each((p,g)=>{g.yValue>=0&&(c=Math.max(c,g.height+g.y))}))),n&&!e&&(o?a=n.scale.convert(0):t.forEach(h=>h.each((p,g)=>{g.yValue>=0&&(a=Math.min(a,g.x))}))),{startingX:a,startingY:c}}isLabelEnabled(){return this.label.enabled}getBandScalePadding(){return{inner:.2,outer:.3}}getBarDirection(){return Qe.X}getCategoryDirection(){return Qe.Y}}$i.className="BarSeries",$i.type="bar",gr([G(Un)],$i.prototype,"fill",void 0),gr([G(Un)],$i.prototype,"stroke",void 0),gr([G($e(0,1))],$i.prototype,"fillOpacity",void 0),gr([G($e(0,1))],$i.prototype,"strokeOpacity",void 0),gr([G(hm)],$i.prototype,"lineDash",void 0),gr([G($e(0))],$i.prototype,"lineDashOffset",void 0),gr([G(ei)],$i.prototype,"formatter",void 0),gr([G(Mt)],$i.prototype,"xKey",void 0),gr([G(Mt)],$i.prototype,"xName",void 0),gr([G(Mt)],$i.prototype,"yKey",void 0),gr([G(Mt)],$i.prototype,"yName",void 0),gr([G(Mt)],$i.prototype,"stackGroup",void 0),gr([G(yn())],$i.prototype,"normalizedTo",void 0),gr([G($e(0))],$i.prototype,"strokeWidth",void 0);let g$=(()=>{class r extends $i{getBarDirection(){return Qe.Y}getCategoryDirection(){return Qe.X}}return r.type="column",r.className="ColumnSeries",r})();var vr=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Tm=function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})};const v$=["count","sum","mean"],m$=St(r=>v$.includes(r),"expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean");var jF=function(r){return r[r.Bin=0]="Bin",r[r.Label=1]="Label",r}(jF||{});class l1 extends hr{constructor(){super(...arguments),this.formatter=void 0}}vr([G(ei)],l1.prototype,"formatter",void 0);class c1 extends Bu{constructor(){super(...arguments),this.renderer=void 0}}vr([G(ei)],c1.prototype,"renderer",void 0);class Ki extends Em{constructor(t){super({moduleCtx:t,pickModes:[Ui.EXACT_SHAPE_MATCH]}),this.label=new l1,this.tooltip=new c1,this.fill=void 0,this.stroke=void 0,this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.xKey=void 0,this.areaPlot=!1,this.bins=void 0,this.aggregation="count",this.binCount=void 0,this.xName=void 0,this.yKey=void 0,this.yName=void 0,this.strokeWidth=1,this.shadow=void 0,this.calculatedBins=[],this.datumSelectionGarbageCollection=!1,this.label.enabled=!1}deriveBins(t){if(void 0===this.binCount){const e=DF(t[0],t[1],10),n=kw(t[0],t[1],10),i=e[0];return[[i-n,i],...e.map(s=>[s,s+n])]}return this.calculateNiceBins(t,this.binCount)}calculateNiceBins(t,e){const n=Math.floor(t[0]),i=t[1],o=e||1,{start:s,binSize:a}=this.calculateNiceStart(n,i,o);return this.getBins(s,i,a,o)}getBins(t,e,n,i){const o=[];for(let s=0;s<i;s++){const a=Math.round(10*(t+s*n))/10;let c=Math.round(10*(t+(s+1)*n))/10;s===i-1&&(c=Math.max(c,e)),o[s]=[a,c]}return o}calculateNiceStart(t,e,n){const i=Math.abs(e-t)/n,o=Math.floor(Math.log10(i)),s=Math.pow(10,o);return{start:Math.floor(t/s)*s,binSize:i}}processData(t){var e;return Tm(this,void 0,void 0,function*(){const{xKey:n,yKey:i,data:o,areaPlot:s,aggregation:a}=this,c=[pF(this,n,!0),k2];if(i){let m=VG(this,"groupCount");"count"===a||("sum"===a?m=function F2(r,t,e){return{id:t,scopes:[r.id],type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:n=>tR(n),groupAggregateFunction:(n,i=[0,0])=>{var o,s;return i[0]+=null!==(o=n?.[0])&&void 0!==o?o:0,i[1]+=null!==(s=n?.[1])&&void 0!==s?s:0,i}}}(this,"groupAgg"):"mean"===a&&(m=function L2(r,t,e){return{id:t,scopes:[r.id],matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:i=>tR(i),groupAggregateFunction:(i,o=[0,0,-1])=>{var s,a;return o[0]+=null!==(s=i?.[0])&&void 0!==s?s:0,o[1]+=null!==(a=i?.[1])&&void 0!==a?a:0,o[2]++,o},finalFunction:(i=[0,0,0])=>{const o=i[0]+i[1];return o>=0?[0,o/i[2]]:[o/i[2],0]}}}(this,"groupAgg"))),s&&(m=HG(this,"groupAgg",m)),c.push(Wi(this,i,!0,{invalidValue:void 0}),m)}else{let m=VG(this,"groupAgg");s&&(m=HG(this,"groupAgg",m)),c.push(m)}(null===(e=this.ctx.animationManager)||void 0===e||!e.skipAnimations)&&this.processedData&&c.push(jG(this.processedData,!1));const{dataModel:p,processedData:g}=yield t.request(this.id,o??[],{props:c,dataVisible:this.visible,groupByFn:m=>{var _;const w=eR(m.domain.keys[0]);if(0===w.length)return m.domain.groups=[],()=>[];const E=null!==(_=this.bins)&&void 0!==_?_:this.deriveBins(w),b=E.length;return this.calculatedBins=[...E],R=>{const T=R.keys[0];for(let A=0;A<b;A++){const x=E[A];if(T>=x[0]&&T<x[1]||A===b-1&&T<=x[1])return x}return[]}}});this.dataModel=p,this.processedData=g,this.animationState.transition("updateData")})}getDomain(t){var e,n,i,o;const{processedData:s,dataModel:a}=this;if(!s||!a)return[];const c=a.getDomain(this,"groupAgg","aggregate",s),h=null===(e=this.calculatedBins)||void 0===e?void 0:e[0][0],p=null===(n=this.calculatedBins)||void 0===n?void 0:n[(null!==(o=null===(i=this.calculatedBins)||void 0===i?void 0:i.length)&&void 0!==o?o:0)-1][1];return eR(t===Qe.X?[h,p]:c)}getNodeClickEvent(t,e){var n,i;return new ER(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(i=this.yKey)&&void 0!==i?i:"",t,e,this)}getNodeDoubleClickEvent(t,e){var n,i;return new DR(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(i=this.yKey)&&void 0!==i?i:"",t,e,this)}createNodeData(){var t;return Tm(this,void 0,void 0,function*(){const{axes:e,processedData:n,ctx:{callbackCache:i}}=this,o=e[Qe.X],s=e[Qe.Y];if(!(this.visible&&o&&s&&n&&"grouped"===n.type))return[];const{scale:a}=o,{scale:c}=s,{fill:h,stroke:p,strokeWidth:g,id:m,yKey:_="",xKey:w=""}=this,E=[],b=V=>String(V.value),{label:{formatter:R=b,fontStyle:T,fontWeight:A,fontSize:x,fontFamily:P,color:k}}=this;return n.data.forEach(V=>{var H;const{aggValues:[[U,W]]=[[0,0]],datum:re,datum:{length:ne},keys:Ce,keys:[Ie,Ve]}=V,de=a.convert(Ie),fe=a.convert(Ve),ae=U+W,Fe=c.convert(0),qe=c.convert(ae),Je=fe-de,Dt=Math.abs(qe-Fe),kt=0!==ae?{text:null!==(H=i.call(R,{value:ae,seriesId:m}))&&void 0!==H?H:String(ae),fontStyle:T,fontWeight:A,fontSize:x,fontFamily:P,fill:k,x:de+Je/2,y:qe+Dt/2}:void 0;E.push({series:this,datum:re,aggregatedValue:ae,frequency:ne,domain:Ce,yKey:_,xKey:w,x:de,y:qe,xValue:de,yValue:qe,width:Je,height:Dt,nodeMidPoint:{x:de+Je/2,y:qe+Dt/2},fill:h,stroke:p,strokeWidth:g,label:kt})}),[{itemId:null!==(t=this.yKey)&&void 0!==t?t:this.id,nodeData:E,labelData:E}]})}nodeFactory(){return new Zo}updateDatumSelection(t){return Tm(this,void 0,void 0,function*(){const{nodeData:e,datumSelection:n}=t;return n.update(e,i=>{i.tag=jF.Bin,i.crisp=!0},i=>i.domain.join("_"))})}updateDatumNodes(t){return Tm(this,void 0,void 0,function*(){const{datumSelection:e,isHighlight:n}=t,{fillOpacity:i,strokeOpacity:o,shadow:s,highlightStyle:{item:{fill:a,fillOpacity:c=i,stroke:h,strokeWidth:p}}}=this;e.each((g,m,_)=>{var w,E;const b=n&&void 0!==p?p:m.strokeWidth,R=n?c:i;g.fill=null!==(w=n?a:void 0)&&void 0!==w?w:m.fill,g.stroke=null!==(E=n?h:void 0)&&void 0!==E?E:m.stroke,g.fillOpacity=R,g.strokeOpacity=o,g.strokeWidth=b,g.lineDash=this.lineDash,g.lineDashOffset=this.lineDashOffset,g.fillShadow=s,g.zIndex=n?fa.highlightedZIndex:_,g.visible=m.height>0})})}updateLabelSelection(t){return Tm(this,void 0,void 0,function*(){const{labelData:e,labelSelection:n}=t;return n.update(e,i=>{i.tag=jF.Label,i.pointerEvents=Ro.None,i.textAlign="center",i.textBaseline="middle"})})}updateLabelNodes(t){return Tm(this,void 0,void 0,function*(){const{labelSelection:e}=t,n=this.label.enabled;e.each((i,o)=>{const s=o.label;s&&n?(i.text=s.text,i.x=s.x,i.y=s.y,i.fontStyle=s.fontStyle,i.fontWeight=s.fontWeight,i.fontSize=s.fontSize,i.fontFamily=s.fontFamily,i.fill=s.fill,i.visible=!0):i.visible=!1})})}getTooltipHtml(t){const{xKey:e,yKey:n="",axes:i}=this,o=i[Qe.X],s=i[Qe.Y];if(!e||!o||!s)return"";const{xName:a,yName:c,fill:h,tooltip:p,aggregation:g,id:m}=this,{renderer:_}=p,{aggregatedValue:w,frequency:E,domain:b,domain:[R,T]}=t,A=`${pr(a??e)}: ${o.formatDatum(R)} - ${o.formatDatum(T)}`;let x=n?`<b>${pr(c??n)} (${g})</b>: ${s.formatDatum(w)}<br>`:"";x+=`<b>Frequency</b>: ${E}`;const P={title:A,backgroundColor:h,content:x};return _?ur(_({datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},xKey:e,xValue:b,xName:a,yKey:n,yValue:w,yName:c,color:h,title:A,seriesId:m}),P):ur(P)}getLegendData(){var t;const{id:e,data:n,xKey:i,yName:o,visible:s,fill:a,stroke:c,fillOpacity:h,strokeOpacity:p}=this;return n&&0!==n.length?[{legendType:"category",id:e,itemId:i,seriesId:e,enabled:s,label:{text:null!==(t=o??i)&&void 0!==t?t:"Frequency"},marker:{fill:a??"rgba(0, 0, 0, 0)",stroke:c??"rgba(0, 0, 0, 0)",fillOpacity:h,strokeOpacity:p}}]:[]}animateEmptyUpdateReady({datumSelections:t,labelSelections:e}){var n,i;const o=null!==(i=null===(n=this.ctx.animationManager)||void 0===n?void 0:n.defaultOptions.duration)&&void 0!==i?i:1e3;let a=0;t.forEach(c=>c.each((h,p)=>{a=Math.max(a,p.height+p.y)})),t.forEach(c=>{c.each((h,p)=>{var g;null===(g=this.ctx.animationManager)||void 0===g||g.animateMany(`${this.id}_empty-update-ready_${h.id}`,[{from:a,to:p.y},{from:0,to:p.height}],{duration:o,ease:gm,onUpdate([m,_]){h.y=m,h.height=_,h.x=p.x,h.width=p.width}})})}),e.forEach(c=>{c.each(h=>{var p;null===(p=this.ctx.animationManager)||void 0===p||p.animate(`${this.id}_empty-update-ready_${h.id}`,{from:0,to:1,delay:o,duration:200,onUpdate:g=>{h.opacity=g}})})})}animateReadyUpdate({datumSelections:t}){t.forEach(e=>{this.resetSelectionRects(e)})}animateReadyHighlight(t){this.resetSelectionRects(t)}animateReadyResize({datumSelections:t}){var e;null===(e=this.ctx.animationManager)||void 0===e||e.reset(),t.forEach(n=>{this.resetSelectionRects(n)})}animateWaitingUpdateReady({datumSelections:t,labelSelections:e}){var n,i,o;const{processedData:s}=this,a=null===(n=s?.reduced)||void 0===n?void 0:n.diff;if(!a?.changed)return void t.forEach(w=>{this.resetSelectionRects(w)});const c=null!==(o=null===(i=this.ctx.animationManager)||void 0===i?void 0:i.defaultOptions.duration)&&void 0!==o?o:1e3;let p=c;a.added.length>0&&a.removed.length>0?p=Math.floor(c/3):(a.added.length>0||a.removed.length>0)&&(p=Math.floor(c/2));let g=0;t.forEach(w=>w.each((E,b)=>{g=Math.max(g,b.height+b.y)}));const m={};a.added.forEach(w=>{m[w.join("_")]=!0});const _={};a.removed.forEach(w=>{_[w.join("_")]=!0}),t.forEach(w=>{w.each((E,b)=>{var R;let T=[{from:E.x,to:b.x},{from:E.width,to:b.width},{from:E.y,to:b.y},{from:E.height,to:b.height}],A=a.removed.length>0?p:0,x=!1;const P=b.domain.join("_");void 0!==P&&void 0!==m[P]?(T=[{from:b.x,to:b.x},{from:b.width,to:b.width},{from:g,to:b.y},{from:0,to:b.height}],A+=p):void 0!==P&&void 0!==_[P]&&(T=[{from:E.x,to:b.x},{from:E.width,to:b.width},{from:b.y,to:g},{from:b.height,to:0}],A=0,x=!0),null===(R=this.ctx.animationManager)||void 0===R||R.animateMany(`${this.id}_waiting-update-ready_${E.id}`,T,{disableInteractions:!0,delay:A,duration:p,ease:gm,repeat:0,onUpdate([H,U,W,re]){E.x=H,E.width=U,E.y=W,E.height=re},onComplete(){x&&w.cleanup()}})})}),e.forEach(w=>{w.each(E=>{var b;E.opacity=0,null===(b=this.ctx.animationManager)||void 0===b||b.animate(`${this.id}_waiting-update-ready_${E.id}`,{from:0,to:1,delay:c,duration:200,ease:JG,repeat:0,onUpdate:R=>{E.opacity=R}})})})}resetSelectionRects(t){t.each((e,n)=>{e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height})}isLabelEnabled(){return this.label.enabled}}Ki.className="HistogramSeries",Ki.type="histogram",vr([G(Un)],Ki.prototype,"fill",void 0),vr([G(Un)],Ki.prototype,"stroke",void 0),vr([G($e(0,1))],Ki.prototype,"fillOpacity",void 0),vr([G($e(0,1))],Ki.prototype,"strokeOpacity",void 0),vr([G(hm)],Ki.prototype,"lineDash",void 0),vr([G($e(0))],Ki.prototype,"lineDashOffset",void 0),vr([G(Mt)],Ki.prototype,"xKey",void 0),vr([G(Mn)],Ki.prototype,"areaPlot",void 0),vr([G(aF())],Ki.prototype,"bins",void 0),vr([G(m$)],Ki.prototype,"aggregation",void 0),vr([G(yn(0))],Ki.prototype,"binCount",void 0),vr([G(Mt)],Ki.prototype,"xName",void 0),vr([G(Mt)],Ki.prototype,"yKey",void 0),vr([G(Mt)],Ki.prototype,"yName",void 0),vr([G($e(0))],Ki.prototype,"strokeWidth",void 0);var Qo=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Am=function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})};class d1 extends hr{constructor(){super(...arguments),this.formatter=void 0}}Qo([G(ei)],d1.prototype,"formatter",void 0);class UF extends Bu{constructor(){super(...arguments),this.renderer=void 0,this.format=void 0}}Qo([G(ei)],UF.prototype,"renderer",void 0),Qo([G(Mt)],UF.prototype,"format",void 0);class Jo extends Em{constructor(t){super({moduleCtx:t,hasMarkers:!0,pickModes:[Ui.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,Ui.NEAREST_NODE,Ui.EXACT_SHAPE_MATCH]}),this.marker=new bR,this.label=new d1,this.title=void 0,this.stroke="#874349",this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2,this.strokeOpacity=1,this.tooltip=new UF,this.xKey=void 0,this.xName=void 0,this.yKey=void 0,this.yName=void 0;const{marker:e,label:n}=this;e.fill="#c16068",e.stroke="#874349",n.enabled=!1}processData(t){return Am(this,void 0,void 0,function*(){const{axes:e,xKey:n="",yKey:i=""}=this,o=n&&i&&this.data?this.data:[],s=e[Qe.X],a=e[Qe.Y],c=s?.scale instanceof Pn,h=a?.scale instanceof Pn,{dataModel:p,processedData:g}=yield t.request(this.id,o??[],{props:[Wi(this,n,c,{id:"xValue"}),Wi(this,i,h,{id:"yValue",invalidValue:void 0})],dataVisible:this.visible});this.dataModel=p,this.processedData=g})}getDomain(t){const{axes:e,dataModel:n,processedData:i}=this;if(!i||!n)return[];const o=e[Qe.X],s=e[Qe.Y],a=n.resolveProcessedDataDefById(this,"xValue");if(t===Qe.X){const c=n.getDomain(this,"xValue","value",i);return"value"===a?.def.type&&"category"===a.def.valueType?c:this.fixNumericExtent(zu(c),o)}{const c=n.getDomain(this,"yValue","value",i);return this.fixNumericExtent(c,s)}}createNodeData(){var t,e,n,i,o;return Am(this,void 0,void 0,function*(){const{processedData:s,dataModel:a,axes:c,marker:{enabled:h,size:p,strokeWidth:g},ctx:{callbackCache:m}}=this,_=c[Qe.X],w=c[Qe.Y];if(!(s&&a&&_&&w))return[];const{label:E,yKey:b="",xKey:R="",id:T}=this,A=_.scale,x=w.scale,P=(null!==(t=A.bandwidth)&&void 0!==t?t:0)/2,k=(null!==(e=x.bandwidth)&&void 0!==e?e:0)/2,V=new Array(s.data.length),H=h?p:0,U=a.resolveProcessedDataIndexById(this,"xValue").index,W=a.resolveProcessedDataIndexById(this,"yValue").index;let ne,Ce,re=!0,Ie=0;for(let Ve=0;Ve<s.data.length;Ve++){const{datum:de,values:fe}=Ce??s.data[Ve],ae=fe[U],Fe=fe[W];if(void 0===Fe)ne=void 0,re=!0;else{const qe=A.convert(ae)+P;if(isNaN(qe)){ne=void 0,re=!0,Ce=void 0;continue}const Je=(null!==(n=A.bandwidth)&&void 0!==n?n:.5*p+(g??0))+1;Ce=void 0===(null===(i=s.data[Ve+1])||void 0===i?void 0:i.values[W])?void 0:s.data[Ve+1];const Dt=null===(o=s.data[Ve+1])||void 0===o?void 0:o.values[U],kt=_.inRangeEx(qe,0,Je),Ct=Ce&&_.inRangeEx(A.convert(Dt)+P,0,Je);if(-1===kt&&-1===Ct){re=!0;continue}if(1===kt&&1===ne){re=!0;continue}ne=kt;const Ke=x.convert(Fe)+k;let mt;E.formatter&&(mt=m.call(E.formatter,{value:Fe,seriesId:T})),void 0!==mt||("number"==typeof Fe&&isFinite(Fe)?mt=Fe.toFixed(2):Fe&&(mt=String(Fe))),V[Ie++]={series:this,datum:de,yKey:b,xKey:R,point:{x:qe,y:Ke,moveTo:re,size:H},nodeMidPoint:{x:qe,y:Ke},yValue:Fe,xValue:ae,label:mt?{text:mt,fontStyle:E.fontStyle,fontWeight:E.fontWeight,fontSize:E.fontSize,fontFamily:E.fontFamily,textAlign:"center",textBaseline:"bottom",fill:E.color}:void 0},re=!1}}return V.length=Ie,[{itemId:b,nodeData:V,labelData:V}]})}isPathOrSelectionDirty(){return this.marker.isDirty()}markerFactory(){const{shape:t}=this.marker;return new(vm(t))}updateMarkerSelection(t){return Am(this,void 0,void 0,function*(){let{nodeData:e}=t;const{markerSelection:n}=t,{shape:i,enabled:o}=this.marker;return e=i&&o?e:[],this.marker.isDirty()&&n.clear(),n.update(e)})}updateMarkerNodes(t){var e;return Am(this,void 0,void 0,function*(){const{markerSelection:n,isHighlight:i}=t,{marker:o,marker:{fillOpacity:s},xKey:a="",yKey:c="",stroke:h,strokeOpacity:p,highlightStyle:{item:{fill:g,fillOpacity:m=s,stroke:_,strokeWidth:w}},id:E,ctx:{callbackCache:b}}=this,{size:R,formatter:T}=o,A=null!==(e=o.strokeWidth)&&void 0!==e?e:this.strokeWidth,x="function"==typeof o.shape;n.each((P,k)=>{var V,H,U,W,re,ne,Ce;const Ie=i&&void 0!==g?g:o.fill,Ve=i?m:s,de=i&&void 0!==_?_:null!==(V=o.stroke)&&void 0!==V?V:h,fe=i&&void 0!==w?w:A;let ae;T&&(ae=b.call(T,{datum:k.datum,xKey:a,yKey:c,fill:Ie,stroke:de,strokeWidth:fe,size:R,highlighted:i,seriesId:E})),P.fill=null!==(H=ae?.fill)&&void 0!==H?H:Ie,P.stroke=null!==(U=ae?.stroke)&&void 0!==U?U:de,P.strokeWidth=null!==(W=ae?.strokeWidth)&&void 0!==W?W:fe,P.fillOpacity=Ve??1,P.strokeOpacity=null!==(ne=null!==(re=o.strokeOpacity)&&void 0!==re?re:p)&&void 0!==ne?ne:1,P.size=null!==(Ce=ae?.size)&&void 0!==Ce?Ce:R,P.translationX=k.point.x,P.translationY=k.point.y,P.visible=P.size>0&&!isNaN(k.point.x)&&!isNaN(k.point.y),x&&!P.dirtyPath&&(P.path.clear({trackChanges:!0}),P.updatePath(),P.checkPathDirty())}),i||this.marker.markClean()})}updateLabelSelection(t){return Am(this,void 0,void 0,function*(){let{labelData:e}=t;const{labelSelection:n}=t,{shape:i,enabled:o}=this.marker;return e=i&&o?e:[],n.update(e)})}updateLabelNodes(t){return Am(this,void 0,void 0,function*(){const{labelSelection:e}=t,{enabled:n,fontStyle:i,fontWeight:o,fontSize:s,fontFamily:a,color:c}=this.label;e.each((h,p)=>{const{point:g,label:m}=p;p&&m&&n?(h.fontStyle=i,h.fontWeight=o,h.fontSize=s,h.fontFamily=a,h.textAlign=m.textAlign,h.textBaseline=m.textBaseline,h.text=m.text,h.x=g.x,h.y=g.y-10,h.fill=c,h.visible=!0):h.visible=!1})})}getNodeClickEvent(t,e){var n,i;return new ER(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(i=this.yKey)&&void 0!==i?i:"",t,e,this)}getNodeDoubleClickEvent(t,e){var n,i;return new DR(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(i=this.yKey)&&void 0!==i?i:"",t,e,this)}getTooltipHtml(t){var e,n;const{xKey:i,yKey:o,axes:s}=this,a=s[Qe.X],c=s[Qe.Y];if(!(i&&o&&a&&c))return"";const{xName:h,yName:p,tooltip:g,marker:m,id:_}=this,{renderer:w,format:E}=g,{datum:b,xValue:R,yValue:T}=t,A=a.formatDatum(R),x=c.formatDatum(T),P=pr(null!==(e=this.title)&&void 0!==e?e:p),k=pr(A+": "+x),{formatter:V,fill:H,stroke:U,strokeWidth:W,size:re}=m;let Ce;V&&(Ce=V({datum:b,xKey:i,yKey:o,fill:H,stroke:U,strokeWidth:W??this.strokeWidth,size:re,highlighted:!1,seriesId:_}));const Ie=null!==(n=Ce?.fill)&&void 0!==n?n:H,Ve={title:P,backgroundColor:Ie,content:k};if(E||w){const de={datum:b,xKey:i,xValue:R,xName:h,yKey:o,yValue:T,yName:p,title:P,color:Ie,seriesId:_};if(E)return ur({content:o1(E,de)},Ve);if(w)return ur(w(de),Ve)}return ur(Ve)}getLegendData(){var t,e,n,i,o,s,a;const{id:c,data:h,xKey:p,yKey:g,yName:m,visible:_,title:w,marker:E,stroke:b,strokeOpacity:R}=this;return h?.length&&p&&g?[{legendType:"category",id:c,itemId:g,seriesId:c,enabled:_,label:{text:null!==(t=w??m)&&void 0!==t?t:g},marker:{shape:E.shape,fill:null!==(e=E.fill)&&void 0!==e?e:"rgba(0, 0, 0, 0)",stroke:null!==(i=null!==(n=E.stroke)&&void 0!==n?n:b)&&void 0!==i?i:"rgba(0, 0, 0, 0)",fillOpacity:null!==(o=E.fillOpacity)&&void 0!==o?o:1,strokeOpacity:null!==(a=null!==(s=E.strokeOpacity)&&void 0!==s?s:R)&&void 0!==a?a:1}}]:[]}animateEmptyUpdateReady({markerSelections:t,labelSelections:e,contextData:n,paths:i}){n.forEach(({nodeData:o},s)=>{var a,c,h;const[p]=i[s],{path:g}=p,m=[0],_=o.reduce((R,T,A)=>{if(0===A)return R;const x=o[A-1];if(isNaN(T.point.x)||isNaN(T.point.y)||isNaN(x.point.x)||isNaN(x.point.y))return m.push(R),R;const P=Math.sqrt(Math.pow(T.point.x-x.point.x,2)+Math.pow(T.point.y-x.point.y,2));return m.push(R+P),R+P},0);p.fill=void 0,p.lineJoin="round",p.pointerEvents=Ro.None,p.stroke=this.stroke,p.strokeWidth=this.getStrokeWidth(this.strokeWidth),p.strokeOpacity=this.strokeOpacity,p.lineDash=this.lineDash,p.lineDashOffset=this.lineDashOffset;const w=null!==(c=null===(a=this.ctx.animationManager)||void 0===a?void 0:a.defaultOptions.duration)&&void 0!==c?c:1e3,b={from:0,to:_};null===(h=this.ctx.animationManager)||void 0===h||h.animate(`${this.id}_empty-update-ready`,Object.assign(Object.assign({},b),{duration:w,onUpdate(R){g.clear({trackChanges:!0}),o.forEach((T,A)=>{if(m[A]<=R)T.point.moveTo?g.moveTo(T.point.x,T.point.y):g.lineTo(T.point.x,T.point.y);else if(A>0&&m[A-1]<R){const x=o[A-1].point,P=T.point,k=m[A]-m[A-1],H=(k-(m[A]-R))/k,U=(1-H)*x.x+H*P.x,W=(1-H)*x.y+H*P.y;T.point.moveTo?g.moveTo(U,W):g.lineTo(U,W)}}),p.checkPathDirty()}})),t[s].each((R,T,A)=>{var x,P,k,V;const H=_>0?m[A]/_*w:0,U=this.animateFormatter(T),W=null!==(P=null===(x=T.point)||void 0===x?void 0:x.size)&&void 0!==P?P:0;null===(k=this.ctx.animationManager)||void 0===k||k.animate(`${this.id}_empty-update-ready_${R.id}`,Object.assign(Object.assign({},b),{to:null!==(V=U?.size)&&void 0!==V?V:W,delay:H,duration:200,onUpdate(re){R.size=re}}))}),e[s].each((R,T,A)=>{var x;null===(x=this.ctx.animationManager)||void 0===x||x.animate(`${this.id}_empty-update-ready_${R.id}`,{from:0,to:1,delay:m[A]/_*w,duration:200,onUpdate:k=>{R.opacity=k}})})})}animateReadyUpdate(t){this.resetMarkersAndPaths(t)}animateReadyResize(t){var e;null===(e=this.ctx.animationManager)||void 0===e||e.reset(),this.resetMarkersAndPaths(t)}resetMarkersAndPaths({markerSelections:t,contextData:e,paths:n}){e.forEach(({nodeData:i},o)=>{const[s]=n[o],{path:a}=s;s.stroke=this.stroke,s.strokeWidth=this.getStrokeWidth(this.strokeWidth),s.strokeOpacity=this.strokeOpacity,s.lineDash=this.lineDash,s.lineDashOffset=this.lineDashOffset,a.clear({trackChanges:!0}),i.forEach(c=>{c.point.moveTo?a.moveTo(c.point.x,c.point.y):a.lineTo(c.point.x,c.point.y)}),s.checkPathDirty(),t[o].each((c,h)=>{var p,g,m;const _=this.animateFormatter(h),w=null!==(g=null===(p=h.point)||void 0===p?void 0:p.size)&&void 0!==g?g:0;c.size=null!==(m=_?.size)&&void 0!==m?m:w})})}animateFormatter(t){var e,n;const{marker:i,xKey:o="",yKey:s="",stroke:a,id:c,ctx:{callbackCache:h}}=this,{size:p,formatter:g}=i,_=null!==(e=i.stroke)&&void 0!==e?e:a,w=null!==(n=i.strokeWidth)&&void 0!==n?n:this.strokeWidth;let E;return g&&(E=h.call(g,{datum:t.datum,xKey:o,yKey:s,fill:i.fill,stroke:_,strokeWidth:w,size:p,highlighted:!1,seriesId:c})),E}isLabelEnabled(){return this.label.enabled}}Jo.className="LineSeries",Jo.type="line",Qo([G(Mt)],Jo.prototype,"title",void 0),Qo([G(Un)],Jo.prototype,"stroke",void 0),Qo([G(hm)],Jo.prototype,"lineDash",void 0),Qo([G($e(0))],Jo.prototype,"lineDashOffset",void 0),Qo([G($e(0))],Jo.prototype,"strokeWidth",void 0),Qo([G($e(0,1))],Jo.prototype,"strokeOpacity",void 0),Qo([G(Mt)],Jo.prototype,"xKey",void 0),Qo([G(Mt)],Jo.prototype,"xName",void 0),Qo([G(Mt)],Jo.prototype,"yKey",void 0),Qo([G(Mt)],Jo.prototype,"yName",void 0);class h1{constructor(){this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(t=>zt.fromString(t))}update(){const{domain:t,range:e}=this;t.length<2&&(at.warnOnce("`colorDomain` should have at least 2 values."),0===t.length?t.push(0,1):1===t.length&&t.push(t[0]+1));for(let i=1;i<t.length;i++)if(t[i-1]>=t[i]){at.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort((a,c)=>a-c);break}const n=e.length<t.length;if(n||t.length>2&&e.length>t.length)if(at.warnOnce("Number of elements in `colorRange` needs to match the number of elements in `colorDomain`."),n)for(let i=e.length;i<t.length;i++)e.push("black");else e.splice(t.length);this.parsedRange=this.range.map(i=>zt.fromString(i))}convert(t){const{domain:e,range:n,parsedRange:i}=this,o=e[0],s=e[e.length-1];if(t<=o)return n[0];if(t>=s)return n[n.length-1];let h,p;if(2===e.length){const _=(t-o)/(s-o),w=1/(n.length-1);h=n.length<=2?0:Math.min(Math.floor(_*(n.length-1)),n.length-2),p=(_-h*w)/w}else{for(h=0;h<e.length-2&&!(t<e[h+1]);h++);const _=e[h];p=(t-_)/(e[h+1]-_)}return ZG(i[h],i[h+1])(p)}}var so=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xm=function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})};class f1 extends hr{constructor(){super(...arguments),this.formatter=void 0}}so([G(ei)],f1.prototype,"formatter",void 0);class p1 extends GF{constructor(t,e,n,i,o,s){super(e,n,i,o,s),this.sizeKey=t}}class y$ extends p1{constructor(){super(...arguments),this.type="nodeClick"}}class C$ extends p1{constructor(){super(...arguments),this.type="nodeDoubleClick"}}class g1 extends Bu{constructor(){super(...arguments),this.renderer=void 0}}so([G(ei)],g1.prototype,"renderer",void 0);class Vr extends Em{constructor(t){super({moduleCtx:t,pickModes:[Ui.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,Ui.NEAREST_NODE,Ui.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!0}),this.sizeScale=new CR,this.marker=new bR,this.label=new f1,this.title=void 0,this.labelKey=void 0,this.xName=void 0,this.yName=void 0,this.sizeName="Size",this.labelName="Label",this.xKey=void 0,this.yKey=void 0,this.sizeKey=void 0,this.colorKey=void 0,this.colorName="Color",this.colorDomain=void 0,this.colorRange=["#ffff00","#00ff00","#0000ff"],this.colorScale=new h1,this.tooltip=new g1;const{label:e}=this;e.enabled=!1}processData(t){var e,n;return xm(this,void 0,void 0,function*(){const{xKey:i="",yKey:o="",sizeKey:s,labelKey:a,axes:c,marker:h,data:p}=this,g=c[Qe.X],m=c[Qe.Y],_=g?.scale instanceof Pn,w=m?.scale instanceof Pn,{colorScale:E,colorDomain:b,colorRange:R,colorKey:T}=this,{dataModel:A,processedData:x}=yield t.request(this.id,p??[],{props:[Wi(this,i,_,{id:"xValue"}),Wi(this,o,w,{id:"yValue"}),...s?[Wi(this,s,!0,{id:"sizeValue"})]:[],...T?[Wi(this,T,!0,{id:"colorValue"})]:[],...a?[Wi(this,a,!1,{id:"labelValue"})]:[]],dataVisible:this.visible});if(this.dataModel=A,this.processedData=x,s){const P=A.resolveProcessedDataIndexById(this,"sizeValue").index,k=null!==(e=x.domain.values[P])&&void 0!==e?e:[];this.sizeScale.domain=h.domain?h.domain:k}if(T){const P=A.resolveProcessedDataIndexById(this,"colorValue").index;E.domain=null!==(n=b??x.domain.values[P])&&void 0!==n?n:[],E.range=R,E.update()}})}getDomain(t){const{dataModel:e,processedData:n}=this;if(!n||!e)return[];const i=t===Qe.X?"xValue":"yValue",o=e.resolveProcessedDataDefById(this,i,"value"),s=e.getDomain(this,i,"value",n);if("value"===o?.def.type&&"category"===o?.def.valueType)return s;const a=this.axes[t];return this.fixNumericExtent(zu(s),a)}getNodeClickEvent(t,e){var n,i;return new y$(this.sizeKey,null!==(n=this.xKey)&&void 0!==n?n:"",null!==(i=this.yKey)&&void 0!==i?i:"",t,e,this)}getNodeDoubleClickEvent(t,e){var n,i;return new C$(this.sizeKey,null!==(n=this.xKey)&&void 0!==n?n:"",null!==(i=this.yKey)&&void 0!==i?i:"",t,e,this)}createNodeData(){var t,e,n,i,o,s;return xm(this,void 0,void 0,function*(){const{visible:a,axes:c,yKey:h="",xKey:p="",label:g,labelKey:m,ctx:{callbackCache:_},dataModel:w,processedData:E}=this,b=c[Qe.X],R=c[Qe.Y];if(!(w&&E&&a&&b&&R))return[];const T=w.resolveProcessedDataIndexById(this,"xValue").index,A=w.resolveProcessedDataIndexById(this,"yValue").index,x=this.sizeKey?w.resolveProcessedDataIndexById(this,"sizeValue").index:-1,P=this.colorKey?w.resolveProcessedDataIndexById(this,"colorValue").index:-1,k=this.labelKey?w.resolveProcessedDataIndexById(this,"labelValue").index:-1,{colorScale:V,sizeKey:H,colorKey:U,id:W}=this,re=b.scale,ne=R.scale,Ce=(null!==(t=re.bandwidth)&&void 0!==t?t:0)/2,Ie=(null!==(e=ne.bandwidth)&&void 0!==e?e:0)/2,{sizeScale:Ve,marker:de}=this,fe=new Array(null!==(i=null===(n=this.processedData)||void 0===n?void 0:n.data.length)&&void 0!==i?i:0);Ve.range=[de.size,de.maxSize];const ae=g.getFont();let Fe=0;for(const{values:qe,datum:Je}of null!==(o=E.data)&&void 0!==o?o:[]){const Dt=qe[T],kt=qe[A],Ct=re.convert(Dt)+Ce,Ke=ne.convert(kt)+Ie;if(!this.checkRangeXY(Ct,Ke,b,R))continue;let mt;g.formatter&&(mt=_.call(g.formatter,{value:kt,seriesId:W,datum:Je})),void 0===mt&&(mt=m?String(qe[k]):"");const Tt=vi.getTextSize(mt,ae),cn=H?Ve.convert(qe[x]):de.size,pn=U?V.convert(qe[P]):void 0;fe[Fe++]={series:this,itemId:h,yKey:h,xKey:p,datum:Je,xValue:Dt,yValue:kt,sizeValue:qe[x],point:{x:Ct,y:Ke,size:cn},nodeMidPoint:{x:Ct,y:Ke},fill:pn,label:Object.assign({text:mt},Tt)}}return fe.length=Fe,[{itemId:null!==(s=this.yKey)&&void 0!==s?s:this.id,nodeData:fe,labelData:fe}]})}isPathOrSelectionDirty(){return this.marker.isDirty()}getLabelData(){var t;return null===(t=this.contextNodeData)||void 0===t?void 0:t.reduce((e,n)=>e.concat(n.labelData),[])}markerFactory(){const{shape:t}=this.marker;return new(vm(t))}updateMarkerSelection(t){return xm(this,void 0,void 0,function*(){const{nodeData:e,markerSelection:n}=t,{marker:{enabled:i}}=this;return this.marker.isDirty()&&n.clear(),n.update(i?e:[])})}updateMarkerNodes(t){return xm(this,void 0,void 0,function*(){const{markerSelection:e,isHighlight:n}=t,{marker:i,xKey:o="",yKey:s="",sizeScale:a,marker:{fillOpacity:c,strokeOpacity:h,strokeWidth:p},highlightStyle:{item:{fill:g,fillOpacity:m=c,stroke:_,strokeWidth:w}},id:E,ctx:{callbackCache:b}}=this,{formatter:R}=i;a.range=[i.size,i.maxSize];const T="function"==typeof i.shape;e.each((A,x)=>{var P,k,V,H,U,W,re,ne,Ce,Ie;const Ve=n&&void 0!==g?g:null!==(P=x.fill)&&void 0!==P?P:i.fill,de=n?m:c,fe=n&&void 0!==_?_:i.stroke,ae=h,Fe=n&&void 0!==w?w:p??1,qe=null!==(V=null===(k=x.point)||void 0===k?void 0:k.size)&&void 0!==V?V:0;let Je;R&&(Je=b.call(R,{datum:x.datum,xKey:o,yKey:s,fill:Ve,stroke:fe,strokeWidth:Fe,size:qe,highlighted:n,seriesId:E})),A.fill=null!==(H=Je?.fill)&&void 0!==H?H:Ve,A.stroke=null!==(U=Je?.stroke)&&void 0!==U?U:fe,A.strokeWidth=null!==(W=Je?.strokeWidth)&&void 0!==W?W:Fe,A.fillOpacity=de??1,A.strokeOpacity=ae??1,A.translationX=null!==(ne=null===(re=x.point)||void 0===re?void 0:re.x)&&void 0!==ne?ne:0,A.translationY=null!==(Ie=null===(Ce=x.point)||void 0===Ce?void 0:Ce.y)&&void 0!==Ie?Ie:0,A.visible=A.size>0,T&&!A.dirtyPath&&(A.path.clear({trackChanges:!0}),A.updatePath(),A.checkPathDirty())}),n||this.marker.markClean()})}updateLabelSelection(t){var e,n;return xm(this,void 0,void 0,function*(){const{labelSelection:i}=t,{label:{enabled:o}}=this,a=(o&&null!==(n=null===(e=this.chart)||void 0===e?void 0:e.placeLabels().get(this))&&void 0!==n?n:[]).map(c=>Object.assign(Object.assign({},c.datum),{point:{x:c.x,y:c.y,size:c.datum.point.size}}));return i.update(a)})}updateLabelNodes(t){return xm(this,void 0,void 0,function*(){const{labelSelection:e}=t,{label:n}=this;e.each((i,o)=>{var s,a,c,h;i.text=o.label.text,i.fill=n.color,i.x=null!==(a=null===(s=o.point)||void 0===s?void 0:s.x)&&void 0!==a?a:0,i.y=null!==(h=null===(c=o.point)||void 0===c?void 0:c.y)&&void 0!==h?h:0,i.fontStyle=n.fontStyle,i.fontWeight=n.fontWeight,i.fontSize=n.fontSize,i.fontFamily=n.fontFamily,i.textAlign="left",i.textBaseline="top"})})}getTooltipHtml(t){var e,n,i,o,s,a,c;const{xKey:h,yKey:p,axes:g}=this,m=g[Qe.X],_=g[Qe.Y];if(!(h&&p&&m&&_))return"";const{marker:w,tooltip:E,xName:b,yName:R,sizeKey:T,sizeName:A,labelKey:x,labelName:P,id:k,ctx:{callbackCache:V}}=this,{stroke:H}=w,U=null!==(e=t.fill)&&void 0!==e?e:w.fill,W=this.getStrokeWidth(null!==(n=w.strokeWidth)&&void 0!==n?n:1),{formatter:re}=this.marker;let ne;re&&(ne=V.call(re,{datum:t,xKey:h,yKey:p,fill:U,stroke:H,strokeWidth:W,size:null!==(o=null===(i=t.point)||void 0===i?void 0:i.size)&&void 0!==o?o:0,highlighted:!1,seriesId:k}));const Ce=null!==(a=null!==(s=ne?.fill)&&void 0!==s?s:U)&&void 0!==a?a:"gray",Ie=null!==(c=this.title)&&void 0!==c?c:R,{datum:Ve,xValue:de,yValue:fe,sizeValue:ae,label:{text:Fe}}=t,qe=pr(m.formatDatum(de)),Je=pr(_.formatDatum(fe));let Dt=`<b>${pr(b??h)}</b>: ${qe}<br><b>${pr(R??p)}</b>: ${Je}`;T&&(Dt+=`<br><b>${pr(A??T)}</b>: ${pr(ae)}`),x&&(Dt=`<b>${pr(P??x)}</b>: ${pr(Fe)}<br>`+Dt);const kt={title:Ie,backgroundColor:Ce,content:Dt},{renderer:Ct}=E;return Ct?ur(Ct({datum:Ve,xKey:h,xValue:de,xName:b,yKey:p,yValue:fe,yName:R,sizeKey:T,sizeName:A,labelKey:x,labelName:P,title:Ie,color:Ce,seriesId:k}),kt):ur(kt)}getLegendData(){var t,e,n,i,o;const{id:s,data:a,xKey:c,yKey:h,yName:p,title:g,visible:m,marker:_}=this,{fill:w,stroke:E,fillOpacity:b,strokeOpacity:R}=_;return a?.length&&c&&h?[{legendType:"category",id:s,itemId:h,seriesId:s,enabled:m,label:{text:null!==(t=g??p)&&void 0!==t?t:h},marker:{shape:_.shape,fill:null!==(n=null!==(e=_.fill)&&void 0!==e?e:w)&&void 0!==n?n:"rgba(0, 0, 0, 0)",stroke:null!==(o=null!==(i=_.stroke)&&void 0!==i?i:E)&&void 0!==o?o:"rgba(0, 0, 0, 0)",fillOpacity:b??1,strokeOpacity:R??1}}]:[]}animateEmptyUpdateReady({markerSelections:t,labelSelections:e}){var n,i;const o=null!==(i=null===(n=this.ctx.animationManager)||void 0===n?void 0:n.defaultOptions.duration)&&void 0!==i?i:1e3;t.forEach(a=>{a.each((c,h)=>{var p,g,m,_;const w=this.animateFormatter(c,h),E=null!==(g=null===(p=h.point)||void 0===p?void 0:p.size)&&void 0!==g?g:0,b=null!==(m=w?.size)&&void 0!==m?m:E;null===(_=this.ctx.animationManager)||void 0===_||_.animate(`${this.id}_empty-update-ready_${c.id}`,{from:0,to:b,duration:o,onUpdate(R){c.size=R}})})}),e.forEach(a=>{a.each(c=>{var h;null===(h=this.ctx.animationManager)||void 0===h||h.animate(`${this.id}_empty-update-ready_${c.id}`,{from:0,to:1,delay:o,duration:200,onUpdate:p=>{c.opacity=p}})})})}animateReadyUpdate({markerSelections:t}){t.forEach(e=>{this.resetMarkers(e)})}animateReadyHighlightMarkers(t){this.resetMarkers(t)}resetMarkers(t){t.each((e,n)=>{var i,o,s;const a=this.animateFormatter(e,n),c=null!==(o=null===(i=n.point)||void 0===i?void 0:i.size)&&void 0!==o?o:0;e.size=null!==(s=a?.size)&&void 0!==s?s:c})}animateFormatter(t,e){var n,i,o;const{xKey:s="",yKey:a="",marker:{strokeWidth:c},id:h,ctx:{callbackCache:p}}=this,{formatter:g}=this.marker,m=null!==(n=e.fill)&&void 0!==n?n:t.fill,E=null!==(o=null===(i=e.point)||void 0===i?void 0:i.size)&&void 0!==o?o:0;let b;return g&&(b=p.call(g,{datum:e.datum,xKey:s,yKey:a,fill:m,stroke:t.stroke,strokeWidth:c??1,size:E,highlighted:!1,seriesId:h})),b}isLabelEnabled(){return this.label.enabled}}Vr.className="ScatterSeries",Vr.type="scatter",so([G(Mt)],Vr.prototype,"title",void 0),so([G(Mt)],Vr.prototype,"labelKey",void 0),so([G(Mt)],Vr.prototype,"xName",void 0),so([G(Mt)],Vr.prototype,"yName",void 0),so([G(Mt)],Vr.prototype,"sizeName",void 0),so([G(Mt)],Vr.prototype,"labelName",void 0),so([G(Mt)],Vr.prototype,"xKey",void 0),so([G(Mt)],Vr.prototype,"yKey",void 0),so([G(Mt)],Vr.prototype,"sizeKey",void 0),so([G(Mt)],Vr.prototype,"colorKey",void 0),so([G(Mt)],Vr.prototype,"colorName",void 0),so([G(IG)],Vr.prototype,"colorDomain",void 0),so([G(Ow)],Vr.prototype,"colorRange",void 0);class _$ extends fa{constructor(t){super({moduleCtx:t,pickModes:[Ui.EXACT_SHAPE_MATCH]})}getLabelData(){return[]}}var Yn=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jw=function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})};class v1 extends Bu{constructor(){super(...arguments),this.renderer=void 0}}Yn([G(ei)],v1.prototype,"renderer",void 0);class m1 extends Aw{constructor(t,e,n,i,o,s){super(i,o,s),this.labelKey=t,this.sizeKey=e,this.colorKey=n}}class w$ extends m1{constructor(){super(...arguments),this.type="nodeClick"}}class S$ extends m1{constructor(){super(...arguments),this.type="nodeDoubleClick"}}class WF extends hr{constructor(){super(...arguments),this.padding=10}}Yn([G($e(0))],WF.prototype,"padding",void 0);class OR extends hr{constructor(){super(...arguments),this.wrapping="on-space"}}Yn([G(uF)],OR.prototype,"wrapping",void 0);class RR{constructor(){this.style=(()=>{const t=new hr;return t.color="white",t})()}}Yn([G(Mt)],RR.prototype,"key",void 0),Yn([G(Mt)],RR.prototype,"name",void 0),Yn([G(ei)],RR.prototype,"formatter",void 0);var Tp=function(r){return r[r.Name=0]="Name",r[r.Value=1]="Value",r}(Tp||{});const xl=new Ot;function Mm(r,t){const{fontStyle:e,fontWeight:n,fontSize:i,fontFamily:o}=t;xl.fontStyle=e,xl.fontWeight=n,xl.fontSize=i,xl.fontFamily=o,xl.text=r,xl.x=0,xl.y=0,xl.textAlign="left",xl.textBaseline="top";const{width:s,height:a}=xl.computeBBox();return{width:s,height:a}}function zF(r){return"string"!=typeof r||zt.validColorString(r)?r:(at.warnOnce(`invalid Treemap tile colour string "${r}". Affected treemap tiles will be coloured black.`),"black")}class y1{constructor(){this.color="black"}}Yn([G(Un)],y1.prototype,"color",void 0);class E$ extends gF{constructor(){super(...arguments),this.text=new y1}}class wi extends _${constructor(){super(...arguments),this.groupSelection=Wn.select(this.contentGroup,Ht),this.highlightSelection=Wn.select(this.highlightGroup,Ht),this.title=(()=>{const t=new WF;return t.color="white",t.fontWeight="bold",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.padding=15,t})(),this.subtitle=(()=>{const t=new WF;return t.color="white",t.fontSize=9,t.fontFamily="Verdana, sans-serif",t.padding=13,t})(),this.labels={large:(()=>{const t=new OR;return t.color="white",t.fontWeight="bold",t.fontSize=18,t})(),medium:(()=>{const t=new OR;return t.color="white",t.fontWeight="bold",t.fontSize=14,t})(),small:(()=>{const t=new OR;return t.color="white",t.fontWeight="bold",t.fontSize=10,t})(),formatter:void 0,value:new RR},this.nodePadding=2,this.nodeGap=0,this.labelKey="label",this.sizeKey="size",this.colorKey="color",this.colorDomain=[-5,5],this.colorRange=["#cb4b3f","#6acb64"],this.groupFill="#272931",this.groupStroke="black",this.groupStrokeWidth=1,this.tileStroke="black",this.tileStrokeWidth=1,this.gradient=!0,this.formatter=void 0,this.colorName="Change",this.rootName="Root",this.highlightGroups=!0,this.tileShadow=new Jd,this.labelShadow=new Jd,this.tooltip=new v1,this.highlightStyle=new E$}getNodePaddingTop(t,e){var n;const{title:i,subtitle:o,nodePadding:s}=this,a=t.label;if(t.isLeaf||!a||0===t.depth)return s;const c=t.depth>1?o:i,h=Mm(a,c);return c.fontSize>e.width/3||c.fontSize>e.height/3||h.height>=e.height?s:h.height+s+(null!==(n=c.padding)&&void 0!==n?n:0)}getNodePadding(t,e){const{nodePadding:n}=this;return{top:this.getNodePaddingTop(t,e),right:n,bottom:n,left:n}}squarify(t,e,n=new Map){if(e.width<=0||e.height<=0)return n;n.set(t,e);const o=this.getNodePadding(t,e),s=e.width-o.left-o.right,a=e.height-o.top-o.bottom;if(s<=0||a<=0||t.value<=0)return n;let c=0,h=0,p=1/0,g=t.value;const m=t.children,_=new un(e.x+o.left,e.y+o.top,s,a),w=_.clone();for(let R=0;R<m.length;R++){const T=m[R].value,x=w.width<w.height;c+=T;const P=x?w.height:w.width,k=x?w.width:w.height,V=k*m[h].value/c;let H=P*c/g;const U=Math.max(V,H)/Math.min(V,H),W=Math.abs(1-U);if(W<p){p=W;continue}c-=T,H=P*c/g;let re=x?w.x:w.y;for(let ne=h;ne<R;ne++){const Ce=m[ne],de=k*Ce.value/c,Fe=new un(x?re:w.x,x?w.y:re,x?de:H,x?H:de);this.applyGap(_,Fe),this.squarify(Ce,Fe,n),g-=Ce.value,re+=de}x?(w.y+=H,w.height-=H):(w.x+=H,w.width-=H),h=R,c=0,p=1/0,R--}const E=w.width<w.height;let b=E?w.x:w.y;for(let R=h;R<m.length;R++){const x=m[R].value/g,P=w.width*(E?x:1),k=w.height*(E?1:x),V=new un(E?b:w.x,E?w.y:b,P,k);this.applyGap(_,V),this.squarify(m[R],V,n),b+=E?P:k}return n}applyGap(t,e){const n=this.nodeGap/2,i=c=>({left:c.x,top:c.y,right:c.x+c.width,bottom:c.y+c.height}),o=i(t),s=i(e);Object.keys(o).forEach(c=>{MF(o[c],s[c])||e.shrink(n,c)})}processData(){return jw(this,void 0,void 0,function*(){if(!this.data)return;const{data:t,sizeKey:e,labelKey:n,colorKey:i,colorDomain:o,colorRange:s,groupFill:a}=this,c=this.labels.formatter,h=new h1;h.domain=o,h.range=s,h.update();const p=(g,m=0,_)=>{var w,E,b,R;let T;c&&(T=this.ctx.callbackCache.call(c,{datum:g})),void 0!==T||(T=n&&null!==(w=g[n])&&void 0!==w?w:"");let A=i&&null!==(E=g[i])&&void 0!==E?E:m;A=zF(A);const x=!g.children;let P=a;"string"==typeof A?P=A:(x||!a)&&(P=h.convert(A));const k={datum:g,depth:m,parent:_,value:0,label:T,fill:P,series:this,isLeaf:x,children:[]};return x?k.value=e&&null!==(b=g[e])&&void 0!==b?b:1:(null===(R=g.children)||void 0===R||R.forEach(V=>{const H=p(V,m+1,k),U=H.value;isNaN(U)||!isFinite(U)||0===U||(k.value+=U,k.children.push(H))}),k.children.sort((V,H)=>H.value-V.value)),k};this.dataRoot=p(t)})}createNodeData(){return jw(this,void 0,void 0,function*(){return[]})}update(){return jw(this,void 0,void 0,function*(){yield this.updateSelections(),yield this.updateNodes()})}updateSelections(){return jw(this,void 0,void 0,function*(){if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:t,dataRoot:e}=this;if(!t||!e||!t.getSeriesRect())return;const i=[],o=h=>{var p;i.push(h),null===(p=h.children)||void 0===p||p.forEach(o)};o(e);const{groupSelection:s,highlightSelection:a}=this,c=h=>h.update(i,p=>{const g=new Zo,m=new Ot;m.tag=Tp.Name;const _=new Ot;_.tag=Tp.Value,p.append([g,m,_])});this.groupSelection=c(s),this.highlightSelection=c(a)})}isDatumHighlighted(t){var e;return t===(null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&(t.isLeaf||this.highlightGroups)}getTileFormat(t,e){var n;const{formatter:i,ctx:{callbackCache:o}}=this;if(!i)return{};const{gradient:s,colorKey:a,labelKey:c,sizeKey:h,tileStroke:p,tileStrokeWidth:g,groupStroke:m,groupStrokeWidth:_}=this;return o.call(i,{seriesId:this.id,datum:t.datum,depth:t.depth,parent:null===(n=t.parent)||void 0===n?void 0:n.datum,colorKey:a,sizeKey:h,labelKey:c,fill:t.fill,stroke:t.isLeaf?p:m,strokeWidth:t.isLeaf?g:_,gradient:s,highlighted:e})??{}}updateNodes(){return jw(this,void 0,void 0,function*(){if(!this.chart)return;const{gradient:t,highlightStyle:{item:{fill:e,fillOpacity:n,stroke:i,strokeWidth:o},text:{color:s}},tileStroke:a,tileStrokeWidth:c,groupStroke:h,groupStrokeWidth:p,tileShadow:g,labelShadow:m,dataRoot:_}=this;if(!_)return;const w=this.chart.getSeriesRect(),E=this.squarify(_,new un(0,0,w.width,w.height)),b=this.buildLabelMeta(E),R=this.getHighlightedSubtree(_);this.updateNodeMidPoint(E);const T=(x,P,k)=>{var V,H,U,W,re,ne;const Ce=E.get(P);if(!Ce)return void(x.visible=!1);const Ie=k&&void 0!==e?e:P.fill,Ve=null!==(V=k?n:1)&&void 0!==V?V:1;let de=h;k&&void 0!==i?de=i:P.isLeaf&&(de=a);let fe=p;k&&void 0!==o?fe=o:P.isLeaf&&(fe=c);const ae=this.getTileFormat(P,k),Fe=zF(null!==(H=ae?.fill)&&void 0!==H?H:Ie);if(null!==(U=ae?.gradient)&&void 0!==U?U:t){const qe=zt.tryParseFromString(Ie).brighter().toString(),Je=zt.tryParseFromString(Ie).darker().toString();x.fill=`linear-gradient(180deg, ${qe}, ${Je})`}else x.fill=Fe;x.fillOpacity=null!==(W=ae?.fillOpacity)&&void 0!==W?W:Ve,x.stroke=zF(null!==(re=ae?.stroke)&&void 0!==re?re:de),x.strokeWidth=null!==(ne=ae?.strokeWidth)&&void 0!==ne?ne:fe,x.fillShadow=g,x.crisp=!0,x.x=Ce.x,x.y=Ce.y,x.width=Ce.width,x.height=Ce.height,x.visible=!0};this.groupSelection.selectByClass(Zo).forEach(x=>T(x,x.datum,!1)),this.highlightSelection.selectByClass(Zo).forEach(x=>{const P=this.isDatumHighlighted(x.datum);x.visible=P||R.has(x.datum),x.visible&&T(x,x.datum,P)});const A=(x,P,k,V)=>{const H=b.get(P),U=H?.[V];U?(x.text=U.text,x.fontFamily=U.style.fontFamily,x.fontSize=U.style.fontSize,x.fontWeight=U.style.fontWeight,x.fill=k?s??U.style.color:U.style.color,x.fillShadow=k?void 0:m,x.textAlign=U.hAlign,x.textBaseline=U.vAlign,x.x=U.x,x.y=U.y,x.visible=!0):x.visible=!1};this.groupSelection.selectByTag(Tp.Name).forEach(x=>A(x,x.datum,!1,"label")),this.highlightSelection.selectByTag(Tp.Name).forEach(x=>{const P=this.isDatumHighlighted(x.datum);x.visible=P||R.has(x.datum),x.visible&&A(x,x.datum,P,"label")}),this.groupSelection.selectByTag(Tp.Value).forEach(x=>A(x,x.datum,!1,"value")),this.highlightSelection.selectByTag(Tp.Value).forEach(x=>{const P=this.isDatumHighlighted(x.datum);x.visible=P||R.has(x.datum),x.visible&&A(x,x.datum,P,"value")})})}updateNodeMidPoint(t){t.forEach((e,n)=>{n.nodeMidPoint={x:e.x+e.width/2,y:e.y}})}getHighlightedSubtree(t){const e=new Set,n=i=>{var o;(this.isDatumHighlighted(i)||i.parent&&e.has(i.parent))&&e.add(i),null===(o=i.children)||void 0===o||o.forEach(n)};return n(t),e}buildLabelMeta(t){const{labels:e,title:n,subtitle:i,nodePadding:o,labelKey:s,ctx:{callbackCache:a}}=this,c=/-$/m,h=new Map;return t.forEach((p,g)=>{var m,_,w;if(!s||0===g.depth)return;const E=p.width-2*o,b=p.height-2*o,R=ne=>ne.fontSize>p.width/3||ne.fontSize>p.height/3;let T=g.isLeaf?g.label:g.label.toUpperCase(),A="";const x=e.value,P=x.style,k=Math.ceil(2*P.fontSize*(Ot.defaultLineHeightRatio-1));g.isLeaf&&(x.formatter?A=null!==(m=a.call(x.formatter,{datum:g.datum}))&&void 0!==m?m:"":x.key&&(A=g.datum[x.key]));let V=Mm(A,P);A&&V.width>E&&(A="");let H,U="";if(g.isLeaf){const ne=()=>{const Ie=b-(A?P.fontSize+k:0),Ve=[e.large,e.medium,e.small];for(const fe of Ve){const{width:ae,height:Fe}=Mm(T,fe);if(Fe>Ie||R(fe))continue;if(ae<=E)return{style:fe,wrappedText:void 0};const qe=Ot.wrap(T,E,Ie,fe,fe.wrapping);if(qe&&"\u2026"!==qe&&(fe===e.small||!c.exec(qe)&&!qe.endsWith("\u2026")))return{style:fe,wrappedText:qe}}return Mm(T,e.small).height<=Ie&&!R(e.small)?{style:e.small,wrappedText:void 0}:{style:void 0,wrappedText:void 0}};let Ce=ne();!Ce.style&&A&&(A="",Ce=ne()),H=null!==(_=Ce.style)&&void 0!==_?_:e.small,U=null!==(w=Ce.wrappedText)&&void 0!==w?w:""}else H=1===g.depth?n:i;const W=Mm(U||T,H);if(R(H))return;if(W.width>E){const ne=Math.floor(T.length*E/W.width)-1;T=`${T.substring(0,ne).trim()}\u2026`}V=Mm(A,P);const re=A&&V.width<E&&V.height+W.height+k<b;h.set(g,{label:Object.assign({text:U||T,style:H},g.isLeaf?{hAlign:"center",vAlign:"middle",x:p.x+p.width/2,y:p.y+p.height/2-(re?V.height/2+k/2:0)}:{hAlign:"left",vAlign:"top",x:p.x+o,y:p.y+o}),value:re?{text:A,style:P,hAlign:"center",vAlign:"middle",x:p.x+p.width/2,y:p.y+p.height/2+W.height/2+k/2}:void 0})}),h}getDomain(t){return[0,1]}getNodeClickEvent(t,e){return new w$(this.labelKey,this.sizeKey,this.colorKey,t,e,this)}getNodeDoubleClickEvent(t,e){return new S$(this.labelKey,this.sizeKey,this.colorKey,t,e,this)}getTooltipHtml(t){var e,n,i,o;if(!this.highlightGroups&&!t.isLeaf)return"";const{tooltip:s,sizeKey:a,labelKey:c,colorKey:h,rootName:p,id:g,labels:m,ctx:{callbackCache:_}}=this,{datum:w}=t,{renderer:E}=s,b=t.depth?w[c]:null!==(e=w[c])&&void 0!==e?e:p;let R="";const T=this.getTileFormat(t,!1),A=null!==(i=null!==(n=T?.fill)&&void 0!==n?n:t.fill)&&void 0!==i?i:"gray",x=m.value.key,P=m.value.formatter;if(x||P){let V="";if(P)V=_.call(P,{datum:w});else if(null!=x){const H=w[x];"number"==typeof H&&isFinite(H)&&(V=EV(H))}V&&(m.value.name&&(R+=`<b>${m.value.name}:</b> `),R+=V)}const k={title:b,backgroundColor:A,content:R};return E?ur(E({datum:t.datum,parent:null===(o=t.parent)||void 0===o?void 0:o.datum,depth:t.depth,sizeKey:a,labelKey:c,colorKey:h,title:b,color:A,seriesId:g}),k):b||R?ur(k):""}getLegendData(){return[]}}wi.className="TreemapSeries",wi.type="treemap",Yn([G($e(0))],wi.prototype,"nodePadding",void 0),Yn([G($e(0))],wi.prototype,"nodeGap",void 0),Yn([G(lr)],wi.prototype,"labelKey",void 0),Yn([G(Mt)],wi.prototype,"sizeKey",void 0),Yn([G(Mt)],wi.prototype,"colorKey",void 0),Yn([G(PG)],wi.prototype,"colorDomain",void 0),Yn([G(Ow)],wi.prototype,"colorRange",void 0),Yn([G(Mt)],wi.prototype,"groupFill",void 0),Yn([G(Un)],wi.prototype,"groupStroke",void 0),Yn([G(yn(0))],wi.prototype,"groupStrokeWidth",void 0),Yn([G(Un)],wi.prototype,"tileStroke",void 0),Yn([G(yn(0))],wi.prototype,"tileStrokeWidth",void 0),Yn([G(Mn)],wi.prototype,"gradient",void 0),Yn([G(ei)],wi.prototype,"formatter",void 0),Yn([G(lr)],wi.prototype,"colorName",void 0),Yn([G(lr)],wi.prototype,"rootName",void 0),Yn([G(wl)],wi.prototype,"highlightGroups",void 0);const Pm={area:"cartesian",bar:"cartesian",column:"cartesian",histogram:"cartesian",line:"cartesian",scatter:"cartesian",treemap:"hierarchy",pie:"polar"},$F={},Si={has:r=>Object.prototype.hasOwnProperty.call(Pm,r),isCartesian:r=>"cartesian"===Pm[r],isPolar:r=>"polar"===Pm[r],isHierarchy:r=>"hierarchy"===Pm[r],get seriesTypes(){return Object.keys(Pm)},get cartesianTypes(){return this.seriesTypes.filter(r=>this.isCartesian(r))},get polarTypes(){return this.seriesTypes.filter(r=>this.isPolar(r))},get hierarchyTypes(){return this.seriesTypes.filter(r=>this.isHierarchy(r))}};function b$(r,t){var e;$F[r]=yi([null!==(e=$F[r])&&void 0!==e?e:{},t])}function C1(r){var t;return null!==(t=$F[r])&&void 0!==t?t:{}}const O$={area:oo,bar:$i,column:g$,histogram:Ki,line:Jo,pie:In,scatter:Vr,treemap:wi},_1={},w1={},S1={},E1={};function R$(r,t,e,n,i,o){_1[r]=e,w1[r]=n,S1[r]=i,o&&nh(r,o),function D$(r,t){Pm[r]=t}(r,t)}function T$(r,t){var e;const n=null!==(e=_1[r])&&void 0!==e?e:O$[r];if(n)return new n(t);throw new Error(`AG Charts - unknown series type: ${r}`)}function D1(r){return w1[r]}function b1(r){return S1[r]}function nh(r,t){E1[r]=t}const x$={axes:[{type:eh.type,position:"left"},{type:Yu.type,position:"bottom"}]},M$={axes:[{type:"number",position:"bottom"},{type:"category",position:"left"}]},P$={axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]};function Ml(r,t){if(O1(r)&&O1(t)){const e={};return Object.keys(r).forEach(n=>{e[n]=n in t?Ml(r[n],t[n]):r[n]}),Object.keys(t).forEach(n=>{n in r||(e[n]=t[n])}),e}return Array.isArray(r)&&!Array.isArray(t)||KF(r)&&!KF(t)?r:t}function KF(r){return r&&"object"==typeof r}function O1(r){return KF(r)&&r.constructor===Object}const I$={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},F$=Symbol("extends-axes-defaults"),L$=Symbol("extends-axes-label-defaults"),N$=Symbol("extends-axes-line-defaults"),k$=Symbol("extends-series-defaults"),R1=Symbol("override-series-label-defaults"),G$=Symbol("default-font");class Et{constructor(t){t=Ml({},t??{});const{overrides:e=null,palette:n=null}=t,i=this.createChartConfigPerChartType(this.getDefaults());if(e){const{common:o,cartesian:s,polar:a,hierarchy:c}=e,h=(p,g,m)=>{m&&(i[p]=Ml(i[p],m),g.forEach(_=>{i[_]=Ml(i[_],m)}))};h("common",Object.keys(i),o),h("cartesian",Si.cartesianTypes,s),h("polar",Si.polarTypes,a),h("hierarchy",Si.hierarchyTypes,c),Si.seriesTypes.forEach(p=>{const g=p,m=e[g];m&&(m.series&&(m.series={[g]:m.series}),i[g]=Ml(i[g],m))})}this.palette=n??this.getPalette(),this.config=Object.freeze(i)}getPalette(){return I$}static getAxisDefaults(){return{top:{},right:{},bottom:{},left:{},title:{enabled:!1,text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1,avoidCollisions:!0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],crossLines:{enabled:!1,fill:"rgb(187,221,232)",stroke:"rgb(70,162,192)",strokeWidth:1,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,color:"rgb(87, 87, 87)",rotation:void 0}}}}static getSeriesDefaults(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"yellow",fillOpacity:1},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}}static getBarSeriesDefaults(){return Object.assign(Object.assign({},this.getSeriesDefaults()),{fillOpacity:1,strokeOpacity:1,normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}static getLineSeriesDefaults(){const t=this.getSeriesDefaults();return Object.assign(Object.assign({},t),{tooltip:Object.assign(Object.assign({},t.tooltip),{format:void 0,position:{type:"node"}})})}static getAreaSeriesDefaults(){const t=this.getSeriesDefaults();return Object.assign(Object.assign({},t),{nodeClickRange:"nearest",tooltip:Object.assign(Object.assign({},t.tooltip),{position:{type:"node"}})})}static getScatterSeriesDefaults(){const t=this.getSeriesDefaults();return Object.assign(Object.assign({},t),{tooltip:Object.assign(Object.assign({},t.tooltip),{position:{type:"node"}})})}static getCartesianSeriesMarkerDefaults(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}static getCaptionWrappingDefaults(){return"hyphenate"}static getChartDefaults(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",wrapping:Et.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",wrapping:Et.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",spacing:30,wrapping:Et.getCaptionWrappingDefaults()},legend:{position:"bottom",spacing:20,listeners:{},item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:"rgb(70, 70, 70)"},inactiveStyle:{fill:"rgb(219, 219, 219)"},highlightStyle:{fill:"rgb(70, 70, 70)"},label:{color:"rgb(70, 70, 70)"}}},tooltip:{enabled:!0,range:"nearest",delay:0},listeners:{}}}createChartConfigPerChartType(t){return Object.entries({cartesian:Si.cartesianTypes,polar:Si.polarTypes,hierarchy:Si.hierarchyTypes,groupedCategory:[]}).forEach(([n,i])=>{const o=n,s=this.templateTheme(C1(o));i.forEach(a=>{const c=a;t[c]||(t[c]=Ml({},t[o]),Ml(t[c],s))})}),t}getDefaults(){const t=Ml({},Et.defaults),e=(i,o)=>{const s=this.templateTheme(C1(i));return s.series=o.reduce((a,c)=>{const h=b1(c);return h&&(a[c]=this.templateTheme(h)),a},{}),("cartesian"===i||"polar"===i)&&(s.axes=kF.axesTypes.reduce((a,c)=>{const h=function e$(r){var t;return null!==(t=n1[r])&&void 0!==t?t:{}}(c);return h&&(a[c]=this.templateTheme(h)),a},{})),s};return Ml(t,{cartesian:e("cartesian",Si.cartesianTypes),groupedCategory:e("cartesian",Si.cartesianTypes),polar:e("polar",Si.polarTypes),hierarchy:e("hierarchy",Si.hierarchyTypes)})}templateTheme(t){const e=yi([t]),{extensions:n,properties:i}=this.getTemplateParameters();return pm(e,(o,s)=>{if(s.__extends__){const a=s.__extends__,c=n.get(a);if(null==c)throw new Error("AG Charts - no template variable provided for: "+a);Object.keys(c).forEach(h=>{h in s||(s[h]=c[h])}),delete s.__extends__}if(s.__overrides__){const a=s.__overrides__,c=n.get(a);if(null==c)throw new Error("AG Charts - no template variable provided for: "+a);Object.assign(s,c),delete s.__overrides__}for(const[a,c]of Object.entries(s))i.has(c)&&(s[a]=i.get(c))},{}),e}getTemplateParameters(){const t=new Map;t.set(F$,Et.getAxisDefaults()),t.set(L$,Et.getAxisDefaults().label),t.set(N$,Et.getAxisDefaults().line),t.set(k$,Et.getSeriesDefaults()),t.set(R1,{});const e=new Map;return e.set(G$,Et.fontFamily),{extensions:t,properties:e}}mergeWithParentDefaults(t,e){return Ml(t,e)}}Et.fontFamily="Verdana, sans-serif",Et.cartesianDefaults=Object.assign(Object.assign({},Et.getChartDefaults()),{axes:{number:Object.assign({},Et.getAxisDefaults()),log:Object.assign(Object.assign({},Et.getAxisDefaults()),{base:10}),category:Object.assign(Object.assign({},Et.getAxisDefaults()),{groupPaddingInner:.1,label:Object.assign(Object.assign({},Et.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:Object.assign({},Et.getAxisDefaults()),time:Object.assign({},Et.getAxisDefaults())},series:{column:Object.assign({},Et.getBarSeriesDefaults()),bar:Object.assign({},Et.getBarSeriesDefaults()),line:Object.assign(Object.assign({},Et.getLineSeriesDefaults()),{title:void 0,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:Object.assign(Object.assign({},Et.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Et.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:Object.assign(Object.assign({},Et.getScatterSeriesDefaults()),{sizeName:"Size",labelName:"Label",marker:Object.assign({},Et.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Et.fontFamily,color:"rgb(70, 70, 70)"}}),area:Object.assign(Object.assign({},Et.getAreaSeriesDefaults()),{normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:Object.assign(Object.assign({},Et.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1,enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Et.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:Object.assign(Object.assign({},Et.getSeriesDefaults()),{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Et.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})}}),Et.polarDefaults=Object.assign(Object.assign({},Et.getChartDefaults()),{series:{pie:Object.assign(Object.assign({},Et.getSeriesDefaults()),{title:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:Et.fontFamily,color:"rgb(70, 70, 70)",spacing:0},radiusKey:void 0,radiusName:void 0,calloutLabelKey:void 0,calloutLabelName:void 0,sectorLabelKey:void 0,sectorLabelName:void 0,calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Et.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Et.fontFamily,color:"rgb(70, 70, 70)",positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Et.fontFamily,color:"rgb(70, 70, 70)",margin:2}})}}),Et.hierarchyDefaults=Object.assign(Object.assign({},Et.getChartDefaults()),{series:{treemap:Object.assign(Object.assign({},Et.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],groupFill:"#272931",groupStroke:"black",groupStrokeWidth:1,tileStroke:"black",tileStrokeWidth:1,gradient:!0,tileShadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},labelShadow:{enabled:!0,color:"rgba(0, 0, 0, 0.4)",xOffset:1.5,yOffset:1.5,blur:5},highlightGroups:!0,nodePadding:2,nodeGap:0,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:2},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:2},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white",wrapping:"on-space"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white",wrapping:"on-space"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white",wrapping:"on-space"},value:{style:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}})}}),Et.defaults={cartesian:Et.cartesianDefaults,groupedCategory:Et.cartesianDefaults,polar:Et.polarDefaults,hierarchy:Et.hierarchyDefaults};class es extends Et{constructor(t){super(t)}getDefaults(){const t=es.fontColor,e=es.mutedFontColor,n={title:{color:t},label:{color:t},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},i={label:{color:t}},o={axes:{number:Object.assign({},n),category:Object.assign({},n),time:Object.assign({},n)}},s={background:{fill:"rgb(34, 38, 41)"},title:{color:t},subtitle:{color:e},legend:{item:{label:{color:t}},pagination:{activeStyle:{fill:t},inactiveStyle:{fill:e},highlightStyle:{fill:t},label:{color:t}}}},a=c=>c.reduce((h,p)=>{const g=b1(p);return g&&(h[p]=this.templateTheme(g)),h},{});return this.mergeWithParentDefaults(super.getDefaults(),{cartesian:Object.assign(Object.assign(Object.assign({},s),o),{series:Object.assign({line:Object.assign({},i),bar:Object.assign({},i),column:Object.assign({},i),histogram:Object.assign({},i)},a(Si.cartesianTypes))}),groupedCategory:Object.assign(Object.assign(Object.assign({},s),o),{series:Object.assign({bar:Object.assign({},i),column:Object.assign({},i),histogram:Object.assign({},i)},a(Si.cartesianTypes))}),polar:Object.assign(Object.assign({},s),{series:Object.assign({pie:{calloutLabel:{color:t},sectorLabel:{color:t},title:{color:t},innerLabels:{color:t}}},a(Si.polarTypes))}),hierarchy:Object.assign(Object.assign({},s),{series:Object.assign({treemap:{tileStroke:"white",groupStroke:"white",title:{color:t},subtitle:{color:e},labels:{large:{color:t},medium:{color:t},small:{color:t},value:{style:{color:t}}}}},a(Si.hierarchyTypes))})})}getTemplateParameters(){const t=super.getTemplateParameters();return t.extensions.set(R1,es.seriesLabelDefaults.label),t}}es.fontColor="rgb(200, 200, 200)",es.mutedFontColor="rgb(150, 150, 150)",es.seriesLabelDefaults={label:{color:es.fontColor}};const B$={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]};class j$ extends Et{getPalette(){return B$}}const U$={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]};class W$ extends es{getPalette(){return U$}}const z$={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]};class $$ extends Et{getPalette(){return z$}}const K$={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]};class Y$ extends es{getPalette(){return K$}}const q$={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]};class X$ extends Et{getPalette(){return q$}}const Z$={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]};class Q$ extends es{getPalette(){return Z$}}const J$={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]};class eK extends Et{getPalette(){return J$}}const tK={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]};class nK extends es{getPalette(){return tK}}const TR=()=>new Et,YF=()=>new es,iK={undefined:TR,null:TR,"ag-default":TR,"ag-material":()=>new j$,"ag-pastel":()=>new $$,"ag-solar":()=>new X$,"ag-vivid":()=>new eK},A1=Object.assign(Object.assign({},{undefined:YF,null:YF,"ag-default-dark":YF,"ag-material-dark":()=>new W$,"ag-pastel-dark":()=>new Y$,"ag-solar-dark":()=>new Q$,"ag-vivid-dark":()=>new nK}),iK);function x1(r){var t;if(r instanceof Et)return r;const e=A1[r];if(e)return e();const n=[];let i;for(;"object"==typeof r;)n.push(null!==(t=r.overrides)&&void 0!==t?t:{}),r.palette&&null==i&&(i=r.palette),r=r.baseTheme;n.reverse();const o=Object.assign({baseTheme:r,overrides:yi(n)},i?{palette:i}:{});return o.baseTheme||o.overrides?new(x1(o.baseTheme).constructor)(o):TR()}const rK=["bar","column","area"],oK=["bar","column"],aK=()=>[!0,"opts"].includes(ua("agChartsDebug"));function Im(r){var t,e,n,i;return null!==(i=null!==(t=r.type)&&void 0!==t?t:null===(n=null===(e=r.series)||void 0===e?void 0:e[0])||void 0===n?void 0:n.type)&&void 0!==i?i:"line"}function Fm(r){const t=Im(r);return null==t||("cartesian"===t?(at.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Si.isCartesian(t))}function AR(r){const t=Im(r);return null!=t&&("hierarchy"===t?(at.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Si.isHierarchy(t))}function xR(r){const t=Im(r);return null!=t&&("polar"===t?(at.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Si.isPolar(t))}function M1(r){return null!=r&&Si.has(r)}function P1(r){let t=0;for(const e of r)e instanceof Array&&(t+=P1(e)),null!=e&&t++;return t}function I1(r,t,e){const n=[];for(let i=0;i<e;i++)n.push(t[(i+r.colourIndex)%t.length]);return n}const ih={avoidDeepClone:["data"]};function cK(r,t){var e,n,i,o,s,a;let c=yi([t,r],ih);!function dK(r){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([e,n])=>{var i;null!==(i=r.series)&&void 0!==i&&i.some(o=>null!=o[e])&&at.warnOnce(`property [series.${e}] is deprecated, please use [series.${n}] and multiple series instead.`)})}(c);const h=c.type,p=Im(c),g=null!==(n=null===(e=c.tooltip)||void 0===e?void 0:e.position)&&void 0!==n?n:{},m=P=>{if(null!=P&&!M1(P)&&!D1(P))throw new Error(`AG Charts - unknown series type: ${P}; expected one of: ${Si.seriesTypes}`)};m(p);for(const{type:P}of null!==(i=c.series)&&void 0!==i?i:[])null!=P&&m(P);c=Object.assign(Object.assign({},c),{type:p});let _="line";Fm(c)?_="line":AR(c)?_="treemap":xR(c)&&(_="pie");let w={};const E=D1(p);E?w=E:"bar"===p?w=M$:"scatter"===p||"histogram"===p?w=P$:Fm(c)&&(w=x$),function yK(r){pm(r,(t,e)=>{"enabled"in e&&!1===e.enabled&&Object.entries(e).forEach(([n])=>{"enabled"!==n&&delete e[n]})},{skip:["data","theme"]})}(c);const{context:b,mergedOptions:R,axesThemes:T,seriesThemes:A}=function fK(r,t){const{theme:e,cleanedTheme:n,axesThemes:i,seriesThemes:o}=function pK(r){var t,e;const n=x1(r.theme),i=n.config[null!==(t=Im(r))&&void 0!==t?t:"cartesian"],o=Object.entries(n.config).reduce((s,[a,{series:c}])=>(s[a]=c?.[a],s),{});return{theme:n,axesThemes:null!==(e=i.axes)&&void 0!==e?e:{},seriesThemes:o,cleanedTheme:yi([i,{axes:pa,series:pa}])}}(t);return{context:{colourIndex:0,palette:e.palette},mergedOptions:yi([r,n,t],ih),axesThemes:i,seriesThemes:o}}(w,c);R.series=function lK(r,t){const e=[],i=function sK(r){var t,e,n,i,o,s;const a={},c={},h={},g=[];for(const m of r){const _=null!==(t=m.type)&&void 0!==t?t:"line",w=rK.includes(_),E=oK.includes(_);if(!w&&!E){g.push({type:"ungrouped",opts:[m]});continue}const{stacked:b,stackGroup:R,grouped:T,xKey:A}=m,x=null!=R||!0===b;null!==(e=h[_])&&void 0!==e||(h[_]=!1),h[_]||(h[_]=x);const P=!0===T;let k=[R??(!0===b?"stacked":void 0),P?"grouped":void 0].filter(H=>null!=H).join("-");k||(k="default-ag-charts-group");const V=`${_}-${A}-${k}`;if(x&&w){const H=null!==(n=c[V])&&void 0!==n?n:c[V]={type:"stack",opts:[]};0===H.opts.length&&g.push(H),H.opts.push(m)}else if(P&&E){const H=null!==(i=a[V])&&void 0!==i?i:a[V]={type:"group",opts:[]};0===H.opts.length&&g.push(H),H.opts.push(m)}else g.push({type:"ungrouped",opts:[m]})}if(!Object.values(h).some(m=>m))return g;for(const[,m]of Object.entries(a))!0===h[null!==(s=null===(o=m.opts[0])||void 0===o?void 0:o.type)&&void 0!==s?s:"line"]&&(m.type="stack");return g}(t.map(c=>{var h;return"bar"!==c.type&&"column"!==c.type||null==c.yKey||c.stacked?c:Object.assign(Object.assign({},c),{grouped:null===(h=c.grouped)||void 0===h||h})})),o=i.reduce((c,h)=>{var p,g;if("ungrouped"===h.type)return c;const m=null!==(p=h.opts[0].type)&&void 0!==p?p:"line";return null!==(g=c[m])&&void 0!==g||(c[m]=0),c[m]+="stack"===h.type?1:h.opts.length,c},{}),s={},a=c=>{var h,p;let g=0;const m=null!==(h=c.opts[0].type)&&void 0!==h?h:"line";if(null!==(p=s[m])&&void 0!==p||(s[m]=0),"stack"===c.type){for(const _ of c.opts)_.seriesGrouping={groupIndex:s[m],groupCount:o[m],stackIndex:g++,stackCount:c.opts.length};s[m]++}else if("group"===c.type)for(const _ of c.opts)_.seriesGrouping={groupIndex:s[m],groupCount:o[m],stackIndex:0,stackCount:0},s[m]++;else for(const _ of c.opts)_.seriesGrouping=void 0;return c.opts};aK()&&at.debug("processSeriesOptions() - series grouping: ",i);for(const c of i)switch(c.opts[0].type){case"column":case"bar":case"area":e.push(...a(c));break;default:c.opts.length>1&&at.warn("unexpected grouping of series type: "+c.opts[0].type),e.push(...c.opts)}return e}(0,(null!==(o=R.series)&&void 0!==o?o:[]).map(P=>{let k=_;P.type?k=P.type:M1(h)&&(k=h);const V=function hK(r,t,e,n){var i,o;const s=yi([Object.assign({},n),null===(i=r.tooltip)||void 0===i?void 0:i.position],ih);return yi([null!==(o=e[t])&&void 0!==o?o:{},Object.assign(Object.assign({},r),{type:t,tooltip:Object.assign(Object.assign({},r.tooltip),{position:s})})],ih)}(P,k,A,g);return"pie"===k&&function wK(r,t,e){e.innerLabels=Array.isArray(t.innerLabels)?t.innerLabels.map(n=>yi([r.innerLabels,n])):pa}(A.pie,P,V),V})).map(P=>function gK(r,t,...e){const n=function vK(r,t){var e;const n=function A$(r){return E1[r]}(t.type);if(!n)return{};const{palette:{fills:i,strokes:o}}=r;return n({seriesCount:P1(null!==(e=t.yKeys)&&void 0!==e?e:[])||1,colorsCount:Math.max(i.length,o.length),takeColors:h=>{const p={fills:I1(r,i,h),strokes:I1(r,o,h)};return r.colourIndex+=h,p}})}(r,t);return yi([...e,n,t,{stacked:pa,grouped:pa}],ih)}(b,P));const x=P=>{const k=function uK(r){return null!=r&&kF.has(r)}(P);return k||at.warnOnce(`AG Charts - unknown axis type: ${P}; expected one of: ${kF.axesTypes}, ignoring.`),k};if("axes"in R){let P=!0;for(const{type:k}of null!==(s=R.axes)&&void 0!==s?s:[])x(k)||(P=!1);R.axes=P?null===(a=R.axes)||void 0===a?void 0:a.map(k=>{var V,H;const U=k.type;return function mK(r,t){const e={top:pa,bottom:pa,left:pa,right:pa};if(r.crossLines){Array.isArray(r.crossLines)||(at.warn("axis[].crossLines should be an array."),r.crossLines=[]);const{crossLines:i}=t;r.crossLines=r.crossLines.map(o=>yi([i,o]))}return yi([t,{crossLines:pa},r,e],ih)}(k,yi([T[U],null!==(H=T[U][null!==(V=k.position)&&void 0!==V?V:"unknown"])&&void 0!==H?H:{}]))}):w.axes,function CK(r,t){var e,n,i,o;if(void 0===(null===(e=r.legend)||void 0===e?void 0:e.enabled)&&void 0===(null===(n=t.legend)||void 0===n?void 0:n.enabled)){if(null!==(i=t.legend)&&void 0!==i||(t.legend={}),(null!==(o=r.series)&&void 0!==o?o:[]).length>1)return void(t.legend.enabled=!0);t.legend.enabled=!1}}(c,R)}return function _K(r,t){pm(r,(e,n,i)=>{if(!i)return;const{_enabledFromTheme:o}=i;null!=o&&delete i._enabledFromTheme,"enabled"in i&&(o||null==n.enabled&&(i.enabled=!0))},{skip:["data","theme"]},t),pm(t,(e,n)=>{null!=n._enabledFromTheme&&delete n._enabledFromTheme},{skip:["data","theme"]})}(c,R),R}nh("pie",({takeColors:r,colorsCount:t})=>r(t));const Lm=({takeColors:r})=>{const{fills:[t],strokes:[e]}=r(1);return{fill:t,stroke:e}};nh("area",Lm),nh("bar",Lm),nh("column",Lm),nh("histogram",Lm),nh("scatter",r=>{const{fill:t,stroke:e}=Lm(r);return{marker:{fill:t,stroke:e}}}),nh("line",r=>{const{fill:t,stroke:e}=Lm(r);return{stroke:t,marker:{fill:t,stroke:e}}});class F1{constructor(){this.destroyFns=[]}destroy(){for(const t of this.destroyFns)t()}}const Ap=[];function L1(r){const t=Ap.find(e=>r.type===e.type&&r.optionsKey===e.optionsKey&&r.identifier===e.identifier);if(t){if("enterprise"===r.packageType&&"community"===t.packageType){const e=Ap.indexOf(t);Ap.splice(e,1,r)}}else Ap.push(r)}var rh=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class _a extends El{constructor(){super(...arguments),this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(t){this._gripLineGap!==t&&(this._gripLineGap=t,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(t){this._gripLineLength!==t&&(this._gripLineLength=t,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)}get height(){return this._height}computeBBox(){const{centerX:t,centerY:e,width:n,height:i}=this;return new un(t-n/2,e-i/2,n,i)}isPointInPath(t,e){const n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)}updatePath(){const{path:t,centerX:e,centerY:n,width:i,height:o}=this;t.clear();const s=e-i/2,a=n-o/2,c=this.align(s),h=this.align(a),p=c+this.align(s,i),g=h+this.align(a,o);t.moveTo(c,h),t.lineTo(p,h),t.lineTo(p,g),t.lineTo(c,g),t.lineTo(c,h);const m=this.gripLineGap/2,_=this.gripLineLength/2;t.moveTo(this.align(e-m),this.align(n-_)),t.lineTo(this.align(e-m),this.align(n+_)),t.moveTo(this.align(e+m),this.align(n-_)),t.lineTo(this.align(e+m),this.align(n+_))}}_a.className="RangeHandle",rh([G($o)],_a.prototype,"_fill",void 0),rh([G($o)],_a.prototype,"_stroke",void 0),rh([G($e(0))],_a.prototype,"_strokeWidth",void 0),rh([G(lF)],_a.prototype,"_lineCap",void 0),rh([G($e(0))],_a.prototype,"_width",void 0),rh([G($e(0))],_a.prototype,"_gripLineGap",void 0),rh([G($e(0))],_a.prototype,"_gripLineLength",void 0),rh([G($e(0))],_a.prototype,"_height",void 0);var qu=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class wa extends El{constructor(){super(...arguments),this._stroke="#999999",this._strokeWidth=1,this._fill="#999999",this._fillOpacity=.2,this._lineCap="square",this._x=0,this._y=0,this._width=200,this._height=30,this.minRange=.05,this._min=0,this._max=1}set x(t){this._x!==t&&(this._x=t,this.dirtyPath=!0)}get x(){return this._x}set y(t){this._y!==t&&(this._y=t,this.dirtyPath=!0)}get y(){return this._y}set width(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)}get width(){return this._width}set height(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)}get height(){return this._height}set min(t){var e;t=Math.min(Math.max(t,0),this.max-this.minRange),!isNaN(t)&&this._min!==t&&(this._min=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))}get min(){return this._min}set max(t){var e;t=Math.max(Math.min(t,1),this.min+this.minRange),!isNaN(t)&&this._max!==t&&(this._max=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))}get max(){return this._max}computeBBox(){const{x:t,y:e,width:n,height:i}=this;return new un(t,e,n,i)}computeVisibleRangeBBox(){const{x:t,y:e,width:n,height:i,min:o,max:s}=this,a=t+n*o;return new un(a,e,t+n*s-a,i)}updatePath(){const{path:t,x:e,y:n,width:i,height:o,min:s,max:a}=this;t.clear();const c=this.align(e),h=this.align(n),p=c+this.align(e,i),g=h+this.align(n,o);t.moveTo(c,h),t.lineTo(p,h),t.lineTo(p,g),t.lineTo(c,g),t.lineTo(c,h);const m=this.align(e+i*s),_=this.align(e+i*a);t.moveTo(m,h),t.lineTo(m,g),t.lineTo(_,g),t.lineTo(_,h),t.lineTo(m,h)}}wa.className="RangeMask",qu([G($o)],wa.prototype,"_stroke",void 0),qu([G($e(0))],wa.prototype,"_strokeWidth",void 0),qu([G($o)],wa.prototype,"_fill",void 0),qu([G($e(0,1))],wa.prototype,"_fillOpacity",void 0),qu([G(lF)],wa.prototype,"_lineCap",void 0),qu([G($e(0))],wa.prototype,"_width",void 0),qu([G($e(0))],wa.prototype,"_height",void 0),qu([G($e())],wa.prototype,"_min",void 0),qu([G($e())],wa.prototype,"_max",void 0);let SK=(()=>{class r extends Ht{constructor(){super({name:"rangeSelectorGroup"}),this.minHandle=new _a,this.maxHandle=new _a,this.mask=(()=>{const{x:e,y:n,width:i,height:o,min:s,max:a}=r.defaults,c=new wa;c.x=e,c.y=n,c.width=i,c.height=o,c.min=s,c.max=a;const{minHandle:h,maxHandle:p}=this;return h.centerX=e,p.centerX=e+i,h.centerY=p.centerY=n+o/2,this.append([c,h,p]),c.onRangeChange=()=>{var g;this.updateHandles(),null===(g=this.onRangeChange)||void 0===g||g.call(this)},c})(),this._x=r.defaults.x,this._y=r.defaults.y,this._width=r.defaults.width,this._height=r.defaults.height,this._min=r.defaults.min,this._max=r.defaults.max,this.isContainerNode=!0}set x(e){this.mask.x=e,this.updateHandles()}get x(){return this.mask.x}set y(e){this.mask.y=e,this.updateHandles()}get y(){return this.mask.y}set width(e){this.mask.width=e,this.updateHandles()}get width(){return this.mask.width}set height(e){this.mask.height=e,this.updateHandles()}get height(){return this.mask.height}set min(e){this.mask.min=e}get min(){return this.mask.min}set max(e){this.mask.max=e}get max(){return this.mask.max}updateHandles(){const{minHandle:e,maxHandle:n,x:i,y:o,width:s,height:a,mask:c}=this;e.centerX=i+s*c.min,n.centerX=i+s*c.max,e.centerY=n.centerY=o+a/2}computeBBox(){return this.mask.computeBBox()}computeVisibleRangeBBox(){return this.mask.computeVisibleRangeBBox()}render(e){const{ctx:n,forceRender:i,stats:o}=e;if(this.dirty===Be.NONE&&!i)return void(o&&o.nodesSkipped++);this.computeTransformMatrix(),this.matrix.toContext(n);const{mask:s,minHandle:a,maxHandle:c}=this;[s,a,c].forEach(h=>{h.visible&&(i||h.dirty>Be.NONE)&&(n.save(),h.render(Object.assign(Object.assign({},e),{ctx:n,forceRender:i})),n.restore())}),this.markClean({force:!0}),o&&o.nodesRendered++}}return r.className="Range",r.defaults={x:0,y:0,width:200,height:30,min:0,max:1},r})();class EK{constructor(t){this.rm=t}set fill(t){this.rm.fill=t}get fill(){return this.rm.fill}set stroke(t){this.rm.stroke=t}get stroke(){return this.rm.stroke}set strokeWidth(t){this.rm.strokeWidth=t}get strokeWidth(){return this.rm.strokeWidth}set fillOpacity(t){this.rm.fillOpacity=t}get fillOpacity(){return this.rm.fillOpacity}}class N1{constructor(t){this.rh=t}set fill(t){this.rh.fill=t}get fill(){return this.rh.fill}set stroke(t){this.rh.stroke=t}get stroke(){return this.rh.stroke}set strokeWidth(t){this.rh.strokeWidth=t}get strokeWidth(){return this.rh.strokeWidth}set width(t){this.rh.width=t}get width(){return this.rh.width}set height(t){this.rh.height=t}get height(){return this.rh.height}set gripLineGap(t){this.rh.gripLineGap=t}get gripLineGap(){return this.rh.gripLineGap}set gripLineLength(t){this.rh.gripLineLength=t}get gripLineLength(){return this.rh.gripLineLength}}var k1=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class qF extends F1{constructor(t){var e;super(),this.ctx=t,this.rs=new SK,this.mask=new EK(this.rs.mask),this.minHandle=new N1(this.rs.minHandle),this.maxHandle=new N1(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this._enabled=!1,this.margin=10,this._visible=!0,this.rs.onRangeChange=()=>this.ctx.zoomManager.updateZoom("navigator",{x:{min:this.rs.min,max:this.rs.max}}),[t.interactionManager.addListener("drag-start",n=>this.onDragStart(n)),t.interactionManager.addListener("drag",n=>this.onDrag(n)),t.interactionManager.addListener("hover",n=>this.onDrag(n)),t.interactionManager.addListener("drag-end",()=>this.onDragStop())].forEach(n=>this.destroyFns.push(()=>t.interactionManager.removeListener(n))),[t.layoutService.addListener("before-series",n=>this.layout(n)),t.layoutService.addListener("layout-complete",n=>this.layoutComplete(n))].forEach(n=>this.destroyFns.push(()=>t.layoutService.removeListener(n))),null===(e=t.scene.root)||void 0===e||e.appendChild(this.rs),this.destroyFns.push(()=>{var n;return null===(n=t.scene.root)||void 0===n?void 0:n.removeChild(this.rs)}),this.destroyFns.push(()=>this.ctx.zoomManager.updateZoom("navigator")),this.updateGroupVisibility()}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}set width(t){this.rs.width=t}get width(){return this.rs.width}set height(t){this.rs.height=t}get height(){return this.rs.height}set min(t){this.rs.min=t}get min(){return this.rs.min}set max(t){this.rs.max=t}get max(){return this.rs.max}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){const t=this.enabled&&this.visible;this.rs.visible=t,t?this.ctx.zoomManager.updateZoom("navigator",{x:{min:this.rs.min,max:this.rs.max}}):this.ctx.zoomManager.updateZoom("navigator")}layout({shrinkRect:t}){return this.enabled&&(t.shrink(this.rs.height+this.margin,"bottom"),this.rs.y=t.y+t.height+this.margin),{shrinkRect:t}}layoutComplete({series:{rect:t,visible:e}}){this.enabled&&e&&(this.rs.x=t.x,this.rs.width=t.width),this.visible=e}onDragStart(t){if(!this.enabled)return;const{offsetX:e,offsetY:n}=t,{rs:i}=this,{minHandle:o,maxHandle:s,x:a,width:c,min:h}=i,p=i.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(o.containsPoint(e,n)?this.minHandleDragging=!0:s.containsPoint(e,n)?this.maxHandleDragging=!0:p.containsPoint(e,n)&&(this.panHandleOffset=(e-a)/c-h))}onDrag(t){if(!this.enabled)return;const{rs:e,panHandleOffset:n}=this,{x:i,y:o,width:s,height:a,minHandle:c,maxHandle:h}=e,{offsetX:p,offsetY:g}=t,m=i+s*e.min,w=new un(m,o,i+s*e.max-m,a),E=()=>Math.min(Math.max((p-i)/s,0),1);if(c.containsPoint(p,g)||h.containsPoint(p,g)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):w.containsPoint(p,g)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)e.min=E();else if(this.maxHandleDragging)e.max=E();else if(!isNaN(n)){const b=e.max-e.min,R=Math.min(E()-n,1-b);R<=e.min?(e.min=R,e.max=e.min+b):(e.max=R+b,e.min=e.max-b)}}onDragStop(){this.stopHandleDragging()}stopHandleDragging(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN}}k1([G(Mn)],qF.prototype,"_enabled",void 0),k1([G($e(0))],qF.prototype,"margin",void 0),L1({type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:qF,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}});var G1=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class XF extends F1{constructor(t){var e;super(),this.onLayoutComplete=i=>{const{width:o,height:s}=i.chart;this.rectNode.width=o,this.rectNode.height=s},this.node=new Ht({name:"background"}),this.node.zIndex=mi.SERIES_BACKGROUND_ZINDEX,this.rectNode=new Zo,this.node.appendChild(this.rectNode),this.fill="white",this.visible=!0,null===(e=t.scene.root)||void 0===e||e.appendChild(this.node),this.destroyFns.push(()=>{var i;return null===(i=t.scene.root)||void 0===i?void 0:i.removeChild(this.node)});const n=t.layoutService.addListener("layout-complete",this.onLayoutComplete);this.destroyFns.push(()=>t.layoutService.removeListener(n))}}G1([G(Mn),Fi("node","visible")],XF.prototype,"visible",void 0),G1([G(Un),Fi("rectNode","fill")],XF.prototype,"fill",void 0),L1({type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:XF});var Uw=function(r,t,e,n){return new(e||(e=Promise))(function(o,s){function a(p){try{h(n.next(p))}catch(g){s(g)}}function c(p){try{h(n.throw(p))}catch(g){s(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(a,c)}h((n=n.apply(r,t||[])).next())})};function V1(r){if(Fm(r))return"cartesian";if(xR(r))return"polar";if(AR(r))return"hierarchy";throw new Error(`AG Chart - unknown type of chart for options with type: ${r.type}`)}class H1{static create(t){return Nm.createOrUpdate(t)}static update(t,e){if(!oh.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");Nm.createOrUpdate(e,t)}static updateDelta(t,e){if(!oh.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");return Nm.updateUserDelta(t,e)}static download(t,e){if(!(t instanceof oh))throw new Error("AG Charts - invalid chart reference passed");return Nm.download(t,e)}static getImageDataURL(t,e){if(!(t instanceof oh))throw new Error("AG Charts - invalid chart reference passed");return Nm.getImageDataURL(t,e)}}class oh{constructor(t){this.chart=t}static isInstance(t){var e,n;if(t instanceof oh||"AgChartInstanceProxy"===(null===(e=t.constructor)||void 0===e?void 0:e.name)&&null!=t.chart)return!0;const i=Object.keys(null===(n=t.constructor)||void 0===n?void 0:n.prototype);return!(!Object.keys(oh.prototype).every(s=>i.includes(s))||null==t.chart)}getOptions(){return this.chart.getOptions()}destroy(){this.chart.destroy()}}let Nm=(()=>{class r{static initialiseModules(){r.initialised||(function DK(){for(const r of Ap){if(null!=Hw.constructors&&null!=r.optionConstructors&&Object.assign(Hw.constructors,r.optionConstructors),"root"===r.type&&r.themeTemplate)for(const t of r.chartTypes)b$(t,r.themeTemplate);if("series"===r.type){if(r.chartTypes.length>1)throw new Error("AG Charts - Module definition error: "+r.identifier);R$(r.identifier,r.chartTypes[0],r.instanceConstructor,r.seriesDefaults,r.themeTemplate,r.paletteFactory)}if("axis-option"===r.type&&r.themeTemplate)for(const t of r.axisTypes)i1(t,r.themeTemplate);"axis"===r.type&&(Qz(r.identifier,r.instanceConstructor),r.themeTemplate&&i1(r.identifier,r.themeTemplate)),"legend"===r.type&&V3(r.identifier,r.instanceConstructor)}}(),r.initialised=!0)}static createOrUpdate(e,n){r.initialiseModules(),xp(">>> AgChartV2.createOrUpdate() user options",e);const i={};!0===r.DEBUG()&&(i.debug=!0);const{overrideDevicePixelRatio:o}=e;delete e.overrideDevicePixelRatio;const s=cK(e,i);let a=n?.chart;(null==a||V1(e)!==V1(a.processedOptions))&&(a=r.createChartInstance(s,o,a)),null==n?n=new oh(a):n.chart=a;const c=a;c.queuedUserOptions.push(e);const h=()=>{const p=c.queuedUserOptions.indexOf(e);c.queuedUserOptions.splice(0,p)};return c.requestFactoryUpdate(()=>Uw(this,void 0,void 0,function*(){if(c.destroyed)return;const p=wp(c.processedOptions,s);null!=p?(yield r.updateDelta(c,p,e),h()):h()})),n}static updateUserDelta(e,n){var i;const{chart:o,chart:{queuedUserOptions:s}}=e,a=null!==(i=s[s.length-1])&&void 0!==i?i:o.userOptions,c=yi([a,n]);xp(">>> AgChartV2.updateUserDelta() user delta",n),xp("AgChartV2.updateUserDelta() - base options",a),r.createOrUpdate(c,e)}static download(e,n){(()=>Uw(this,void 0,void 0,function*(){const o=yield r.prepareResizedChart(e,n),{chart:s}=o;s.scene.download(n?.fileName,n?.fileFormat),o!==e&&o.destroy()}))().catch(o=>at.errorOnce(o))}static getImageDataURL(e,n){return Uw(this,void 0,void 0,function*(){const i=yield r.prepareResizedChart(e,n),{chart:o}=i,s=o.scene.canvas.getDataURL(n?.fileFormat);return i!==e&&i.destroy(),s})}static prepareResizedChart(e,n){return Uw(this,void 0,void 0,function*(){const{chart:i}=e;let{width:o,height:s}=n??{};const a=i.width,c=i.height;if(void 0===o&&void 0===s||1===i.scene.canvas.pixelRatio&&a===o&&c===s)return e;o=o??a,s=s??c;const p=Object.assign(Object.assign({},i.userOptions),{container:document.createElement("div"),width:o,height:s,autoSize:!1,overrideDevicePixelRatio:1}),g=r.createOrUpdate(p);return yield g.chart.waitForUpdate(),g})}static createChartInstance(e,n,i){const o=i?.destroy({keepTransferableResources:!0});if(Fm(e))return new KV(document,n,o);if(AR(e))return new ZV(document,n,o);if(xR(e))return new qV(document,n,o);throw new Error(`AG Charts - couldn't apply configuration, check type of options: ${e.type}`)}static updateDelta(e,n,i){var o;return Uw(this,void 0,void 0,function*(){null==n.type&&(n=Object.assign(Object.assign({},n),{type:null!==(o=e.processedOptions.type)&&void 0!==o?o:Im(n)})),yield e.awaitUpdateCompletion(),!e.destroyed&&(xp("AgChartV2.updateDelta() - applying delta",n),function bK(r,t,e){var n,i,o,s;const a=yi([null!==(n=r.processedOptions)&&void 0!==n?n:{},t],ih),c=function OK(r,t){const e=o=>r instanceof KV&&o.chartTypes.includes("cartesian")||r instanceof qV&&o.chartTypes.includes("polar")||r instanceof ZV&&o.chartTypes.includes("hierarchy");let n=!1;const i=Ap.filter(o=>"root"===o.type);for(const o of i){const s=e(o)&&null!=t[o.optionsKey];s!==r.isModuleEnabled(o)&&(n=!0,s?r.addModule(o):r.removeModule(o))}return n}(r,a),h=["type","data","series","listeners","theme","legend"];if(Fm(t)||xR(t))h.push("axes");else if(!AR(t))throw new Error(`AG Charts - couldn't apply configuration, check type of options and chart: ${t.type}`);t.listeners&&B1(r,t.listeners),MR(r,t,{skip:h});let p=!1;t.series&&t.series.length>0&&(function RK(r,t){const e=t.series;e&&(r.series.length===e.length&&r.series.every((i,o)=>{var s;return i.type===(null===(s=e[o])||void 0===s?void 0:s.type)})?r.series.forEach((i,o)=>{var s,a,c,h;const g=wp(null!==(c=null===(a=null===(s=r.processedOptions)||void 0===s?void 0:s.series)||void 0===a?void 0:a[o])&&void 0!==c?c:{},null!==(h=e[o])&&void 0!==h?h:{});g&&(xp(`AgChartV2.applySeries() - applying series diff idx ${o}`,g),j1(i,g,{path:`series[${o}]`,index:o}),i.markNodeDataDirty())}):r.series=function xK(r,t){var e;const n=[],i=r.getModuleContext();let o=0;for(const s of t??[]){const a=`series[${o++}]`,c=T$(null!==(e=s.type)&&void 0!==e?e:"unknown",i);j1(c,s,{path:a,index:o}),n.push(c)}return n}(r,e))}(r,t),p=!0),"axes"in t&&Array.isArray(t.axes)&&function TK(r,t){const e=t.axes;if(!e)return!1;if(r.axes.length===e.length&&r.axes.every((i,o)=>i.type===e[o].type)){const i=r.processedOptions;if(Fm(i))return r.axes.forEach((o,s)=>{var a,c;const p=wp(null!==(c=null===(a=i.axes)||void 0===a?void 0:a[s])&&void 0!==c?c:{},e[s]);xp(`AgChartV2.applyAxes() - applying axis diff idx ${s}`,p),MR(o,p,{path:`axes[${s}]`,skip:["axes[].type"]})}),!0}return r.axes=function MK(r,t){const e=[],n=["axes[].type"],i=r.getModuleContext();let o=0;for(const s of t??[]){const a=Jz(s.type,i),c=`axes[${o++}]`;PK(a,s),MR(a,s,{path:c,skip:n}),e.push(a)}return e}(r,e),!0}(r,t)&&(p=!0),function AK(r,t){const e=["listeners"];r.setLegendInit(n=>{var i,o,s,a;MR(n,null!==(i=t.legend)&&void 0!==i?i:{},{skip:e}),null!==(o=t.legend)&&void 0!==o&&o.listeners&&Object.assign(null===(s=r.legend)||void 0===s?void 0:s.listeners,null!==(a=t.legend.listeners)&&void 0!==a?a:{})})}(r,t);const g=t.series,m=!!t.data||g?.some(b=>null!=b.data),_=null!==(o=null!==(i=t.legend)&&void 0!==i?i:t.title)&&void 0!==o?o:t.subtitle;p=p||m||!!_,t.data&&(r.data=t.data),t.listeners&&r.updateAllSeriesListeners(),r.processedOptions=a,r.userOptions=yi([null!==(s=r.userOptions)&&void 0!==s?s:{},e],ih);const E=p||c?ln.PROCESS_DATA:ln.PERFORM_LAYOUT;xp("AgChartV2.applyChartOptions() - update type",ln[E]),r.update(E,{forceNodeDataRefresh:p})}(e,n,i))})}}return r.DEBUG=()=>{var t;return null!==(t=ua("agChartsDebug"))&&void 0!==t&&t},r.initialised=!1,r})();function xp(r,...t){[!0,"opts"].includes(Nm.DEBUG())&&at.debug(r,...t)}function PK(r,t){let e=!1;const n=Ap.filter(i=>"axis-option"===i.type);for(const i of n){const o=null!=t[i.optionsKey];o!==r.isModuleEnabled(i)&&(e=!0,o?r.addModule(i):r.removeModule(i))}return e}function B1(r,t){r.clearEventListeners();for(const e in t){const n=t[e];"function"==typeof n&&r.addEventListener(e,n)}}function MR(r,t,{skip:e,path:n}={}){return Mw(r,t,Object.assign(Object.assign(Object.assign({},MV()),{skip:e}),n?{path:n}:{}))}function j1(r,t,{path:e,index:n}={}){var i,o;const a=MV(),c=null!==(i=a.constructors)&&void 0!==i?i:{},h={constructors:Object.assign(Object.assign({},c),{title:"pie"===r.type?AV:c.title})},g=Mw(r,t,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),h),{skip:["series[].type",...["series[].listeners","series[].seriesGrouping"]??[]]}),e?{path:e}:{}),{idx:n??-1})),m=t?.listeners;null!=m&&B1(r,m);const _=t.seriesGrouping;if("seriesGrouping"in(t??{}))if(_){const w=Object.freeze(Object.assign(Object.assign({},null!==(o=r.seriesGrouping)&&void 0!==o?o:{}),_));r.seriesGrouping=w}else r.seriesGrouping=_;return g}var Mp=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ww=function(r){return r[r.Open=0]="Open",r[r.Chord=1]="Chord",r[r.Round=2]="Round",r}(Ww||{});class Xu extends El{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=!1,this.type=Ww.Open,this.restoreOwnStyles()}get fullPie(){return MF(to(this.startAngle),to(this.endAngle))}updatePath(){const t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===Ww.Chord?t.closePath():this.type===Ww.Round&&!this.fullPie&&(t.lineTo(this.centerX,this.centerY),t.closePath())}computeBBox(){return new un(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)}isPointInPath(t,e){const n=this.transformPoint(t,e),i=this.computeBBox();return this.type!==Ww.Open&&i.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)}}Xu.className="Arc",Xu.defaultStyles=Object.assign({},gn.defaultStyles,{lineWidth:1,fillStyle:null}),Mp([zn()],Xu.prototype,"centerX",void 0),Mp([zn()],Xu.prototype,"centerY",void 0),Mp([zn()],Xu.prototype,"radius",void 0),Mp([zn()],Xu.prototype,"startAngle",void 0),Mp([zn()],Xu.prototype,"endAngle",void 0),Mp([zn()],Xu.prototype,"counterClockwise",void 0),Mp([zn()],Xu.prototype,"type",void 0);var zw=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};class $w extends Ii{constructor(t){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=t}render(t){const{ctx:e,forceRender:n,stats:i}=t;if(this.dirty===Be.NONE&&!n)return void(i&&i.nodesSkipped++);this.computeTransformMatrix(),this.matrix.toContext(e);const o=this.sourceImage;e.globalAlpha=this.opacity,e.drawImage(o,0,0,o.width,o.height,this.x,this.y,this.width,this.height),super.render(t)}}zw([lt({redraw:Be.MAJOR})],$w.prototype,"x",void 0),zw([lt({redraw:Be.MAJOR})],$w.prototype,"y",void 0),zw([lt({redraw:Be.MAJOR})],$w.prototype,"width",void 0),zw([lt({redraw:Be.MAJOR})],$w.prototype,"height",void 0),zw([lt({redraw:Be.MAJOR})],$w.prototype,"opacity",void 0),Object.entries(A1).reduce((r,[t,e])=>(r[t]=e(),r),{});let IK=(()=>{class r{constructor(e){this._initialised=!1,this.options={},this.onChartReady=new C.vpe,this._nativeElement=e.nativeElement}ngAfterViewInit(){const e=this.applyContainerIfNotSet(this.options);this.chart=H1.create(e),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(e){!this._initialised||!this.chart||H1.update(this.chart,this.applyContainerIfNotSet(this.options))}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}applyContainerIfNotSet(e){return e.container?e:Object.assign(Object.assign({},e),{container:this._nativeElement})}}return r.\u0275fac=function(e){return new(e||r)(C.Y36(C.SBq))},r.\u0275cmp=C.Xpm({type:r,selectors:[["ag-charts-angular"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},features:[C.TTD],decls:0,vars:0,template:function(e,n){},encapsulation:2}),r})(),FK=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=C.oAB({type:r}),r.\u0275inj=C.cJS({imports:[[]]}),r})();class U1{}class LK{}const Zu="*";function W1(r,t=null){return{type:2,steps:r,options:t}}function z1(r){return{type:6,styles:r,offset:null}}class Kw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class $1{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const i=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(i)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function K1(r){return new C.vHH(3e3,!1)}function sh(r){switch(r.length){case 0:return new Kw;case 1:return r[0];default:return new $1(r)}}function Y1(r,t,e=new Map,n=new Map){const i=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const h=c.get("offset"),p=h==s,g=p&&a||new Map;c.forEach((m,_)=>{let w=_,E=m;if("offset"!==_)switch(w=r.normalizePropertyName(w,i),E){case"!":E=e.get(_);break;case Zu:E=n.get(_);break;default:E=r.normalizeStyleValue(_,w,E,i)}g.set(w,E)}),p||o.push(g),a=g,s=h}),i.length)throw function rY(r){return new C.vHH(3502,!1)}();return o}function QF(r,t,e,n){switch(t){case"start":r.onStart(()=>n(e&&JF(e,"start",r)));break;case"done":r.onDone(()=>n(e&&JF(e,"done",r)));break;case"destroy":r.onDestroy(()=>n(e&&JF(e,"destroy",r)))}}function JF(r,t,e){const o=eL(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),s=r._data;return null!=s&&(o._data=s),o}function eL(r,t,e,n,i="",o=0,s){return{element:r,triggerName:t,fromState:e,toState:n,phaseName:i,totalTime:o,disabled:!!s}}function ts(r,t,e){let n=r.get(t);return n||r.set(t,n=e),n}function q1(r){const t=r.indexOf(":");return[r.substring(1,t),r.slice(t+1)]}const vY=(()=>typeof document>"u"?null:document.documentElement)();function tL(r){const t=r.parentNode||r.host||null;return t===vY?null:t}let Pp=null,X1=!1;function Z1(r,t){for(;t;){if(t===r)return!0;t=tL(t)}return!1}function Q1(r,t,e){if(e)return Array.from(r.querySelectorAll(t));const n=r.querySelector(t);return n?[n]:[]}let J1=(()=>{class r{validateStyleProperty(e){return function yY(r){Pp||(Pp=function CY(){return typeof document<"u"?document.body:null}()||{},X1=!!Pp.style&&"WebkitAppearance"in Pp.style);let t=!0;return Pp.style&&!function mY(r){return"ebkit"==r.substring(1,6)}(r)&&(t=r in Pp.style,!t&&X1&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Pp.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return Z1(e,n)}getParentElement(e){return tL(e)}query(e,n,i){return Q1(e,n,i)}computeStyle(e,n,i){return i||""}animate(e,n,i,o,s,a=[],c){return new Kw(i,o)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})(),nL=(()=>{class r{static#e=this.NOOP=new J1}return r})();const _Y=1e3,iL="ng-enter",PR="ng-leave",IR="ng-trigger",FR=".ng-trigger",tH="ng-animating",rL=".ng-animating";function Qu(r){if("number"==typeof r)return r;const t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:oL(parseFloat(t[1]),t[2])}function oL(r,t){return"s"===t?r*_Y:r}function LR(r,t,e){return r.hasOwnProperty("duration")?r:function SY(r,t,e){let i,o=0,s="";if("string"==typeof r){const a=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(K1()),{duration:0,delay:0,easing:""};i=oL(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=oL(parseFloat(c),a[4]));const h=a[5];h&&(s=h)}else i=r;if(!e){let a=!1,c=t.length;i<0&&(t.push(function NK(){return new C.vHH(3100,!1)}()),a=!0),o<0&&(t.push(function kK(){return new C.vHH(3101,!1)}()),a=!0),a&&t.splice(c,0,K1())}return{duration:i,delay:o,easing:s}}(r,t,e)}function Yw(r,t={}){return Object.keys(r).forEach(e=>{t[e]=r[e]}),t}function nH(r){const t=new Map;return Object.keys(r).forEach(e=>{t.set(e,r[e])}),t}function ah(r,t=new Map,e){if(e)for(let[n,i]of e)t.set(n,i);for(let[n,i]of r)t.set(n,i);return t}function Pl(r,t,e){t.forEach((n,i)=>{const o=aL(i);e&&!e.has(i)&&e.set(i,r.style[o]),r.style[o]=n})}function Ip(r,t){t.forEach((e,n)=>{const i=aL(n);r.style[i]=""})}function qw(r){return Array.isArray(r)?1==r.length?r[0]:W1(r):r}const sL=new RegExp("{{\\s*(.+?)\\s*}}","g");function rH(r){let t=[];if("string"==typeof r){let e;for(;e=sL.exec(r);)t.push(e[1]);sL.lastIndex=0}return t}function Xw(r,t,e){const n=r.toString(),i=n.replace(sL,(o,s)=>{let a=t[s];return null==a&&(e.push(function VK(r){return new C.vHH(3003,!1)}()),a=""),a.toString()});return i==n?r:i}function NR(r){const t=[];let e=r.next();for(;!e.done;)t.push(e.value),e=r.next();return t}const bY=/-+([a-z0-9])/g;function aL(r){return r.replace(bY,(...t)=>t[1].toUpperCase())}function ns(r,t,e){switch(t.type){case 7:return r.visitTrigger(t,e);case 0:return r.visitState(t,e);case 1:return r.visitTransition(t,e);case 2:return r.visitSequence(t,e);case 3:return r.visitGroup(t,e);case 4:return r.visitAnimate(t,e);case 5:return r.visitKeyframes(t,e);case 6:return r.visitStyle(t,e);case 8:return r.visitReference(t,e);case 9:return r.visitAnimateChild(t,e);case 10:return r.visitAnimateRef(t,e);case 11:return r.visitQuery(t,e);case 12:return r.visitStagger(t,e);default:throw function HK(r){return new C.vHH(3004,!1)}()}}function oH(r,t){return window.getComputedStyle(r)[t]}const kR="*";function TY(r,t){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(n=>function AY(r,t,e){if(":"==r[0]){const c=function xY(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function eY(r){return new C.vHH(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof c)return void t.push(c);r=c}const n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function JK(r){return new C.vHH(3015,!1)}()),t;const i=n[1],o=n[2],s=n[3];t.push(sH(i,s));"<"==o[0]&&!(i==kR&&s==kR)&&t.push(sH(s,i))}(n,e,t)):e.push(r),e}const GR=new Set(["true","1"]),VR=new Set(["false","0"]);function sH(r,t){const e=GR.has(r)||VR.has(r),n=GR.has(t)||VR.has(t);return(i,o)=>{let s=r==kR||r==i,a=t==kR||t==o;return!s&&e&&"boolean"==typeof i&&(s=i?GR.has(r):VR.has(r)),!a&&n&&"boolean"==typeof o&&(a=o?GR.has(t):VR.has(t)),s&&a}}const MY=new RegExp("s*:selfs*,?","g");function lL(r,t,e,n){return new PY(r).build(t,e,n)}class PY{constructor(t){this._driver=t}build(t,e,n){const i=new LY(e);return this._resetContextStyleTimingState(i),ns(this,qw(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function jK(){return new C.vHH(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,h=c.name;h.toString().split(/\s*,\s*/).forEach(p=>{c.name=p,o.push(this.visitState(c,e))}),c.name=h}else if(1==a.type){const c=this.visitTransition(a,e);n+=c.queryCount,i+=c.depCount,s.push(c)}else e.errors.push(function UK(){return new C.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const o=new Set,s=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{rH(c).forEach(h=>{s.hasOwnProperty(h)||o.add(h)})})}),o.size&&(NR(o.values()),e.errors.push(function WK(r,t){return new C.vHH(3008,!1)}()))}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=ns(this,qw(t.animation),e);return{type:1,matchers:TY(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Fp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>ns(this,n,e)),options:Fp(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const o=t.steps.map(s=>{e.currentTime=n;const a=ns(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:o,options:Fp(t.options)}}visitAnimate(t,e){const n=function kY(r,t){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return uL(LR(r,t).duration,0,"");const e=r;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=uL(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=LR(e,t);return uL(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let i,o=t.styles?t.styles:z1({});if(5==o.type)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const h={};n.easing&&(h.easing=n.easing),s=z1(h)}e.currentTime+=n.duration+n.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,i=c}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===Zu?n.push(a):e.errors.push(new C.vHH(3002,!1)):n.push(nH(a));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const h=e.collectedStyles.get(e.currentQuerySelector),p=h.get(c);let g=!0;p&&(o!=i&&o>=p.startTime&&i<=p.endTime&&(e.errors.push(function $K(r,t,e,n,i){return new C.vHH(3010,!1)}()),g=!1),o=p.startTime),g&&h.set(c,{startTime:o,endTime:i}),e.options&&function DY(r,t,e){const n=t.params||{},i=rH(r);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||e.push(function GK(r){return new C.vHH(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function KK(){return new C.vHH(3011,!1)}()),n;let o=0;const s=[];let a=!1,c=!1,h=0;const p=t.steps.map(R=>{const T=this._makeStyleAst(R,e);let A=null!=T.offset?T.offset:function NY(r){if("string"==typeof r)return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(T.styles),x=0;return null!=A&&(o++,x=T.offset=A),c=c||x<0||x>1,a=a||x<h,h=x,s.push(x),T});c&&e.errors.push(function YK(){return new C.vHH(3012,!1)}()),a&&e.errors.push(function qK(){return new C.vHH(3200,!1)}());const g=t.steps.length;let m=0;o>0&&o<g?e.errors.push(function XK(){return new C.vHH(3202,!1)}()):0==o&&(m=1/(g-1));const _=g-1,w=e.currentTime,E=e.currentAnimateTimings,b=E.duration;return p.forEach((R,T)=>{const A=m>0?T==_?1:m*T:s[T],x=A*b;e.currentTime=w+E.delay+x,E.duration=x,this._validateStyleAst(R,e),R.offset=A,n.styles.push(R)}),n}visitReference(t,e){return{type:8,animation:ns(this,qw(t.animation),e),options:Fp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Fp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Fp(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function IY(r){const t=!!r.split(/\s*,\s*/).find(e=>":self"==e);return t&&(r=r.replace(MY,"")),r=r.replace(/@\*/g,FR).replace(/@\w+/g,e=>FR+"-"+e.slice(1)).replace(/:animating/g,rL),[r,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,ts(e.collectedStyles,e.currentQuerySelector,new Map);const a=ns(this,qw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Fp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ZK(){return new C.vHH(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:LR(t.timings,e.errors,!0);return{type:12,animation:ns(this,qw(t.animation),e),timings:n,options:null}}}class LY{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fp(r){return r?(r=Yw(r)).params&&(r.params=function FY(r){return r?Yw(r):null}(r.params)):r={},r}function uL(r,t,e){return{duration:r,delay:t,easing:e}}function cL(r,t,e,n,i,o,s=null,a=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class HR{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const HY=new RegExp(":enter","g"),jY=new RegExp(":leave","g");function dL(r,t,e,n,i,o=new Map,s=new Map,a,c,h=[]){return(new UY).buildKeyframes(r,t,e,n,i,o,s,a,c,h)}class UY{buildKeyframes(t,e,n,i,o,s,a,c,h,p=[]){h=h||new HR;const g=new hL(t,e,h,i,o,p,[]);g.options=c;const m=c.delay?Qu(c.delay):0;g.currentTimeline.delayNextStep(m),g.currentTimeline.setStyles([s],null,g.errors,c),ns(this,n,g);const _=g.timelines.filter(w=>w.containsAnimation());if(_.length&&a.size){let w;for(let E=_.length-1;E>=0;E--){const b=_[E];if(b.element===e){w=b;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,g.errors,c)}return _.length?_.map(w=>w.buildKeyframes()):[cL(e,[],[],[],0,m,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(const i of t){const o=i?.delay;if(o){const s="number"==typeof o?o:Qu(Xw(o,i?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime;const s=null!=n.duration?Qu(n.duration):null,a=null!=n.delay?Qu(n.delay):null;return 0!==s&&t.forEach(c=>{const h=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,h.duration+h.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ns(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=BR);const s=Qu(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>ns(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Qu(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),ns(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return LR(e.params?Xw(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,o=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Qu(i.delay):0;o&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=BR);let s=n;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((h,p)=>{e.currentQueryIndex=p;const g=e.createSubContext(t.options,h);o&&g.delayNextStep(o),h===e.element&&(c=g.currentTimeline),ns(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,g.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=n.currentStaggerTime}const p=e.currentTimeline;c&&p.delayNextStep(c);const g=p.currentTime;ns(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-g+(i.startTime-n.currentTimeline.startTime)}}const BR={};class hL{constructor(t,e,n,i,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=BR,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new jR(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=Qu(n.duration)),null!=n.delay&&(i.delay=Qu(n.delay));const o=n.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Xw(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(i=>{n[i]=e[i]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,o=new hL(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=BR,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new WY(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(HY,"."+this._enterClassName)).replace(jY,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=n);0!==n&&(h=n<0?h.slice(h.length+n,h.length):h.slice(0,n)),a.push(...h)}return!o&&0==a.length&&s.push(function QK(r){return new C.vHH(3014,!1)}()),a}}class jR{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new jR(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Zu),this._currentKeyframe.set(e,Zu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},s=function zY(r,t){const e=new Map;let n;return r.forEach(i=>{if("*"===i){n=n||t.keys();for(let o of n)e.set(o,Zu)}else ah(i,e)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const h=Xw(c,o,n);this._pendingStyles.set(a,h),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Zu),this._updateStyle(a,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const i=this._styleSummary.get(n);(!i||e.time>i.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const h=ah(a,new Map,this._backFill);h.forEach((p,g)=>{"!"===p?t.add(g):p===Zu&&e.add(g)}),n||h.set("offset",c/this.duration),i.push(h)});const o=t.size?NR(t.values()):[],s=e.size?NR(e.values()):[];if(n){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return cL(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class WY extends jR{constructor(t,e,n,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=n+e,a=e/s,c=ah(t[0]);c.set("offset",0),o.push(c);const h=ah(t[0]);h.set("offset",uH(a)),o.push(h);const p=t.length-1;for(let g=1;g<=p;g++){let m=ah(t[g]);const _=m.get("offset");m.set("offset",uH((e+_*n)/s)),o.push(m)}n=s,e=0,i="",t=o}return cL(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function uH(r,t=3){const e=Math.pow(10,t-1);return Math.round(r*e)/e}class fL{}const $Y=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class KY extends fL{normalizePropertyName(t,e){return aL(t)}normalizeStyleValue(t,e,n,i){let o="";const s=n.toString().trim();if($Y.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function BK(r,t){return new C.vHH(3005,!1)}())}return s+o}}function cH(r,t,e,n,i,o,s,a,c,h,p,g,m){return{type:0,element:r,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:c,preStyleProps:h,postStyleProps:p,totalTime:g,errors:m}}const pL={};class dH{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function YY(r,t,e,n,i){return r.some(o=>o(t,e,n,i))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,n):new Map}build(t,e,n,i,o,s,a,c,h,p){const g=[],m=this.ast.options&&this.ast.options.params||pL,w=this.buildStyles(n,a&&a.params||pL,g),E=c&&c.params||pL,b=this.buildStyles(i,E,g),R=new Set,T=new Map,A=new Map,x="void"===i,P={params:qY(E,m),delay:this.ast.options?.delay},k=p?[]:dL(t,e,this.ast.animation,o,s,w,b,P,h,g);let V=0;if(k.forEach(U=>{V=Math.max(U.duration+U.delay,V)}),g.length)return cH(e,this._triggerName,n,i,x,w,b,[],[],T,A,V,g);k.forEach(U=>{const W=U.element,re=ts(T,W,new Set);U.preStyleProps.forEach(Ce=>re.add(Ce));const ne=ts(A,W,new Set);U.postStyleProps.forEach(Ce=>ne.add(Ce)),W!==e&&R.add(W)});const H=NR(R.values());return cH(e,this._triggerName,n,i,x,w,b,k,H,T,A,V)}}function qY(r,t){const e=Yw(t);for(const n in r)r.hasOwnProperty(n)&&null!=r[n]&&(e[n]=r[n]);return e}class XY{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,i=Yw(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Xw(s,i,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),n.set(a,s)})}),n}}class QY{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new XY(i.style,i.options&&i.options.params||{},n))}),hH(this.states,"true","1"),hH(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new dH(t,i,this.states))}),this.fallbackTransition=function JY(r,t,e){return new dH(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(s=>s.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function hH(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}const e6=new HR;class t6{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],o=lL(this._driver,e,n,[]);if(n.length)throw function oY(r){return new C.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,n){const i=t.element,o=Y1(this._normalizer,t.keyframes,e,n);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=dL(this._driver,e,o,iL,PR,new Map,new Map,n,e6,i),s.forEach(p=>{const g=ts(a,p.element,new Map);p.postStyleProps.forEach(m=>g.set(m,null))})):(i.push(function sY(){return new C.vHH(3300,!1)}()),s=[]),i.length)throw function aY(r){return new C.vHH(3504,!1)}();a.forEach((p,g)=>{p.forEach((m,_)=>{p.set(_,this._driver.computeStyle(g,_,Zu))})});const h=sh(s.map(p=>{const g=a.get(p.element);return this._buildPlayer(p,new Map,g)}));return this._playersById.set(t,h),h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function lY(r){return new C.vHH(3301,!1)}();return e}listen(t,e,n,i){const o=eL(e,"","","");return QF(this._getPlayer(t),n,o,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const fH="ng-animate-queued",gL="ng-animate-disabled",s6=[],pH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},a6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sa="__ng_removed";class vL{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function d6(r){return r??null}(n?t.value:t),n){const o=Yw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(i=>{null==n[i]&&(n[i]=e[i])})}}}const Zw="void",mL=new vL(Zw);class l6{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Gs(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.has(e))throw function uY(r,t){return new C.vHH(3302,!1)}();if(null==n||0==n.length)throw function cY(r){return new C.vHH(3303,!1)}();if(!function h6(r){return"start"==r||"done"==r}(n))throw function dY(r,t){return new C.vHH(3400,!1)}();const o=ts(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);const a=ts(this._engine.statesByElement,t,new Map);return a.has(e)||(Gs(t,IR),Gs(t,IR+"-"+e),a.set(e,mL)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function hY(r){return new C.vHH(3401,!1)}();return e}trigger(t,e,n,i=!0){const o=this._getTrigger(e),s=new yL(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Gs(t,IR),Gs(t,IR+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const h=new vL(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&h.absorbOptions(c.options),a.set(e,h),c||(c=mL),h.value!==Zw&&c.value===h.value){if(!function g6(r,t){const e=Object.keys(r),n=Object.keys(t);if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||r[o]!==t[o])return!1}return!0}(c.params,h.params)){const E=[],b=o.matchStyles(c.value,c.params,E),R=o.matchStyles(h.value,h.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Ip(t,b),Pl(t,R)})}return}const m=ts(this._engine.playersByElement,t,[]);m.forEach(E=>{E.namespaceId==this.id&&E.triggerName==e&&E.queued&&E.destroy()});let _=o.matchTransition(c.value,h.value,t,h.params),w=!1;if(!_){if(!i)return;_=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:c,toState:h,player:s,isFallbackTransition:w}),w||(Gs(t,fH),s.onStart(()=>{km(t,fH)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);const b=this._engine.playersByElement.get(t);if(b){let R=b.indexOf(s);R>=0&&b.splice(R,1)}}),this.players.push(s),m.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,FR,!0);n.forEach(i=>{if(i[Sa])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,n,i){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,h)=>{if(s.set(h,c.value),this._triggers.has(h)){const p=this.trigger(t,h,Zw,i);p&&a.push(p)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&sh(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const i=new Set;e.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,h=n.get(s)||mL,p=new vL(Zw),g=new yL(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:h,toState:p,player:g,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Sa];(!o||o===pH)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Gs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){const c=eL(o,n.triggerName,n.fromState.value,n.toState.value);c._data=t,QF(n.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((n,i)=>{const o=n.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class u6{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new l6(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=i.get(a);if(c){const h=n.indexOf(c);n.splice(h+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return i.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);const i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let i of n.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,n,i){if(UR(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!UR(e))return;const o=e[Sa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Gs(t,gL)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),km(t,gL))}removeNode(t,e,n){if(UR(e)){const i=t?this._fetchNamespace(t):null;i?i.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,i,o){this.collectedLeaveElements.push(e),e[Sa]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,i,o){return UR(e)?this._fetchNamespace(t).listen(e,n,i,o):()=>{}}_buildInstruction(t,e,n,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,FR,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,rL,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return sh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Sa];if(e&&e.setForRemoval){if(t[Sa]=pH,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(gL)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Gs(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?sh(e).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(t){throw function fY(r){return new C.vHH(3402,!1)}()}_flushAnimations(t,e){const n=new HR,i=[],o=new Map,s=[],a=new Map,c=new Map,h=new Map,p=new Set;this.disabledNodes.forEach(de=>{p.add(de);const fe=this.driver.query(de,".ng-animate-queued",!0);for(let ae=0;ae<fe.length;ae++)p.add(fe[ae])});const g=this.bodyNode,m=Array.from(this.statesByElement.keys()),_=mH(m,this.collectedEnterElements),w=new Map;let E=0;_.forEach((de,fe)=>{const ae=iL+E++;w.set(fe,ae),de.forEach(Fe=>Gs(Fe,ae))});const b=[],R=new Set,T=new Set;for(let de=0;de<this.collectedLeaveElements.length;de++){const fe=this.collectedLeaveElements[de],ae=fe[Sa];ae&&ae.setForRemoval&&(b.push(fe),R.add(fe),ae.hasAnimation?this.driver.query(fe,".ng-star-inserted",!0).forEach(Fe=>R.add(Fe)):T.add(fe))}const A=new Map,x=mH(m,Array.from(R));x.forEach((de,fe)=>{const ae=PR+E++;A.set(fe,ae),de.forEach(Fe=>Gs(Fe,ae))}),t.push(()=>{_.forEach((de,fe)=>{const ae=w.get(fe);de.forEach(Fe=>km(Fe,ae))}),x.forEach((de,fe)=>{const ae=A.get(fe);de.forEach(Fe=>km(Fe,ae))}),b.forEach(de=>{this.processLeaveNode(de)})});const P=[],k=[];for(let de=this._namespaceList.length-1;de>=0;de--)this._namespaceList[de].drainQueuedTransitions(e).forEach(ae=>{const Fe=ae.player,qe=ae.element;if(P.push(Fe),this.collectedEnterElements.length){const Tt=qe[Sa];if(Tt&&Tt.setForMove){if(Tt.previousTriggersValues&&Tt.previousTriggersValues.has(ae.triggerName)){const cn=Tt.previousTriggersValues.get(ae.triggerName),pn=this.statesByElement.get(ae.element);if(pn&&pn.has(ae.triggerName)){const uo=pn.get(ae.triggerName);uo.value=cn,pn.set(ae.triggerName,uo)}}return void Fe.destroy()}}const Je=!g||!this.driver.containsElement(g,qe),Dt=A.get(qe),kt=w.get(qe),Ct=this._buildInstruction(ae,n,kt,Dt,Je);if(Ct.errors&&Ct.errors.length)return void k.push(Ct);if(Je)return Fe.onStart(()=>Ip(qe,Ct.fromStyles)),Fe.onDestroy(()=>Pl(qe,Ct.toStyles)),void i.push(Fe);if(ae.isFallbackTransition)return Fe.onStart(()=>Ip(qe,Ct.fromStyles)),Fe.onDestroy(()=>Pl(qe,Ct.toStyles)),void i.push(Fe);const Ke=[];Ct.timelines.forEach(Tt=>{Tt.stretchStartingKeyframe=!0,this.disabledNodes.has(Tt.element)||Ke.push(Tt)}),Ct.timelines=Ke,n.append(qe,Ct.timelines),s.push({instruction:Ct,player:Fe,element:qe}),Ct.queriedElements.forEach(Tt=>ts(a,Tt,[]).push(Fe)),Ct.preStyleProps.forEach((Tt,cn)=>{if(Tt.size){let pn=c.get(cn);pn||c.set(cn,pn=new Set),Tt.forEach((uo,Yi)=>pn.add(Yi))}}),Ct.postStyleProps.forEach((Tt,cn)=>{let pn=h.get(cn);pn||h.set(cn,pn=new Set),Tt.forEach((uo,Yi)=>pn.add(Yi))})});if(k.length){const de=[];k.forEach(fe=>{de.push(function pY(r,t){return new C.vHH(3505,!1)}())}),P.forEach(fe=>fe.destroy()),this.reportError(de)}const V=new Map,H=new Map;s.forEach(de=>{const fe=de.element;n.has(fe)&&(H.set(fe,fe),this._beforeAnimationBuild(de.player.namespaceId,de.instruction,V))}),i.forEach(de=>{const fe=de.element;this._getPreviousPlayers(fe,!1,de.namespaceId,de.triggerName,null).forEach(Fe=>{ts(V,fe,[]).push(Fe),Fe.destroy()})});const U=b.filter(de=>CH(de,c,h)),W=new Map;vH(W,this.driver,T,h,Zu).forEach(de=>{CH(de,c,h)&&U.push(de)});const ne=new Map;_.forEach((de,fe)=>{vH(ne,this.driver,new Set(de),c,"!")}),U.forEach(de=>{const fe=W.get(de),ae=ne.get(de);W.set(de,new Map([...fe?.entries()??[],...ae?.entries()??[]]))});const Ce=[],Ie=[],Ve={};s.forEach(de=>{const{element:fe,player:ae,instruction:Fe}=de;if(n.has(fe)){if(p.has(fe))return ae.onDestroy(()=>Pl(fe,Fe.toStyles)),ae.disabled=!0,ae.overrideTotalTime(Fe.totalTime),void i.push(ae);let qe=Ve;if(H.size>1){let Dt=fe;const kt=[];for(;Dt=Dt.parentNode;){const Ct=H.get(Dt);if(Ct){qe=Ct;break}kt.push(Dt)}kt.forEach(Ct=>H.set(Ct,qe))}const Je=this._buildAnimation(ae.namespaceId,Fe,V,o,ne,W);if(ae.setRealPlayer(Je),qe===Ve)Ce.push(ae);else{const Dt=this.playersByElement.get(qe);Dt&&Dt.length&&(ae.parentPlayer=sh(Dt)),i.push(ae)}}else Ip(fe,Fe.fromStyles),ae.onDestroy(()=>Pl(fe,Fe.toStyles)),Ie.push(ae),p.has(fe)&&i.push(ae)}),Ie.forEach(de=>{const fe=o.get(de.element);if(fe&&fe.length){const ae=sh(fe);de.setRealPlayer(ae)}}),i.forEach(de=>{de.parentPlayer?de.syncPlayerEvents(de.parentPlayer):de.destroy()});for(let de=0;de<b.length;de++){const fe=b[de],ae=fe[Sa];if(km(fe,PR),ae&&ae.hasAnimation)continue;let Fe=[];if(a.size){let Je=a.get(fe);Je&&Je.length&&Fe.push(...Je);let Dt=this.driver.query(fe,rL,!0);for(let kt=0;kt<Dt.length;kt++){let Ct=a.get(Dt[kt]);Ct&&Ct.length&&Fe.push(...Ct)}}const qe=Fe.filter(Je=>!Je.destroyed);qe.length?f6(this,fe,qe):this.processLeaveNode(fe)}return b.length=0,Ce.forEach(de=>{this.players.push(de),de.onDone(()=>{de.destroy();const fe=this.players.indexOf(de);this.players.splice(fe,1)}),de.play()}),Ce}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==Zw;a.forEach(h=>{h.queued||!c&&h.triggerName!=i||s.push(h)})}}return(n||i)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,n){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const h=c.element,p=h!==o,g=ts(n,h,[]);this._getPreviousPlayers(h,p,s,a,e.toState).forEach(_=>{const w=_.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),_.destroy(),g.push(_)})}Ip(o,e.fromStyles)}_buildAnimation(t,e,n,i,o,s){const a=e.triggerName,c=e.element,h=[],p=new Set,g=new Set,m=e.timelines.map(w=>{const E=w.element;p.add(E);const b=E[Sa];if(b&&b.removedBeforeQueried)return new Kw(w.duration,w.delay);const R=E!==c,T=function p6(r){const t=[];return yH(r,t),t}((n.get(E)||s6).map(V=>V.getRealPlayer())).filter(V=>!!V.element&&V.element===E),A=o.get(E),x=s.get(E),P=Y1(this._normalizer,w.keyframes,A,x),k=this._buildPlayer(w,P,T);if(w.subTimeline&&i&&g.add(E),R){const V=new yL(t,a,E);V.setRealPlayer(k),h.push(V)}return k});h.forEach(w=>{ts(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function c6(r,t,e){let n=r.get(t);if(n){if(n.length){const i=n.indexOf(e);n.splice(i,1)}0==n.length&&r.delete(t)}return n}(this.playersByQueriedElement,w.element,w))}),p.forEach(w=>Gs(w,tH));const _=sh(m);return _.onDestroy(()=>{p.forEach(w=>km(w,tH)),Pl(c,e.toStyles)}),g.forEach(w=>{ts(i,w,[]).push(_)}),_}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Kw(t.duration,t.delay)}}class yL{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Kw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(i=>QF(t,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ts(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function UR(r){return r&&1===r.nodeType}function gH(r,t){const e=r.style.display;return r.style.display=t??"none",e}function vH(r,t,e,n,i){const o=[];e.forEach(c=>o.push(gH(c)));const s=[];n.forEach((c,h)=>{const p=new Map;c.forEach(g=>{const m=t.computeStyle(h,g,i);p.set(g,m),(!m||0==m.length)&&(h[Sa]=a6,s.push(h))}),r.set(h,p)});let a=0;return e.forEach(c=>gH(c,o[a++])),s}function mH(r,t){const e=new Map;if(r.forEach(a=>e.set(a,[])),0==t.length)return e;const i=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const h=a.parentNode;return c=e.has(h)?h:i.has(h)?1:s(h),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function Gs(r,t){r.classList?.add(t)}function km(r,t){r.classList?.remove(t)}function f6(r,t,e){sh(e).onDone(()=>r.processLeaveNode(t))}function yH(r,t){for(let e=0;e<r.length;e++){const n=r[e];n instanceof $1?yH(n.players,t):t.push(n)}}function CH(r,t,e){const n=e.get(r);if(!n)return!1;let i=t.get(r);return i?n.forEach(o=>i.add(o)):t.set(r,n),e.delete(r),!0}class WR{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new u6(t,e,n),this._timelineEngine=new t6(t,e,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,n,i,o){const s=t+"-"+i;let a=this._triggerCache[s];if(!a){const c=[],p=lL(this._driver,o,c,[]);if(c.length)throw function iY(r,t){return new C.vHH(3404,!1)}();a=function ZY(r,t,e){return new QY(r,t,e)}(i,p,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[o,s]=q1(n);this._timelineEngine.command(o,e,s,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,o){if("@"==n.charAt(0)){const[s,a]=q1(n);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,n,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let m6=(()=>{class r{static#e=this.initialStylesByElement=new WeakMap;constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let o=r.initialStylesByElement.get(e);o||r.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Pl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pl(this._element,this._initialStyles),this._endStyles&&(Pl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Ip(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ip(this._element,this._endStyles),this._endStyles=null),Pl(this._element,this._initialStyles),this._state=3)}}return r})();function CL(r){let t=null;return r.forEach((e,n)=>{(function y6(r){return"display"===r||"position"===r})(n)&&(t=t||new Map,t.set(n,e))}),t}class _H{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{"offset"!==i&&t.set(i,this._finished?n:oH(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class C6{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Z1(t,e)}getParentElement(t){return tL(t)}query(t,e,n){return Q1(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,i,o,s=[]){const c={duration:n,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const h=new Map,p=s.filter(_=>_ instanceof _H);(function OY(r,t){return 0===r||0===t})(n,i)&&p.forEach(_=>{_.currentSnapshot.forEach((w,E)=>h.set(E,w))});let g=function EY(r){return r.length?r[0]instanceof Map?r:r.map(t=>nH(t)):[]}(e).map(_=>ah(_));g=function RY(r,t,e){if(e.size&&t.length){let n=t[0],i=[];if(e.forEach((o,s)=>{n.has(s)||i.push(s),n.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,oH(r,a)))}}return t}(t,g,h);const m=function v6(r,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=CL(t[0]),t.length>1&&(n=CL(t[t.length-1]))):t instanceof Map&&(e=CL(t)),e||n?new m6(r,e,n):null}(t,g);return new _H(t,g,c,m)}}let _6=(()=>{class r extends U1{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:C.ifc.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?W1(e):e;return wH(this._renderer,null,n,"register",[i]),new w6(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(C.FYo),C.LFG(ue))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();class w6 extends LK{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new S6(this._id,t,e||{},this._renderer)}}class S6{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return wH(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function wH(r,t,e,n,i){return r.setProperty(t,`@@${e}:${n}`,i)}const SH="@.disabled";let E6=(()=>{class r{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,n){const o=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let p=this._rendererCache.get(o);return p||(p=new EH("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,p)),p}const s=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=p=>{Array.isArray(p)?p.forEach(c):this.engine.registerTrigger(s,a,e,p.name,p)};return n.data.animation.forEach(c),new D6(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){e>=0&&e<this._microtaskId?this._zone.run(()=>n(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(C.FYo),C.LFG(WR),C.LFG(C.R0b))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();class EH{constructor(t,e,n,i){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==SH?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class D6 extends EH{constructor(t,e,n,i,o){super(e,n,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==SH?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function b6(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function O6(r){const t=r.indexOf(".");return[r.substring(0,t),r.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(t,e,n)}}let R6=(()=>{class r extends WR{constructor(e,n,i,o){super(e.body,n,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(ue),C.LFG(nL),C.LFG(fL),C.LFG(C.z2F))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();const DH=[{provide:U1,useClass:_6},{provide:fL,useFactory:function T6(){return new KY}},{provide:WR,useClass:R6},{provide:C.FYo,useFactory:function A6(r,t,e){return new E6(r,t,e)},deps:[Ph,WR,C.R0b]}],_L=[{provide:nL,useFactory:()=>new C6},{provide:C.QbO,useValue:"BrowserAnimations"},...DH],bH=[{provide:nL,useClass:J1},{provide:C.QbO,useValue:"NoopAnimations"},...DH];let x6=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?bH:_L}}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=C.oAB({type:r});static#n=this.\u0275inj=C.cJS({providers:_L,imports:[YS]})}return r})();var Qw=F(4674),Ea=F(5619),Jw=F(2737),P6=F(7103);function wL(...r){const t=(0,ug.yG)(r),e=(0,ug.jO)(r),{args:n,keys:i}=jh(r);if(0===n.length)return(0,di.D)([],t);const o=new cs.y(function I6(r,t,e=Jw.y){return n=>{OH(t,()=>{const{length:i}=r,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)OH(t,()=>{const h=(0,di.D)(r[c],t);let p=!1;h.subscribe((0,er.x)(n,g=>{o[c]=g,p||(p=!0,a--),a||n.next(e(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,i?s=>Jl(i,s):Jw.y));return e?o.pipe(cg(e)):o}function OH(r,t,e){r?(0,P6.f)(e,r,t):t()}const $R=(0,F(2306).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var eS=F(7537);function SL(...r){return function L6(){return(0,eS.J)(1)}()((0,di.D)(r,(0,ug.yG)(r)))}function RH(r){return new cs.y(t=>{(0,Wh.Xf)(r()).subscribe(t)})}var N6=F(8407);function Lp(r,t){const e=(0,Qw.m)(r)?r:()=>r,n=i=>i.error(e());return new cs.y(t?i=>t.schedule(n,0,i):n)}var lh=F(6232),EL=F(7394);function DL(){return(0,$r.e)((r,t)=>{let e=null;r._refCount++;const n=(0,er.x)(t,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(e=null);const i=r._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});r.subscribe(n),n.closed||(e=r.connect())})}class TH extends cs.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,$r.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new EL.w0;const e=this.getSubject();t.add(this.source.subscribe((0,er.x)(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=EL.w0.EMPTY)}return t}refCount(){return DL()(this)}}var Ju=F(8645),uh=F(8180),ao=F(1631);function KR(r){return(0,$r.e)((t,e)=>{let n=!1;t.subscribe((0,er.x)(e,i=>{n=!0,e.next(i)},()=>{n||e.next(r),e.complete()}))})}function AH(r=G6){return(0,$r.e)((t,e)=>{let n=!1;t.subscribe((0,er.x)(e,i=>{n=!0,e.next(i)},()=>n?e.complete():e.error(r())))})}function G6(){return new $R}function Np(r,t){const e=arguments.length>=2;return n=>n.pipe(r?(0,wr.h)((i,o)=>r(i,o,n)):Jw.y,(0,uh.q)(1),e?KR(t):AH(()=>new $R))}function mr(r,t,e){const n=(0,Qw.m)(r)||t||e?{next:r,error:t,complete:e}:r;return n?(0,$r.e)((i,o)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;i.subscribe((0,er.x)(o,c=>{var h;null===(h=n.next)||void 0===h||h.call(n,c),o.next(c)},()=>{var c;a=!1,null===(c=n.complete)||void 0===c||c.call(n),o.complete()},c=>{var h;a=!1,null===(h=n.error)||void 0===h||h.call(n,c),o.error(c)},()=>{var c,h;a&&(null===(c=n.unsubscribe)||void 0===c||c.call(n)),null===(h=n.finalize)||void 0===h||h.call(n)}))}):Jw.y}var Da=F(6306),V6=F(6699);function bL(r){return r<=0?()=>lh.E:(0,$r.e)((t,e)=>{let n=[];t.subscribe((0,er.x)(e,i=>{n.push(i),r<n.length&&n.shift()},()=>{for(const i of n)e.next(i);e.complete()},void 0,()=>{n=null}))})}var j6=F(9773);const qt="primary",tS=Symbol("RouteTitle");class U6{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gm(r){return new U6(r)}function W6(r,t,e){const n=e.path.split("/");if(n.length>r.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<r.length))return null;const i={};for(let o=0;o<n.length;o++){const s=n[o],a=r[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function Il(r,t){const e=r?Object.keys(r):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!xH(r[i],t[i]))return!1;return!0}function xH(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;const e=[...r].sort(),n=[...t].sort();return e.every((i,o)=>n[o]===i)}return r===t}function MH(r){return r.length>0?r[r.length-1]:null}function ch(r){return function M6(r){return!!r&&(r instanceof cs.y||(0,Qw.m)(r.lift)&&(0,Qw.m)(r.subscribe))}(r)?r:(0,C.QGY)(r)?(0,di.D)(Promise.resolve(r)):(0,yt.of)(r)}const $6={exact:function FH(r,t,e){if(!kp(r.segments,t.segments)||!YR(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!r.children[n]||!FH(r.children[n],t.children[n],e))return!1;return!0},subset:LH},PH={exact:function K6(r,t){return Il(r,t)},subset:function Y6(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>xH(r[e],t[e]))},ignored:()=>!0};function IH(r,t,e){return $6[e.paths](r.root,t.root,e.matrixParams)&&PH[e.queryParams](r.queryParams,t.queryParams)&&!("exact"===e.fragment&&r.fragment!==t.fragment)}function LH(r,t,e){return NH(r,t,t.segments,e)}function NH(r,t,e,n){if(r.segments.length>e.length){const i=r.segments.slice(0,e.length);return!(!kp(i,e)||t.hasChildren()||!YR(i,e,n))}if(r.segments.length===e.length){if(!kp(r.segments,e)||!YR(r.segments,e,n))return!1;for(const i in t.children)if(!r.children[i]||!LH(r.children[i],t.children[i],n))return!1;return!0}{const i=e.slice(0,r.segments.length),o=e.slice(r.segments.length);return!!(kp(r.segments,i)&&YR(r.segments,i,n)&&r.children[qt])&&NH(r.children[qt],t,o,n)}}function YR(r,t,e){return t.every((n,i)=>PH[e](r[i].parameters,n.parameters))}class Vm{constructor(t=new On([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gm(this.queryParams)),this._queryParamMap}toString(){return Z6.serialize(this)}}class On{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qR(this)}}class nS{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gm(this.parameters)),this._parameterMap}toString(){return VH(this)}}function kp(r,t){return r.length===t.length&&r.every((e,n)=>e.path===t[n].path)}let iS=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:function(){return new OL},providedIn:"root"})}return r})();class OL{parse(t){const e=new l8(t);return new Vm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${rS(t.root,!0)}`,n=function e8(r){const t=Object.keys(r).map(e=>{const n=r[e];return Array.isArray(n)?n.map(i=>`${XR(e)}=${XR(i)}`).join("&"):`${XR(e)}=${XR(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),i="string"==typeof t.fragment?`#${function Q6(r){return encodeURI(r)}(t.fragment)}`:"";return`${e}${n}${i}`}}const Z6=new OL;function qR(r){return r.segments.map(t=>VH(t)).join("/")}function rS(r,t){if(!r.hasChildren())return qR(r);if(t){const e=r.children[qt]?rS(r.children[qt],!1):"",n=[];return Object.entries(r.children).forEach(([i,o])=>{i!==qt&&n.push(`${i}:${rS(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function X6(r,t){let e=[];return Object.entries(r.children).forEach(([n,i])=>{n===qt&&(e=e.concat(t(i,n)))}),Object.entries(r.children).forEach(([n,i])=>{n!==qt&&(e=e.concat(t(i,n)))}),e}(r,(n,i)=>i===qt?[rS(r.children[qt],!1)]:[`${i}:${rS(n,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[qt]?`${qR(r)}/${e[0]}`:`${qR(r)}/(${e.join("//")})`}}function kH(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function XR(r){return kH(r).replace(/%3B/gi,";")}function RL(r){return kH(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ZR(r){return decodeURIComponent(r)}function GH(r){return ZR(r.replace(/\+/g,"%20"))}function VH(r){return`${RL(r.path)}${function J6(r){return Object.keys(r).map(t=>`;${RL(t)}=${RL(r[t])}`).join("")}(r.parameters)}`}const t8=/^[^\/()?;#]+/;function TL(r){const t=r.match(t8);return t?t[0]:""}const n8=/^[^\/()?;=#]+/,r8=/^[^=?&#]+/,s8=/^[^&#]+/;class l8{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[qt]=new On(t,e)),n}parseSegment(){const t=TL(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new C.vHH(4009,!1);return this.capture(t),new nS(ZR(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function i8(r){const t=r.match(n8);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const i=TL(this.remaining);i&&(n=i,this.capture(n))}t[ZR(e)]=ZR(n)}parseQueryParam(t){const e=function o8(r){const t=r.match(r8);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const s=function a8(r){const t=r.match(s8);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const i=GH(e),o=GH(n);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=TL(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new C.vHH(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=qt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[qt]:new On([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new C.vHH(4011,!1)}}function HH(r){return r.segments.length>0?new On([],{[qt]:r}):r}function BH(r){const t={};for(const n of Object.keys(r.children)){const o=BH(r.children[n]);if(n===qt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}return function u8(r){if(1===r.numberOfChildren&&r.children[qt]){const t=r.children[qt];return new On(r.segments.concat(t.segments),t.children)}return r}(new On(r.segments,t))}function Gp(r){return r instanceof Vm}function jH(r){let t;const i=HH(function e(o){const s={};for(const c of o.children){const h=e(c);s[c.outlet]=h}const a=new On(o.url,s);return o===r&&(t=a),a}(r.root));return t??i}function UH(r,t,e,n){let i=r;for(;i.parent;)i=i.parent;if(0===t.length)return AL(i,i,i,e,n);const o=function d8(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new zH(!0,0,r);let t=0,e=!1;const n=r.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,h])=>{a[c]="string"==typeof h?h.split("/"):h}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new zH(e,t,n)}(t);if(o.toRoot())return AL(i,i,new On([],{}),e,n);const s=function h8(r,t,e){if(r.isAbsolute)return new JR(t,!0,0);if(!e)return new JR(t,!1,NaN);if(null===e.parent)return new JR(e,!0,0);const n=QR(r.commands[0])?0:1;return function f8(r,t,e){let n=r,i=t,o=e;for(;o>i;){if(o-=i,n=n.parent,!n)throw new C.vHH(4005,!1);i=n.segments.length}return new JR(n,!1,i-o)}(e,e.segments.length-1+n,r.numberOfDoubleDots)}(o,i,r),a=s.processChildren?sS(s.segmentGroup,s.index,o.commands):$H(s.segmentGroup,s.index,o.commands);return AL(i,s.segmentGroup,a,e,n)}function QR(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function oS(r){return"object"==typeof r&&null!=r&&r.outlets}function AL(r,t,e,n,i){let s,o={};n&&Object.entries(n).forEach(([c,h])=>{o[c]=Array.isArray(h)?h.map(p=>`${p}`):`${h}`}),s=r===t?e:WH(r,t,e);const a=HH(BH(s));return new Vm(a,o,i)}function WH(r,t,e){const n={};return Object.entries(r.children).forEach(([i,o])=>{n[i]=o===t?e:WH(o,t,e)}),new On(r.segments,n)}class zH{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&QR(n[0]))throw new C.vHH(4003,!1);const i=n.find(oS);if(i&&i!==MH(n))throw new C.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class JR{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function $H(r,t,e){if(r||(r=new On([],{})),0===r.segments.length&&r.hasChildren())return sS(r,t,e);const n=function g8(r,t,e){let n=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=e.length)return o;const s=r.segments[i],a=e[n];if(oS(a))break;const c=`${a}`,h=n<e.length-1?e[n+1]:null;if(i>0&&void 0===c)break;if(c&&h&&"object"==typeof h&&void 0===h.outlets){if(!YH(c,h,s))return o;n+=2}else{if(!YH(c,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(r,t,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){const o=new On(r.segments.slice(0,n.pathIndex),{});return o.children[qt]=new On(r.segments.slice(n.pathIndex),r.children),sS(o,0,i)}return n.match&&0===i.length?new On(r.segments,{}):n.match&&!r.hasChildren()?xL(r,t,e):n.match?sS(r,0,i):xL(r,t,e)}function sS(r,t,e){if(0===e.length)return new On(r.segments,{});{const n=function p8(r){return oS(r[0])?r[0].outlets:{[qt]:r}}(e),i={};if(Object.keys(n).some(o=>o!==qt)&&r.children[qt]&&1===r.numberOfChildren&&0===r.children[qt].segments.length){const o=sS(r.children[qt],t,e);return new On(r.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=$H(r.children[o],t,s))}),Object.entries(r.children).forEach(([o,s])=>{void 0===n[o]&&(i[o]=s)}),new On(r.segments,i)}}function xL(r,t,e){const n=r.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(oS(o)){const c=v8(o.outlets);return new On(n,c)}if(0===i&&QR(e[0])){n.push(new nS(r.segments[t].path,KH(e[0]))),i++;continue}const s=oS(o)?o.outlets[qt]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&QR(a)?(n.push(new nS(s,KH(a))),i+=2):(n.push(new nS(s,{})),i++)}return new On(n,{})}function v8(r){const t={};return Object.entries(r).forEach(([e,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[e]=xL(new On([],{}),0,n))}),t}function KH(r){const t={};return Object.entries(r).forEach(([e,n])=>t[e]=`${n}`),t}function YH(r,t,e){return r==e.path&&Il(t,e.parameters)}const aS="imperative";class Fl{constructor(t,e){this.id=t,this.url=e}}class eT extends Fl{constructor(t,e,n="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dh extends Fl{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lS extends Fl{constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hm extends Fl{constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i,this.type=16}}class tT extends Fl{constructor(t,e,n,i){super(t,e),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qH extends Fl{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m8 extends Fl{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y8 extends Fl{constructor(t,e,n,i,o){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class C8 extends Fl{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _8 extends Fl{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w8{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class S8{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class E8{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D8{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b8{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O8{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XH{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ML{}class PL{constructor(t){this.url=t}}class R8{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uS,this.attachRef=null}}let uS=(()=>{class r{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new R8,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class ZH{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=IL(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=IL(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=FL(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return FL(t,this._root).map(e=>e.value)}}function IL(r,t){if(r===t.value)return t;for(const e of t.children){const n=IL(r,e);if(n)return n}return null}function FL(r,t){if(r===t.value)return[t];for(const e of t.children){const n=FL(r,e);if(n.length)return n.unshift(t),n}return[]}class ec{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bm(r){const t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}class QH extends ZH{constructor(t,e){super(t),this.snapshot=e,LL(this,t)}toString(){return this.snapshot.toString()}}function JH(r,t){const e=function T8(r,t){const s=new nT([],{},{},"",{},qt,t,null,{});return new tB("",new ec(s,[]))}(0,t),n=new Ea.X([new nS("",{})]),i=new Ea.X({}),o=new Ea.X({}),s=new Ea.X({}),a=new Ea.X(""),c=new jm(n,i,s,a,o,qt,t,e.root);return c.snapshot=e.root,new QH(new ec(c,[]),e)}class jm{constructor(t,e,n,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe((0,Kt.U)(h=>h[tS]))??(0,yt.of)(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Kt.U)(t=>Gm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Kt.U)(t=>Gm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eB(r,t="emptyOnly"){const e=r.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const i=e[n],o=e[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(o.component)break;n--}}return function A8(r){return r.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class nT{get title(){return this.data?.[tS]}constructor(t,e,n,i,o,s,a,c,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tB extends ZH{constructor(t,e){super(e),this.url=t,LL(this,e)}toString(){return nB(this._root)}}function LL(r,t){t.value._routerState=r,t.children.forEach(e=>LL(r,e))}function nB(r){const t=r.children.length>0?` { ${r.children.map(nB).join(", ")} } `:"";return`${r.value}${t}`}function NL(r){if(r.snapshot){const t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,Il(t.queryParams,e.queryParams)||r.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&r.fragmentSubject.next(e.fragment),Il(t.params,e.params)||r.paramsSubject.next(e.params),function z6(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!Il(r[e],t[e]))return!1;return!0}(t.url,e.url)||r.urlSubject.next(e.url),Il(t.data,e.data)||r.dataSubject.next(e.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function kL(r,t){const e=Il(r.params,t.params)&&function q6(r,t){return kp(r,t)&&r.every((e,n)=>Il(e.parameters,t[n].parameters))}(r.url,t.url);return e&&!(!r.parent!=!t.parent)&&(!r.parent||kL(r.parent,t.parent))}let GL=(()=>{class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=qt,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.attachEvents=new C.vpe,this.detachEvents=new C.vpe,this.parentContexts=(0,C.f3M)(uS),this.location=(0,C.f3M)(C.s_b),this.changeDetector=(0,C.f3M)(C.sBO),this.environmentInjector=(0,C.f3M)(C.lqb),this.inputBinder=(0,C.f3M)(iT,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:i}=e.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new C.vHH(4013,!1);this._activatedRoute=e;const i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new x8(e,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275dir=C.lG2({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.TTD]})}return r})();class x8{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===jm?this.route:t===uS?this.childContexts:this.parent.get(t,e)}}const iT=new C.OlP("");let iB=(()=>{class r{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,i=wL([n.queryParams,n.params,n.data]).pipe((0,bn.w)(([o,s,a],c)=>(a={...o,...s,...a},0===c?(0,yt.of)(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(e);const s=(0,C.qFp)(n.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();function cS(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const i=function P8(r,t,e){return t.children.map(n=>{for(const i of e.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return cS(r,n,i);return cS(r,n)})}(r,t,e);return new ec(n,i)}{if(r.shouldAttach(t.value)){const o=r.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>cS(r,a)),s}}const n=function I8(r){return new jm(new Ea.X(r.url),new Ea.X(r.params),new Ea.X(r.queryParams),new Ea.X(r.fragment),new Ea.X(r.data),r.outlet,r.component,r)}(t.value),i=t.children.map(o=>cS(r,o));return new ec(n,i)}}const VL="ngNavigationCancelingError";function rB(r,t){const{redirectTo:e,navigationBehaviorOptions:n}=Gp(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=oB(!1,0,t);return i.url=e,i.navigationBehaviorOptions=n,i}function oB(r,t,e){const n=new Error("NavigationCancelingError: "+(r||""));return n[VL]=!0,n.cancellationCode=t,e&&(n.url=e),n}function sB(r){return r&&r[VL]}let aB=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=C.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[C.jDz],decls:1,vars:0,template:function(n,i){1&n&&C._UZ(0,"router-outlet")},dependencies:[GL],encapsulation:2})}return r})();function HL(r){const t=r.children&&r.children.map(HL),e=t?{...r,children:t}:{...r};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==qt&&(e.component=aB),e}function ba(r){return r.outlet||qt}function dS(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class B8{constructor(t,e,n,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),NL(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Bm(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,o=Bm(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,o=Bm(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){const i=Bm(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new O8(o.value.snapshot))}),t.children.length&&this.forwardEvent(new D8(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,o=e?e.value:null;if(NL(i),i===o)if(i.component){const s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),NL(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=dS(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class lB{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class rT{constructor(t,e){this.component=t,this.route=e}}function j8(r,t,e){const n=r._root;return hS(n,t?t._root:null,e,[n.value])}function Um(r,t){const e=Symbol(),n=t.get(r,e);return n===e?"function"!=typeof r||(0,C.Z0I)(r)?t.get(r):r:n}function hS(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bm(t);return r.children.forEach(s=>{(function W8(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=r.value,s=t?t.value:null,a=e?e.getContext(r.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function z8(r,t,e){if("function"==typeof e)return e(r,t);switch(e){case"pathParamsChange":return!kp(r.url,t.url);case"pathParamsOrQueryParamsChange":return!kp(r.url,t.url)||!Il(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kL(r,t)||!Il(r.queryParams,t.queryParams);default:return!kL(r,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new lB(n)):(o.data=s.data,o._resolvedData=s._resolvedData),hS(r,t,o.component?a?a.children:null:e,n,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rT(a.outlet.component,s))}else s&&fS(t,a,i),i.canActivateChecks.push(new lB(n)),hS(r,null,o.component?a?a.children:null:e,n,i)})(s,o[s.value.outlet],e,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>fS(a,e.getContext(s),i)),i}function fS(r,t,e){const n=Bm(r),i=r.value;Object.entries(n).forEach(([o,s])=>{fS(s,i.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new rT(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function pS(r){return"function"==typeof r}function uB(r){return r instanceof $R||"EmptyError"===r?.name}const oT=Symbol("INITIAL_VALUE");function Wm(){return(0,bn.w)(r=>wL(r.map(t=>t.pipe((0,uh.q)(1),function k6(...r){const t=(0,ug.yG)(r);return(0,$r.e)((e,n)=>{(t?SL(r,e,t):SL(r,e)).subscribe(n)})}(oT)))).pipe((0,Kt.U)(t=>{for(const e of t)if(!0!==e){if(e===oT)return oT;if(!1===e||e instanceof Vm)return e}return!0}),(0,wr.h)(t=>t!==oT),(0,uh.q)(1)))}function cB(r){return(0,N6.z)(mr(t=>{if(Gp(t))throw rB(0,t)}),(0,Kt.U)(t=>!0===t))}class sT{constructor(t){this.segmentGroup=t||null}}class dB{constructor(t){this.urlTree=t}}function zm(r){return Lp(new sT(r))}function hB(r){return Lp(new dB(r))}class d5{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new C.vHH(4002,!1)}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,yt.of)(n);if(i.numberOfChildren>1||!i.children[qt])return Lp(new C.vHH(4e3,!1));i=i.children[qt]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreateUrlTree(t,e,n,i){const o=this.createSegmentGroup(t,e.root,n,i);return new Vm(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);n[i]=e[a]}else n[i]=o}),n}createSegmentGroup(t,e,n,i){const o=this.createSegments(t,e.segments,n,i);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,n,i)}),new On(o,s)}createSegments(t,e,n,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new C.vHH(4001,!1);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}const BL={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function h5(r,t,e,n,i){const o=jL(r,t,e);return o.matched?(n=function L8(r,t){return r.providers&&!r._injector&&(r._injector=(0,C.MMx)(r.providers,t,`Route: ${r.path}`)),r._injector??t}(t,n),function l5(r,t,e,n){const i=t.canMatch;if(!i||0===i.length)return(0,yt.of)(!0);const o=i.map(s=>{const a=Um(s,r);return ch(function Z8(r){return r&&pS(r.canMatch)}(a)?a.canMatch(t,e):r.runInContext(()=>a(t,e)))});return(0,yt.of)(o).pipe(Wm(),cB())}(n,t,e).pipe((0,Kt.U)(s=>!0===s?o:{...BL}))):(0,yt.of)(o)}function jL(r,t,e){if(""===t.path)return"full"===t.pathMatch&&(r.hasChildren()||e.length>0)?{...BL}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||W6)(e,r,t);if(!i)return{...BL};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function fB(r,t,e,n){return e.length>0&&function g5(r,t,e){return e.some(n=>aT(r,t,n)&&ba(n)!==qt)}(r,e,n)?{segmentGroup:new On(t,p5(n,new On(e,r.children))),slicedSegments:[]}:0===e.length&&function v5(r,t,e){return e.some(n=>aT(r,t,n))}(r,e,n)?{segmentGroup:new On(r.segments,f5(r,0,e,n,r.children)),slicedSegments:e}:{segmentGroup:new On(r.segments,r.children),slicedSegments:e}}function f5(r,t,e,n,i){const o={};for(const s of n)if(aT(r,e,s)&&!i[ba(s)]){const a=new On([],{});o[ba(s)]=a}return{...i,...o}}function p5(r,t){const e={};e[qt]=t;for(const n of r)if(""===n.path&&ba(n)!==qt){const i=new On([],{});e[ba(n)]=i}return e}function aT(r,t,e){return(!(r.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class _5{constructor(t,e,n,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new d5(this.urlSerializer,this.urlTree)}noMatchError(t){return new C.vHH(4002,!1)}recognize(){const t=fB(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,qt).pipe((0,Da.K)(e=>{if(e instanceof dB)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof sT?this.noMatchError(e):e}),(0,Kt.U)(e=>{const n=new nT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,{}),i=new ec(n,e),o=new tB("",i),s=function c8(r,t,e=null,n=null){return UH(jH(r),t,e,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,qt).pipe((0,Da.K)(n=>{throw n instanceof sT?this.noMatchError(n):n}))}inheritParamsAndData(t){const e=t.value,n=eB(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,i,!0)}processChildren(t,e,n){const i=[];for(const o of Object.keys(n.children))"primary"===o?i.unshift(o):i.push(o);return(0,di.D)(i).pipe((0,Zl.b)(o=>{const s=n.children[o],a=function V8(r,t){const e=r.filter(n=>ba(n)===t);return e.push(...r.filter(n=>ba(n)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),(0,V6.R)((o,s)=>(o.push(...s),o)),KR(null),function H6(r,t){const e=arguments.length>=2;return n=>n.pipe(r?(0,wr.h)((i,o)=>r(i,o,n)):Jw.y,bL(1),e?KR(t):AH(()=>new $R))}(),(0,ao.z)(o=>{if(null===o)return zm(n);const s=pB(o);return function w5(r){r.sort((t,e)=>t.value.outlet===qt?-1:e.value.outlet===qt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),(0,yt.of)(s)}))}processSegment(t,e,n,i,o,s){return(0,di.D)(e).pipe((0,Zl.b)(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,n,i,o,s).pipe((0,Da.K)(c=>{if(c instanceof sT)return(0,yt.of)(null);throw c}))),Np(a=>!!a),(0,Da.K)(a=>{if(uB(a))return function y5(r,t,e){return 0===t.length&&!r.children[e]}(n,i,o)?(0,yt.of)([]):zm(n);throw a}))}processSegmentAgainstRoute(t,e,n,i,o,s,a){return function m5(r,t,e,n){return!!(ba(r)===n||n!==qt&&aT(t,e,r))&&("**"===r.path||jL(t,r,e).matched)}(n,i,o,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,i,n,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,n,o,s):zm(i):zm(i)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const o=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?hB(o):this.applyRedirects.lineralizeSegments(n,o).pipe((0,ao.z)(s=>{const a=new On(s,{});return this.processSegment(t,e,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:h,positionalParamSegments:p}=jL(e,i,o);if(!a)return zm(e);const g=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,p);return i.redirectTo.startsWith("/")?hB(g):this.applyRedirects.lineralizeSegments(i,g).pipe((0,ao.z)(m=>this.processSegment(t,n,e,m.concat(h),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,o,s){let a;if("**"===n.path){const c=i.length>0?MH(i).parameters:{},h=new nT(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gB(n),ba(n),n.component??n._loadedComponent??null,n,vB(n));a=(0,yt.of)({snapshot:h,consumedSegments:[],remainingSegments:[]}),e.children={}}else a=h5(e,n,i,t).pipe((0,Kt.U)(({matched:c,consumedSegments:h,remainingSegments:p,parameters:g})=>c?{snapshot:new nT(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gB(n),ba(n),n.component??n._loadedComponent??null,n,vB(n)),consumedSegments:h,remainingSegments:p}:null));return a.pipe((0,bn.w)(c=>null===c?zm(e):this.getChildConfig(t=n._injector??t,n,i).pipe((0,bn.w)(({routes:h})=>{const p=n._loadedInjector??t,{snapshot:g,consumedSegments:m,remainingSegments:_}=c,{segmentGroup:w,slicedSegments:E}=fB(e,m,_,h);if(0===E.length&&w.hasChildren())return this.processChildren(p,h,w).pipe((0,Kt.U)(R=>null===R?null:[new ec(g,R)]));if(0===h.length&&0===E.length)return(0,yt.of)([new ec(g,[])]);const b=ba(n)===o;return this.processSegment(p,h,w,E,b?qt:o,!0).pipe((0,Kt.U)(R=>[new ec(g,R)]))}))))}getChildConfig(t,e,n){return e.children?(0,yt.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,yt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function a5(r,t,e,n){const i=t.canLoad;if(void 0===i||0===i.length)return(0,yt.of)(!0);const o=i.map(s=>{const a=Um(s,r);return ch(function K8(r){return r&&pS(r.canLoad)}(a)?a.canLoad(t,e):r.runInContext(()=>a(t,e)))});return(0,yt.of)(o).pipe(Wm(),cB())}(t,e,n).pipe((0,ao.z)(i=>i?this.configLoader.loadChildren(t,e).pipe(mr(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function c5(r){return Lp(oB(!1,3))}())):(0,yt.of)({routes:[],injector:t})}}function S5(r){const t=r.value.routeConfig;return t&&""===t.path}function pB(r){const t=[],e=new Set;for(const n of r){if(!S5(n)){t.push(n);continue}const i=t.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...n.children),e.add(i)):t.push(n)}for(const n of e){const i=pB(n.children);t.push(new ec(n.value,i))}return t.filter(n=>!e.has(n))}function gB(r){return r.data||{}}function vB(r){return r.resolve||{}}function mB(r){return"string"==typeof r.title||null===r.title}function UL(r){return(0,bn.w)(t=>{const e=r(t);return e?(0,di.D)(e).pipe((0,Kt.U)(()=>t)):(0,yt.of)(t)})}const $m=new C.OlP("ROUTES");let WL=(()=>{class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,C.f3M)(C.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,yt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=ch(e.loadComponent()).pipe((0,Kt.U)(yB),mr(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Fh(()=>{this.componentLoaders.delete(e)})),i=new TH(n,()=>new Ju.x).pipe(DL());return this.componentLoaders.set(e,i),i}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return(0,yt.of)({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const o=function A5(r,t,e,n){return ch(r.loadChildren()).pipe((0,Kt.U)(yB),(0,ao.z)(i=>i instanceof C.YKP||Array.isArray(i)?(0,yt.of)(i):(0,di.D)(t.compileModuleAsync(i))),(0,Kt.U)(i=>{n&&n(r);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(e).injector,s=o.get($m,[],{optional:!0,self:!0}).flat()),{routes:s.map(HL),injector:o}}))}(n,this.compiler,e,this.onLoadEndListener).pipe(Fh(()=>{this.childrenLoaders.delete(n)})),s=new TH(o,()=>new Ju.x).pipe(DL());return this.childrenLoaders.set(n,s),s}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function yB(r){return function x5(r){return r&&"object"==typeof r&&"default"in r}(r)?r.default:r}let lT=(()=>{class r{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ju.x,this.transitionAbortSubject=new Ju.x,this.configLoader=(0,C.f3M)(WL),this.environmentInjector=(0,C.f3M)(C.lqb),this.urlSerializer=(0,C.f3M)(iS),this.rootContexts=(0,C.f3M)(uS),this.inputBindingEnabled=null!==(0,C.f3M)(iT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,yt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new S8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new w8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e,n,i){return this.transitions=new Ea.X({id:0,currentUrlTree:n,currentRawUrl:n,currentBrowserUrl:n,extractedUrl:e.urlHandlingStrategy.extract(n),urlAfterRedirects:e.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:aS,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,wr.h)(o=>0!==o.id),(0,Kt.U)(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),(0,bn.w)(o=>{this.currentTransition=o;let s=!1,a=!1;return(0,yt.of)(o).pipe(mr(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,bn.w)(c=>{const h=c.currentBrowserUrl.toString(),p=!e.navigated||c.extractedUrl.toString()!==h||h!==c.currentUrlTree.toString();if(!p&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const m="";return this.events.next(new Hm(c.id,this.urlSerializer.serialize(c.rawUrl),m,0)),c.resolve(null),lh.E}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return(0,yt.of)(c).pipe((0,bn.w)(m=>{const _=this.transitions?.getValue();return this.events.next(new eT(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?lh.E:Promise.resolve(m)}),function E5(r,t,e,n,i,o){return(0,ao.z)(s=>function C5(r,t,e,n,i,o,s="emptyOnly"){return new _5(r,t,e,n,i,s,o).recognize()}(r,t,e,n,s.extractedUrl,i,o).pipe((0,Kt.U)(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),mr(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const _=new qH(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(p&&e.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:m,extractedUrl:_,source:w,restoredState:E,extras:b}=c,R=new eT(m,this.urlSerializer.serialize(_),w,E);this.events.next(R);const T=JH(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:T,urlAfterRedirects:_,extras:{...b,skipLocationChange:!1,replaceUrl:!1}},(0,yt.of)(o)}{const m="";return this.events.next(new Hm(c.id,this.urlSerializer.serialize(c.extractedUrl),m,1)),c.resolve(null),lh.E}}),mr(c=>{const h=new m8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),(0,Kt.U)(c=>(this.currentTransition=o={...c,guards:j8(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function J8(r,t){return(0,ao.z)(e=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?(0,yt.of)({...e,guardsResult:!0}):function e5(r,t,e,n){return(0,di.D)(r).pipe((0,ao.z)(i=>function s5(r,t,e,n,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,yt.of)(!0);const s=o.map(a=>{const c=dS(t)??i,h=Um(a,c);return ch(function X8(r){return r&&pS(r.canDeactivate)}(h)?h.canDeactivate(r,t,e,n):c.runInContext(()=>h(r,t,e,n))).pipe(Np())});return(0,yt.of)(s).pipe(Wm())}(i.component,i.route,e,t,n)),Np(i=>!0!==i,!0))}(s,n,i,r).pipe((0,ao.z)(a=>a&&function $8(r){return"boolean"==typeof r}(a)?function t5(r,t,e,n){return(0,di.D)(t).pipe((0,Zl.b)(i=>SL(function i5(r,t){return null!==r&&t&&t(new E8(r)),(0,yt.of)(!0)}(i.route.parent,n),function n5(r,t){return null!==r&&t&&t(new b8(r)),(0,yt.of)(!0)}(i.route,n),function o5(r,t,e){const n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function U8(r){const t=r.routeConfig?r.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:r,guards:t}:null}(s)).filter(s=>null!==s).map(s=>RH(()=>{const a=s.guards.map(c=>{const h=dS(s.node)??e,p=Um(c,h);return ch(function q8(r){return r&&pS(r.canActivateChild)}(p)?p.canActivateChild(n,r):h.runInContext(()=>p(n,r))).pipe(Np())});return(0,yt.of)(a).pipe(Wm())}));return(0,yt.of)(o).pipe(Wm())}(r,i.path,e),function r5(r,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return(0,yt.of)(!0);const i=n.map(o=>RH(()=>{const s=dS(t)??e,a=Um(o,s);return ch(function Y8(r){return r&&pS(r.canActivate)}(a)?a.canActivate(t,r):s.runInContext(()=>a(t,r))).pipe(Np())}));return(0,yt.of)(i).pipe(Wm())}(r,i.route,e))),Np(i=>!0!==i,!0))}(n,o,r,t):(0,yt.of)(a)),(0,Kt.U)(a=>({...e,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),mr(c=>{if(o.guardsResult=c.guardsResult,Gp(c.guardsResult))throw rB(0,c.guardsResult);const h=new y8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),(0,wr.h)(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),UL(c=>{if(c.guards.canActivateChecks.length)return(0,yt.of)(c).pipe(mr(h=>{const p=new C8(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),(0,bn.w)(h=>{let p=!1;return(0,yt.of)(h).pipe(function D5(r,t){return(0,ao.z)(e=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,yt.of)(e);let o=0;return(0,di.D)(i).pipe((0,Zl.b)(s=>function b5(r,t,e,n){const i=r.routeConfig,o=r._resolve;return void 0!==i?.title&&!mB(i)&&(o[tS]=i.title),function O5(r,t,e,n){const i=function R5(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===i.length)return(0,yt.of)({});const o={};return(0,di.D)(i).pipe((0,ao.z)(s=>function T5(r,t,e,n){const i=dS(t)??n,o=Um(r,i);return ch(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(r[s],t,e,n).pipe(Np(),mr(a=>{o[s]=a}))),bL(1),function B6(r){return(0,Kt.U)(()=>r)}(o),(0,Da.K)(s=>uB(s)?lh.E:Lp(s)))}(o,r,t,n).pipe((0,Kt.U)(s=>(r._resolvedData=s,r.data=eB(r,e).resolve,i&&mB(i)&&(r.data[tS]=i.title),null)))}(s.route,n,r,t)),mr(()=>o++),bL(1),(0,ao.z)(s=>o===i.length?(0,yt.of)(e):lh.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),mr({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",2)}}))}),mr(h=>{const p=new _8(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),UL(c=>{const h=p=>{const g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(mr(m=>{p.component=m}),(0,Kt.U)(()=>{})));for(const m of p.children)g.push(...h(m));return g};return wL(h(c.targetSnapshot.root)).pipe(KR(),(0,uh.q)(1))}),UL(()=>this.afterPreactivation()),(0,Kt.U)(c=>{const h=function M8(r,t,e){const n=cS(r,t._root,e?e._root:void 0);return new QH(n,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:h},o}),mr(()=>{this.events.next(new ML)}),((r,t,e,n)=>(0,Kt.U)(i=>(new B8(t,i.targetRouterState,i.currentRouterState,e,n).activate(r),i)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),(0,uh.q)(1),mr({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),(0,j6.R)(this.transitionAbortSubject.pipe(mr(c=>{throw c}))),Fh(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),(0,Da.K)(c=>{if(a=!0,sB(c))this.events.next(new lS(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function F8(r){return sB(r)&&Gp(r.url)}(c)?this.events.next(new PL(c.url)):o.resolve(!1);else{this.events.next(new tT(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(h){o.reject(h)}}return lh.E}))}))}cancelNavigationTransition(e,n,i){const o=new lS(e.id,this.urlSerializer.serialize(e.extractedUrl),n,i);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function CB(r){return r!==aS}let _B=(()=>{class r{buildTitle(e){let n,i=e.root;for(;void 0!==i;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(o=>o.outlet===qt);return n}getResolvedTitleForRoute(e){return e.data[tS]}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:function(){return(0,C.f3M)(M5)},providedIn:"root"})}return r})(),M5=(()=>{class r extends _B{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(xe))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),P5=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:function(){return(0,C.f3M)(F5)},providedIn:"root"})}return r})();class I5{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let F5=(()=>{class r extends I5{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=C.n5z(r)))(i||r)}}();static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const uT=new C.OlP("",{providedIn:"root",factory:()=>({})});let L5=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:function(){return(0,C.f3M)(N5)},providedIn:"root"})}return r})(),N5=(()=>{class r{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var gS=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(gS||{});function wB(r,t){r.events.pipe((0,wr.h)(e=>e instanceof dh||e instanceof lS||e instanceof tT||e instanceof Hm),(0,Kt.U)(e=>e instanceof dh||e instanceof Hm?gS.COMPLETE:e instanceof lS&&(0===e.code||1===e.code)?gS.REDIRECTING:gS.FAILED),(0,wr.h)(e=>e!==gS.REDIRECTING),(0,uh.q)(1)).subscribe(()=>{t()})}function k5(r){throw r}function G5(r,t,e){return t.parse("/")}const V5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},H5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lo=(()=>{class r{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,C.f3M)(C.c2e),this.isNgZoneEnabled=!1,this._events=new Ju.x,this.options=(0,C.f3M)(uT,{optional:!0})||{},this.pendingTasks=(0,C.f3M)(C.HDt),this.errorHandler=this.options.errorHandler||k5,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||G5,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,C.f3M)(L5),this.routeReuseStrategy=(0,C.f3M)(P5),this.titleStrategy=(0,C.f3M)(_B),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,C.f3M)($m,{optional:!0})?.flat()??[],this.navigationTransitions=(0,C.f3M)(lT),this.urlSerializer=(0,C.f3M)(iS),this.location=(0,C.f3M)(ct),this.componentInputBindingEnabled=!!(0,C.f3M)(iT,{optional:!0}),this.eventsSubscription=new EL.w0,this.isNgZoneEnabled=(0,C.f3M)(C.R0b)instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Vm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=JH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(n=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(SB(n)&&this._events.next(n));if(n instanceof eT)CB(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(n instanceof Hm)this.rawUrlTree=i.rawUrl;else if(n instanceof qH){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(n instanceof ML)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(n instanceof lS)0!==n.code&&1!==n.code&&(this.navigated=!0),(3===n.code||2===n.code)&&this.restoreHistory(i);else if(n instanceof PL){const o=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||CB(i.source)};this.scheduleNavigation(o,aS,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}n instanceof tT&&this.restoreHistory(i,!0),n instanceof dh&&(this.navigated=!0),SB(n)&&this._events.next(n)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),aS,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,n,e.state)},0)}))}navigateToSyncWithBrowser(e,n,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(HL),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=n,h=c?this.currentUrlTree.fragment:s;let g,p=null;switch(a){case"merge":p={...this.currentUrlTree.queryParams,...o};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}null!==p&&(p=this.removeEmptyProps(p));try{g=jH(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),g=this.currentUrlTree.root}return UH(g,e,p,h??null)}navigateByUrl(e,n={skipLocationChange:!1}){const i=Gp(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,aS,null,n)}navigate(e,n={skipLocationChange:!1}){return function B5(r){for(let t=0;t<r.length;t++)if(null==r[t])throw new C.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(i){n=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return n}isActive(e,n){let i;if(i=!0===n?{...V5}:!1===n?{...H5}:n,Gp(e))return IH(this.currentUrlTree,e,i);const o=this.parseUrl(e);return IH(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((n,i)=>{const o=e[i];return null!=o&&(n[i]=o),n},{})}scheduleNavigation(e,n,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,h;s?(a=s.resolve,c=s.reject,h=s.promise):h=new Promise((g,m)=>{a=g,c=m});const p=this.pendingTasks.add();return wB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}setBrowserUrl(e,n){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl){const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function SB(r){return!(r instanceof ML||r instanceof PL)}class EB{}let W5=(()=>{class r{constructor(e,n,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe((0,wr.h)(e=>e instanceof dh),(0,Zl.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const i=[];for(const o of n){o.providers&&!o._injector&&(o._injector=(0,C.MMx)(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return(0,di.D)(i).pipe((0,eS.J)())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let i;i=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):(0,yt.of)(null);const o=i.pipe((0,ao.z)(s=>null===s?(0,yt.of)(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){const s=this.loader.loadComponent(n);return(0,di.D)([o,s]).pipe((0,eS.J)())}return o})}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(lo),C.LFG(C.Sil),C.LFG(C.lqb),C.LFG(EB),C.LFG(WL))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const $L=new C.OlP("");let DB=(()=>{class r{constructor(e,n,i,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof eT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof dh?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Hm&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof XH&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new XH(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){C.$Z()};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();function tc(r,t){return{\u0275kind:r,\u0275providers:t}}function OB(){const r=(0,C.f3M)(C.zs3);return t=>{const e=r.get(C.z2F);if(t!==e.components[0])return;const n=r.get(lo),i=r.get(RB);1===r.get(KL)&&n.initialNavigation(),r.get(TB,null,C.XFs.Optional)?.setUpPreloading(),r.get($L,null,C.XFs.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const RB=new C.OlP("",{factory:()=>new Ju.x}),KL=new C.OlP("",{providedIn:"root",factory:()=>1}),TB=new C.OlP("");function Y5(r){return tc(0,[{provide:TB,useExisting:W5},{provide:EB,useExisting:r}])}const AB=new C.OlP("ROUTER_FORROOT_GUARD"),X5=[ct,{provide:iS,useClass:OL},lo,uS,{provide:jm,useFactory:function bB(r){return r.routerState.root},deps:[lo]},WL,[]];function Z5(){return new C.PXZ("Router",lo)}let xB=(()=>{class r{constructor(e){}static forRoot(e,n){return{ngModule:r,providers:[X5,[],{provide:$m,multi:!0,useValue:e},{provide:AB,useFactory:t4,deps:[[lo,new C.FiY,new C.tp0]]},{provide:uT,useValue:n||{}},n?.useHash?{provide:be,useClass:Me}:{provide:be,useClass:Xe},{provide:$L,useFactory:()=>{const r=(0,C.f3M)(ss),t=(0,C.f3M)(C.R0b),e=(0,C.f3M)(uT),n=(0,C.f3M)(lT),i=(0,C.f3M)(iS);return e.scrollOffset&&r.setOffset(e.scrollOffset),new DB(i,n,r,t,e)}},n?.preloadingStrategy?Y5(n.preloadingStrategy).\u0275providers:[],{provide:C.PXZ,multi:!0,useFactory:Z5},n?.initialNavigation?n4(n):[],n?.bindToComponentInputs?tc(8,[iB,{provide:iT,useExisting:iB}]).\u0275providers:[],[{provide:MB,useFactory:OB},{provide:C.tb,multi:!0,useExisting:MB}]]}}static forChild(e){return{ngModule:r,providers:[{provide:$m,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(AB,8))};static#t=this.\u0275mod=C.oAB({type:r});static#n=this.\u0275inj=C.cJS({})}return r})();function t4(r){return"guarded"}function n4(r){return["disabled"===r.initialNavigation?tc(3,[{provide:C.ip1,multi:!0,useFactory:()=>{const t=(0,C.f3M)(lo);return()=>{t.setUpLocationChangeListener()}}},{provide:KL,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?tc(2,[{provide:KL,useValue:0},{provide:C.ip1,multi:!0,deps:[C.zs3],useFactory:t=>{const e=t.get(le,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const i=t.get(lo),o=t.get(RB);wB(i,()=>{n(!0)}),t.get(lT).afterPreactivation=()=>(n(!0),o.closed?(0,yt.of)(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const MB=new C.OlP("");var Jt=F(4221);const vS=(0,Jt.PH)("[Login] leagueEntryRequest",(0,Jt.Ky)());let PB=(()=>{class r{constructor(e){this.http=e}#e(e){return e.error instanceof ErrorEvent?console.error("Some error occurred:",e.error.message):console.error(`Error Status code ${e.status}, Error body is: ${e.error}`),Lp("Something bad happened; please try again later.")}#t(e){return e||{}}sleeperGet(e){return this.http.get(`https://api.sleeper.app/v1/${e}`).pipe((0,Kt.U)(this.#t),(0,Da.K)(this.#e))}static#n=this.\u0275fac=function(n){return new(n||r)(C.LFG(sE))};static#i=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),o4=(()=>{class r{constructor(){this.leagueIdInput="",this.#e=(0,C.f3M)(lo),this.#t=(0,C.f3M)(Jt.yh),this.#n=(0,C.f3M)(PB)}#e;#t;#n;setLeagueId(){let e=this.leagueIdInput;this.#n.sleeperGet(`/league/${e}`).subscribe({next:n=>{"in_season"!=n.status&&"post_season"!=n.status&&"complete"!=n.status&&(e=n.previous_league_id),this.#t.dispatch(vS({leagueId:e})),this.#e.navigate(["league-dashboard"]),localStorage.setItem("LEAGUE_ID",e)},error:()=>{e="",console.log("unable to get league data")}})}static#i=this.\u0275fac=function(n){return new(n||r)};static#r=this.\u0275cmp=C.Xpm({type:r,selectors:[["app-welcome"]],decls:47,vars:1,consts:[[1,"flex","flex-col","h-full","p-5"],[1,"flex","grow","flex-col","justify-center","items-center"],[1,"text-3xl"],[1,"pt-5","pb-2"],[1,"flex","flex-col","sm:flex-row","pb-3"],[1,"p-4"],[2,"font-weight","bold"],["href","https://sleeper.app",1,"sleeper-link"],[1,"flex","flex-col","shrink-0"],[1,"league-id-input"],["placeholder","League ID","type","text","name","ID",1,"input-box",3,"ngModel","ngModelChange"],[1,"flex","justify-center","pt-5"],[1,"sff-btn",3,"click"],[1,"justify-self-end","pt-5"]],template:function(n,i){1&n&&(C.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),C._uU(3," Begin by finding the ID to your Sleeper Fantasy League* "),C.qZA(),C.TgZ(4,"div")(5,"h2",3),C._uU(6,"To find you league ID either:"),C.qZA(),C.TgZ(7,"div",4)(8,"span",5)(9,"span",6),C._uU(10,"On a Computer:"),C.qZA(),C.TgZ(11,"ol")(12,"li"),C._uU(13," Go to "),C.TgZ(14,"span")(15,"a",7),C._uU(16,"sleeper.app"),C.qZA()(),C._uU(17," and find the league you want. "),C.qZA(),C.TgZ(18,"li"),C._uU(19," Copy the number in the URL that comes after"),C._UZ(20,"br"),C._uU(21," https://sleeper.app/leagues/ "),C.qZA(),C.TgZ(22,"li"),C._uU(23,"Paste it below"),C.qZA()()(),C.TgZ(24,"span",5)(25,"span",6),C._uU(26,"On the Sleeper App:"),C.qZA(),C.TgZ(27,"ol")(28,"li"),C._uU(29,"Go to your League page"),C.qZA(),C.TgZ(30,"li"),C._uU(31,"Tap the settings gear by League Settings"),C.qZA(),C.TgZ(32,"li"),C._uU(33,"Tap on General"),C.qZA(),C.TgZ(34,"li"),C._uU(35,"Scroll to the bottom and tap Copy League ID"),C.qZA(),C.TgZ(36,"li"),C._uU(37,"Paste the league id into the form below"),C.qZA()()()()(),C.TgZ(38,"div",8)(39,"div")(40,"form",9)(41,"input",10),C.NdJ("ngModelChange",function(s){return i.leagueIdInput=s}),C.qZA()()(),C.TgZ(42,"div",11)(43,"button",12),C.NdJ("click",function(){return i.setLeagueId()}),C._uU(44,"View My League"),C.qZA()()()(),C.TgZ(45,"footer",13),C._uU(46," *note: SFF works for all Sleeper fantasy leagues, but it does not work for March Madness, Squads, or any other event that doesn't involve a draft or rosters. "),C.qZA()()),2&n&&(C.xp6(41),C.Q6J("ngModel",i.leagueIdInput))},dependencies:[ef,tu,DA,OE,bg,Sg],styles:[".sff-btn[_ngcontent-%COMP%]{padding:10px;background-color:#f57e00;border-radius:90px}.league-id-input[_ngcontent-%COMP%]{color:#191e1f;background-color:#fff}.input-box[_ngcontent-%COMP%]{padding:10px;border:2px solid #f57e00}.sleeper-link[_ngcontent-%COMP%]{color:#3a86ff}.sleeper-link[_ngcontent-%COMP%]:visited{color:#ff69eb}"]})}return r})();const YL={isLoading:!1,isLoaded:!1,errorMessage:""},s4=r=>r;var l4=function(){function r(){this._subs=[]}return r.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._subs=this._subs.concat(t)},Object.defineProperty(r.prototype,"sink",{set:function(t){this._subs.push(t)},enumerable:!0,configurable:!0}),r.prototype.unsubscribe=function(){this._subs.forEach(function(t){return t&&function(r){return"function"==typeof r}(t.unsubscribe)&&t.unsubscribe()}),this._subs=[]},r}();const IB=(0,Jt.PH)("[League] getLeagueSuccess",(0,Jt.Ky)()),FB=(0,Jt.PH)("[League] getLeagueFailure",(0,Jt.Ky)()),LB=(0,Jt.PH)("[League] clearLeagueData"),NB=(0,Jt.PH)("[Players] getPlayersSuccess",(0,Jt.Ky)()),u4=(0,Jt.PH)("[Players] getPlayersFailure",(0,Jt.Ky)()),kB=(0,Jt.PH)("[Player] clearPlayersData"),GB=(0,Jt.PH)("[Rosters] getRostersSuccess",(0,Jt.Ky)()),qL=(0,Jt.PH)("[Rosters] getRostersFailure",(0,Jt.Ky)()),VB=(0,Jt.PH)("[Roster] clearRosterData");let d4=(()=>{class r{ngOnInit(){this.#e()}#e(){this.chartOptions={autoSize:!0,title:{text:"Max Points vs Wins"},subtitle:{text:"Better teams are further right and more successful teams are further up \n Better managers have larger dots - dot size is proportional to the percentage of max points the team has scored",spacing:40},axes:[{type:"number",position:"bottom"},{type:"number",max:this.#t(),position:"left"}],series:[{tooltip:{renderer:e=>({title:e.datum.username})},type:"scatter",data:this.leaguePageData,xKey:"maxPoints",xName:"Max Points",yKey:"wins",yName:"Wins",sizeKey:"points",sizeName:"Points",marker:{size:6,maxSize:30,fill:"#3f51b5",stroke:"#000"}}]}}#t(){return Math.max(...this.leaguePageData.map(e=>e.wins))+1}static#n=this.\u0275fac=function(n){return new(n||r)};static#i=this.\u0275cmp=C.Xpm({type:r,selectors:[["app-graph"]],inputs:{leaguePageData:"leaguePageData"},decls:2,vars:1,consts:[[3,"options"]],template:function(n,i){1&n&&(C.TgZ(0,"div"),C._UZ(1,"ag-charts-angular",0),C.qZA()),2&n&&(C.xp6(1),C.Q6J("options",i.chartOptions))},dependencies:[IK],styles:[".sff-btn[_ngcontent-%COMP%]{padding:10px;background-color:#f57e00;border-radius:90px}"]})}return r})();const h4=function(r,t){return{width:r,height:t}};function f4(r,t){if(1&r&&(C.ynx(0),C.TgZ(1,"h1",1),C._uU(2),C.qZA(),C._UZ(3,"ag-grid-angular",2),C.BQk()),2&r){const e=C.oxw();C.xp6(2),C.AsE("",e.leagueName," Standings ",e.leagueYear,""),C.xp6(1),C.Q6J("ngStyle",C.WLB(4,h4,e.gridWidth+"px",e.gridHeight+"px"))("gridOptions",e.gridOptions)}}let p4=(()=>{class r{constructor(){this.dataLoaded=!1,this.gridWidth=805}ngOnInit(){this.#e()}#e(){this.gridOptions={onGridReady:e=>{e.api.sizeColumnsToFit()},defaultColDef:{width:100,sortable:!0,sortingOrder:["desc","asc"],suppressMovable:!0},columnDefs:this.#t(),rowData:this.leaguePageData,animateRows:!0},this.gridHeight=50*this.leaguePageData.length-10,this.dataLoaded=!0}#t(){return[{field:"username",headerName:"Manager",width:250,sortable:!1},{field:"wins",sort:"desc"},{field:"losses"},{field:"maxPoints",headerName:"Max Points",width:150},{field:"points",headerName:"PF"},{field:"pointsAgainst",headerName:"PA"}]}static#n=this.\u0275fac=function(n){return new(n||r)};static#i=this.\u0275cmp=C.Xpm({type:r,selectors:[["app-standings"]],inputs:{leaguePageData:"leaguePageData",leagueYear:"leagueYear",leagueName:"leagueName"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"text-3xl","pb-4"],[1,"ag-theme-alpine",3,"ngStyle","gridOptions"]],template:function(n,i){1&n&&C.YNc(0,f4,4,7,"ng-container",0),2&n&&C.Q6J("ngIf",i.dataLoaded)},dependencies:[cc,dc,cW],styles:[".sff-btn[_ngcontent-%COMP%]{padding:10px;background-color:#f57e00;border-radius:90px}"]})}return r})();function g4(r,t){1&r&&(C.TgZ(0,"h1"),C._uU(1,"LOADING..."),C.qZA())}function v4(r,t){if(1&r){const e=C.EpF();C.TgZ(0,"div",1),C.YNc(1,g4,2,0,"h1",2),C.TgZ(2,"div",3)(3,"button",4),C.NdJ("click",function(){C.CHM(e);const i=C.oxw();return C.KtG(i.resetLeague())}),C._uU(4,"Switch Leagues"),C.qZA()(),C._UZ(5,"app-standings",5)(6,"app-graph",6),C.qZA()}if(2&r){const e=C.oxw();C.xp6(1),C.Q6J("ngIf",e.isLoading),C.xp6(4),C.Q6J("leaguePageData",e.leaguePageData)("leagueName",e.league.name)("leagueYear",e.league.season),C.xp6(1),C.Q6J("leaguePageData",e.leaguePageData)}}const m4=[{path:"welcome",component:o4},{path:"league-dashboard",component:(()=>{class r{constructor(){this.#e=new l4,this.#t=(0,C.f3M)(Jt.yh),this.#n=(0,C.f3M)(lo),this.isLoading=!0,this.rosters=[],this.players=[],this.leaguePageData=[]}#e;#t;#n;ngOnInit(){const e=this.#t.select(s4).pipe((0,wr.h)(n=>!!n.rosterData.rosters.length&&!!n.playersData.players.length&&!!n.leagueData.league),(0,uh.q)(1),mr(n=>{this.league=n.leagueData.league,this.rosters=n.rosterData.rosters,this.players=n.playersData.players,this.#i()})).subscribe();this.#e.add(e)}resetLeague(){this.#t.dispatch(LB()),this.#t.dispatch(VB()),this.#t.dispatch(kB()),localStorage.setItem("LEAGUE_ID",""),this.#n.navigate(["welcome"])}#i(){this.isLoading=!0,this.rosters.forEach(e=>{const n=this.players.find(i=>i.user_id===e.owner_id);n&&this.leaguePageData.push({username:n.display_name,points:e.settings.fpts,maxPoints:e.settings.ppts,pointsAgainst:e.settings.fpts_against,wins:e.settings.wins,losses:e.settings.losses})}),this.isLoading=!1}static#r=this.\u0275fac=function(n){return new(n||r)};static#o=this.\u0275cmp=C.Xpm({type:r,selectors:[["app-league"]],decls:1,vars:1,consts:[["class","flex flex-col h-full justify-around items-center p-5",4,"ngIf"],[1,"flex","flex-col","h-full","justify-around","items-center","p-5"],[4,"ngIf"],[1,"self-end"],[1,"sff-btn",3,"click"],[3,"leaguePageData","leagueName","leagueYear"],[3,"leaguePageData"]],template:function(n,i){1&n&&C.YNc(0,v4,7,5,"div",0),2&n&&C.Q6J("ngIf",!i.isLoading)},dependencies:[cc,d4,p4],styles:[".sff-btn[_ngcontent-%COMP%]{padding:10px;background-color:#f57e00;border-radius:90px}"]})}return r})()},{path:"",redirectTo:"welcome",pathMatch:"prefix"}];let y4=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=C.oAB({type:r});static#n=this.\u0275inj=C.cJS({imports:[xB.forRoot(m4),xB]})}return r})(),C4=(()=>{class r{#e=(0,C.f3M)(Jt.yh);#t=(0,C.f3M)(lo);constructor(){const e=localStorage.getItem("LEAGUE_ID");e&&(this.#e.dispatch(vS({leagueId:e})),this.#t.navigate(["league-dashboard"]))}static#n=this.\u0275fac=function(n){return new(n||r)};static#i=this.\u0275cmp=C.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){1&n&&C._UZ(0,"router-outlet")},dependencies:[GL],styles:[".sff-btn[_ngcontent-%COMP%]{padding:10px;background-color:#f57e00;border-radius:90px}"]})}return r})();var UB=F(3019),_4=F(2420);class nc{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){return WB(this,t)}do(t,e,n){const{kind:i,value:o,error:s}=this;return"N"===i?t?.(o):"E"===i?e?.(s):n?.()}accept(t,e,n){var i;return(0,Qw.m)(null===(i=t)||void 0===i?void 0:i.next)?this.observe(t):this.do(t,e,n)}toObservable(){const{kind:t,value:e,error:n}=this,i="N"===t?(0,yt.of)(e):"E"===t?Lp(()=>n):"C"===t?lh.E:0;if(!i)throw new TypeError(`Unexpected notification kind ${t}`);return i}static createNext(t){return new nc("N",t)}static createError(t){return new nc("E",void 0,t)}static createComplete(){return nc.completeNotification}}function WB(r,t){var e,n,i;const{kind:o,value:s,error:a}=r;if("string"!=typeof o)throw new TypeError('Invalid notification, missing "kind"');"N"===o?null===(e=t.next)||void 0===e||e.call(t,s):"E"===o?null===(n=t.error)||void 0===n||n.call(t,a):null===(i=t.complete)||void 0===i||i.call(t)}function zB(r,t,e,n){return(0,$r.e)((i,o)=>{let s;t&&"function"!=typeof t?({duration:e,element:s,connector:n}=t):s=t;const a=new Map,c=w=>{a.forEach(w),w(o)},h=w=>c(E=>E.error(w));let p=0,g=!1;const m=new er.Q(o,w=>{try{const E=r(w);let b=a.get(E);if(!b){a.set(E,b=n?n():new Ju.x);const R=function _(w,E){const b=new cs.y(R=>{p++;const T=E.subscribe(R);return()=>{T.unsubscribe(),0==--p&&g&&m.unsubscribe()}});return b.key=w,b}(E,b);if(o.next(R),e){const T=(0,er.x)(b,()=>{b.complete(),T?.unsubscribe()},void 0,void 0,()=>a.delete(E));m.add((0,Wh.Xf)(e(R)).subscribe(T))}}b.next(s?s(w):w)}catch(E){h(E)}},()=>c(w=>w.complete()),h,()=>a.clear(),()=>(g=!0,0===p));i.subscribe(m)})}function $B(r,t){return t?e=>e.pipe($B((n,i)=>(0,Wh.Xf)(r(n,i)).pipe((0,Kt.U)((o,s)=>t(n,o,i,s))))):(0,$r.e)((e,n)=>{let i=0,o=null,s=!1;e.subscribe((0,er.x)(n,a=>{o||(o=(0,er.x)(n,void 0,()=>{o=null,s&&n.complete()}),(0,Wh.Xf)(r(a,i++)).subscribe(o))},()=>{s=!0,!o&&n.complete()}))})}nc.completeNotification=new nc("C");const b4={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},cT="__@ngrx/effects_create__";function XL(r,t={}){const e=t.functional?r:r(),n={...b4,...t};return Object.defineProperty(e,cT,{value:n}),e}function YB(r){return Object.getPrototypeOf(r)}function ZL(r){return"function"==typeof r}function QL(r){return r.filter(ZL)}function A4(r,t,e){const n=YB(r),o=n&&"Object"!==n.constructor.name?n.constructor.name:null,s=function KB(r){return function O4(r){return Object.getOwnPropertyNames(r).filter(n=>!(!r[n]||!r[n].hasOwnProperty(cT))&&r[n][cT].hasOwnProperty("dispatch")).map(n=>({propertyName:n,...r[n][cT]}))}(r)}(r).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:h})=>{const p="function"==typeof r[a]?r[a]():r[a],g=h?e(p,t):p;return!1===c?g.pipe(function w4(){return(0,$r.e)((r,t)=>{r.subscribe((0,er.x)(t,_4.Z))})}()):g.pipe(function E4(){return(0,$r.e)((r,t)=>{r.subscribe((0,er.x)(t,e=>{t.next(nc.createNext(e))},()=>{t.next(nc.createComplete()),t.complete()},e=>{t.next(nc.createError(e)),t.complete()}))})}()).pipe((0,Kt.U)(_=>({effect:r[a],notification:_,propertyName:a,sourceName:o,sourceInstance:r})))});return(0,UB.T)(...s)}function qB(r,t,e=10){return r.pipe((0,Da.K)(n=>(t&&t.handleError(n),e<=1?r:qB(r,t,e-1))))}let M4=(()=>{class r extends cs.y{constructor(e){super(),e&&(this.source=e)}lift(e){const n=new r;return n.source=this,n.operator=e,n}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(Jt.Y$))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function JL(...r){return(0,wr.h)(t=>r.some(e=>"string"==typeof e?e===t.type:e.type===t.type))}const XB=new C.OlP("@ngrx/effects Internal Root Guard"),dT=new C.OlP("@ngrx/effects User Provided Effects"),eN=new C.OlP("@ngrx/effects Internal Root Effects"),ZB=new C.OlP("@ngrx/effects Internal Root Effects Instances"),QB=new C.OlP("@ngrx/effects Internal Feature Effects"),JB=new C.OlP("@ngrx/effects Internal Feature Effects Instance Groups"),P4=new C.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>qB}),ej="@ngrx/effects/init";(0,Jt.PH)(ej);function U4(r){return tN(r,"ngrxOnInitEffects")}function tN(r,t){return r&&t in r&&"function"==typeof r[t]}let nN=(()=>{class r extends Ju.x{constructor(e,n){super(),this.errorHandler=e,this.effectsErrorHandler=n}addEffects(e){this.next(e)}toActions(){return this.pipe(zB(e=>function R4(r){return!!r.constructor&&"Object"!==r.constructor.name&&"Function"!==r.constructor.name}(e)?YB(e):e),(0,ao.z)(e=>e.pipe(zB(W4))),(0,ao.z)(e=>{const n=e.pipe($B(o=>function z4(r,t){return e=>{const n=A4(e,r,t);return function B4(r){return tN(r,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(n):n}}(this.errorHandler,this.effectsErrorHandler)(o)),(0,Kt.U)(o=>(function F4(r,t){if("N"===r.notification.kind){const e=r.notification.value;!function L4(r){return"function"!=typeof r&&r&&r.type&&"string"==typeof r.type}(e)&&t.handleError(new Error(`Effect ${function N4({propertyName:r,sourceInstance:t,sourceName:e}){const n="function"==typeof t[r];return e?`"${e}.${String(r)}${n?"()":""}"`:`"${String(r)}()"`}(r)} dispatched an invalid action: ${function k4(r){try{return JSON.stringify(r)}catch{return r}}(e)}`))}}(o,this.errorHandler),o.notification)),(0,wr.h)(o=>"N"===o.kind&&null!=o.value),function D4(){return(0,$r.e)((r,t)=>{r.subscribe((0,er.x)(t,e=>WB(e,t)))})}()),i=e.pipe((0,uh.q)(1),(0,wr.h)(U4),(0,Kt.U)(o=>o.ngrxOnInitEffects()));return(0,UB.T)(n,i)}))}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(C.qLn),C.LFG(P4))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function W4(r){return function V4(r){return tN(r,"ngrxOnIdentifyEffects")}(r)?r.ngrxOnIdentifyEffects():""}let iN=(()=>{class r{get isStarted(){return!!this.effectsSubscription}constructor(e,n){this.effectSources=e,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(nN),C.LFG(Jt.yh))};static#t=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),tj=(()=>{class r{constructor(e,n,i,o,s,a,c){this.sources=e,n.start();for(const h of o)e.addEffects(h);i.dispatch({type:ej})}addEffects(e){this.sources.addEffects(e)}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(nN),C.LFG(iN),C.LFG(Jt.yh),C.LFG(ZB),C.LFG(Jt.cr,8),C.LFG(Jt.CK,8),C.LFG(XB,8))};static#t=this.\u0275mod=C.oAB({type:r});static#n=this.\u0275inj=C.cJS({})}return r})(),$4=(()=>{class r{constructor(e,n,i,o){const s=n.flat();for(const a of s)e.addEffects(a)}static#e=this.\u0275fac=function(n){return new(n||r)(C.LFG(tj),C.LFG(JB),C.LFG(Jt.cr,8),C.LFG(Jt.CK,8))};static#t=this.\u0275mod=C.oAB({type:r});static#n=this.\u0275inj=C.cJS({})}return r})(),K4=(()=>{class r{static forFeature(...e){const n=e.flat(),i=QL(n);return{ngModule:$4,providers:[i,{provide:QB,multi:!0,useValue:n},{provide:dT,multi:!0,useValue:[]},{provide:JB,multi:!0,useFactory:nj,deps:[QB,dT]}]}}static forRoot(...e){const n=e.flat(),i=QL(n);return{ngModule:tj,providers:[i,{provide:eN,useValue:[n]},{provide:XB,useFactory:Y4},{provide:dT,multi:!0,useValue:[]},{provide:ZB,useFactory:nj,deps:[eN,dT]}]}}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=C.oAB({type:r});static#n=this.\u0275inj=C.cJS({})}return r})();function nj(r,t){const e=[];for(const n of r)e.push(...n);for(const n of t)e.push(...n);return e.map(n=>function T4(r){return r instanceof C.OlP||ZL(r)}(n)?(0,C.f3M)(n):n)}function Y4(){const r=(0,C.f3M)(iN,{optional:!0,skipSelf:!0}),t=(0,C.f3M)(eN,{self:!0});if((1!==t.length||0!==t[0].length)&&r)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}const ij={league:{},...YL},q4=(0,Jt.Lq)(ij,(0,Jt.on)(IB,(r,t)=>({league:t.league,isLoading:!1,isLoaded:!0,errorMessage:""})),(0,Jt.on)(FB,(r,t)=>({league:{},isLoading:!1,isLoaded:!0,errorMessage:t.error})),(0,Jt.on)(LB,()=>({...ij})));var X4=F(7632);const rj={rosters:[],...YL},Z4=(0,Jt.Lq)(rj,(0,Jt.on)(GB,(r,t)=>({rosters:t.rosters,isLoading:!1,isLoaded:!0,errorMessage:""})),(0,Jt.on)(qL,(r,t)=>({rosters:[],isLoading:!1,isLoaded:!0,errorMessage:t.error})),(0,Jt.on)(VB,()=>({...rj})));let Q4=(()=>{class r{constructor(){this.#e=(0,C.f3M)(M4),this.#t=(0,C.f3M)(PB),this.getLeague$=XL(()=>this.#e.pipe(JL(vS),(0,bn.w)(e=>this.#t.sleeperGet(`league/${e.leagueId}`).pipe((0,Kt.U)(n=>IB({league:n})),(0,Da.K)(()=>(0,yt.of)(FB({error:"error getting league data"}))))))),this.getRosters$=XL(()=>this.#e.pipe(JL(vS),(0,bn.w)(e=>this.#t.sleeperGet(`/league/${e.leagueId}/rosters`).pipe((0,Kt.U)(n=>GB({rosters:n})),(0,Da.K)(()=>(0,yt.of)(qL({error:"error getting roster data"}))))))),this.getPlayers$=XL(()=>this.#e.pipe(JL(vS),(0,bn.w)(e=>this.#t.sleeperGet(`/league/${e.leagueId}/users`).pipe((0,Kt.U)(n=>NB({players:n})),(0,Da.K)(()=>(0,yt.of)(qL({error:"error getting roster data"})))))))}#e;#t;static#n=this.\u0275fac=function(n){return new(n||r)};static#i=this.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac})}return r})();const oj={players:[],...YL},J4=(0,Jt.Lq)(oj,(0,Jt.on)(NB,(r,t)=>({players:t.players,isLoading:!1,isLoaded:!0,errorMessage:""})),(0,Jt.on)(u4,(r,t)=>({players:[],isLoading:!1,isLoaded:!0,errorMessage:t.error})),(0,Jt.on)(kB,()=>({...oj})));let eq=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=C.oAB({type:r,bootstrap:[C4]});static#n=this.\u0275inj=C.cJS({imports:[YS,y4,xN,x6,qA,dW,FK,Jt.Aw.forRoot({leagueData:q4,rosterData:Z4,playersData:J4}),K4.forRoot([Q4]),X4.FT.instrument({maxAge:25,logOnly:!(0,C.X6Q)()})]})}return r})();(0,C.G48)(),jT().bootstrapModule(eq).catch(r=>console.error(r))},5619:(Z,z,F)=>{F.d(z,{X:()=>Y});var C=F(8645);class Y extends C.x{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const K=super._subscribe(ge);return!K.closed&&ge.next(this._value),K}getValue(){const{hasError:ge,thrownError:K,_value:ue}=this;if(ge)throw K;return this._throwIfClosed(),ue}next(ge){super.next(this._value=ge)}}},5592:(Z,z,F)=>{F.d(z,{y:()=>le});var C=F(305),Y=F(7394),ie=F(4850),ge=F(8407),K=F(2653),ue=F(4674),Q=F(1441);let le=(()=>{class oe{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const Xe=new oe;return Xe.source=this,Xe.operator=Oe,Xe}subscribe(Oe,Xe,Me){const ct=function ee(oe){return oe&&oe instanceof C.Lv||function q(oe){return oe&&(0,ue.m)(oe.next)&&(0,ue.m)(oe.error)&&(0,ue.m)(oe.complete)}(oe)&&(0,Y.Nn)(oe)}(Oe)?Oe:new C.Hp(Oe,Xe,Me);return(0,Q.x)(()=>{const{operator:st,source:ft}=this;ct.add(st?st.call(ct,ft):ft?this._subscribe(ct):this._trySubscribe(ct))}),ct}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(Xe){Oe.error(Xe)}}forEach(Oe,Xe){return new(Xe=X(Xe))((Me,ct)=>{const st=new C.Hp({next:ft=>{try{Oe(ft)}catch(_t){ct(_t),st.unsubscribe()}},error:ct,complete:Me});this.subscribe(st)})}_subscribe(Oe){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Oe)}[ie.L](){return this}pipe(...Oe){return(0,ge.U)(Oe)(this)}toPromise(Oe){return new(Oe=X(Oe))((Xe,Me)=>{let ct;this.subscribe(st=>ct=st,st=>Me(st),()=>Xe(ct))})}}return oe.create=be=>new oe(be),oe})();function X(oe){var be;return null!==(be=oe??K.config.Promise)&&void 0!==be?be:Promise}},7328:(Z,z,F)=>{F.d(z,{t:()=>ie});var C=F(8645),Y=F(4552);class ie extends C.x{constructor(K=1/0,ue=1/0,Q=Y.l){super(),this._bufferSize=K,this._windowTime=ue,this._timestampProvider=Q,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ue===1/0,this._bufferSize=Math.max(1,K),this._windowTime=Math.max(1,ue)}next(K){const{isStopped:ue,_buffer:Q,_infiniteTimeWindow:le,_timestampProvider:X,_windowTime:q}=this;ue||(Q.push(K),!le&&Q.push(X.now()+q)),this._trimBuffer(),super.next(K)}_subscribe(K){this._throwIfClosed(),this._trimBuffer();const ue=this._innerSubscribe(K),{_infiniteTimeWindow:Q,_buffer:le}=this,X=le.slice();for(let q=0;q<X.length&&!K.closed;q+=Q?1:2)K.next(X[q]);return this._checkFinalizedStatuses(K),ue}_trimBuffer(){const{_bufferSize:K,_timestampProvider:ue,_buffer:Q,_infiniteTimeWindow:le}=this,X=(le?1:2)*K;if(K<1/0&&X<Q.length&&Q.splice(0,Q.length-X),!le){const q=ue.now();let ee=0;for(let oe=1;oe<Q.length&&Q[oe]<=q;oe+=2)ee=oe;ee&&Q.splice(0,ee+1)}}}},8645:(Z,z,F)=>{F.d(z,{x:()=>Q});var C=F(5592),Y=F(7394);const ge=(0,F(2306).d)(X=>function(){X(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=F(9039),ue=F(1441);let Q=(()=>{class X extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const oe=new le(this,this);return oe.operator=ee,oe}_throwIfClosed(){if(this.closed)throw new ge}next(ee){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(ee)}})}error(ee){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:oe}=this;for(;oe.length;)oe.shift().error(ee)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:oe,isStopped:be,observers:Oe}=this;return oe||be?Y.Lc:(this.currentObservers=null,Oe.push(ee),new Y.w0(()=>{this.currentObservers=null,(0,K.P)(Oe,ee)}))}_checkFinalizedStatuses(ee){const{hasError:oe,thrownError:be,isStopped:Oe}=this;oe?ee.error(be):Oe&&ee.complete()}asObservable(){const ee=new C.y;return ee.source=this,ee}}return X.create=(q,ee)=>new le(q,ee),X})();class le extends Q{constructor(q,ee){super(),this.destination=q,this.source=ee}next(q){var ee,oe;null===(oe=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===oe||oe.call(ee,q)}error(q){var ee,oe;null===(oe=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===oe||oe.call(ee,q)}complete(){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===ee||ee.call(q)}_subscribe(q){var ee,oe;return null!==(oe=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(q))&&void 0!==oe?oe:Y.Lc}}},305:(Z,z,F)=>{F.d(z,{Hp:()=>Me,Lv:()=>oe});var C=F(4674),Y=F(7394),ie=F(2653),ge=F(3894),K=F(2420);const ue=X("C",void 0,void 0);function X(he,Pe,Ae){return{kind:he,value:Pe,error:Ae}}var q=F(7599),ee=F(1441);class oe extends Y.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,Y.Nn)(Pe)&&Pe.add(this)):this.destination=_t}static create(Pe,Ae,Le){return new Me(Pe,Ae,Le)}next(Pe){this.isStopped?ft(function le(he){return X("N",he,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?ft(function Q(he){return X("E",void 0,he)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?ft(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const be=Function.prototype.bind;function Oe(he,Pe){return be.call(he,Pe)}class Xe{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Pe)}catch(Le){ct(Le)}}error(Pe){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Pe)}catch(Le){ct(Le)}else ct(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Ae){ct(Ae)}}}class Me extends oe{constructor(Pe,Ae,Le){let rt;if(super(),(0,C.m)(Pe)||!Pe)rt={next:Pe??void 0,error:Ae??void 0,complete:Le??void 0};else{let nt;this&&ie.config.useDeprecatedNextContext?(nt=Object.create(Pe),nt.unsubscribe=()=>this.unsubscribe(),rt={next:Pe.next&&Oe(Pe.next,nt),error:Pe.error&&Oe(Pe.error,nt),complete:Pe.complete&&Oe(Pe.complete,nt)}):rt=Pe}this.destination=new Xe(rt)}}function ct(he){ie.config.useDeprecatedSynchronousErrorHandling?(0,ee.O)(he):(0,ge.h)(he)}function ft(he,Pe){const{onStoppedNotification:Ae}=ie.config;Ae&&q.z.setTimeout(()=>Ae(he,Pe))}const _t={closed:!0,next:K.Z,error:function st(he){throw he},complete:K.Z}},7394:(Z,z,F)=>{F.d(z,{Lc:()=>ue,w0:()=>K,Nn:()=>Q});var C=F(4674);const ie=(0,F(2306).d)(X=>function(ee){X(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((oe,be)=>`${be+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ge=F(9039);class K{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Oe of ee)Oe.remove(this);else ee.remove(this);const{initialTeardown:oe}=this;if((0,C.m)(oe))try{oe()}catch(Oe){q=Oe instanceof ie?Oe.errors:[Oe]}const{_finalizers:be}=this;if(be){this._finalizers=null;for(const Oe of be)try{le(Oe)}catch(Xe){q=q??[],Xe instanceof ie?q=[...q,...Xe.errors]:q.push(Xe)}}if(q)throw new ie(q)}}add(q){var ee;if(q&&q!==this)if(this.closed)le(q);else{if(q instanceof K){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(q)}}_hasParent(q){const{_parentage:ee}=this;return ee===q||Array.isArray(ee)&&ee.includes(q)}_addParent(q){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(q),ee):ee?[ee,q]:q}_removeParent(q){const{_parentage:ee}=this;ee===q?this._parentage=null:Array.isArray(ee)&&(0,ge.P)(ee,q)}remove(q){const{_finalizers:ee}=this;ee&&(0,ge.P)(ee,q),q instanceof K&&q._removeParent(this)}}K.EMPTY=(()=>{const X=new K;return X.closed=!0,X})();const ue=K.EMPTY;function Q(X){return X instanceof K||X&&"closed"in X&&(0,C.m)(X.remove)&&(0,C.m)(X.add)&&(0,C.m)(X.unsubscribe)}function le(X){(0,C.m)(X)?X():X.unsubscribe()}},2653:(Z,z,F)=>{F.d(z,{config:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Z,z,F)=>{F.d(z,{E:()=>Y});const Y=new(F(5592).y)(K=>K.complete())},9666:(Z,z,F)=>{F.d(z,{D:()=>Ae});var C=F(4829),Y=F(3093),ie=F(9360);function ge(Le,rt=0){return(0,ie.e)((nt,Xt)=>{Xt.add(Le.schedule(()=>nt.subscribe(Xt),rt))})}var Q=F(5592),X=F(4971),q=F(4674),ee=F(7103);function be(Le,rt){if(!Le)throw new Error("Iterable cannot be null");return new Q.y(nt=>{(0,ee.f)(nt,rt,()=>{const Xt=Le[Symbol.asyncIterator]();(0,ee.f)(nt,rt,()=>{Xt.next().then($t=>{$t.done?nt.complete():nt.next($t.value)})},0,!0)})})}var Oe=F(8382),Xe=F(4026),Me=F(4266),ct=F(3664),st=F(5726),ft=F(9853),_t=F(541);function Ae(Le,rt){return rt?function Pe(Le,rt){if(null!=Le){if((0,Oe.c)(Le))return function K(Le,rt){return(0,C.Xf)(Le).pipe(ge(rt),(0,Y.Q)(rt))}(Le,rt);if((0,Me.z)(Le))return function le(Le,rt){return new Q.y(nt=>{let Xt=0;return rt.schedule(function(){Xt===Le.length?nt.complete():(nt.next(Le[Xt++]),nt.closed||this.schedule())})})}(Le,rt);if((0,Xe.t)(Le))return function ue(Le,rt){return(0,C.Xf)(Le).pipe(ge(rt),(0,Y.Q)(rt))}(Le,rt);if((0,st.D)(Le))return be(Le,rt);if((0,ct.T)(Le))return function oe(Le,rt){return new Q.y(nt=>{let Xt;return(0,ee.f)(nt,rt,()=>{Xt=Le[X.h](),(0,ee.f)(nt,rt,()=>{let $t,Sn;try{({value:$t,done:Sn}=Xt.next())}catch(Li){return void nt.error(Li)}Sn?nt.complete():nt.next($t)},0,!0)}),()=>(0,q.m)(Xt?.return)&&Xt.return()})}(Le,rt);if((0,_t.L)(Le))return function he(Le,rt){return be((0,_t.Q)(Le),rt)}(Le,rt)}throw(0,ft.z)(Le)}(Le,rt):(0,C.Xf)(Le)}},4829:(Z,z,F)=>{F.d(z,{Xf:()=>be});var C=F(7582),Y=F(4266),ie=F(4026),ge=F(5592),K=F(8382),ue=F(5726),Q=F(9853),le=F(3664),X=F(541),q=F(4674),ee=F(3894),oe=F(4850);function be(he){if(he instanceof ge.y)return he;if(null!=he){if((0,K.c)(he))return function Oe(he){return new ge.y(Pe=>{const Ae=he[oe.L]();if((0,q.m)(Ae.subscribe))return Ae.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(he);if((0,Y.z)(he))return function Xe(he){return new ge.y(Pe=>{for(let Ae=0;Ae<he.length&&!Pe.closed;Ae++)Pe.next(he[Ae]);Pe.complete()})}(he);if((0,ie.t)(he))return function Me(he){return new ge.y(Pe=>{he.then(Ae=>{Pe.closed||(Pe.next(Ae),Pe.complete())},Ae=>Pe.error(Ae)).then(null,ee.h)})}(he);if((0,ue.D)(he))return st(he);if((0,le.T)(he))return function ct(he){return new ge.y(Pe=>{for(const Ae of he)if(Pe.next(Ae),Pe.closed)return;Pe.complete()})}(he);if((0,X.L)(he))return function ft(he){return st((0,X.Q)(he))}(he)}throw(0,Q.z)(he)}function st(he){return new ge.y(Pe=>{(function _t(he,Pe){var Ae,Le,rt,nt;return(0,C.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,C.KL)(he);!(Le=yield Ae.next()).done;)if(Pe.next(Le.value),Pe.closed)return}catch(Xt){rt={error:Xt}}finally{try{Le&&!Le.done&&(nt=Ae.return)&&(yield nt.call(Ae))}finally{if(rt)throw rt.error}}Pe.complete()})})(he,Pe).catch(Ae=>Pe.error(Ae))})}},3019:(Z,z,F)=>{F.d(z,{T:()=>ue});var C=F(7537),Y=F(4829),ie=F(6232),ge=F(4564),K=F(9666);function ue(...Q){const le=(0,ge.yG)(Q),X=(0,ge._6)(Q,1/0),q=Q;return q.length?1===q.length?(0,Y.Xf)(q[0]):(0,C.J)(X)((0,K.D)(q,le)):ie.E}},2096:(Z,z,F)=>{F.d(z,{of:()=>ie});var C=F(4564),Y=F(9666);function ie(...ge){const K=(0,C.yG)(ge);return(0,Y.D)(ge,K)}},8251:(Z,z,F)=>{F.d(z,{Q:()=>ie,x:()=>Y});var C=F(305);function Y(ge,K,ue,Q,le){return new ie(ge,K,ue,Q,le)}class ie extends C.Lv{constructor(K,ue,Q,le,X,q){super(K),this.onFinalize=X,this.shouldUnsubscribe=q,this._next=ue?function(ee){try{ue(ee)}catch(oe){K.error(oe)}}:super._next,this._error=le?function(ee){try{le(ee)}catch(oe){K.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(ee){K.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}}},6306:(Z,z,F)=>{F.d(z,{K:()=>ge});var C=F(4829),Y=F(8251),ie=F(9360);function ge(K){return(0,ie.e)((ue,Q)=>{let q,le=null,X=!1;le=ue.subscribe((0,Y.x)(Q,void 0,void 0,ee=>{q=(0,C.Xf)(K(ee,ge(K)(ue))),le?(le.unsubscribe(),le=null,q.subscribe(Q)):X=!0})),X&&(le.unsubscribe(),le=null,q.subscribe(Q))})}},6328:(Z,z,F)=>{F.d(z,{b:()=>ie});var C=F(1631),Y=F(4674);function ie(ge,K){return(0,Y.m)(K)?(0,C.z)(ge,K,1):(0,C.z)(ge,1)}},3620:(Z,z,F)=>{F.d(z,{b:()=>ge});var C=F(6321),Y=F(9360),ie=F(8251);function ge(K,ue=C.z){return(0,Y.e)((Q,le)=>{let X=null,q=null,ee=null;const oe=()=>{if(X){X.unsubscribe(),X=null;const Oe=q;q=null,le.next(Oe)}};function be(){const Oe=ee+K,Xe=ue.now();if(Xe<Oe)return X=this.schedule(void 0,Oe-Xe),void le.add(X);oe()}Q.subscribe((0,ie.x)(le,Oe=>{q=Oe,ee=ue.now(),X||(X=ue.schedule(be,K),le.add(X))},()=>{oe(),le.complete()},void 0,()=>{q=X=null}))})}},3997:(Z,z,F)=>{F.d(z,{x:()=>ge});var C=F(2737),Y=F(9360),ie=F(8251);function ge(ue,Q=C.y){return ue=ue??K,(0,Y.e)((le,X)=>{let q,ee=!0;le.subscribe((0,ie.x)(X,oe=>{const be=Q(oe);(ee||!ue(q,be))&&(ee=!1,q=be,X.next(oe))}))})}function K(ue,Q){return ue===Q}},2181:(Z,z,F)=>{F.d(z,{h:()=>ie});var C=F(9360),Y=F(8251);function ie(ge,K){return(0,C.e)((ue,Q)=>{let le=0;ue.subscribe((0,Y.x)(Q,X=>ge.call(K,X,le++)&&Q.next(X)))})}},7398:(Z,z,F)=>{F.d(z,{U:()=>ie});var C=F(9360),Y=F(8251);function ie(ge,K){return(0,C.e)((ue,Q)=>{let le=0;ue.subscribe((0,Y.x)(Q,X=>{Q.next(ge.call(K,X,le++))}))})}},7537:(Z,z,F)=>{F.d(z,{J:()=>ie});var C=F(1631),Y=F(2737);function ie(ge=1/0){return(0,C.z)(Y.y,ge)}},1631:(Z,z,F)=>{F.d(z,{z:()=>le});var C=F(7398),Y=F(4829),ie=F(9360),ge=F(7103),K=F(8251),Q=F(4674);function le(X,q,ee=1/0){return(0,Q.m)(q)?le((oe,be)=>(0,C.U)((Oe,Xe)=>q(oe,Oe,be,Xe))((0,Y.Xf)(X(oe,be))),ee):("number"==typeof q&&(ee=q),(0,ie.e)((oe,be)=>function ue(X,q,ee,oe,be,Oe,Xe,Me){const ct=[];let st=0,ft=0,_t=!1;const he=()=>{_t&&!ct.length&&!st&&q.complete()},Pe=Le=>st<oe?Ae(Le):ct.push(Le),Ae=Le=>{Oe&&q.next(Le),st++;let rt=!1;(0,Y.Xf)(ee(Le,ft++)).subscribe((0,K.x)(q,nt=>{be?.(nt),Oe?Pe(nt):q.next(nt)},()=>{rt=!0},void 0,()=>{if(rt)try{for(st--;ct.length&&st<oe;){const nt=ct.shift();Xe?(0,ge.f)(q,Xe,()=>Ae(nt)):Ae(nt)}he()}catch(nt){q.error(nt)}}))};return X.subscribe((0,K.x)(q,Pe,()=>{_t=!0,he()})),()=>{Me?.()}}(oe,be,X,ee)))}},3093:(Z,z,F)=>{F.d(z,{Q:()=>ge});var C=F(7103),Y=F(9360),ie=F(8251);function ge(K,ue=0){return(0,Y.e)((Q,le)=>{Q.subscribe((0,ie.x)(le,X=>(0,C.f)(le,K,()=>le.next(X),ue),()=>(0,C.f)(le,K,()=>le.complete(),ue),X=>(0,C.f)(le,K,()=>le.error(X),ue)))})}},6699:(Z,z,F)=>{F.d(z,{R:()=>ge});var C=F(9360),Y=F(8251);function ge(K,ue){return(0,C.e)(function ie(K,ue,Q,le,X){return(q,ee)=>{let oe=Q,be=ue,Oe=0;q.subscribe((0,Y.x)(ee,Xe=>{const Me=Oe++;be=oe?K(be,Xe,Me):(oe=!0,Xe),le&&ee.next(be)},X&&(()=>{oe&&ee.next(be),ee.complete()})))}}(K,ue,arguments.length>=2,!0))}},3020:(Z,z,F)=>{F.d(z,{B:()=>K});var C=F(4829),Y=F(8645),ie=F(305),ge=F(9360);function K(Q={}){const{connector:le=(()=>new Y.x),resetOnError:X=!0,resetOnComplete:q=!0,resetOnRefCountZero:ee=!0}=Q;return oe=>{let be,Oe,Xe,Me=0,ct=!1,st=!1;const ft=()=>{Oe?.unsubscribe(),Oe=void 0},_t=()=>{ft(),be=Xe=void 0,ct=st=!1},he=()=>{const Pe=be;_t(),Pe?.unsubscribe()};return(0,ge.e)((Pe,Ae)=>{Me++,!st&&!ct&&ft();const Le=Xe=Xe??le();Ae.add(()=>{Me--,0===Me&&!st&&!ct&&(Oe=ue(he,ee))}),Le.subscribe(Ae),!be&&Me>0&&(be=new ie.Hp({next:rt=>Le.next(rt),error:rt=>{st=!0,ft(),Oe=ue(_t,X,rt),Le.error(rt)},complete:()=>{ct=!0,ft(),Oe=ue(_t,q),Le.complete()}}),(0,C.Xf)(Pe).subscribe(be))})(oe)}}function ue(Q,le,...X){if(!0===le)return void Q();if(!1===le)return;const q=new ie.Hp({next:()=>{q.unsubscribe(),Q()}});return(0,C.Xf)(le(...X)).subscribe(q)}},836:(Z,z,F)=>{F.d(z,{T:()=>Y});var C=F(2181);function Y(ie){return(0,C.h)((ge,K)=>ie<=K)}},4664:(Z,z,F)=>{F.d(z,{w:()=>ge});var C=F(4829),Y=F(9360),ie=F(8251);function ge(K,ue){return(0,Y.e)((Q,le)=>{let X=null,q=0,ee=!1;const oe=()=>ee&&!X&&le.complete();Q.subscribe((0,ie.x)(le,be=>{X?.unsubscribe();let Oe=0;const Xe=q++;(0,C.Xf)(K(be,Xe)).subscribe(X=(0,ie.x)(le,Me=>le.next(ue?ue(be,Me,Xe,Oe++):Me),()=>{X=null,oe()}))},()=>{ee=!0,oe()}))})}},8180:(Z,z,F)=>{F.d(z,{q:()=>ge});var C=F(6232),Y=F(9360),ie=F(8251);function ge(K){return K<=0?()=>C.E:(0,Y.e)((ue,Q)=>{let le=0;ue.subscribe((0,ie.x)(Q,X=>{++le<=K&&(Q.next(X),K<=le&&Q.complete())}))})}},9773:(Z,z,F)=>{F.d(z,{R:()=>K});var C=F(9360),Y=F(8251),ie=F(4829),ge=F(2420);function K(ue){return(0,C.e)((Q,le)=>{(0,ie.Xf)(ue).subscribe((0,Y.x)(le,()=>le.complete(),ge.Z)),!le.closed&&Q.subscribe(le)})}},797:(Z,z,F)=>{F.d(z,{V:()=>X});var C=F(6321),ie=F(9360),ge=F(4829),K=F(2306),ue=F(8251),Q=F(7103);const le=(0,K.d)(ee=>function(be=null){ee(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=be});function X(ee,oe){const{first:be,each:Oe,with:Xe=q,scheduler:Me=oe??C.z,meta:ct=null}=function Y(ee){return ee instanceof Date&&!isNaN(ee)}(ee)?{first:ee}:"number"==typeof ee?{each:ee}:ee;if(null==be&&null==Oe)throw new TypeError("No timeout provided.");return(0,ie.e)((st,ft)=>{let _t,he,Pe=null,Ae=0;const Le=rt=>{he=(0,Q.f)(ft,Me,()=>{try{_t.unsubscribe(),(0,ge.Xf)(Xe({meta:ct,lastValue:Pe,seen:Ae})).subscribe(ft)}catch(nt){ft.error(nt)}},rt)};_t=st.subscribe((0,ue.x)(ft,rt=>{he?.unsubscribe(),Ae++,ft.next(Pe=rt),Oe>0&&Le(Oe)},void 0,void 0,()=>{he?.closed||he?.unsubscribe(),Pe=null})),!Ae&&Le(null!=be?"number"==typeof be?be:+be-Me.now():Oe)})}function q(ee){throw new le(ee)}},2460:(Z,z,F)=>{F.d(z,{M:()=>Q});var C=F(9360),Y=F(8251),ie=F(4829),ge=F(2737),K=F(2420),ue=F(4564);function Q(...le){const X=(0,ue.jO)(le);return(0,C.e)((q,ee)=>{const oe=le.length,be=new Array(oe);let Oe=le.map(()=>!1),Xe=!1;for(let Me=0;Me<oe;Me++)(0,ie.Xf)(le[Me]).subscribe((0,Y.x)(ee,ct=>{be[Me]=ct,!Xe&&!Oe[Me]&&(Oe[Me]=!0,(Xe=Oe.every(ge.y))&&(Oe=null))},K.Z));q.subscribe((0,Y.x)(ee,Me=>{if(Xe){const ct=[Me,...be];ee.next(X?X(...ct):ct)}}))})}},1954:(Z,z,F)=>{F.d(z,{o:()=>K});var C=F(7394);class Y extends C.w0{constructor(Q,le){super()}schedule(Q,le=0){return this}}const ie={setInterval(ue,Q,...le){const{delegate:X}=ie;return X?.setInterval?X.setInterval(ue,Q,...le):setInterval(ue,Q,...le)},clearInterval(ue){const{delegate:Q}=ie;return(Q?.clearInterval||clearInterval)(ue)},delegate:void 0};var ge=F(9039);class K extends Y{constructor(Q,le){super(Q,le),this.scheduler=Q,this.work=le,this.pending=!1}schedule(Q,le=0){var X;if(this.closed)return this;this.state=Q;const q=this.id,ee=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(ee,q,le)),this.pending=!0,this.delay=le,this.id=null!==(X=this.id)&&void 0!==X?X:this.requestAsyncId(ee,this.id,le),this}requestAsyncId(Q,le,X=0){return ie.setInterval(Q.flush.bind(Q,this),X)}recycleAsyncId(Q,le,X=0){if(null!=X&&this.delay===X&&!1===this.pending)return le;null!=le&&ie.clearInterval(le)}execute(Q,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(Q,le);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,le){let q,X=!1;try{this.work(Q)}catch(ee){X=!0,q=ee||new Error("Scheduled action threw falsy error")}if(X)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:Q,scheduler:le}=this,{actions:X}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(X,this),null!=Q&&(this.id=this.recycleAsyncId(le,Q,null)),this.delay=null,super.unsubscribe()}}}},2631:(Z,z,F)=>{F.d(z,{v:()=>ie});var C=F(4552);class Y{constructor(K,ue=Y.now){this.schedulerActionCtor=K,this.now=ue}schedule(K,ue=0,Q){return new this.schedulerActionCtor(this,K).schedule(Q,ue)}}Y.now=C.l.now;class ie extends Y{constructor(K,ue=Y.now){super(K,ue),this.actions=[],this._active=!1}flush(K){const{actions:ue}=this;if(this._active)return void ue.push(K);let Q;this._active=!0;do{if(Q=K.execute(K.state,K.delay))break}while(K=ue.shift());if(this._active=!1,Q){for(;K=ue.shift();)K.unsubscribe();throw Q}}}},6321:(Z,z,F)=>{F.d(z,{z:()=>ie});var C=F(1954);const ie=new(F(2631).v)(C.o)},4552:(Z,z,F)=>{F.d(z,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},2381:(Z,z,F)=>{F.d(z,{N:()=>K});var C=F(1954),ie=F(2631);const K=new class ge extends ie.v{}(class Y extends C.o{constructor(le,X){super(le,X),this.scheduler=le,this.work=X}schedule(le,X=0){return X>0?super.schedule(le,X):(this.delay=X,this.state=le,this.scheduler.flush(this),this)}execute(le,X){return X>0||this.closed?super.execute(le,X):this._execute(le,X)}requestAsyncId(le,X,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(le,X,q):(le.flush(this),0)}})},7599:(Z,z,F)=>{F.d(z,{z:()=>C});const C={setTimeout(Y,ie,...ge){const{delegate:K}=C;return K?.setTimeout?K.setTimeout(Y,ie,...ge):setTimeout(Y,ie,...ge)},clearTimeout(Y){const{delegate:ie}=C;return(ie?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},4971:(Z,z,F)=>{F.d(z,{h:()=>Y});const Y=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Z,z,F)=>{F.d(z,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Z,z,F)=>{F.d(z,{_6:()=>ue,jO:()=>ge,yG:()=>K});var C=F(4674);function ie(Q){return Q[Q.length-1]}function ge(Q){return(0,C.m)(ie(Q))?Q.pop():void 0}function K(Q){return function Y(Q){return Q&&(0,C.m)(Q.schedule)}(ie(Q))?Q.pop():void 0}function ue(Q,le){return"number"==typeof ie(Q)?Q.pop():le}},9039:(Z,z,F)=>{function C(Y,ie){if(Y){const ge=Y.indexOf(ie);0<=ge&&Y.splice(ge,1)}}F.d(z,{P:()=>C})},2306:(Z,z,F)=>{function C(Y){const ge=Y(K=>{Error.call(K),K.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}F.d(z,{d:()=>C})},1441:(Z,z,F)=>{F.d(z,{O:()=>ge,x:()=>ie});var C=F(2653);let Y=null;function ie(K){if(C.config.useDeprecatedSynchronousErrorHandling){const ue=!Y;if(ue&&(Y={errorThrown:!1,error:null}),K(),ue){const{errorThrown:Q,error:le}=Y;if(Y=null,Q)throw le}}else K()}function ge(K){C.config.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=K)}},7103:(Z,z,F)=>{function C(Y,ie,ge,K=0,ue=!1){const Q=ie.schedule(function(){ge(),ue?Y.add(this.schedule(null,K)):this.unsubscribe()},K);if(Y.add(Q),!ue)return Q}F.d(z,{f:()=>C})},2737:(Z,z,F)=>{function C(Y){return Y}F.d(z,{y:()=>C})},4266:(Z,z,F)=>{F.d(z,{z:()=>C});const C=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},5726:(Z,z,F)=>{F.d(z,{D:()=>Y});var C=F(4674);function Y(ie){return Symbol.asyncIterator&&(0,C.m)(ie?.[Symbol.asyncIterator])}},4674:(Z,z,F)=>{function C(Y){return"function"==typeof Y}F.d(z,{m:()=>C})},8382:(Z,z,F)=>{F.d(z,{c:()=>ie});var C=F(4850),Y=F(4674);function ie(ge){return(0,Y.m)(ge[C.L])}},3664:(Z,z,F)=>{F.d(z,{T:()=>ie});var C=F(4971),Y=F(4674);function ie(ge){return(0,Y.m)(ge?.[C.h])}},4026:(Z,z,F)=>{F.d(z,{t:()=>Y});var C=F(4674);function Y(ie){return(0,C.m)(ie?.then)}},541:(Z,z,F)=>{F.d(z,{L:()=>ge,Q:()=>ie});var C=F(7582),Y=F(4674);function ie(K){return(0,C.FC)(this,arguments,function*(){const Q=K.getReader();try{for(;;){const{value:le,done:X}=yield(0,C.qq)(Q.read());if(X)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(le)}}finally{Q.releaseLock()}})}function ge(K){return(0,Y.m)(K?.getReader)}},9360:(Z,z,F)=>{F.d(z,{A:()=>Y,e:()=>ie});var C=F(4674);function Y(ge){return(0,C.m)(ge?.lift)}function ie(ge){return K=>{if(Y(K))return K.lift(function(ue){try{return ge(ue,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(Z,z,F)=>{function C(){}F.d(z,{Z:()=>C})},8407:(Z,z,F)=>{F.d(z,{U:()=>ie,z:()=>Y});var C=F(2737);function Y(...ge){return ie(ge)}function ie(ge){return 0===ge.length?C.y:1===ge.length?ge[0]:function(ue){return ge.reduce((Q,le)=>le(Q),ue)}}},3894:(Z,z,F)=>{F.d(z,{h:()=>ie});var C=F(2653),Y=F(7599);function ie(ge){Y.z.setTimeout(()=>{const{onUnhandledError:K}=C.config;if(!K)throw ge;K(ge)})}},9853:(Z,z,F)=>{function C(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(z,{z:()=>C})},5879:(Z,z,F)=>{F.d(z,{$8M:()=>gs,$WT:()=>Pa,$Z:()=>zg,AFp:()=>vt,AaK:()=>oe,AsE:()=>ri,BQk:()=>Ff,CHM:()=>Ws,CRH:()=>Ub,EJc:()=>ZP,EpF:()=>Ln,F4k:()=>li,FYo:()=>DC,FiY:()=>zh,Flj:()=>xT,G48:()=>wI,GfV:()=>za,Gpc:()=>Xe,HDt:()=>la,JOm:()=>jy,KtG:()=>qS,LFG:()=>Hn,Lbi:()=>mC,Lck:()=>xu,MMx:()=>wb,MR2:()=>xg,NdJ:()=>wv,Ojb:()=>hi,OlP:()=>on,P3R:()=>o0,PXZ:()=>gI,Q6J:()=>a_,QGY:()=>c_,QbO:()=>ke,Qsj:()=>g0,R0b:()=>ii,RDi:()=>zE,Rgc:()=>Xf,SBq:()=>Wa,Sil:()=>JP,Suo:()=>jv,TTD:()=>eg,TgZ:()=>hd,VuI:()=>lm,WLB:()=>Fv,X6Q:()=>_I,XFs:()=>Ne,Xpm:()=>j,Xq5:()=>XC,Xts:()=>Gc,Y36:()=>fu,YKP:()=>_b,YNc:()=>oD,Yjl:()=>kn,Yz7:()=>Ft,Z0I:()=>Rn,ZZ4:()=>om,_Bn:()=>Cb,_UZ:()=>l_,_Vd:()=>br,_c5:()=>LI,_uU:()=>ID,aQg:()=>cw,c2e:()=>nO,cJS:()=>qn,cg1:()=>xv,dDg:()=>uO,dqk:()=>Fn,eFA:()=>fO,eJc:()=>z_,ekj:()=>__,eoX:()=>cO,f3M:()=>vn,g9A:()=>d0,gHi:()=>Hg,h0i:()=>Au,hGG:()=>NI,iGM:()=>Bv,ifc:()=>os,ip1:()=>tO,jDz:()=>Sb,kL8:()=>XD,ktI:()=>hf,lG2:()=>An,lqb:()=>Lo,lri:()=>aO,n5z:()=>Ty,oAB:()=>ze,oxw:()=>p_,qFp:()=>KI,qLn:()=>qs,qOj:()=>Df,qZA:()=>fd,rWj:()=>lO,rg0:()=>Jp,sBO:()=>SI,s_b:()=>kv,soG:()=>Zv,tBr:()=>$s,tb:()=>Pd,tdS:()=>gN,tp0:()=>Fo,uIk:()=>fv,vHH:()=>he,vpe:()=>ws,wAp:()=>bu,xp6:()=>PC,ynx:()=>_v,z2F:()=>Fd,zSh:()=>Hc,zs3:()=>ko});var C=F(8645),Y=F(7394),ie=F(5592),ge=F(3019),K=F(5619),ue=F(2096),Q=F(3020),le=F(4664),X=F(3997);function q(l){for(let u in l)if(l[u]===q)return u;throw Error("Could not find renamed property on target object.")}function ee(l,u){for(const d in u)u.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=u[d])}function oe(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(oe).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const u=l.toString();if(null==u)return""+u;const d=u.indexOf("\n");return-1===d?u:u.substring(0,d)}function be(l,u){return null==l||""===l?null===u?"":u:null==u||""===u?l:l+" "+u}const Oe=q({__forward_ref__:q});function Xe(l){return l.__forward_ref__=Xe,l.toString=function(){return oe(this())},l}function Me(l){return ct(l)?l():l}function ct(l){return"function"==typeof l&&l.hasOwnProperty(Oe)&&l.__forward_ref__===Xe}function st(l){return l&&!!l.\u0275providers}const _t="https://g.co/ng/security#xss";class he extends Error{constructor(u,d){super(function Pe(l,u){return`NG0${Math.abs(l)}${u?": "+u:""}`}(u,d)),this.code=u}}function Ae(l){return"string"==typeof l?l:null==l?"":String(l)}function $t(l,u){throw new he(-201,!1)}function ut(l,u){null==l&&function Ze(l,u,d,f){throw new Error(`ASSERTION ERROR: ${l}`+(null==f?"":` [Expected=> ${d} ${f} ${u} <=Actual]`))}(u,l,null,"!=")}function Ft(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function qn(l){return{providers:l.providers||[],imports:l.imports||[]}}function Di(l){return Ni(l,Hs)||Ni(l,We)}function Rn(l){return null!==Di(l)}function Ni(l,u){return l.hasOwnProperty(u)?l[u]:null}function Oa(l){return l&&(l.hasOwnProperty(se)||l.hasOwnProperty(pt))?l[se]:null}const Hs=q({\u0275prov:q}),se=q({\u0275inj:q}),We=q({ngInjectableDef:q}),pt=q({ngInjectorDef:q});var Ne=function(l){return l[l.Default=0]="Default",l[l.Host=1]="Host",l[l.Self=2]="Self",l[l.SkipSelf=4]="SkipSelf",l[l.Optional=8]="Optional",l}(Ne||{});let Rt;function bt(){return Rt}function Tn(l){const u=Rt;return Rt=l,u}function Bs(l,u,d){const f=Di(l);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&Ne.Optional?null:void 0!==u?u:void $t(oe(l))}const Fn=globalThis,is={},Gl="__NG_DI_FLAG__",Vl="ngTempTokenPath",Vp=/\n/gm,Hp="__source";let xo;function rs(l){const u=xo;return xo=l,u}function Ra(l,u=Ne.Default){if(void 0===xo)throw new he(-203,!1);return null===xo?Bs(l,void 0,u):xo.get(l,u&Ne.Optional?null:void 0,u)}function Hn(l,u=Ne.Default){return(bt()||Ra)(Me(l),u)}function vn(l,u=Ne.Default){return Hn(l,Ta(u))}function Ta(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function ac(l){const u=[];for(let d=0;d<l.length;d++){const f=Me(l[d]);if(Array.isArray(f)){if(0===f.length)throw new he(900,!1);let v,y=Ne.Default;for(let S=0;S<f.length;S++){const D=f[S],O=jp(D);"number"==typeof O?-1===O?v=D.token:y|=O:v=D}u.push(Hn(v,y))}else u.push(Hn(f))}return u}function Hl(l,u){return l[Gl]=u,l.prototype[Gl]=u,l}function jp(l){return l[Gl]}function Mo(l){return{toString:l}.toString()}var Aa=function(l){return l[l.OnPush=0]="OnPush",l[l.Default=1]="Default",l}(Aa||{}),os=function(l){return l[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",l}(os||{});const yr={},rn=[],xa=q({\u0275cmp:q}),Bl=q({\u0275dir:q}),Ma=q({\u0275pipe:q}),Up=q({\u0275mod:q}),fo=q({\u0275fac:q}),js=q({__NG_ELEMENT_ID__:q}),lc=q({__NG_ENV_ID__:q});function mh(l,u,d){let f=l.length;for(;;){const v=l.indexOf(u,d);if(-1===v)return v;if(0===v||l.charCodeAt(v-1)<=32){const y=u.length;if(v+y===f||l.charCodeAt(v+y)<=32)return v}d=v+1}}function yh(l,u,d){let f=0;for(;f<d.length;){const v=d[f];if("number"==typeof v){if(0!==v)break;f++;const y=d[f++],S=d[f++],D=d[f++];l.setAttribute(u,S,D,y)}else{const y=v,S=d[++f];jl(y)?l.setProperty(u,y,S):l.setAttribute(u,y,S),f++}}return f}function Wp(l){return 3===l||4===l||6===l}function jl(l){return 64===l.charCodeAt(0)}function Ul(l,u){if(null!==u&&0!==u.length)if(null===l||0===l.length)l=u.slice();else{let d=-1;for(let f=0;f<u.length;f++){const v=u[f];"number"==typeof v?d=v:0===d||zp(l,d,v,null,-1===d||2===d?u[++f]:null)}}return l}function zp(l,u,d,f,v){let y=0,S=l.length;if(-1===u)S=-1;else for(;y<l.length;){const D=l[y++];if("number"==typeof D){if(D===u){S=-1;break}if(D>u){S=y-1;break}}}for(;y<l.length;){const D=l[y];if("number"==typeof D)break;if(D===d){if(null===f)return void(null!==v&&(l[y+1]=v));if(f===l[y+1])return void(l[y+2]=v)}y++,null!==f&&y++,null!==v&&y++}-1!==S&&(l.splice(S,0,u),y=S+1),l.splice(y++,0,d),null!==f&&l.splice(y++,0,f),null!==v&&l.splice(y++,0,v)}const uc="ng-template";function SS(l,u,d){let f=0,v=!0;for(;f<l.length;){let y=l[f++];if("string"==typeof y&&v){const S=l[f++];if(d&&"class"===y&&-1!==mh(S.toLowerCase(),u,0))return!0}else{if(1===y){for(;f<l.length&&"string"==typeof(y=l[f++]);)if(y.toLowerCase()===u)return!0;return!1}"number"==typeof y&&(v=!1)}}return!1}function cc(l){return 4===l.type&&l.value!==uc}function ES(l,u,d){return u===(4!==l.type||d?l.value:uc)}function Ch(l,u,d){let f=4;const v=l.attrs||[],y=function DS(l){for(let u=0;u<l.length;u++)if(Wp(l[u]))return u;return l.length}(v);let S=!1;for(let D=0;D<u.length;D++){const O=u[D];if("number"!=typeof O){if(!S)if(4&f){if(f=2|1&f,""!==O&&!ES(l,O,d)||""===O&&1===u.length){if(qi(f))return!1;S=!0}}else{const M=8&f?O:u[++D];if(8&f&&null!==l.attrs){if(!SS(l.attrs,M,d)){if(qi(f))return!1;S=!0}continue}const B=_h(8&f?"class":O,v,cc(l),d);if(-1===B){if(qi(f))return!1;S=!0;continue}if(""!==M){let $;$=B>y?"":v[B+1].toLowerCase();const J=8&f?$:null;if(J&&-1!==mh(J,M,0)||2&f&&M!==$){if(qi(f))return!1;S=!0}}}}else{if(!S&&!qi(f)&&!qi(O))return!1;if(S&&qi(O))continue;S=!1,f=O|1&f}}return qi(f)||S}function qi(l){return 0==(1&l)}function _h(l,u,d,f){if(null===u)return-1;let v=0;if(f||!d){let y=!1;for(;v<u.length;){const S=u[v];if(S===l)return v;if(3===S||6===S)y=!0;else{if(1===S||2===S){let D=u[++v];for(;"string"==typeof D;)D=u[++v];continue}if(4===S)break;if(0===S){v+=4;continue}}v+=y?1:2}return-1}return function wh(l,u){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const f=l[d];if("number"==typeof f)return-1;if(f===u)return d;d++}return-1}(u,l)}function ey(l,u,d=!1){for(let f=0;f<u.length;f++)if(Ch(l,u[f],d))return!0;return!1}function dc(l,u){return l?":not("+u.trim()+")":u}function bS(l){let u=l[0],d=1,f=2,v="",y=!1;for(;d<l.length;){let S=l[d];if("string"==typeof S)if(2&f){const D=l[++d];v+="["+S+(D.length>0?'="'+D+'"':"")+"]"}else 8&f?v+="."+S:4&f&&(v+=" "+S);else""!==v&&!qi(S)&&(u+=dc(y,v),v=""),f=S,y=y||!qi(f);d++}return""!==v&&(u+=dc(y,v)),u}function j(l){return Mo(()=>{const u=Eh(l),d={...u,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===Aa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:u.standalone&&l.dependencies||null,getStandaloneInjector:null,signals:l.signals??!1,data:l.data||{},encapsulation:l.encapsulation||os.Emulated,styles:l.styles||rn,_:null,schemas:l.schemas||null,tView:null,id:""};RS(d);const f=l.dependencies;return d.directiveDefs=$p(f,!1),d.pipeDefs=$p(f,!0),d.id=function vT(l){let u=0;const d=[l.selectors,l.ngContentSelectors,l.hostVars,l.hostAttrs,l.consts,l.vars,l.decls,l.encapsulation,l.standalone,l.signals,l.exportAs,JSON.stringify(l.inputs),JSON.stringify(l.outputs),Object.getOwnPropertyNames(l.type.prototype),!!l.contentQueries,!!l.viewQuery].join("|");for(const v of d)u=Math.imul(31,u)+v.charCodeAt(0)<<0;return u+=2147483648,"c"+u}(d),d})}function te(l){return Pt(l)||Ut(l)}function pe(l){return null!==l}function ze(l){return Mo(()=>({type:l.type,bootstrap:l.bootstrap||rn,declarations:l.declarations||rn,imports:l.imports||rn,exports:l.exports||rn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Zt(l,u){if(null==l)return yr;const d={};for(const f in l)if(l.hasOwnProperty(f)){let v=l[f],y=v;Array.isArray(v)&&(y=v[1],v=v[0]),d[v]=f,u&&(u[v]=y)}return d}function An(l){return Mo(()=>{const u=Eh(l);return RS(u),u})}function kn(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function Pt(l){return l[xa]||null}function Ut(l){return l[Bl]||null}function En(l){return l[Ma]||null}function Pa(l){const u=Pt(l)||Ut(l)||En(l);return null!==u&&u.standalone}function ki(l,u){const d=l[Up]||null;if(!d&&!0===u)throw new Error(`Type ${oe(l)} does not have '\u0275mod' property.`);return d}function Eh(l){const u={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:u,inputTransforms:null,inputConfig:l.inputs||yr,exportAs:l.exportAs||null,standalone:!0===l.standalone,signals:!0===l.signals,selectors:l.selectors||rn,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zt(l.inputs,u),outputs:Zt(l.outputs)}}function RS(l){l.features?.forEach(u=>u(l))}function $p(l,u){if(!l)return null;const d=u?En:te;return()=>("function"==typeof l?l():l).map(f=>d(f)).filter(pe)}const Bn=0,ot=1,Wt=2,Gn=3,jr=4,Wl=5,Xi=6,Dh=7,Xn=8,Us=9,hc=10,Gt=11,bh=12,mT=13,zl=14,ti=15,Kp=16,Oh=17,ss=18,Rh=19,TS=20,$l=21,as=22,Yp=23,Kl=24,tn=25,ny=1,AS=2,Ur=7,Th=9,bi=11;function Wr(l){return Array.isArray(l)&&"object"==typeof l[ny]}function Zi(l){return Array.isArray(l)&&!0===l[ny]}function iy(l){return 0!=(4&l.flags)}function Yl(l){return l.componentOffset>-1}function ry(l){return 1==(1&l.flags)}function ls(l){return!!l.template}function oy(l){return 0!=(512&l[Wt])}function ql(l,u){return l.hasOwnProperty(fo)?l[fo]:null}const Ia=Symbol("SIGNAL");function fc(l,u){return(null===l||"object"!=typeof l)&&Object.is(l,u)}let Gi=null,sy=!1;function zr(l){const u=Gi;return Gi=l,u}const xh={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ET(l){if(sy)throw new Error("");if(null===Gi)return;const u=Gi.nextProducerIndex++;pc(Gi),u<Gi.producerNode.length&&Gi.producerNode[u]!==l&&Zp(Gi)&&uy(Gi.producerNode[u],Gi.producerIndexOfThis[u]),Gi.producerNode[u]!==l&&(Gi.producerNode[u]=l,Gi.producerIndexOfThis[u]=Zp(Gi)?TT(l,Gi,u):0),Gi.producerLastReadVersion[u]=l.version}function DT(l){if(!Zp(l)||l.dirty){if(!l.producerMustRecompute(l)&&!OT(l))return void(l.dirty=!1);l.producerRecomputeValue(l),l.dirty=!1}}function PS(l){if(void 0===l.liveConsumerNode)return;const u=sy;sy=!0;try{for(const d of l.liveConsumerNode)d.dirty||bT(d)}finally{sy=u}}function Xp(){return!1!==Gi?.consumerAllowSignalWrites}function bT(l){l.dirty=!0,PS(l),l.consumerMarkedDirty?.(l)}function ay(l){return l&&(l.nextProducerIndex=0),zr(l)}function ly(l,u){if(zr(u),l&&void 0!==l.producerNode&&void 0!==l.producerIndexOfThis&&void 0!==l.producerLastReadVersion){if(Zp(l))for(let d=l.nextProducerIndex;d<l.producerNode.length;d++)uy(l.producerNode[d],l.producerIndexOfThis[d]);for(;l.producerNode.length>l.nextProducerIndex;)l.producerNode.pop(),l.producerLastReadVersion.pop(),l.producerIndexOfThis.pop()}}function OT(l){pc(l);for(let u=0;u<l.producerNode.length;u++){const d=l.producerNode[u],f=l.producerLastReadVersion[u];if(f!==d.version||(DT(d),f!==d.version))return!0}return!1}function RT(l){if(pc(l),Zp(l))for(let u=0;u<l.producerNode.length;u++)uy(l.producerNode[u],l.producerIndexOfThis[u]);l.producerNode.length=l.producerLastReadVersion.length=l.producerIndexOfThis.length=0,l.liveConsumerNode&&(l.liveConsumerNode.length=l.liveConsumerIndexOfThis.length=0)}function TT(l,u,d){if(AT(l),pc(l),0===l.liveConsumerNode.length)for(let f=0;f<l.producerNode.length;f++)l.producerIndexOfThis[f]=TT(l.producerNode[f],l,f);return l.liveConsumerIndexOfThis.push(d),l.liveConsumerNode.push(u)-1}function uy(l,u){if(AT(l),pc(l),1===l.liveConsumerNode.length)for(let f=0;f<l.producerNode.length;f++)uy(l.producerNode[f],l.producerIndexOfThis[f]);const d=l.liveConsumerNode.length-1;if(l.liveConsumerNode[u]=l.liveConsumerNode[d],l.liveConsumerIndexOfThis[u]=l.liveConsumerIndexOfThis[d],l.liveConsumerNode.length--,l.liveConsumerIndexOfThis.length--,u<l.liveConsumerNode.length){const f=l.liveConsumerIndexOfThis[u],v=l.liveConsumerNode[u];pc(v),v.producerIndexOfThis[f]=u}}function Zp(l){return l.consumerIsAlwaysLive||(l?.liveConsumerNode?.length??0)>0}function pc(l){l.producerNode??=[],l.producerIndexOfThis??=[],l.producerLastReadVersion??=[]}function AT(l){l.liveConsumerNode??=[],l.liveConsumerIndexOfThis??=[]}function xT(l,u){const d=Object.create(hN);d.computation=l,u?.equal&&(d.equal=u.equal);const f=()=>{if(DT(d),ET(d),d.value===dy)throw d.error;return d.value};return f[Ia]=d,f}const cy=Symbol("UNSET"),IS=Symbol("COMPUTING"),dy=Symbol("ERRORED"),hN=(()=>({...xh,value:cy,dirty:!0,error:null,equal:fc,producerMustRecompute:l=>l.value===cy||l.value===IS,producerRecomputeValue(l){if(l.value===IS)throw new Error("Detected cycle in computations.");const u=l.value;l.value=IS;const d=ay(l);let f;try{f=l.computation()}catch(v){f=dy,l.error=v}finally{ly(l,d)}u!==cy&&u!==dy&&f!==dy&&l.equal(u,f)?l.value=u:(l.value=f,l.version++)}}))();let MT=function fN(){throw new Error};function FS(){MT()}let LS=null;function gN(l,u){const d=Object.create(Qp);function f(){return ET(d),d.value}return d.value=l,u?.equal&&(d.equal=u.equal),f.set=NS,f.update=hy,f.mutate=Mh,f.asReadonly=IT,f[Ia]=d,f}const Qp=(()=>({...xh,equal:fc,readonlyFn:void 0}))();function PT(l){l.version++,PS(l),LS?.()}function NS(l){const u=this[Ia];Xp()||FS(),u.equal(u.value,l)||(u.value=l,PT(u))}function hy(l){Xp()||FS(),NS.call(this,l(this[Ia].value))}function Mh(l){const u=this[Ia];Xp()||FS(),l(u.value),PT(u)}function IT(){const l=this[Ia];if(void 0===l.readonlyFn){const u=()=>this();u[Ia]=l,l.readonlyFn=u}return l.readonlyFn}function Jp(l){const u=zr(null);try{return l()}finally{zr(u)}}const kS=()=>{},LT=(()=>({...xh,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:l=>{l.schedule(l.ref)},hasRun:!1,cleanupFn:kS}))();class VS{constructor(u,d,f){this.previousValue=u,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function eg(){return tg}function tg(l){return l.type.prototype.ngOnChanges&&(l.setInput=fy),HS}function HS(){const l=py(this),u=l?.current;if(u){const d=l.previous;if(d===yr)l.previous=u;else for(let f in u)d[f]=u[f];l.current=null,this.ngOnChanges(u)}}function fy(l,u,d,f){const v=this.declaredInputs[d],y=py(l)||function NT(l,u){return l[ng]=u}(l,{previous:yr,current:null}),S=y.current||(y.current={}),D=y.previous,O=D[v];S[v]=new VS(O&&O.currentValue,u,D===yr),l[f]=u}eg.ngInherit=!0;const ng="__ngSimpleChanges__";function py(l){return l[ng]||null}const us=function(l,u,d){};function Dn(l){for(;Array.isArray(l);)l=l[Bn];return l}function gc(l,u){return Dn(u[l])}function Cr(l,u){return Dn(u[l.index])}function vy(l,u){return l.data[u]}function Qi(l,u){const d=u[l];return Wr(d)?d:d[Bn]}function Fa(l,u){return null==u?null:l[u]}function zS(l){l[Oh]=0}function VT(l){1024&l[Wt]||(l[Wt]|=1024,BT(l,1))}function HT(l){1024&l[Wt]&&(l[Wt]&=-1025,BT(l,-1))}function BT(l,u){let d=l[Gn];if(null===d)return;d[Wl]+=u;let f=d;for(d=d[Gn];null!==d&&(1===u&&1===f[Wl]||-1===u&&0===f[Wl]);)d[Wl]+=u,f=d,d=d[Gn]}function my(l,u){if(256==(256&l[Wt]))throw new he(911,!1);null===l[$l]&&(l[$l]=[]),l[$l].push(u)}const xt={lFrame:cs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yy(){return xt.bindingsEnabled}function xe(){return xt.lFrame.lView}function nn(){return xt.lFrame.tView}function Ws(l){return xt.lFrame.contextLView=l,l[Xn]}function qS(l){return xt.lFrame.contextLView=null,l}function Oi(){let l=ig();for(;null!==l&&64===l.type;)l=l.parent;return l}function ig(){return xt.lFrame.currentTNode}function zs(l,u){const d=xt.lFrame;d.currentTNode=l,d.isParent=u}function XS(){return xt.lFrame.isParent}function ZS(){xt.lFrame.isParent=!1}function Ih(){return xt.lFrame.bindingIndex++}function Na(l){const u=xt.lFrame,d=u.bindingIndex;return u.bindingIndex=u.bindingIndex+l,d}function JS(l,u){const d=xt.lFrame;d.bindingIndex=d.bindingRootIndex=l,eE(u)}function eE(l){xt.lFrame.currentDirectiveIndex=l}function qT(){return xt.lFrame.currentQueryIndex}function nE(l){xt.lFrame.currentQueryIndex=l}function EN(l){const u=l[ot];return 2===u.type?u.declTNode:1===u.type?l[Xi]:null}function XT(l,u,d){if(d&Ne.SkipSelf){let v=u,y=l;for(;!(v=v.parent,null!==v||d&Ne.Host||(v=EN(y),null===v||(y=y[zl],10&v.type))););if(null===v)return!1;u=v,l=y}const f=xt.lFrame=di();return f.currentTNode=u,f.lView=l,!0}function yt(l){const u=di(),d=l[ot];xt.lFrame=u,u.currentTNode=d.firstChild,u.lView=l,u.tView=d,u.contextLView=l,u.bindingIndex=d.bindingStartIndex,u.inI18n=!1}function di(){const l=xt.lFrame,u=null===l?null:l.child;return null===u?cs(l):u}function cs(l){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=u),u}function Zl(){const l=xt.lFrame;return xt.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const wr=Zl;function Kt(){const l=Zl();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function bn(){return xt.lFrame.selectedIndex}function ds(l){xt.lFrame.selectedIndex=l}function xn(){const l=xt.lFrame;return vy(l.tView,l.selectedIndex)}let rE=!0;function Lh(){return rE}function Po(l){rE=l}function Cy(l,u){for(let d=u.directiveStart,f=u.directiveEnd;d<f;d++){const y=l.data[d].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:M,ngOnDestroy:L}=y;S&&(l.contentHooks??=[]).push(-d,S),D&&((l.contentHooks??=[]).push(d,D),(l.contentCheckHooks??=[]).push(d,D)),O&&(l.viewHooks??=[]).push(-d,O),M&&((l.viewHooks??=[]).push(d,M),(l.viewCheckHooks??=[]).push(d,M)),null!=L&&(l.destroyHooks??=[]).push(d,L)}}function rg(l,u,d){_y(l,u,3,d)}function og(l,u,d,f){(3&l[Wt])===d&&_y(l,u,d,f)}function sg(l,u){let d=l[Wt];(3&d)===u&&(d&=8191,d+=1,l[Wt]=d)}function _y(l,u,d,f){const y=f??-1,S=u.length-1;let D=0;for(let O=void 0!==f?65535&l[Oh]:0;O<S;O++)if("number"==typeof u[O+1]){if(D=u[O],null!=f&&D>=f)break}else u[O]<0&&(l[Oh]+=65536),(D<y||-1==y)&&(JT(l,d,u,O),l[Oh]=(4294901760&l[Oh])+O+2),O++}function wy(l,u){us(4,l,u);const d=zr(null);try{u.call(l)}finally{zr(d),us(5,l,u)}}function JT(l,u,d,f){const v=d[f]<0,y=d[f+1],D=l[v?-d[f]:d[f]];v?l[Wt]>>13<l[Oh]>>16&&(3&l[Wt])===u&&(l[Wt]+=8192,wy(D,y)):wy(D,y)}const fs=-1;class ps{constructor(u,d,f){this.factory=u,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function aE(l){return l!==fs}function yc(l){return 32767&l}function Cc(l,u){let d=function ON(l){return l>>16}(l),f=u;for(;d>0;)f=f[zl],d--;return f}let lE=!0;function Nh(l){const u=lE;return lE=l,u}const uE=255,cE=5;let kh=0;const Io={};function Gh(l,u){const d=nA(l,u);if(-1!==d)return d;const f=u[ot];f.firstCreatePass&&(l.injectorIndex=u.length,dE(f.data,l),dE(u,null),dE(f.blueprint,null));const v=Dy(l,u),y=l.injectorIndex;if(aE(v)){const S=yc(v),D=Cc(v,u),O=D[ot].data;for(let M=0;M<8;M++)u[y+M]=D[S+M]|O[S+M]}return u[y+8]=v,y}function dE(l,u){l.push(0,0,0,0,0,0,0,0,u)}function nA(l,u){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===u[l.injectorIndex+8]?-1:l.injectorIndex}function Dy(l,u){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,f=null,v=u;for(;null!==v;){if(f=aA(v),null===f)return fs;if(d++,v=v[zl],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return fs}function hE(l,u,d){!function tA(l,u,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(js)&&(f=d[js]),null==f&&(f=d[js]=kh++);const v=f&uE;u.data[l+(v>>cE)]|=1<<v}(l,u,d)}function iA(l,u,d){if(d&Ne.Optional||void 0!==l)return l;$t()}function fE(l,u,d,f){if(d&Ne.Optional&&void 0===f&&(f=null),!(d&(Ne.Self|Ne.Host))){const v=l[Us],y=Tn(void 0);try{return v?v.get(u,f,d&Ne.Optional):Bs(u,f,d&Ne.Optional)}finally{Tn(y)}}return iA(f,0,d)}function pE(l,u,d,f=Ne.Default,v){if(null!==l){if(2048&u[Wt]&&!(f&Ne.Self)){const S=function sA(l,u,d,f,v){let y=l,S=u;for(;null!==y&&null!==S&&2048&S[Wt]&&!(512&S[Wt]);){const D=by(y,S,d,f|Ne.Self,Io);if(D!==Io)return D;let O=y.parent;if(!O){const M=S[TS];if(M){const L=M.get(d,Io,f);if(L!==Io)return L}O=aA(S),S=S[zl]}y=O}return v}(l,u,d,f,Io);if(S!==Io)return S}const y=by(l,u,d,f,Io);if(y!==Io)return y}return fE(u,d,f,v)}function by(l,u,d,f,v){const y=function oA(l){if("string"==typeof l)return l.charCodeAt(0)||0;const u=l.hasOwnProperty(js)?l[js]:void 0;return"number"==typeof u?u>=0?u&uE:vE:u}(d);if("function"==typeof y){if(!XT(u,l,f))return f&Ne.Host?iA(v,0,f):fE(u,d,f,v);try{let S;if(S=y(f),null!=S||f&Ne.Optional)return S;$t()}finally{wr()}}else if("number"==typeof y){let S=null,D=nA(l,u),O=fs,M=f&Ne.Host?u[ti][Xi]:null;for((-1===D||f&Ne.SkipSelf)&&(O=-1===D?Dy(l,u):u[D+8],O!==fs&&ag(f,!1)?(S=u[ot],D=yc(O),u=Cc(O,u)):D=-1);-1!==D;){const L=u[ot];if(Ry(y,D,L.data)){const B=rA(D,u,d,S,f,M);if(B!==Io)return B}O=u[D+8],O!==fs&&ag(f,u[ot].data[D+8]===M)&&Ry(y,D,u)?(S=L,D=yc(O),u=Cc(O,u)):D=-1}}return v}function rA(l,u,d,f,v,y){const S=u[ot],D=S.data[l+8],L=Oy(D,S,d,null==f?Yl(D)&&lE:f!=S&&0!=(3&D.type),v&Ne.Host&&y===D);return null!==L?Ql(u,S,L,D):Io}function Oy(l,u,d,f,v){const y=l.providerIndexes,S=u.data,D=1048575&y,O=l.directiveStart,L=y>>20,$=v?D+L:l.directiveEnd;for(let J=f?D:D+L;J<$;J++){const Se=S[J];if(J<O&&d===Se||J>=O&&Se.type===d)return J}if(v){const J=S[O];if(J&&ls(J)&&J.type===d)return O}return null}function Ql(l,u,d,f){let v=l[d];const y=u.data;if(function Sy(l){return l instanceof ps}(v)){const S=v;S.resolving&&function rt(l,u){const d=u?`. Dependency path: ${u.join(" > ")} > ${l}`:"";throw new he(-200,`Circular dependency in DI detected for ${l}${d}`)}(function Le(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():Ae(l)}(y[d]));const D=Nh(S.canSeeViewProviders);S.resolving=!0;const M=S.injectImpl?Tn(S.injectImpl):null;XT(l,f,Ne.Default);try{v=l[d]=S.factory(void 0,y,l,f),u.firstCreatePass&&d>=f.directiveStart&&function ka(l,u,d){const{ngOnChanges:f,ngOnInit:v,ngDoCheck:y}=u.type.prototype;if(f){const S=tg(u);(d.preOrderHooks??=[]).push(l,S),(d.preOrderCheckHooks??=[]).push(l,S)}v&&(d.preOrderHooks??=[]).push(0-l,v),y&&((d.preOrderHooks??=[]).push(l,y),(d.preOrderCheckHooks??=[]).push(l,y))}(d,y[d],u)}finally{null!==M&&Tn(M),Nh(D),S.resolving=!1,wr()}}return v}function Ry(l,u,d){return!!(d[u+(l>>cE)]&1<<l)}function ag(l,u){return!(l&Ne.Self||l&Ne.Host&&u)}class Ji{constructor(u,d){this._tNode=u,this._lView=d}get(u,d,f){return pE(this._tNode,this._lView,u,Ta(f),d)}}function vE(){return new Ji(Oi(),xe())}function Ty(l){return Mo(()=>{const u=l.prototype.constructor,d=u[fo]||Ay(u),f=Object.prototype;let v=Object.getPrototypeOf(l.prototype).constructor;for(;v&&v!==f;){const y=v[fo]||Ay(v);if(y&&y!==d)return y;v=Object.getPrototypeOf(v)}return y=>new y})}function Ay(l){return ct(l)?()=>{const u=Ay(Me(l));return u&&u()}:ql(l)}function aA(l){const u=l[ot],d=u.type;return 2===d?u.declTNode:1===d?l[Xi]:null}function gs(l){return function TN(l,u){if("class"===u)return l.classes;if("style"===u)return l.styles;const d=l.attrs;if(d){const f=d.length;let v=0;for(;v<f;){const y=d[v];if(Wp(y))break;if(0===y)v+=2;else if("number"==typeof y)for(v++;v<f&&"string"==typeof d[v];)v++;else{if(y===u)return d[v+1];v+=2}}}return null}(Oi(),l)}const _c="__parameters__";function Bh(l,u,d){return Mo(()=>{const f=function My(l){return function(...d){if(l){const f=l(...d);for(const v in f)this[v]=f[v]}}}(u);function v(...y){if(this instanceof v)return f.apply(this,y),this;const S=new v(...y);return D.annotation=S,D;function D(O,M,L){const B=O.hasOwnProperty(_c)?O[_c]:Object.defineProperty(O,_c,{value:[]})[_c];for(;B.length<=L;)B.push(null);return(B[L]=B[L]||[]).push(S),O}}return d&&(v.prototype=Object.create(d.prototype)),v.prototype.ngMetadataName=l,v.annotationCls=v,v})}function Sc(l,u){l.forEach(d=>Array.isArray(d)?Sc(d,u):u(d))}function mE(l,u,d){u>=l.length?l.push(d):l.splice(u,0,d)}function jh(l,u){return u>=l.length-1?l.pop():l.splice(u,1)[0]}function Kr(l,u,d){let f=Jl(l,u);return f>=0?l[1|f]=d:(f=~f,function er(l,u,d,f){let v=l.length;if(v==u)l.push(d,f);else if(1===v)l.push(f,l[0]),l[0]=d;else{for(v--,l.push(l[v-1],l[v]);v>u;)l[v]=l[v-2],v--;l[u]=d,l[u+1]=f}}(l,f,u,d)),f}function cg(l,u){const d=Jl(l,u);if(d>=0)return l[1|d]}function Jl(l,u){return function Iy(l,u,d){let f=0,v=l.length>>d;for(;v!==f;){const y=f+(v-f>>1),S=l[y<<d];if(u===S)return y<<d;S>u?v=y:f=y+1}return~(v<<d)}(l,u,1)}const $s=Hl(Bh("Inject",l=>({token:l})),-1),zh=Hl(Bh("Optional"),8),Fo=Hl(Bh("SkipSelf"),4);function Hy(l){return 128==(128&l.flags)}var jy=function(l){return l[l.Important=1]="Important",l[l.DashCase=2]="DashCase",l}(jy||{});const IN=/^>|^->|<!--|-->|--!>|<!-$/g,RA=/(<|>)/g,AE="\u200b$1\u200b";const xE=new Map;let FN=0;const bc="__ngContext__";function Ti(l,u){Wr(u)?(l[bc]=u[Rh],function mg(l){xE.set(l[Rh],l)}(u)):l[bc]=u}let Tc;function Ac(l,u){return Tc(l,u)}function su(l){const u=l[Gn];return Zi(u)?u[Gn]:u}function PE(l){return IE(l[bh])}function zy(l){return IE(l[jr])}function IE(l){for(;null!==l&&!Zi(l);)l=l[jr];return l}function au(l,u,d,f,v){if(null!=f){let y,S=!1;Zi(f)?y=f:Wr(f)&&(S=!0,f=f[Bn]);const D=Dn(f);0===l&&null!==d?null==v?kE(u,d,D):Mc(u,d,D,v||null,!0):1===l&&null!==d?Mc(u,d,D,v||null,!0):2===l?function iC(l,u,d){const f=Jy(l,u);f&&function GN(l,u,d,f){l.removeChild(u,d,f)}(l,f,u,d)}(u,D,S):3===l&&u.destroyNode(D),null!=y&&function HE(l,u,d,f,v){const y=d[Ur];y!==Dn(d)&&au(u,l,f,y,v);for(let D=bi;D<d.length;D++){const O=d[D];Pc(O[ot],O,l,u,f,y)}}(u,l,y,d,v)}}function $y(l,u){return l.createComment(function TA(l){return l.replace(IN,u=>u.replace(RA,AE))}(u))}function xc(l,u,d){return l.createElement(u,d)}function LE(l,u){const d=l[Th],f=d.indexOf(u);HT(u),d.splice(f,1)}function qy(l,u){if(l.length<=bi)return;const d=bi+u,f=l[d];if(f){const v=f[Kp];null!==v&&v!==l&&LE(v,f),u>0&&(l[d-1][jr]=f[jr]);const y=jh(l,bi+u);!function NN(l,u){Pc(l,u,u[Gt],2,null,null),u[Bn]=null,u[Xi]=null}(f[ot],f);const S=y[ss];null!==S&&S.detachView(y[ot]),f[Gn]=null,f[jr]=null,f[Wt]&=-129}return f}function Xy(l,u){if(!(256&u[Wt])){const d=u[Gt];u[Yp]&&RT(u[Yp]),u[Kl]&&RT(u[Kl]),d.destroyNode&&Pc(l,u,d,3,null,null),function LA(l){let u=l[bh];if(!u)return lu(l[ot],l);for(;u;){let d=null;if(Wr(u))d=u[bh];else{const f=u[bi];f&&(d=f)}if(!d){for(;u&&!u[jr]&&u!==l;)Wr(u)&&lu(u[ot],u),u=u[Gn];null===u&&(u=l),Wr(u)&&lu(u[ot],u),d=u&&u[jr]}u=d}}(u)}}function lu(l,u){if(!(256&u[Wt])){u[Wt]&=-129,u[Wt]|=256,function NE(l,u){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let f=0;f<d.length;f+=2){const v=u[d[f]];if(!(v instanceof ps)){const y=d[f+1];if(Array.isArray(y))for(let S=0;S<y.length;S+=2){const D=v[y[S]],O=y[S+1];us(4,D,O);try{O.call(D)}finally{us(5,D,O)}}else{us(4,v,y);try{y.call(v)}finally{us(5,v,y)}}}}}(l,u),function Sg(l,u){const d=l.cleanup,f=u[Dh];if(null!==d)for(let y=0;y<d.length-1;y+=2)if("string"==typeof d[y]){const S=d[y+3];S>=0?f[S]():f[-S].unsubscribe(),y+=2}else d[y].call(f[d[y+1]]);null!==f&&(u[Dh]=null);const v=u[$l];if(null!==v){u[$l]=null;for(let y=0;y<v.length;y++)(0,v[y])()}}(l,u),1===u[ot].type&&u[Gt].destroy();const d=u[Kp];if(null!==d&&Zi(u[Gn])){d!==u[Gn]&&LE(d,u);const f=u[ss];null!==f&&f.detachView(l)}!function Xh(l){xE.delete(l[Rh])}(u)}}function Eg(l,u,d){return function Zy(l,u,d){let f=u;for(;null!==f&&40&f.type;)f=(u=f).parent;if(null===f)return d[Bn];{const{componentOffset:v}=f;if(v>-1){const{encapsulation:y}=l.data[f.directiveStart+v];if(y===os.None||y===os.Emulated)return null}return Cr(f,d)}}(l,u.parent,d)}function Mc(l,u,d,f,v){l.insertBefore(u,d,f,v)}function kE(l,u,d){l.appendChild(u,d)}function Qy(l,u,d,f,v){null!==f?Mc(l,u,d,f,v):kE(l,u,d)}function Jy(l,u){return l.parentNode(u)}let Dg,lC,Lc,VE=function eC(l,u,d){return 40&l.type?Cr(l,d):null};function ef(l,u,d,f){const v=Eg(l,f,u),y=u[Gt],D=function GE(l,u,d){return VE(l,u,d)}(f.parent||u[Xi],f,u);if(null!=v)if(Array.isArray(d))for(let O=0;O<d.length;O++)Qy(y,v,d[O],D,!1);else Qy(y,v,d,D,!1);void 0!==Dg&&Dg(y,f,u,d,v)}function tf(l,u){if(null!==u){const d=u.type;if(3&d)return Cr(u,l);if(4&d)return nC(-1,l[u.index]);if(8&d){const f=u.child;if(null!==f)return tf(l,f);{const v=l[u.index];return Zi(v)?nC(-1,v):Dn(v)}}if(32&d)return Ac(u,l)()||Dn(l[u.index]);{const f=tC(l,u);return null!==f?Array.isArray(f)?f[0]:tf(su(l[ti]),f):tf(l,u.next)}}return null}function tC(l,u){return null!==u?l[ti][Xi].projection[u.projection]:null}function nC(l,u){const d=bi+l+1;if(d<u.length){const f=u[d],v=f[ot].firstChild;if(null!==v)return tf(f,v)}return u[Ur]}function oC(l,u,d,f,v,y,S){for(;null!=d;){const D=f[d.index],O=d.type;if(S&&0===u&&(D&&Ti(Dn(D),f),d.flags|=2),32!=(32&d.flags))if(8&O)oC(l,u,d.child,f,v,y,!1),au(u,l,v,D,y);else if(32&O){const M=Ac(d,f);let L;for(;L=M();)au(u,l,v,L,y);au(u,l,v,D,y)}else 16&O?sC(l,u,f,d,v,y):au(u,l,v,D,y);d=S?d.projectionNext:d.next}}function Pc(l,u,d,f,v,y){oC(d,f,l.firstChild,u,v,y,!1)}function sC(l,u,d,f,v,y){const S=d[ti],O=S[Xi].projection[f.projection];if(Array.isArray(O))for(let M=0;M<O.length;M++)au(u,l,v,O[M],y);else{let M=O;const L=S[Gn];Hy(f)&&(M.flags|=128),oC(l,u,M,L,v,y,!0)}}function jE(l,u,d){""===d?l.removeAttribute(u,"class"):l.setAttribute(u,"class",d)}function Og(l,u,d){const{mergedAttrs:f,classes:v,styles:y}=d;null!==f&&yh(l,u,f),null!==v&&jE(l,u,v),null!==y&&function BE(l,u,d){l.setAttribute(u,"style",d)}(l,u,y)}function zE(l){lC=l}function KE(l){return function uC(){if(void 0===Lc&&(Lc=null,Fn.trustedTypes))try{Lc=Fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Lc}()?.createScriptURL(l)||l}class GA{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}function Va(l){return l instanceof GA?l.changingThisBreaksApplicationSecurity:l}function Nc(l,u){const d=function HA(l){return l instanceof GA&&l.getTypeName()||null}(l);if(null!=d&&d!==u){if("ResourceURL"===d&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${d} (see ${_t})`)}return d===u}const WA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var tr=function(l){return l[l.NONE=0]="NONE",l[l.HTML=1]="HTML",l[l.STYLE=2]="STYLE",l[l.SCRIPT=3]="SCRIPT",l[l.URL=4]="URL",l[l.RESOURCE_URL=5]="RESOURCE_URL",l}(tr||{});function n0(l){const u=rf();return u?u.sanitize(tr.URL,l)||"":Nc(l,"URL")?Va(l):function Tg(l){return(l=String(l)).match(WA)?l:"unsafe:"+l}(Ae(l))}function r0(l){const u=rf();if(u)return KE(u.sanitize(tr.RESOURCE_URL,l)||"");if(Nc(l,"ResourceURL"))return KE(Va(l));throw new he(904,!1)}function o0(l,u,d){return function ex(l,u){return"src"===u&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===u&&("base"===l||"link"===l)?r0:n0}(u,d)(l)}function rf(){const l=xe();return l&&l[hc].sanitizer}class on{constructor(u,d){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Ft({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Gc=new on("ENVIRONMENT_INITIALIZER"),hC=new on("INJECTOR",-1),a0=new on("INJECTOR_DEF_TYPES");class Ag{get(u,d=is){if(d===is){const f=new Error(`NullInjectorError: No provider for ${oe(u)}!`);throw f.name="NullInjectorError",f}return d}}function xg(l){return{\u0275providers:l}}function ys(...l){return{\u0275providers:Er(0,l),\u0275fromNgModule:!0}}function Er(l,...u){const d=[],f=new Set;let v;const y=S=>{d.push(S)};return Sc(u,S=>{const D=S;Mg(D,y,[],f)&&(v||=[],v.push(D))}),void 0!==v&&l0(v,y),d}function l0(l,u){for(let d=0;d<l.length;d++){const{ngModule:f,providers:v}=l[d];Ha(v,y=>{u(y,f)})}}function Mg(l,u,d,f){if(!(l=Me(l)))return!1;let v=null,y=Oa(l);const S=!y&&Pt(l);if(y||S){if(S&&!S.standalone)return!1;v=l}else{const O=l.ngModule;if(y=Oa(O),!y)return!1;v=O}const D=f.has(v);if(S){if(D)return!1;if(f.add(v),S.dependencies){const O="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const M of O)Mg(M,u,d,f)}}else{if(!y)return!1;{if(null!=y.imports&&!D){let M;f.add(v);try{Sc(y.imports,L=>{Mg(L,u,d,f)&&(M||=[],M.push(L))})}finally{}void 0!==M&&l0(M,u)}if(!D){const M=ql(v)||(()=>new v);u({provide:v,useFactory:M,deps:rn},v),u({provide:a0,useValue:v,multi:!0},v),u({provide:Gc,useValue:()=>Hn(v),multi:!0},v)}const O=y.providers;if(null!=O&&!D){const M=l;Ha(O,L=>{u(L,M)})}}}return v!==l&&void 0!==l.providers}function Ha(l,u){for(let d of l)st(d)&&(d=d.\u0275providers),Array.isArray(d)?Ha(d,u):u(d)}const u0=q({provide:String,useValue:q});function Vc(l){return null!==l&&"object"==typeof l&&u0 in l}function Lt(l){return"function"==typeof l}const Hc=new on("Set Injector scope."),sf={},pC={};let af;function Bc(){return void 0===af&&(af=new Ag),af}class Lo{}class Dr extends Lo{get destroyed(){return this._destroyed}constructor(u,d,f,v){super(),this.parent=d,this.source=f,this.scopes=v,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ig(u,S=>this.processProvider(S)),this.records.set(hC,jc(void 0,this)),v.has("environment")&&this.records.set(Lo,jc(void 0,this));const y=this.records.get(Hc);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(a0.multi,rn,Ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const u=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of u)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(u){return this.assertNotDestroyed(),this._onDestroyHooks.push(u),()=>this.removeOnDestroy(u)}runInContext(u){this.assertNotDestroyed();const d=rs(this),f=Tn(void 0);try{return u()}finally{rs(d),Tn(f)}}get(u,d=is,f=Ne.Default){if(this.assertNotDestroyed(),u.hasOwnProperty(lc))return u[lc](this);f=Ta(f);const y=rs(this),S=Tn(void 0);try{if(!(f&Ne.SkipSelf)){let O=this.records.get(u);if(void 0===O){const M=function uf(l){return"function"==typeof l||"object"==typeof l&&l instanceof on}(u)&&Di(u);O=M&&this.injectableDefInScope(M)?jc(lf(u),sf):null,this.records.set(u,O)}if(null!=O)return this.hydrate(u,O)}return(f&Ne.Self?Bc():this.parent).get(u,d=f&Ne.Optional&&d===is?null:d)}catch(D){if("NullInjectorError"===D.name){if((D[Vl]=D[Vl]||[]).unshift(oe(u)),y)throw D;return function Qm(l,u,d,f){const v=l[Vl];throw u[Hp]&&v.unshift(u[Hp]),l.message=function Jm(l,u,d,f=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let v=oe(u);if(Array.isArray(u))v=u.map(oe).join(" -> ");else if("object"==typeof u){let y=[];for(let S in u)if(u.hasOwnProperty(S)){let D=u[S];y.push(S+":"+("string"==typeof D?JSON.stringify(D):oe(D)))}v=`{${y.join(", ")}}`}return`${d}${f?"("+f+")":""}[${v}]: ${l.replace(Vp,"\n  ")}`}("\n"+l.message,v,d,f),l.ngTokenPath=v,l[Vl]=null,l}(D,u,"R3InjectorError",this.source)}throw D}finally{Tn(S),rs(y)}}resolveInjectorInitializers(){const u=rs(this),d=Tn(void 0);try{const v=this.get(Gc.multi,rn,Ne.Self);for(const y of v)y()}finally{rs(u),Tn(d)}}toString(){const u=[],d=this.records;for(const f of d.keys())u.push(oe(f));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(u){let d=Lt(u=Me(u))?u:Me(u&&u.provide);const f=function tx(l){return Vc(l)?jc(void 0,l.useValue):jc(vC(l),sf)}(u);if(Lt(u)||!0!==u.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=jc(void 0,sf,!0),v.factory=()=>ac(v.multi),this.records.set(d,v)),d=u,v.multi.push(u)}this.records.set(d,f)}hydrate(u,d){return d.value===sf&&(d.value=pC,d.value=d.factory()),"object"==typeof d.value&&d.value&&function it(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(u){if(!u.providedIn)return!1;const d=Me(u.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(u){const d=this._onDestroyHooks.indexOf(u);-1!==d&&this._onDestroyHooks.splice(d,1)}}function lf(l){const u=Di(l),d=null!==u?u.factory:ql(l);if(null!==d)return d;if(l instanceof on)throw new he(204,!1);if(l instanceof Function)return function gC(l){const u=l.length;if(u>0)throw function Uh(l,u){const d=[];for(let f=0;f<l;f++)d.push(u);return d}(u,"?"),new he(204,!1);const d=function co(l){return l&&(l[Hs]||l[We])||null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new he(204,!1)}function vC(l,u,d){let f;if(Lt(l)){const v=Me(l);return ql(v)||lf(v)}if(Vc(l))f=()=>Me(l.useValue);else if(function fC(l){return!(!l||!l.useFactory)}(l))f=()=>l.useFactory(...ac(l.deps||[]));else if(function c0(l){return!(!l||!l.useExisting)}(l))f=()=>Hn(Me(l.useExisting));else{const v=Me(l&&(l.useClass||l.provide));if(!function nx(l){return!!l.deps}(l))return ql(v)||lf(v);f=()=>new v(...ac(l.deps))}return f}function jc(l,u,d=!1){return{factory:l,value:u,multi:d?[]:void 0}}function Ig(l,u){for(const d of l)Array.isArray(d)?Ig(d,u):d&&st(d)?Ig(d.\u0275providers,u):u(d)}const vt=new on("AppId",{providedIn:"root",factory:()=>ix}),ix="ng",d0=new on("Platform Initializer"),mC=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ke=new on("AnimationModuleType"),hi=new on("CSP nonce",{providedIn:"root",factory:()=>function Fc(){if(void 0!==lC)return lC;if(typeof document<"u")return document;throw new he(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let fn=(l,u,d)=>null;function kg(l,u,d=!1){return fn(l,u,d)}class lx{}class p0{}class EC{resolveComponentFactory(u){throw function ux(l){const u=Error(`No component factory found for ${oe(l)}.`);return u.ngComponent=l,u}(u)}}let br=(()=>{class l{static#e=this.NULL=new EC}return l})();function No(){return Ua(Oi(),xe())}function Ua(l,u){return new Wa(Cr(l,u))}let Wa=(()=>{class l{constructor(d){this.nativeElement=d}static#e=this.__NG_ELEMENT_ID__=No}return l})();function Vg(l){return l instanceof Wa?l.nativeElement:l}class DC{}let g0=(()=>{class l{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function v0(){const l=xe(),d=Qi(Oi().index,l);return(Wr(d)?d:l)[Gt]}()}return l})(),cx=(()=>{class l{static#e=this.\u0275prov=Ft({token:l,providedIn:"root",factory:()=>null})}return l})();class za{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const Re=new za("16.2.10"),bC={};function Hg(l){if(!bt()&&!function Zm(){return xo}())throw new he(-203,!1)}function _0(l,u=null,d=null,f){const v=w0(l,u,d,f);return v.resolveInjectorInitializers(),v}function w0(l,u=null,d=null,f,v=new Set){const y=[d||rn,ys(l)];return f=f||("object"==typeof l?void 0:oe(l)),new Dr(y,u||Bc(),f||null,v)}let ko=(()=>{class l{static#e=this.THROW_IF_NOT_FOUND=is;static#t=this.NULL=new Ag;static create(d,f){if(Array.isArray(d))return _0({name:""},f,d,"");{const v=d.name??"";return _0({name:v},d.parent,d.providers,v)}}static#n=this.\u0275prov=Ft({token:l,providedIn:"any",factory:()=>Hn(hC)});static#i=this.__NG_ELEMENT_ID__=-1}return l})();function Bg(l){return l.ngOriginalError}class qs{constructor(){this._console=console}handleError(u){const d=this._findOriginalError(u);this._console.error("ERROR",u),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(u){let d=u&&Bg(u);for(;d&&Bg(d);)d=Bg(d);return d||null}}let hf=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=hx;static#t=this.__NG_ENV_ID__=d=>d}return l})();class $a extends hf{constructor(u){super(),this._lView=u}onDestroy(u){return my(this._lView,u),()=>function mN(l,u){if(null===l[$l])return;const d=l[$l].indexOf(u);-1!==d&&l[$l].splice(d,1)}(this._lView,u)}}function hx(){return new $a(xe())}function TC(l){return u=>{setTimeout(l,void 0,u)}}const ws=class fx extends C.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,d,f){let v=u,y=d||(()=>null),S=f;if(u&&"object"==typeof u){const O=u;v=O.next?.bind(O),y=O.error?.bind(O),S=O.complete?.bind(O)}this.__isAsync&&(y=TC(y),v&&(v=TC(v)),S&&(S=TC(S)));const D=super.subscribe({next:v,error:y,complete:S});return u instanceof Y.w0&&u.add(D),D}};function Xs(...l){}class ii{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ws(!1),this.onMicrotaskEmpty=new ws(!1),this.onStable=new ws(!1),this.onError=new ws(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!f&&d,v.shouldCoalesceRunChangeDetection=f,v.lastRequestAnimationFrameId=-1,v.nativeRequestAnimationFrame=function Ka(){const l="function"==typeof Fn.requestAnimationFrame;let u=Fn[l?"requestAnimationFrame":"setTimeout"],d=Fn[l?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&u&&d){const f=u[Zone.__symbol__("OriginalDelegate")];f&&(u=f);const v=d[Zone.__symbol__("OriginalDelegate")];v&&(d=v)}return{nativeRequestAnimationFrame:u,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function px(l){const u=()=>{!function qc(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(Fn,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,jg(l),l.isCheckStableRunning=!0,hu(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),jg(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,v,y,S,D)=>{if(function qa(l){return!(!Array.isArray(l)||1!==l.length)&&!0===l[0].data?.__ignore_ng_zone__}(D))return d.invokeTask(v,y,S,D);try{return Xc(l),d.invokeTask(v,y,S,D)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||l.shouldCoalesceRunChangeDetection)&&u(),E0(l)}},onInvoke:(d,f,v,y,S,D,O)=>{try{return Xc(l),d.invoke(v,y,S,D,O)}finally{l.shouldCoalesceRunChangeDetection&&u(),E0(l)}},onHasTask:(d,f,v,y)=>{d.hasTask(v,y),f===v&&("microTask"==y.change?(l._hasPendingMicrotasks=y.microTask,jg(l),hu(l)):"macroTask"==y.change&&(l.hasPendingMacrotasks=y.macroTask))},onHandleError:(d,f,v,y)=>(d.handleError(v,y),l.runOutsideAngular(()=>l.onError.emit(y)),!1)})}(v)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ii.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(ii.isInAngularZone())throw new he(909,!1)}run(u,d,f){return this._inner.run(u,d,f)}runTask(u,d,f,v){const y=this._inner,S=y.scheduleEventTask("NgZoneEvent: "+v,u,ff,Xs,Xs);try{return y.runTask(S,d,f)}finally{y.cancelTask(S)}}runGuarded(u,d,f){return this._inner.runGuarded(u,d,f)}runOutsideAngular(u){return this._outer.run(u)}}const ff={};function hu(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function jg(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function Xc(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function E0(l){l._nesting--,hu(l)}class gx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ws,this.onMicrotaskEmpty=new ws,this.onStable=new ws,this.onError=new ws}run(u,d,f){return u.apply(d,f)}runGuarded(u,d,f){return u.apply(d,f)}runOutsideAngular(u){return u()}runTask(u,d,f,v){return u.apply(d,f)}}const pf=new on("",{providedIn:"root",factory:Zs});function Zs(){const l=vn(ii);let u=!0;const d=new ie.y(v=>{u=l.isStable&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks,l.runOutsideAngular(()=>{v.next(u),v.complete()})}),f=new ie.y(v=>{let y;l.runOutsideAngular(()=>{y=l.onStable.subscribe(()=>{ii.assertNotInAngularZone(),queueMicrotask(()=>{!u&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks&&(u=!0,v.next(!0))})})});const S=l.onUnstable.subscribe(()=>{ii.assertInAngularZone(),u&&(u=!1,l.runOutsideAngular(()=>{v.next(!1)}))});return()=>{y.unsubscribe(),S.unsubscribe()}});return(0,ge.T)(d,f.pipe((0,Q.B)()))}function Qs(l){return l instanceof Function?l():l}let Zr=(()=>{class l{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ft({token:l,providedIn:"root",factory:()=>new l})}return l})();function Qc(l){for(;l;){l[Wt]|=64;const u=su(l);if(oy(l)&&!u)return l;l=u}return null}const T0=new on("",{providedIn:"root",factory:()=>!1});let gf=null;function xC(l,u){return l[u]??vf()}function MC(l,u){const d=vf();d.producerNode?.length&&(l[u]=gf,d.lView=l,gf=Es())}const Sx={...xh,consumerIsAlwaysLive:!0,consumerMarkedDirty:l=>{Qc(l.lView)},lView:null};function Es(){return Object.create(Sx)}function vf(){return gf??=Es(),gf}const Vt={};function PC(l){IC(nn(),xe(),bn()+l,!1)}function IC(l,u,d,f){if(!f)if(3==(3&u[Wt])){const y=l.preOrderCheckHooks;null!==y&&rg(u,y,d)}else{const y=l.preOrderHooks;null!==y&&og(u,y,0,d)}ds(d)}function fu(l,u=Ne.Default){const d=xe();return null===d?Hn(l,u):pE(Oi(),d,Me(l),u)}function zg(){throw new Error("invalid")}function Jc(l,u,d,f,v,y,S,D,O,M,L){const B=u.blueprint.slice();return B[Bn]=v,B[Wt]=140|f,(null!==M||l&&2048&l[Wt])&&(B[Wt]|=2048),zS(B),B[Gn]=B[zl]=l,B[Xn]=d,B[hc]=S||l&&l[hc],B[Gt]=D||l&&l[Gt],B[Us]=O||l&&l[Us]||null,B[Xi]=y,B[Rh]=function qh(){return FN++}(),B[as]=L,B[TS]=M,B[ti]=2==u.type?l[ti]:B,B}function Bi(l,u,d,f,v){let y=l.data[u];if(null===y)y=function Kg(l,u,d,f,v){const y=ig(),S=XS(),O=l.data[u]=function Ex(l,u,d,f,v,y){let S=u?u.injectorIndex:-1,D=0;return function Xl(){return null!==xt.skipHydrationRootTNode}()&&(D|=128),{type:d,index:f,insertBeforeIndex:null,injectorIndex:S,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:v,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?y:y&&y.parent,d,u,f,v);return null===l.firstChild&&(l.firstChild=O),null!==y&&(S?null==y.child&&null!==O.parent&&(y.child=O):null===y.next&&(y.next=O,O.prev=y)),O}(l,u,d,f,v),function wN(){return xt.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=d,y.value=f,y.attrs=v;const S=function mc(){const l=xt.lFrame,u=l.currentTNode;return l.isParent?u:u.parent}();y.injectorIndex=null===S?-1:S.injectorIndex}return zs(y,!0),y}function pu(l,u,d,f){if(0===d)return-1;const v=u.length;for(let y=0;y<d;y++)u.push(f),l.blueprint.push(f),l.data.push(null);return v}function Yg(l,u,d,f,v){const y=xC(u,Yp),S=bn(),D=2&f;try{ds(-1),D&&u.length>tn&&IC(l,u,tn,!1),us(D?2:0,v);const M=D?y:null,L=ay(M);try{null!==M&&(M.dirty=!1),d(f,v)}finally{ly(M,L)}}finally{D&&null===u[Yp]&&MC(u,Yp),ds(S),us(D?3:1,v)}}function qg(l,u,d){if(iy(u)){const f=zr(null);try{const y=u.directiveEnd;for(let S=u.directiveStart;S<y;S++){const D=l.data[S];D.contentQueries&&D.contentQueries(1,d[S],S)}}finally{zr(f)}}}function Xg(l,u,d){yy()&&(function HC(l,u,d,f){const v=d.directiveStart,y=d.directiveEnd;Yl(d)&&function _f(l,u,d){const f=Cr(u,l),v=FC(d);let S=16;d.signals?S=4096:d.onPush&&(S=64);const D=ov(l,Jc(l,v,null,S,f,u,null,l[hc].rendererFactory.createRenderer(f,d),null,null,null));l[u.index]=D}(u,d,l.data[v+d.componentOffset]),l.firstCreatePass||Gh(d,u),Ti(f,u);const S=d.initialInputs;for(let D=v;D<y;D++){const O=l.data[D],M=Ql(u,l,D,d);Ti(M,u),null!==S&&H0(0,D-v,M,O,0,S),ls(O)&&(Qi(d.index,u)[Xn]=Ql(u,l,D,d))}}(l,u,d,Cr(d,u)),64==(64&d.flags)&&Js(l,u,d))}function mf(l,u,d=Cr){const f=u.localNames;if(null!==f){let v=u.index+1;for(let y=0;y<f.length;y+=2){const S=f[y+1],D=-1===S?d(u,l):l[S];l[v++]=D}}}function FC(l){const u=l.tView;return null===u||u.incompleteFirstPass?l.tView=yf(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts,l.id):u}function yf(l,u,d,f,v,y,S,D,O,M,L){const B=tn+f,$=B+v,J=function x0(l,u){const d=[];for(let f=0;f<u;f++)d.push(f<l?null:Vt);return d}(B,$),Se="function"==typeof M?M():M;return J[ot]={type:l,blueprint:J,template:d,queries:null,viewQuery:D,declTNode:u,data:J.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:O,consts:Se,incompleteFirstPass:!1,ssrId:L}}let Za=l=>null;function Qg(l,u,d,f){for(let v in l)if(l.hasOwnProperty(v)){d=null===d?{}:d;const y=l[v];null===f?Cf(d,u,v,y):f.hasOwnProperty(v)&&Cf(d,u,f[v],y)}return d}function Cf(l,u,d,f){l.hasOwnProperty(d)?l[d].push(u,f):l[d]=[u,f]}function Or(l,u,d,f){if(yy()){const v=null===f?null:{"":-1},y=function nv(l,u){const d=l.directiveRegistry;let f=null,v=null;if(d)for(let y=0;y<d.length;y++){const S=d[y];if(ey(u,S.selectors,!1))if(f||(f=[]),ls(S))if(null!==S.findHostDirectiveDefs){const D=[];v=v||new Map,S.findHostDirectiveDefs(S,D,v),f.unshift(...D,S),iv(l,u,D.length)}else f.unshift(S),iv(l,u,0);else v=v||new Map,S.findHostDirectiveDefs?.(S,f,v),f.push(S)}return null===f?null:[f,v]}(l,d);let S,D;null===y?S=D=null:[S,D]=y,null!==S&&Jg(l,u,d,S,v,D),v&&function N0(l,u,d){if(u){const f=l.localNames=[];for(let v=0;v<u.length;v+=2){const y=d[u[v+1]];if(null==y)throw new he(-301,!1);f.push(u[v],y)}}}(d,f,v)}d.mergedAttrs=Ul(d.mergedAttrs,d.attrs)}function Jg(l,u,d,f,v,y){for(let M=0;M<f.length;M++)hE(Gh(d,u),l,f[M].type);!function G0(l,u,d){l.flags|=1,l.directiveStart=u,l.directiveEnd=u+d,l.providerIndexes=u}(d,l.data.length,f.length);for(let M=0;M<f.length;M++){const L=f[M];L.providersResolver&&L.providersResolver(L)}let S=!1,D=!1,O=pu(l,u,f.length,null);for(let M=0;M<f.length;M++){const L=f[M];d.mergedAttrs=Ul(d.mergedAttrs,L.hostAttrs),V0(l,d,u,O,L),k0(O,L,v),null!==L.contentQueries&&(d.flags|=4),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(d.flags|=64);const B=L.type.prototype;!S&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((l.preOrderHooks??=[]).push(d.index),S=!0),!D&&(B.ngOnChanges||B.ngDoCheck)&&((l.preOrderCheckHooks??=[]).push(d.index),D=!0),O++}!function LC(l,u,d){const v=u.directiveEnd,y=l.data,S=u.attrs,D=[];let O=null,M=null;for(let L=u.directiveStart;L<v;L++){const B=y[L],$=d?d.get(B):null,Se=$?$.outputs:null;O=Qg(B.inputs,L,O,$?$.inputs:null),M=Qg(B.outputs,L,M,Se);const Ge=null===O||null===S||cc(u)?null:Dx(O,L,S);D.push(Ge)}null!==O&&(O.hasOwnProperty("class")&&(u.flags|=8),O.hasOwnProperty("style")&&(u.flags|=16)),u.initialInputs=D,u.inputs=O,u.outputs=M}(l,d,y)}function Js(l,u,d){const f=d.directiveStart,v=d.directiveEnd,y=d.index,S=function SN(){return xt.lFrame.currentDirectiveIndex}();try{ds(y);for(let D=f;D<v;D++){const O=l.data[D],M=u[D];eE(D),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&tv(O,M)}}finally{ds(-1),eE(S)}}function tv(l,u){null!==l.hostBindings&&l.hostBindings(1,u)}function iv(l,u,d){u.componentOffset=d,(l.components??=[]).push(u.index)}function k0(l,u,d){if(d){if(u.exportAs)for(let f=0;f<u.exportAs.length;f++)d[u.exportAs[f]]=l;ls(u)&&(d[""]=l)}}function V0(l,u,d,f,v){l.data[f]=v;const y=v.factory||(v.factory=ql(v.type)),S=new ps(y,ls(v),fu);l.blueprint[f]=S,d[f]=S,function ev(l,u,d,f,v){const y=v.hostBindings;if(y){let S=l.hostBindingOpCodes;null===S&&(S=l.hostBindingOpCodes=[]);const D=~u.index;(function VC(l){let u=l.length;for(;u>0;){const d=l[--u];if("number"==typeof d&&d<0)return d}return 0})(S)!=D&&S.push(D),S.push(d,f,y)}}(l,u,f,pu(l,d,v.hostVars,Vt),v)}function Ds(l,u,d,f,v,y){const S=Cr(l,u);!function Qa(l,u,d,f,v,y,S){if(null==y)l.removeAttribute(u,v,d);else{const D=null==S?Ae(y):S(y,f||"",v);l.setAttribute(u,v,D,d)}}(u[Gt],S,y,l.value,d,f,v)}function H0(l,u,d,f,v,y){const S=y[u];if(null!==S)for(let D=0;D<S.length;)B0(f,d,S[D++],S[D++],S[D++])}function B0(l,u,d,f,v){const y=zr(null);try{const S=l.inputTransforms;null!==S&&S.hasOwnProperty(f)&&(v=S[f].call(u,v)),null!==l.setInput?l.setInput(u,v,d,f):u[f]=v}finally{zr(y)}}function Dx(l,u,d){let f=null,v=0;for(;v<d.length;){const y=d[v];if(0!==y)if(5!==y){if("number"==typeof y)break;if(l.hasOwnProperty(y)){null===f&&(f=[]);const S=l[y];for(let D=0;D<S.length;D+=2)if(S[D]===u){f.push(y,S[D+1],d[v+1]);break}}v+=2}else v+=2;else v+=4}return f}function j0(l,u,d,f){return[l,!0,!1,u,null,0,f,d,null,null,null]}function rv(l,u){const d=l.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const y=d[f+1];if(-1!==y){const S=l.data[y];nE(d[f]),S.contentQueries(2,u[y],y)}}}function ov(l,u){return l[bh]?l[mT][jr]=u:l[bh]=u,l[mT]=u,u}function BC(l,u,d){nE(0);const f=zr(null);try{u(l,d)}finally{zr(f)}}function U0(l){return l[Dh]||(l[Dh]=[])}function sv(l){return l.cleanup||(l.cleanup=[])}function av(l,u){const d=l[Us],f=d?d.get(qs,null):null;f&&f.handleError(u)}function Ja(l,u,d,f,v){for(let y=0;y<d.length;){const S=d[y++],D=d[y++];B0(l.data[S],u[S],f,D,v)}}function bx(l,u){const d=Qi(u,l),f=d[ot];!function Ox(l,u){for(let d=u.length;d<l.blueprint.length;d++)u.push(l.blueprint[d])}(f,d);const v=d[Bn];null!==v&&null===d[as]&&(d[as]=kg(v,d[Us])),jC(f,d,d[Xn])}function jC(l,u,d){yt(u);try{const f=l.viewQuery;null!==f&&BC(1,f,d);const v=l.template;null!==v&&Yg(l,u,v,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&rv(l,u),l.staticViewQueries&&BC(2,l.viewQuery,d);const y=l.components;null!==y&&function lv(l,u){for(let d=0;d<u.length;d++)bx(l,u[d])}(u,y)}catch(f){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),f}finally{u[Wt]&=-5,Kt()}}let uv=(()=>{class l{constructor(){this.all=new Set,this.queue=new Map}create(d,f,v){const y=typeof Zone>"u"?null:Zone.current,S=function FT(l,u,d){const f=Object.create(LT);d&&(f.consumerAllowSignalWrites=!0),f.fn=l,f.schedule=u;const v=S=>{f.cleanupFn=S};return f.ref={notify:()=>bT(f),run:()=>{if(f.dirty=!1,f.hasRun&&!OT(f))return;f.hasRun=!0;const S=ay(f);try{f.cleanupFn(),f.cleanupFn=kS,f.fn(v)}finally{ly(f,S)}},cleanup:()=>f.cleanupFn()},f.ref}(d,M=>{this.all.has(M)&&this.queue.set(M,y)},v);let D;this.all.add(S),S.notify();const O=()=>{S.cleanup(),D?.(),this.all.delete(S),this.queue.delete(S)};return D=f?.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[d,f]of this.queue)this.queue.delete(d),f?f.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ft({token:l,providedIn:"root",factory:()=>new l})}return l})();function ed(l,u,d){let f=d?l.styles:null,v=d?l.classes:null,y=0;if(null!==u)for(let S=0;S<u.length;S++){const D=u[S];"number"==typeof D?y=D:1==y?v=be(v,D):2==y&&(f=be(f,D+": "+u[++S]+";"))}d?l.styles=f:l.stylesWithoutHost=f,d?l.classes=v:l.classesWithoutHost=v}function gu(l,u,d,f,v=!1){for(;null!==d;){const y=u[d.index];null!==y&&f.push(Dn(y)),Zi(y)&&en(y,f);const S=d.type;if(8&S)gu(l,u,d.child,f);else if(32&S){const D=Ac(d,u);let O;for(;O=D();)f.push(O)}else if(16&S){const D=tC(u,d);if(Array.isArray(D))f.push(...D);else{const O=su(u[ti]);gu(O[ot],O,D,f,!0)}}d=v?d.projectionNext:d.next}return f}function en(l,u){for(let d=bi;d<l.length;d++){const f=l[d],v=f[ot].firstChild;null!==v&&gu(f[ot],f,v,u)}l[Ur]!==l[Bn]&&u.push(l[Ur])}function wf(l,u,d,f=!0){const v=u[hc],y=v.rendererFactory,S=v.afterRenderEventManager;y.begin?.(),S?.begin();try{ea(l,u,l.template,d)}catch(O){throw f&&av(u,O),O}finally{y.end?.(),v.effectManager?.flush(),S?.end()}}function ea(l,u,d,f){const v=u[Wt];if(256!=(256&v)){u[hc].effectManager?.flush(),yt(u);try{zS(u),function YT(l){return xt.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&Yg(l,u,d,2,f);const S=3==(3&v);if(S){const M=l.preOrderCheckHooks;null!==M&&rg(u,M,null)}else{const M=l.preOrderHooks;null!==M&&og(u,M,0,null),sg(u,0)}if(function cv(l){for(let u=PE(l);null!==u;u=zy(u)){if(!u[AS])continue;const d=u[Th];for(let f=0;f<d.length;f++){VT(d[f])}}}(u),td(u,2),null!==l.contentQueries&&rv(l,u),S){const M=l.contentCheckHooks;null!==M&&rg(u,M)}else{const M=l.contentHooks;null!==M&&og(u,M,1),sg(u,1)}!function $g(l,u){const d=l.hostBindingOpCodes;if(null===d)return;const f=xC(u,Kl);try{for(let v=0;v<d.length;v++){const y=d[v];if(y<0)ds(~y);else{const S=y,D=d[++v],O=d[++v];JS(D,S),f.dirty=!1;const M=ay(f);try{O(2,u[S])}finally{ly(f,M)}}}}finally{null===u[Kl]&&MC(u,Kl),ds(-1)}}(l,u);const D=l.components;null!==D&&dv(u,D,0);const O=l.viewQuery;if(null!==O&&BC(2,O,f),S){const M=l.viewCheckHooks;null!==M&&rg(u,M)}else{const M=l.viewHooks;null!==M&&og(u,M,2),sg(u,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),u[Wt]&=-73,HT(u)}finally{Kt()}}}function td(l,u){for(let d=PE(l);null!==d;d=zy(d))for(let f=bi;f<d.length;f++)nd(d[f],u)}function UC(l,u,d){nd(Qi(u,l),d)}function nd(l,u){if(!function GT(l){return 128==(128&l[Wt])}(l))return;const d=l[ot],f=l[Wt];if(80&f&&0===u||1024&f||2===u)ea(d,l,d.template,l[Xn]);else if(l[Wl]>0){td(l,1);const v=d.components;null!==v&&dv(l,v,1)}}function dv(l,u,d){for(let f=0;f<u.length;f++)UC(l,u[f],d)}class ta{get rootNodes(){const u=this._lView,d=u[ot];return gu(d,u,d.firstChild,[])}constructor(u,d){this._lView=u,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xn]}set context(u){this._lView[Xn]=u}get destroyed(){return 256==(256&this._lView[Wt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[Gn];if(Zi(u)){const d=u[8],f=d?d.indexOf(this):-1;f>-1&&(qy(u,f),jh(d,f))}this._attachedToViewContainer=!1}Xy(this._lView[ot],this._lView)}onDestroy(u){my(this._lView,u)}markForCheck(){Qc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wt]&=-129}reattach(){this._lView[Wt]|=128}detectChanges(){wf(this._lView[ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ky(l,u){Pc(l,u,u[Gt],2,null,null)}(this._lView[ot],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=u}}class Ef extends ta{constructor(u){super(u),this._view=u}detectChanges(){const u=this._view;wf(u[ot],u,u[Xn],!1)}checkNoChanges(){}get context(){return null}}class id extends br{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const d=Pt(u);return new Co(d,this.ngModule)}}function Mi(l){const u=[];for(let d in l)l.hasOwnProperty(d)&&u.push({propName:l[d],templateName:d});return u}class na{constructor(u,d){this.injector=u,this.parentInjector=d}get(u,d,f){f=Ta(f);const v=this.injector.get(u,bC,f);return v!==bC||d===bC?v:this.parentInjector.get(u,d,f)}}class Co extends p0{get inputs(){const u=this.componentDef,d=u.inputTransforms,f=Mi(u.inputs);if(null!==d)for(const v of f)d.hasOwnProperty(v.propName)&&(v.transform=d[v.propName]);return f}get outputs(){return Mi(this.componentDef.outputs)}constructor(u,d){super(),this.componentDef=u,this.ngModule=d,this.componentType=u.type,this.selector=function OS(l){return l.map(bS).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!d}create(u,d,f,v){let y=(v=v||this.ngModule)instanceof Lo?v:v?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const S=y?new na(u,y):u,D=S.get(DC,null);if(null===D)throw new he(407,!1);const B={rendererFactory:D,sanitizer:S.get(cx,null),effectManager:S.get(uv,null),afterRenderEventManager:S.get(Zr,null)},$=D.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",Se=f?function M0(l,u,d,f){const y=f.get(T0,!1)||d===os.ShadowDom,S=l.selectRootElement(u,y);return function P0(l){Za(l)}(S),S}($,f,this.componentDef.encapsulation,S):xc($,J,function Rx(l){const u=l.toLowerCase();return"svg"===u?"svg":"math"===u?"math":null}(J)),dt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Te=null;null!==Se&&(Te=kg(Se,S,!0));const wt=yf(0,null,null,1,0,null,null,null,null,null,null),jt=Jc(null,wt,null,dt,null,null,B,$,S,null,Te);let mn,kr;yt(jt);try{const Eo=this.componentDef;let Gd,fw=null;Eo.findHostDirectiveDefs?(Gd=[],fw=new Map,Eo.findHostDirectiveDefs(Eo,Gd,fw),Gd.push(Eo)):Gd=[Eo];const YI=function Tx(l,u){const d=l[ot],f=tn;return l[f]=u,Bi(d,f,2,"#host",null)}(jt,Se),qI=function Ax(l,u,d,f,v,y,S){const D=v[ot];!function WC(l,u,d,f){for(const v of l)u.mergedAttrs=Ul(u.mergedAttrs,v.hostAttrs);null!==u.mergedAttrs&&(ed(u,u.mergedAttrs,!0),null!==d&&Og(f,d,u))}(f,l,u,S);let O=null;null!==u&&(O=kg(u,v[Us]));const M=y.rendererFactory.createRenderer(u,d);let L=16;d.signals?L=4096:d.onPush&&(L=64);const B=Jc(v,FC(d),null,L,v[l.index],l,y,M,null,null,O);return D.firstCreatePass&&iv(D,l,f.length-1),ov(v,B),v[l.index]=B}(YI,Se,Eo,Gd,jt,B,$);kr=vy(wt,tn),Se&&function $C(l,u,d,f){if(f)yh(l,d,["ng-version",Re.full]);else{const{attrs:v,classes:y}=function Br(l){const u=[],d=[];let f=1,v=2;for(;f<l.length;){let y=l[f];if("string"==typeof y)2===v?""!==y&&u.push(y,l[++f]):8===v&&d.push(y);else{if(!qi(v))break;v=y}f++}return{attrs:u,classes:d}}(u.selectors[0]);v&&yh(l,d,v),y&&y.length>0&&jE(l,d,y.join(" "))}}($,Eo,Se,f),void 0!==d&&function KC(l,u,d){const f=l.projection=[];for(let v=0;v<u.length;v++){const y=d[v];f.push(null!=y?Array.from(y):null)}}(kr,this.ngContentSelectors,d),mn=function zC(l,u,d,f,v,y){const S=Oi(),D=v[ot],O=Cr(S,v);Jg(D,v,S,d,null,f);for(let L=0;L<d.length;L++)Ti(Ql(v,D,S.directiveStart+L,S),v);Js(D,v,S),O&&Ti(O,v);const M=Ql(v,D,S.directiveStart+S.componentOffset,S);if(l[Xn]=v[Xn]=M,null!==y)for(const L of y)L(M,u);return qg(D,S,l),M}(qI,Eo,Gd,fw,jt,[z0]),jC(wt,jt,null)}finally{Kt()}return new Pi(this.componentType,mn,Ua(kr,jt),jt,kr)}}class Pi extends lx{constructor(u,d,f,v,y){super(),this.location=f,this._rootLView=v,this._tNode=y,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new Ef(v),this.componentType=u}setInput(u,d){const f=this._tNode.inputs;let v;if(null!==f&&(v=f[u])){if(this.previousInputValues??=new Map,this.previousInputValues.has(u)&&Object.is(this.previousInputValues.get(u),d))return;const y=this._rootLView;Ja(y[ot],y,v,u,d),this.previousInputValues.set(u,d),Qc(Qi(this._tNode.index,y))}}get injector(){return new Ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function z0(){const l=Oi();Cy(xe()[ot],l)}function Df(l){let u=function $0(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const f=[l];for(;u;){let v;if(ls(l))v=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new he(903,!1);v=u.\u0275dir}if(v){if(d){f.push(v);const S=l;S.inputs=bf(l.inputs),S.inputTransforms=bf(l.inputTransforms),S.declaredInputs=bf(l.declaredInputs),S.outputs=bf(l.outputs);const D=v.hostBindings;D&&xx(l,D);const O=v.viewQuery,M=v.contentQueries;if(O&&Of(l,O),M&&_o(l,M),ee(l.inputs,v.inputs),ee(l.declaredInputs,v.declaredInputs),ee(l.outputs,v.outputs),null!==v.inputTransforms&&(null===S.inputTransforms&&(S.inputTransforms={}),ee(S.inputTransforms,v.inputTransforms)),ls(v)&&v.data.animation){const L=l.data;L.animation=(L.animation||[]).concat(v.data.animation)}}const y=v.features;if(y)for(let S=0;S<y.length;S++){const D=y[S];D&&D.ngInherit&&D(l),D===Df&&(d=!1)}}u=Object.getPrototypeOf(u)}!function K0(l){let u=0,d=null;for(let f=l.length-1;f>=0;f--){const v=l[f];v.hostVars=u+=v.hostVars,v.hostAttrs=Ul(v.hostAttrs,d=Ul(d,v.hostAttrs))}}(f)}function bf(l){return l===yr?{}:l===rn?[]:l}function Of(l,u){const d=l.viewQuery;l.viewQuery=d?(f,v)=>{u(f,v),d(f,v)}:u}function _o(l,u){const d=l.contentQueries;l.contentQueries=d?(f,v,y)=>{u(f,v,y),d(f,v,y)}:u}function xx(l,u){const d=l.hostBindings;l.hostBindings=d?(f,v)=>{u(f,v),d(f,v)}:u}function XC(l){const u=l.inputConfig,d={};for(const f in u)if(u.hasOwnProperty(f)){const v=u[f];Array.isArray(v)&&v[2]&&(d[f]=v[2])}l.inputTransforms=d}function Vn(l){return!!ZC(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function ZC(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function ji(l,u,d){return!Object.is(l[u],d)&&(l[u]=d,!0)}function yu(l,u,d,f){const v=ji(l,u,d);return ji(l,u+1,f)||v}function fv(l,u,d,f){const v=xe();return ji(v,Ih(),u)&&(nn(),Ds(xn(),v,l,u,d,f)),fv}function rd(l,u,d,f,v,y){const D=yu(l,function La(){return xt.lFrame.bindingIndex}(),d,v);return Na(2),D?u+Ae(d)+f+Ae(v)+y:Vt}function oD(l,u,d,f,v,y,S,D){const O=xe(),M=nn(),L=l+tn,B=M.firstCreatePass?function rD(l,u,d,f,v,y,S,D,O){const M=u.consts,L=Bi(u,l,4,S||null,Fa(M,D));Or(u,d,L,Fa(M,O)),Cy(u,L);const B=L.tView=yf(2,L,f,v,y,u.directiveRegistry,u.pipeRegistry,null,u.schemas,M,null);return null!==u.queries&&(u.queries.template(u,L),B.queries=u.queries.embeddedTView(L)),L}(L,M,O,u,d,f,v,y,S):M.data[L];zs(B,!1);const $=s_(M,O,B,l);Lh()&&ef(M,O,$,B),Ti($,O),ov(O,O[L]=j0($,O,$,B)),ry(B)&&Xg(M,O,B),null!=S&&mf(O,B,D)}let s_=function sD(l,u,d,f){return Po(!0),u[Gt].createComment("")};function a_(l,u,d){const f=xe();return ji(f,Ih(),u)&&function nr(l,u,d,f,v,y,S,D){const O=Cr(u,d);let L,M=u.inputs;!D&&null!=M&&(L=M[f])?(Ja(l,d,L,f,v),Yl(u)&&function kC(l,u){const d=Qi(u,l);16&d[Wt]||(d[Wt]|=64)}(d,u.index)):3&u.type&&(f=function NC(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(f),v=null!=S?S(v,u.value||"",f):v,y.setProperty(O,f,v))}(nn(),xn(),f,l,u,f[Gt],d,!1),a_}function mv(l,u,d,f,v){const S=v?"class":"style";Ja(l,d,u.inputs[S],S,f)}function hd(l,u,d,f){const v=xe(),y=nn(),S=tn+l,D=v[Gt],O=y.firstCreatePass?function Hx(l,u,d,f,v,y){const S=u.consts,O=Bi(u,l,2,f,Fa(S,v));return Or(u,d,O,Fa(S,y)),null!==O.attrs&&ed(O,O.attrs,!1),null!==O.mergedAttrs&&ed(O,O.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,O),O}(S,y,v,u,d,f):y.data[S],M=yv(y,v,O,D,u,l);v[S]=M;const L=ry(O);return zs(O,!0),Og(D,M,O),32!=(32&O.flags)&&Lh()&&ef(y,v,M,O),0===function KS(){return xt.lFrame.elementDepthCount}()&&Ti(M,v),function jT(){xt.lFrame.elementDepthCount++}(),L&&(Xg(y,v,O),qg(y,O,v)),null!==f&&mf(v,O),hd}function fd(){let l=Oi();XS()?ZS():(l=l.parent,zs(l,!1));const u=l;(function YS(l){return xt.skipHydrationRootTNode===l})(u)&&function zT(){xt.skipHydrationRootTNode=null}(),function UT(){xt.lFrame.elementDepthCount--}();const d=nn();return d.firstCreatePass&&(Cy(d,l),iy(l)&&d.queries.elementEnd(l)),null!=u.classesWithoutHost&&function Ey(l){return 0!=(8&l.flags)}(u)&&mv(d,u,xe(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function sE(l){return 0!=(16&l.flags)}(u)&&mv(d,u,xe(),u.stylesWithoutHost,!1),fd}function l_(l,u,d,f){return hd(l,u,d,f),fd(),l_}let yv=(l,u,d,f,v,y)=>(Po(!0),xc(f,v,function iE(){return xt.lFrame.currentNamespace}()));function _v(l,u,d){const f=xe(),v=nn(),y=l+tn,S=v.firstCreatePass?function Cv(l,u,d,f,v){const y=u.consts,S=Fa(y,f),D=Bi(u,l,8,"ng-container",S);return null!==S&&ed(D,S,!0),Or(u,d,D,Fa(y,v)),null!==u.queries&&u.queries.elementStart(u,D),D}(y,v,f,u,d):v.data[y];zs(S,!0);const D=uD(v,f,S,l);return f[y]=D,Lh()&&ef(v,f,D,S),Ti(D,f),ry(S)&&(Xg(v,f,S),qg(v,S,f)),null!=d&&mf(f,S),_v}function Ff(){let l=Oi();const u=nn();return XS()?ZS():(l=l.parent,zs(l,!1)),u.firstCreatePass&&(Cy(u,l),iy(l)&&u.queries.elementEnd(l)),Ff}let uD=(l,u,d,f)=>(Po(!0),$y(u[Gt],""));function Ln(){return xe()}function c_(l){return!!l&&"function"==typeof l.then}function li(l){return!!l&&"function"==typeof l.subscribe}function wv(l,u,d,f){const v=xe(),y=nn(),S=Oi();return function d_(l,u,d,f,v,y,S){const D=ry(f),M=l.firstCreatePass&&sv(l),L=u[Xn],B=U0(u);let $=!0;if(3&f.type||S){const Ge=Cr(f,u),Ye=S?S(Ge):Ge,dt=B.length,Te=S?jt=>S(Dn(jt[f.index])):f.index;let wt=null;if(!S&&D&&(wt=function Ux(l,u,d,f){const v=l.cleanup;if(null!=v)for(let y=0;y<v.length-1;y+=2){const S=v[y];if(S===d&&v[y+1]===f){const D=u[Dh],O=v[y+2];return D.length>O?D[O]:null}"string"==typeof S&&(y+=2)}return null}(l,u,v,f.index)),null!==wt)(wt.__ngLastListenerFn__||wt).__ngNextListenerFn__=y,wt.__ngLastListenerFn__=y,$=!1;else{y=f_(f,u,L,y,!1);const jt=d.listen(Ye,v,y);B.push(y,jt),M&&M.push(v,Te,dt,dt+1)}}else y=f_(f,u,L,y,!1);const J=f.outputs;let Se;if($&&null!==J&&(Se=J[v])){const Ge=Se.length;if(Ge)for(let Ye=0;Ye<Ge;Ye+=2){const mn=u[Se[Ye]][Se[Ye+1]].subscribe(y),kr=B.length;B.push(y,mn),M&&M.push(v,f.index,kr,-(kr+1))}}}(y,v,v[Gt],S,l,u,f),wv}function h_(l,u,d,f){try{return us(6,u,d),!1!==d(f)}catch(v){return av(l,v),!1}finally{us(7,u,d)}}function f_(l,u,d,f,v){return function y(S){if(S===Function)return f;Qc(l.componentOffset>-1?Qi(l.index,u):u);let O=h_(u,d,f,S),M=y.__ngNextListenerFn__;for(;M;)O=h_(u,d,M,S)&&O,M=M.__ngNextListenerFn__;return v&&!1===O&&S.preventDefault(),O}}function p_(l=1){return function $r(l){return(xt.lFrame.contextLView=function Fh(l,u){for(;l>0;)u=u[zl],l--;return u}(l,xt.lFrame.contextLView))[Xn]}(l)}function Lf(l,u){return l<<17|u<<2}function oa(l){return l>>17&32767}function bv(l){return 2|l}function Os(l){return(131068&l)>>2}function Ov(l,u){return-131069&l|u<<2}function Rv(l){return 1|l}function wD(l,u,d,f,v){const y=l[d+1],S=null===u;let D=f?oa(y):Os(y),O=!1;for(;0!==D&&(!1===O||S);){const L=l[D+1];Kx(l[D],u)&&(O=!0,l[D+1]=f?Rv(L):bv(L)),D=f?oa(L):Os(L)}O&&(l[d+1]=f?bv(y):Rv(y))}function Kx(l,u){return null===l||null==u||(Array.isArray(l)?l[1]:l)===u||!(!Array.isArray(l)||"string"!=typeof u)&&Jl(l,u)>=0}function __(l,u){return function Bo(l,u,d,f){const v=xe(),y=nn(),S=Na(2);y.firstUpdatePass&&function TD(l,u,d,f){const v=l.data;if(null===v[d+1]){const y=v[bn()],S=function RD(l,u){return u>=l.expandoStartIndex}(l,d);(function S_(l,u){return 0!=(l.flags&(u?8:16))})(y,f)&&null===u&&!S&&(u=!1),u=function AD(l,u,d,f){const v=function tE(l){const u=xt.lFrame.currentDirectiveIndex;return-1===u?null:l[u]}(l);let y=f?u.residualClasses:u.residualStyles;if(null===v)0===(f?u.classBindings:u.styleBindings)&&(d=Nf(d=w_(null,l,u,d,f),u.attrs,f),y=null);else{const S=u.directiveStylingLast;if(-1===S||l[S]!==v)if(d=w_(v,l,u,d,f),null===y){let O=function Qx(l,u,d){const f=d?u.classBindings:u.styleBindings;if(0!==Os(f))return l[oa(f)]}(l,u,f);void 0!==O&&Array.isArray(O)&&(O=w_(null,l,u,O[1],f),O=Nf(O,u.attrs,f),function Jx(l,u,d,f){l[oa(d?u.classBindings:u.styleBindings)]=f}(l,u,f,O))}else y=function eM(l,u,d){let f;const v=u.directiveEnd;for(let y=1+u.directiveStylingLast;y<v;y++)f=Nf(f,l[y].hostAttrs,d);return Nf(f,u.attrs,d)}(l,u,f)}return void 0!==y&&(f?u.residualClasses=y:u.residualStyles=y),d}(v,y,u,f),function CD(l,u,d,f,v,y){let S=y?u.classBindings:u.styleBindings,D=oa(S),O=Os(S);l[f]=d;let L,M=!1;if(Array.isArray(d)?(L=d[1],(null===L||Jl(d,L)>0)&&(M=!0)):L=d,v)if(0!==O){const $=oa(l[D+1]);l[f+1]=Lf($,D),0!==$&&(l[$+1]=Ov(l[$+1],f)),l[D+1]=function mD(l,u){return 131071&l|u<<17}(l[D+1],f)}else l[f+1]=Lf(D,0),0!==D&&(l[D+1]=Ov(l[D+1],f)),D=f;else l[f+1]=Lf(O,0),0===D?D=f:l[O+1]=Ov(l[O+1],f),O=f;M&&(l[f+1]=bv(l[f+1])),wD(l,L,f,!0),wD(l,L,f,!1),function _D(l,u,d,f,v){const y=v?l.residualClasses:l.residualStyles;null!=y&&"string"==typeof u&&Jl(y,u)>=0&&(d[f+1]=Rv(d[f+1]))}(u,L,l,f,y),S=Lf(D,O),y?u.classBindings=S:u.styleBindings=S}(v,y,u,d,S,f)}}(y,l,S,f),u!==Vt&&ji(v,S,u)&&function Bt(l,u,d,f,v,y,S,D){if(!(3&u.type))return;const O=l.data,M=O[D+1],L=function m_(l){return 1==(1&l)}(M)?MD(O,u,d,v,Os(M),S):void 0;Eu(L)||(Eu(y)||function v_(l){return 2==(2&l)}(M)&&(y=MD(O,null,d,v,D,S)),function kA(l,u,d,f,v){if(u)v?l.addClass(d,f):l.removeClass(d,f);else{let y=-1===f.indexOf("-")?void 0:jy.DashCase;null==v?l.removeStyle(d,f,y):("string"==typeof v&&v.endsWith("!important")&&(v=v.slice(0,-10),y|=jy.Important),l.setStyle(d,f,v,y))}}(f,S,gc(bn(),d),v,y))}(y,y.data[bn()],v,v[Gt],l,v[S+1]=function PD(l,u){return null==l||""===l||("string"==typeof u?l+=u:"object"==typeof l&&(l=oe(Va(l)))),l}(u,d),f,S)}(l,u,null,!0),__}function w_(l,u,d,f,v){let y=null;const S=d.directiveEnd;let D=d.directiveStylingLast;for(-1===D?D=d.directiveStart:D++;D<S&&(y=u[D],f=Nf(f,y.hostAttrs,v),y!==l);)D++;return null!==l&&(d.directiveStylingLast=D),f}function Nf(l,u,d){const f=d?1:2;let v=-1;if(null!==u)for(let y=0;y<u.length;y++){const S=u[y];"number"==typeof S?v=S:v===f&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Kr(l,S,!!d||u[++y]))}return void 0===l?null:l}function MD(l,u,d,f,v,y){const S=null===u;let D;for(;v>0;){const O=l[v],M=Array.isArray(O),L=M?O[1]:O,B=null===L;let $=d[v+1];$===Vt&&($=B?rn:void 0);let J=B?cg($,f):L===f?$:void 0;if(M&&!Eu(J)&&(J=cg(O,f)),Eu(J)&&(D=J,S))return D;const Se=l[v+1];v=S?oa(Se):Os(Se)}if(null!==u){let O=y?u.residualClasses:u.residualStyles;null!=O&&(D=cg(O,f))}return D}function Eu(l){return void 0!==l}function ID(l,u=""){const d=xe(),f=nn(),v=l+tn,y=f.firstCreatePass?Bi(f,v,1,u,null):f.data[v],S=ll(f,d,y,u,l);d[v]=S,Lh()&&ef(f,d,S,y),zs(y,!1)}let ll=(l,u,d,f,v)=>(Po(!0),function wg(l,u){return l.createText(u)}(u[Gt],f));function ri(l,u,d,f,v){const y=xe(),S=rd(y,l,u,d,f,v);return S!==Vt&&function $n(l,u,d){const f=gc(u,l);!function FA(l,u,d){l.setValue(u,d)}(l[Gt],f,d)}(y,bn(),S),ri}const Du=void 0;var mM=["en",[["a","p"],["AM","PM"],Du],[["AM","PM"],Du,Du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Du,"{1} 'at' {0}",Du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vM(l){const d=Math.floor(Math.abs(l)),f=l.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let ul={};function xv(l){const u=function CM(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=ZD(u);if(d)return d;const f=u.split("-")[0];if(d=ZD(f),d)return d;if("en"===f)return mM;throw new he(701,!1)}function XD(l){return xv(l)[bu.PluralCase]}function ZD(l){return l in ul||(ul[l]=Fn.ng&&Fn.ng.common&&Fn.ng.common.locales&&Fn.ng.common.locales[l]),ul[l]}var bu=function(l){return l[l.LocaleId=0]="LocaleId",l[l.DayPeriodsFormat=1]="DayPeriodsFormat",l[l.DayPeriodsStandalone=2]="DayPeriodsStandalone",l[l.DaysFormat=3]="DaysFormat",l[l.DaysStandalone=4]="DaysStandalone",l[l.MonthsFormat=5]="MonthsFormat",l[l.MonthsStandalone=6]="MonthsStandalone",l[l.Eras=7]="Eras",l[l.FirstDayOfWeek=8]="FirstDayOfWeek",l[l.WeekendRange=9]="WeekendRange",l[l.DateFormat=10]="DateFormat",l[l.TimeFormat=11]="TimeFormat",l[l.DateTimeFormat=12]="DateTimeFormat",l[l.NumberSymbols=13]="NumberSymbols",l[l.NumberFormats=14]="NumberFormats",l[l.CurrencyCode=15]="CurrencyCode",l[l.CurrencySymbol=16]="CurrencySymbol",l[l.CurrencyName=17]="CurrencyName",l[l.Currencies=18]="Currencies",l[l.Directionality=19]="Directionality",l[l.PluralCase=20]="PluralCase",l[l.ExtraData=21]="ExtraData",l}(bu||{});const yd="en-US";let JD=yd;function wd(l,u,d,f,v){if(l=Me(l),Array.isArray(l))for(let y=0;y<l.length;y++)wd(l[y],u,d,f,v);else{const y=nn(),S=xe(),D=Oi();let O=Lt(l)?l:Me(l.provide);const M=vC(l),L=1048575&D.providerIndexes,B=D.directiveStart,$=D.providerIndexes>>20;if(Lt(l)||!l.multi){const J=new ps(M,v,fu),Se=I_(O,u,v?L:L+$,B);-1===Se?(hE(Gh(D,S),y,O),P_(y,l,u.length),u.push(O),D.directiveStart++,D.directiveEnd++,v&&(D.providerIndexes+=1048576),d.push(J),S.push(J)):(d[Se]=J,S[Se]=J)}else{const J=I_(O,u,L+$,B),Se=I_(O,u,L,L+$),Ye=Se>=0&&d[Se];if(v&&!Ye||!v&&!(J>=0&&d[J])){hE(Gh(D,S),y,O);const dt=function tP(l,u,d,f,v){const y=new ps(l,d,fu);return y.multi=[],y.index=u,y.componentProviders=0,yb(y,v,f&&!d),y}(v?eP:JM,d.length,v,f,M);!v&&Ye&&(d[Se].providerFactory=dt),P_(y,l,u.length,0),u.push(O),D.directiveStart++,D.directiveEnd++,v&&(D.providerIndexes+=1048576),d.push(dt),S.push(dt)}else P_(y,l,J>-1?J:Se,yb(d[v?Se:J],M,!v&&f));!v&&f&&Ye&&d[Se].componentProviders++}}}function P_(l,u,d,f){const v=Lt(u),y=function Pg(l){return!!l.useClass}(u);if(v||y){const O=(y?Me(u.useClass):u).prototype.ngOnDestroy;if(O){const M=l.destroyHooks||(l.destroyHooks=[]);if(!v&&u.multi){const L=M.indexOf(d);-1===L?M.push(d,[f,O]):M[L+1].push(f,O)}else M.push(d,O)}}}function yb(l,u,d){return d&&l.componentProviders++,l.multi.push(u)-1}function I_(l,u,d,f){for(let v=d;v<f;v++)if(u[v]===l)return v;return-1}function JM(l,u,d,f){return F_(this.multi,[])}function eP(l,u,d,f){const v=this.multi;let y;if(this.providerFactory){const S=this.providerFactory.componentProviders,D=Ql(d,d[ot],this.providerFactory.index,f);y=D.slice(0,S),F_(v,y);for(let O=S;O<D.length;O++)y.push(D[O])}else y=[],F_(v,y);return y}function F_(l,u){for(let d=0;d<l.length;d++)u.push((0,l[d])());return u}function Cb(l,u=[]){return d=>{d.providersResolver=(f,v)=>function QM(l,u,d){const f=nn();if(f.firstCreatePass){const v=ls(l);wd(d,f.data,f.blueprint,v,!0),wd(u,f.data,f.blueprint,v,!1)}}(f,v?v(l):l,u)}}class Au{}class _b{}function xu(l,u){return new L_(l,u??null,[])}class L_ extends Au{constructor(u,d,f){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new id(this);const v=ki(u);this._bootstrapComponents=Qs(v.bootstrap),this._r3Injector=w0(u,d,[{provide:Au,useValue:this},{provide:br,useValue:this.componentFactoryResolver},...f],oe(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class Kf extends _b{constructor(u){super(),this.moduleType=u}create(u){return new L_(this.moduleType,u,[])}}class Ir extends Au{constructor(u){super(),this.componentFactoryResolver=new id(this),this.instance=null;const d=new Dr([...u.providers,{provide:Au,useValue:this},{provide:br,useValue:this.componentFactoryResolver}],u.parent||Bc(),u.debugName,new Set(["environment"]));this.injector=d,u.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function wb(l,u,d=null){return new Ir({providers:l,parent:u,debugName:d,runEnvironmentInitializers:!0}).injector}let Mu=(()=>{class l{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const f=Er(0,d.type),v=f.length>0?wb([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,v)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ft({token:l,providedIn:"environment",factory:()=>new l(Hn(Lo))})}return l})();function Sb(l){l.getStandaloneInjector=u=>u.get(Mu).getOrCreateStandaloneInjector(l)}function Fv(l,u,d,f,v){return function Mb(l,u,d,f,v,y,S){const D=u+d;return yu(l,D,v,y)?function bs(l,u,d){return l[u]=d}(l,D+2,S?f.call(S,v,y):f(v,y)):function qf(l,u){const d=l[u];return d===Vt?void 0:d}(l,D+2)}(xe(),function _r(){const l=xt.lFrame;let u=l.bindingRootIndex;return-1===u&&(u=l.bindingRootIndex=l.tView.bindingStartIndex),u}(),l,u,d,f,v)}function Fr(){return this._results[Symbol.iterator]()}class H_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ws)}constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=H_.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=Fr)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,d){return this._results.reduce(u,d)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,d){const f=this;f.dirty=!1;const v=function go(l){return l.flat(Number.POSITIVE_INFINITY)}(u);(this._changesDetected=!function dA(l,u,d){if(l.length!==u.length)return!1;for(let f=0;f<l.length;f++){let v=l[f],y=u[f];if(d&&(v=d(v),y=d(y)),y!==v)return!1}return!0}(f._results,v,d))&&(f._results=v,f.length=v.length,f.last=v[this.length-1],f.first=v[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function CP(l,u,d,f=!0){const v=u[ot];if(function FE(l,u,d,f){const v=bi+f,y=d.length;f>0&&(d[v-1][jr]=u),f<y-bi?(u[jr]=d[v],mE(d,bi+f,u)):(d.push(u),u[jr]=null),u[Gn]=d;const S=u[Kp];null!==S&&d!==S&&function Yy(l,u){const d=l[Th];u[ti]!==u[Gn][Gn][ti]&&(l[AS]=!0),null===d?l[Th]=[u]:d.push(u)}(S,u);const D=u[ss];null!==D&&D.insertView(l),u[Wt]|=128}(v,u,l,d),f){const y=nC(d,l),S=u[Gt],D=Jy(S,l[Ur]);null!==D&&function kN(l,u,d,f,v,y){f[Bn]=v,f[Xi]=u,Pc(l,f,d,1,v,y)}(v,l[Xi],S,u,D,y)}}let Xf=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=SP}return l})();const _P=Xf,wP=class extends _P{constructor(u,d,f){super(),this._declarationLView=u,this._declarationTContainer=d,this.elementRef=f}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(u,d){return this.createEmbeddedViewImpl(u,d)}createEmbeddedViewImpl(u,d,f){const v=function yP(l,u,d,f){const v=u.tView,D=Jc(l,v,d,4096&l[Wt]?4096:16,null,u,null,null,null,f?.injector??null,f?.hydrationInfo??null);D[Kp]=l[u.index];const M=l[ss];return null!==M&&(D[ss]=M.createEmbeddedView(v)),jC(v,D,d),D}(this._declarationLView,this._declarationTContainer,u,{injector:d,hydrationInfo:f});return new ta(v)}};function SP(){return Sd(Oi(),xe())}function Sd(l,u){return 4&l.type?new wP(u,l,Ua(l,u)):null}let kv=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=RP}return l})();function RP(){return Gb(Oi(),xe())}const TP=kv,B_=class extends TP{constructor(u,d,f){super(),this._lContainer=u,this._hostTNode=d,this._hostLView=f}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new Ji(this._hostTNode,this._hostLView)}get parentInjector(){const u=Dy(this._hostTNode,this._hostLView);if(aE(u)){const d=Cc(u,this._hostLView),f=yc(u);return new Ji(d[ot].data[f+8],d)}return new Ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const d=kb(this._lContainer);return null!==d&&d[u]||null}get length(){return this._lContainer.length-bi}createEmbeddedView(u,d,f){let v,y;"number"==typeof f?v=f:null!=f&&(v=f.index,y=f.injector);const D=u.createEmbeddedViewImpl(d||{},y,null);return this.insertImpl(D,v,false),D}createComponent(u,d,f,v,y){const S=u&&!function lg(l){return"function"==typeof l}(u);let D;if(S)D=d;else{const Ge=d||{};D=Ge.index,f=Ge.injector,v=Ge.projectableNodes,y=Ge.environmentInjector||Ge.ngModuleRef}const O=S?u:new Co(Pt(u)),M=f||this.parentInjector;if(!y&&null==O.ngModule){const Ye=(S?M:this.parentInjector).get(Lo,null);Ye&&(y=Ye)}Pt(O.componentType??{});const J=O.create(M,v,null,y);return this.insertImpl(J.hostView,D,false),J}insert(u,d){return this.insertImpl(u,d,!1)}insertImpl(u,d,f){const v=u._lView;if(function WS(l){return Zi(l[Gn])}(v)){const O=this.indexOf(u);if(-1!==O)this.detach(O);else{const M=v[Gn],L=new B_(M,M[Xi],M[Gn]);L.detach(L.indexOf(u))}}const S=this._adjustIndex(d),D=this._lContainer;return CP(D,v,S,!f),u.attachToViewContainerRef(),mE(bd(D),S,u),u}move(u,d){return this.insert(u,d)}indexOf(u){const d=kb(this._lContainer);return null!==d?d.indexOf(u):-1}remove(u){const d=this._adjustIndex(u,-1),f=qy(this._lContainer,d);f&&(jh(bd(this._lContainer),d),Xy(f[ot],f))}detach(u){const d=this._adjustIndex(u,-1),f=qy(this._lContainer,d);return f&&null!=jh(bd(this._lContainer),d)?new ta(f):null}_adjustIndex(u,d=0){return u??this.length+d}};function kb(l){return l[8]}function bd(l){return l[8]||(l[8]=[])}function Gb(l,u){let d;const f=u[l.index];return Zi(f)?d=f:(d=j0(f,u,null,l),u[l.index]=d,ov(u,d)),Gv(d,u,l,f),new B_(d,l,u)}let Gv=function Vb(l,u,d,f){if(l[Ur])return;let v;v=8&d.type?Dn(f):function AP(l,u){const d=l[Gt],f=d.createComment(""),v=Cr(u,l);return Mc(d,Jy(d,v),f,function VN(l,u){return l.nextSibling(u)}(d,v),!1),f}(u,d),l[Ur]=v};class gi{constructor(u){this.queryList=u,this.matches=null}clone(){return new gi(this.queryList)}setDirty(){this.queryList.setDirty()}}class j_{constructor(u=[]){this.queries=u}createEmbeddedView(u){const d=u.queries;if(null!==d){const f=null!==u.contentQueries?u.contentQueries[0]:d.length,v=[];for(let y=0;y<f;y++){const S=d.getByIndex(y);v.push(this.queries[S.indexInDeclarationView].clone())}return new j_(v)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let d=0;d<this.queries.length;d++)null!==ep(u,d).matches&&this.queries[d].setDirty()}}class Bb{constructor(u,d,f=null){this.predicate=u,this.flags=d,this.read=f}}class Jf{constructor(u=[]){this.queries=u}elementStart(u,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(u,d)}elementEnd(u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(u)}embeddedTView(u){let d=null;for(let f=0;f<this.length;f++){const v=null!==d?d.length:0,y=this.getByIndex(f).embeddedTView(u,v);y&&(y.indexInDeclarationView=f,null!==d?d.push(y):d=[y])}return null!==d?new Jf(d):null}template(u,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(u,d)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class U_{constructor(u,d=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(u,d){this.isApplyingToNode(d)&&this.matchTNode(u,d)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,d){this.elementStart(u,d)}embeddedTView(u,d){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,d),new U_(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=u.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(u,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let v=0;v<f.length;v++){const y=f[v];this.matchTNodeWithReadOption(u,d,Vv(d,y)),this.matchTNodeWithReadOption(u,d,Oy(d,u,y,!1,!1))}else f===Xf?4&d.type&&this.matchTNodeWithReadOption(u,d,-1):this.matchTNodeWithReadOption(u,d,Oy(d,u,f,!1,!1))}matchTNodeWithReadOption(u,d,f){if(null!==f){const v=this.metadata.read;if(null!==v)if(v===Wa||v===kv||v===Xf&&4&d.type)this.addMatch(d.index,-2);else{const y=Oy(d,u,v,!1,!1);null!==y&&this.addMatch(d.index,y)}else this.addMatch(d.index,f)}}addMatch(u,d){null===this.matches?this.matches=[u,d]:this.matches.push(u,d)}}function Vv(l,u){const d=l.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===u)return d[f+1];return null}function PP(l,u,d,f){return-1===d?function MP(l,u){return 11&l.type?Ua(l,u):4&l.type?Sd(l,u):null}(u,l):-2===d?function W_(l,u,d){return d===Wa?Ua(u,l):d===Xf?Sd(u,l):d===kv?Gb(u,l):void 0}(l,u,f):Ql(l,l[ot],d,u)}function jb(l,u,d,f){const v=u[ss].queries[f];if(null===v.matches){const y=l.data,S=d.matches,D=[];for(let O=0;O<S.length;O+=2){const M=S[O];D.push(M<0?null:PP(u,y[M],S[O+1],d.metadata.read))}v.matches=D}return v.matches}function Hv(l,u,d,f){const v=l.queries.getByIndex(d),y=v.matches;if(null!==y){const S=jb(l,u,v,d);for(let D=0;D<y.length;D+=2){const O=y[D];if(O>0)f.push(S[D/2]);else{const M=y[D+1],L=u[-O];for(let B=bi;B<L.length;B++){const $=L[B];$[Kp]===$[Gn]&&Hv($[ot],$,M,f)}if(null!==L[Th]){const B=L[Th];for(let $=0;$<B.length;$++){const J=B[$];Hv(J[ot],J,M,f)}}}}}return f}function Bv(l){const u=xe(),d=nn(),f=qT();nE(f+1);const v=ep(d,f);if(l.dirty&&function US(l){return 4==(4&l[Wt])}(u)===(2==(2&v.metadata.flags))){if(null===v.matches)l.reset([]);else{const y=v.crossesNgTemplate?Hv(d,u,f,[]):jb(d,u,v,f);l.reset(y,Vg),l.notifyOnChanges()}return!0}return!1}function jv(l,u,d,f){const v=nn();if(v.firstCreatePass){const y=Oi();(function Wb(l,u,d){null===l.queries&&(l.queries=new Jf),l.queries.track(new U_(u,d))})(v,new Bb(u,d,f),y.index),function LP(l,u){const d=l.contentQueries||(l.contentQueries=[]);u!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,u)}(v,l),2==(2&d)&&(v.staticContentQueries=!0)}!function Uv(l,u,d){const f=new H_(4==(4&d));(function Zg(l,u,d,f){const v=U0(u);v.push(d),l.firstCreatePass&&sv(l).push(f,v.length-1)})(l,u,f,f.destroy),null===u[ss]&&(u[ss]=new j_),u[ss].queries.push(new gi(f))}(v,xe(),d)}function Ub(){return function FP(l,u){return l[ss].queries[u].queryList}(xe(),qT())}function ep(l,u){return l.queries.getByIndex(u)}function z_(l){return!!ki(l)}const tO=new on("Application Initializer");let xd=(()=>{class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f}),this.appInits=vn(tO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const v of this.appInits){const y=v();if(c_(y))d.push(y);else if(li(y)){const S=new Promise((D,O)=>{y.subscribe({complete:D,error:O})});d.push(S)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{f()}).catch(v=>{this.reject(v)}),0===d.length&&f(),this.initialized=!0}static#e=this.\u0275fac=function(f){return new(f||l)};static#t=this.\u0275prov=Ft({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),nO=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}static#e=this.\u0275fac=function(f){return new(f||l)};static#t=this.\u0275prov=Ft({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();const Zv=new on("LocaleId",{providedIn:"root",factory:()=>vn(Zv,Ne.Optional|Ne.SkipSelf)||function XP(){return typeof $localize<"u"&&$localize.locale||yd}()}),ZP=new on("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let la=(()=>{class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new K.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(f){return new(f||l)};static#t=this.\u0275prov=Ft({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();class QP{constructor(u,d){this.ngModuleFactory=u,this.componentFactories=d}}let JP=(()=>{class l{compileModuleSync(d){return new Kf(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),y=Qs(ki(d).declarations).reduce((S,D)=>{const O=Pt(D);return O&&S.push(new Co(O)),S},[]);return new QP(f,y)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}static#e=this.\u0275fac=function(f){return new(f||l)};static#t=this.\u0275prov=Ft({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const aO=new on(""),lO=new on("");let tw,uO=(()=>{class l{constructor(d,f,v){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tw||(function pI(l){tw=l}(v),v.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ii.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,v){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==y),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:y,updateCb:v})}whenStable(d,f,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,v){return[]}static#e=this.\u0275fac=function(f){return new(f||l)(Hn(ii),Hn(cO),Hn(lO))};static#t=this.\u0275prov=Ft({token:l,factory:l.\u0275fac})}return l})(),cO=(()=>{class l{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return tw?.findTestabilityInTree(this,d,f)??null}static#e=this.\u0275fac=function(f){return new(f||l)};static#t=this.\u0275prov=Ft({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})(),fl=null;const sp=new on("AllowMultipleToken"),nw=new on("PlatformDestroyListeners"),Pd=new on("appBootstrapListener");class gI{constructor(u,d){this.name=u,this.token=d}}function fO(l,u,d=[]){const f=`Platform: ${u}`,v=new on(f);return(y=[])=>{let S=Id();if(!S||S.injector.get(sp,!1)){const D=[...d,...y,{provide:v,useValue:!0}];l?l(D):function vI(l){if(fl&&!fl.get(sp,!1))throw new he(400,!1);(function ap(){!function pN(l){MT=l}(()=>{throw new he(600,!1)})})(),fl=l;const u=l.get(iw);(function lp(l){l.get(d0,null)?.forEach(d=>d())})(l)}(function pO(l=[],u){return ko.create({name:u,providers:[{provide:Hc,useValue:"platform"},{provide:nw,useValue:new Set([()=>fl=null])},...l]})}(D,f))}return function pl(l){const u=Id();if(!u)throw new he(401,!1);return u}()}}function Id(){return fl?.get(iw)??null}let iw=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const v=function yI(l="zone.js",u){return"noop"===l?new gx:"zone.js"===l?new ii(u):l}(f?.ngZone,function gO(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:l?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:l?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return v.run(()=>{const y=function N_(l,u,d){return new L_(l,u,d)}(d.moduleType,this.injector,function dp(l){return[{provide:ii,useFactory:l},{provide:Gc,multi:!0,useFactory:()=>{const u=vn(CO,{optional:!0});return()=>u.initialize()}},{provide:yO,useFactory:cp},{provide:pf,useFactory:Zs}]}(()=>v)),S=y.injector.get(qs,null);return v.runOutsideAngular(()=>{const D=v.onError.subscribe({next:O=>{S.handleError(O)}});y.onDestroy(()=>{up(this._modules,y),D.unsubscribe()})}),function vO(l,u,d){try{const f=d();return c_(f)?f.catch(v=>{throw u.runOutsideAngular(()=>l.handleError(v)),v}):f}catch(f){throw u.runOutsideAngular(()=>l.handleError(f)),f}}(S,v,()=>{const D=y.injector.get(xd);return D.runInitializers(),D.donePromise.then(()=>(function eb(l){ut(l,"Expected localeId to be defined"),"string"==typeof l&&(JD=l.toLowerCase().replace(/_/g,"-"))}(y.injector.get(Zv,yd)||yd),this._moduleDoBootstrap(y),y))})})}bootstrapModule(d,f=[]){const v=mO({},f);return function dO(l,u,d){const f=new Kf(d);return Promise.resolve(f)}(0,0,d).then(y=>this.bootstrapModuleFactory(y,v))}_moduleDoBootstrap(d){const f=d.injector.get(Fd);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(v=>f.bootstrap(v));else{if(!d.instance.ngDoBootstrap)throw new he(-403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(nw,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(f){return new(f||l)(Hn(ko))};static#t=this.\u0275prov=Ft({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();function mO(l,u){return Array.isArray(u)?u.reduce(mO,l):{...l,...u}}let Fd=(()=>{class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=vn(yO),this.zoneIsStable=vn(pf),this.componentTypes=[],this.components=[],this.isStable=vn(la).hasPendingTasks.pipe((0,le.w)(d=>d?(0,ue.of)(!1):this.zoneIsStable),(0,X.x)(),(0,Q.B)()),this._injector=vn(Lo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,f){const v=d instanceof p0;if(!this._injector.get(xd).done)throw!v&&Pa(d),new he(405,!1);let S;S=v?d:this._injector.get(br).resolveComponentFactory(d),this.componentTypes.push(S.componentType);const D=function hO(l){return l.isBoundToModule}(S)?void 0:this._injector.get(Au),M=S.create(ko.NULL,[],f||S.selector,D),L=M.location.nativeElement,B=M.injector.get(aO,null);return B?.registerApplication(L),M.onDestroy(()=>{this.detachView(M.hostView),up(this.components,M),B?.unregisterApplication(L)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;up(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const f=this._injector.get(Pd,[]);f.push(...this._bootstrapListeners),f.forEach(v=>v(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>up(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new he(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(f){return new(f||l)};static#t=this.\u0275prov=Ft({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function up(l,u){const d=l.indexOf(u);d>-1&&l.splice(d,1)}const yO=new on("",{providedIn:"root",factory:()=>vn(qs).handleError.bind(void 0)});function cp(){const l=vn(ii),u=vn(qs);return d=>l.runOutsideAngular(()=>u.handleError(d))}let CO=(()=>{class l{constructor(){this.zone=vn(ii),this.applicationRef=vn(Fd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(f){return new(f||l)};static#t=this.\u0275prov=Ft({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function _I(){return!1}function wI(){}let SI=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=Fu}return l})();function Fu(l){return function EI(l,u,d){if(Yl(l)&&!d){const f=Qi(l.index,u);return new ta(f,f)}return 47&l.type?new ta(u[ti],u):null}(Oi(),xe(),16==(16&l))}class SO{constructor(){}supports(u){return Vn(u)}create(u){return new TI(u)}}const hp=(l,u)=>u;class TI{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||hp}forEachItem(u){let d;for(d=this._itHead;null!==d;d=d._next)u(d)}forEachOperation(u){let d=this._itHead,f=this._removalsHead,v=0,y=null;for(;d||f;){const S=!f||d&&d.currentIndex<EO(f,v,y)?d:f,D=EO(S,v,y),O=S.currentIndex;if(S===f)v--,f=f._nextRemoved;else if(d=d._next,null==S.previousIndex)v++;else{y||(y=[]);const M=D-v,L=O-v;if(M!=L){for(let $=0;$<M;$++){const J=$<y.length?y[$]:y[$]=0,Se=J+$;L<=Se&&Se<M&&(y[$]=J+1)}y[S.previousIndex]=L-M}}D!==O&&u(S,D,O)}}forEachPreviousItem(u){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachMovedItem(u){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}forEachIdentityChange(u){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)u(d)}diff(u){if(null==u&&(u=[]),!Vn(u))throw new he(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let v,y,S,d=this._itHead,f=!1;if(Array.isArray(u)){this.length=u.length;for(let D=0;D<this.length;D++)y=u[D],S=this._trackByFn(D,y),null!==d&&Object.is(d.trackById,S)?(f&&(d=this._verifyReinsertion(d,y,S,D)),Object.is(d.item,y)||this._addIdentityChange(d,y)):(d=this._mismatch(d,y,S,D),f=!0),d=d._next}else v=0,function ce(l,u){if(Array.isArray(l))for(let d=0;d<l.length;d++)u(l[d]);else{const d=l[Symbol.iterator]();let f;for(;!(f=d.next()).done;)u(f.value)}}(u,D=>{S=this._trackByFn(v,D),null!==d&&Object.is(d.trackById,S)?(f&&(d=this._verifyReinsertion(d,D,S,v)),Object.is(d.item,D)||this._addIdentityChange(d,D)):(d=this._mismatch(d,D,S,v),f=!0),d=d._next,v++}),this.length=v;return this._truncate(d),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,d,f,v){let y;return null===u?y=this._itTail:(y=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._reinsertAfter(u,y,v)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(f,v))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._moveAfter(u,y,v)):u=this._addAfter(new AI(d,f),y,v),u}_verifyReinsertion(u,d,f,v){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?u=this._reinsertAfter(y,u._prev,v):u.currentIndex!=v&&(u.currentIndex=v,this._addToMoves(u,v)),u}_truncate(u){for(;null!==u;){const d=u._next;this._addToRemovals(this._unlink(u)),u=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const v=u._prevRemoved,y=u._nextRemoved;return null===v?this._removalsHead=y:v._nextRemoved=y,null===y?this._removalsTail=v:y._prevRemoved=v,this._insertAfter(u,d,f),this._addToMoves(u,f),u}_moveAfter(u,d,f){return this._unlink(u),this._insertAfter(u,d,f),this._addToMoves(u,f),u}_addAfter(u,d,f){return this._insertAfter(u,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,d,f){const v=null===d?this._itHead:d._next;return u._next=v,u._prev=d,null===v?this._itTail=u:v._prev=u,null===d?this._itHead=u:d._next=u,null===this._linkedRecords&&(this._linkedRecords=new rm),this._linkedRecords.put(u),u.currentIndex=f,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const d=u._prev,f=u._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,u}_addToMoves(u,d){return u.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rm),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,d){return u.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class AI{constructor(u,d){this.item=u,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xI{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,u))return f;return null}remove(u){const d=u._prevDup,f=u._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class rm{constructor(){this.map=new Map}put(u){const d=u.trackById;let f=this.map.get(d);f||(f=new xI,this.map.set(d,f)),f.add(u)}get(u,d){const v=this.map.get(u);return v?v.get(u,d):null}remove(u){const d=u.trackById;return this.map.get(d).remove(u)&&this.map.delete(d),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EO(l,u,d){const f=l.previousIndex;if(null===f)return f;let v=0;return d&&f<d.length&&(v=d[f]),f+u+v}class DO{constructor(){}supports(u){return u instanceof Map||ZC(u)}create(){return new Nd}}class Nd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let d;for(d=this._mapHead;null!==d;d=d._next)u(d)}forEachPreviousItem(u){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)u(d)}forEachChangedItem(u){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}diff(u){if(u){if(!(u instanceof Map||ZC(u)))throw new he(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(u,(f,v)=>{if(d&&d.key===v)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const y=this._getOrCreateRecordForKey(v,f);d=this._insertBeforeOrAppend(d,y)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,d){if(u){const f=u._prev;return d._next=u,d._prev=f,u._prev=d,f&&(f._next=d),u===this._mapHead&&(this._mapHead=d),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(u,d){if(this._records.has(u)){const v=this._records.get(u);this._maybeAddToChanges(v,d);const y=v._prev,S=v._next;return y&&(y._next=S),S&&(S._prev=y),v._next=null,v._prev=null,v}const f=new MI(u);return this._records.set(u,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,d){Object.is(d,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=d,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,d){u instanceof Map?u.forEach(d):Object.keys(u).forEach(f=>d(u[f],f))}}class MI{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bO(){return new om([new SO])}let om=(()=>{class l{static#e=this.\u0275prov=Ft({token:l,providedIn:"root",factory:bO});constructor(d){this.factories=d}static create(d,f){if(null!=f){const v=f.factories.slice();d=d.concat(v)}return new l(d)}static extend(d){return{provide:l,useFactory:f=>l.create(d,f||bO()),deps:[[l,new Fo,new zh]]}}find(d){const f=this.factories.find(v=>v.supports(d));if(null!=f)return f;throw new he(901,!1)}}return l})();function OO(){return new cw([new DO])}let cw=(()=>{class l{static#e=this.\u0275prov=Ft({token:l,providedIn:"root",factory:OO});constructor(d){this.factories=d}static create(d,f){if(f){const v=f.factories.slice();d=d.concat(v)}return new l(d)}static extend(d){return{provide:l,useFactory:f=>l.create(d,f||OO()),deps:[[l,new Fo,new zh]]}}find(d){const f=this.factories.find(v=>v.supports(d));if(f)return f;throw new he(901,!1)}}return l})();const LI=fO(null,"core",[]);let NI=(()=>{class l{constructor(d){}static#e=this.\u0275fac=function(f){return new(f||l)(Hn(Fd))};static#t=this.\u0275mod=ze({type:l});static#n=this.\u0275inj=qn({})}return l})();function lm(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}function KI(l){const u=Pt(l);if(!u)return null;const d=new Co(u);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return u.standalone},get isSignal(){return u.signals}}}},1993:(Z,z,F)=>{F.d(z,{O4:()=>Hs});var C=F(5879);class ue extends Error{constructor(We,pt){super(function Q(se,We){return`NG0${Math.abs(se)}${We?": "+We:""}`}(We,pt)),this.code=We}}let Oe=null;function Me(se){const We=Oe;return Oe=se,We}function Hs(se,We){const pt=!We?.manualCleanup;pt&&!We?.injector&&(0,C.gHi)(Hs);const Ne=pt?We?.injector?.get(C.ktI)??(0,C.f3M)(C.ktI):null;let Rt;return Rt=(0,C.tdS)(We?.requireSync?{kind:0}:{kind:1,value:We?.initialValue}),function Di(se){const We=Me(null);try{return se()}finally{Me(We)}}(()=>{const bt=se.subscribe({next:Tn=>Rt.set({kind:1,value:Tn}),error:Tn=>Rt.set({kind:2,error:Tn})});Ne?.onDestroy(bt.unsubscribe.bind(bt))}),(0,C.Flj)(()=>{const bt=Rt();switch(bt.kind){case 1:return bt.value;case 2:throw bt.error;case 0:throw new ue(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},7632:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5879),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4221),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6232),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5592),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2096),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3019),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2381),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(7328),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3020),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2181),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7398),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6328),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(797),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3620),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6306),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8180),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9773),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4664),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(836),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3093),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2460),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6699),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1993);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(z,F){if(this.action=z,this.timestamp=F,this.type=PERFORM_ACTION,typeof z.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(z){this.timestamp=z,this.type=RESET}}class Rollback{constructor(z){this.timestamp=z,this.type=ROLLBACK}}class Commit{constructor(z){this.timestamp=z,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(z){this.id=z,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(z,F,C=!0){this.start=z,this.end=F,this.active=C,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(z){this.index=z,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(z){this.actionId=z,this.type=JUMP_TO_ACTION}}class ImportState{constructor(z){this.nextLiftedState=z,this.type=IMPORT_STATE}}class LockChanges{constructor(z){this.status=z,this.type=LOCK_CHANGES}}class PauseRecording{constructor(z){this.status=z,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Z){const z={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectOutsideZone:!1},F="function"==typeof Z?Z():Z,Y=F.features||!!F.logOnly&&{pause:!0,export:!0,test:!0}||z.features;!0===Y.import&&(Y.import="custom");const ie=Object.assign({},z,{features:Y},F);if(ie.maxAge&&ie.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${ie.maxAge}`);return ie}function difference(Z,z){return Z.filter(F=>z.indexOf(F)<0)}function unliftState(Z){const{computedStates:z,currentStateIndex:F}=Z;if(F>=z.length){const{state:Y}=z[z.length-1];return Y}const{state:C}=z[F];return C}function unliftAction(Z){return Z.actionsById[Z.nextActionId-1]}function liftAction(Z){return new PerformAction(Z,+Date.now())}function sanitizeActions(Z,z){return Object.keys(z).reduce((F,C)=>{const Y=Number(C);return F[Y]=sanitizeAction(Z,z[Y],Y),F},{})}function sanitizeAction(Z,z,F){return{...z,action:Z(z.action,F)}}function sanitizeStates(Z,z){return z.map((F,C)=>({state:sanitizeState(Z,F.state,C),error:F.error}))}function sanitizeState(Z,z,F){return Z(z,F)}function shouldFilterActions(Z){return Z.predicate||Z.actionsSafelist||Z.actionsBlocklist}function filterLiftedState(Z,z,F,C){const Y=[],ie={},ge=[];return Z.stagedActionIds.forEach((K,ue)=>{const Q=Z.actionsById[K];Q&&(ue&&isActionFiltered(Z.computedStates[ue],Q,z,F,C)||(ie[K]=Q,Y.push(K),ge.push(Z.computedStates[ue])))}),{...Z,stagedActionIds:Y,actionsById:ie,computedStates:ge}}function isActionFiltered(Z,z,F,C,Y){const ie=F&&!F(Z,z.action),ge=C&&!z.action.type.match(C.map(ue=>escapeRegExp(ue)).join("|")),K=Y&&z.action.type.match(Y.map(ue=>escapeRegExp(ue)).join("|"));return ie||ge||K}function escapeRegExp(Z){return Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function injectZoneConfig(Z){return{ngZone:Z?(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.f3M)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R0b):null,connectOutsideZone:Z}}let DevtoolsDispatcher=(()=>{class Z extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{static#e=this.\u0275fac=function(){let F;return function(Y){return(F||(F=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Z)))(Y||Z)}}();static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Z,factory:Z.\u0275fac})}return Z})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Z,z,F){this.config=z,this.dispatcher=F,this.zoneConfig=injectZoneConfig(this.config.connectOutsideZone),this.devtoolsExtension=Z,this.createActionStreams()}notify(Z,z){if(this.devtoolsExtension)if(Z.type===PERFORM_ACTION){if(z.isLocked||z.isPaused)return;const F=unliftState(z);if(shouldFilterActions(this.config)&&isActionFiltered(F,Z,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const C=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,F,z.currentStateIndex):F,Y=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Z,z.nextActionId):Z;this.sendToReduxDevtools(()=>this.extensionConnection.send(Y,C))}else{const F={...z,stagedActionIds:z.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,z.actionsById):z.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,z.computedStates):z.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,F,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Z=>{const z=this.zoneConfig.connectOutsideZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=z,z.init(),z.subscribe(F=>Z.next(F)),z.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Z=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),z=Z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===ExtensionActionTypes.START)),F=Z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===ExtensionActionTypes.STOP)),C=Z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(K=>this.unwrapAction(K.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(K=>K.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ue=>ue.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>K),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(K)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(K))),ie=Z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(K=>this.unwrapAction(K.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(F)),ge=C.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(F));this.start$=z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(F)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ie)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ge))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Z){const z={name:Z.name,features:Z.features,serialize:Z.serialize,autoPause:Z.autoPause??!1,trace:Z.trace??!1,traceLimit:Z.traceLimit??75};return!1!==Z.maxAge&&(z.maxAge=Z.maxAge),z}sendToReduxDevtools(Z){try{Z()}catch(z){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",z)}}static#_=this.\u0275fac=function Z(z){return new(z||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac})}return DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Z,z,F,C,Y){if(C)return{state:F,error:"Interrupted by an error up the chain"};let ge,ie=F;try{ie=Z(F,z)}catch(K){ge=K.toString(),Y.handleError(K)}return{state:ie,error:ge}}function recomputeStates(Z,z,F,C,Y,ie,ge,K,ue){if(z>=Z.length&&Z.length===ie.length)return Z;const Q=Z.slice(0,z),le=ie.length-(ue?1:0);for(let X=z;X<le;X++){const q=ie[X],ee=Y[q].action,oe=Q[X-1],be=oe?oe.state:C,Oe=oe?oe.error:void 0,Me=ge.indexOf(q)>-1?oe:computeNextEntry(F,ee,be,Oe,K);Q.push(Me)}return ue&&Q.push(Z[Z.length-1]),Q}function liftInitialState(Z,z){return{monitorState:z(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Z,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Z,z,F,C,Y={}){return ie=>(ge,K)=>{let{monitorState:ue,actionsById:Q,nextActionId:le,stagedActionIds:X,skippedActionIds:q,committedState:ee,currentStateIndex:oe,computedStates:be,isLocked:Oe,isPaused:Xe}=ge||z;function Me(ft){let _t=ft,he=X.slice(1,_t+1);for(let Pe=0;Pe<he.length;Pe++){if(be[Pe+1].error){_t=Pe,he=X.slice(1,_t+1);break}delete Q[he[Pe]]}q=q.filter(Pe=>-1===he.indexOf(Pe)),X=[0,...X.slice(_t+1)],ee=be[_t].state,be=be.slice(_t),oe=oe>_t?oe-_t:0}function ct(){Q={0:liftAction(INIT_ACTION)},le=1,X=[0],q=[],ee=be[oe].state,oe=0,be=[]}ge||(Q=Object.create(Q));let st=0;switch(K.type){case LOCK_CHANGES:Oe=K.status,st=1/0;break;case PAUSE_RECORDING:Xe=K.status,Xe?(X=[...X,le],Q[le]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),le++,st=X.length-1,be=be.concat(be[be.length-1]),oe===X.length-2&&oe++,st=1/0):ct();break;case RESET:Q={0:liftAction(INIT_ACTION)},le=1,X=[0],q=[],ee=Z,oe=0,be=[];break;case COMMIT:ct();break;case ROLLBACK:Q={0:liftAction(INIT_ACTION)},le=1,X=[0],q=[],oe=0,be=[];break;case TOGGLE_ACTION:{const{id:ft}=K;q=-1===q.indexOf(ft)?[ft,...q]:q.filter(he=>he!==ft),st=X.indexOf(ft);break}case SET_ACTIONS_ACTIVE:{const{start:ft,end:_t,active:he}=K,Pe=[];for(let Ae=ft;Ae<_t;Ae++)Pe.push(Ae);q=he?difference(q,Pe):[...q,...Pe],st=X.indexOf(ft);break}case JUMP_TO_STATE:oe=K.index,st=1/0;break;case JUMP_TO_ACTION:{const ft=X.indexOf(K.actionId);-1!==ft&&(oe=ft),st=1/0;break}case SWEEP:X=difference(X,q),q=[],oe=Math.min(oe,X.length-1);break;case PERFORM_ACTION:{if(Oe)return ge||z;if(Xe||ge&&isActionFiltered(ge.computedStates[oe],K,Y.predicate,Y.actionsSafelist,Y.actionsBlocklist)){const _t=be[be.length-1];be=[...be.slice(0,-1),computeNextEntry(ie,K.action,_t.state,_t.error,F)],st=1/0;break}Y.maxAge&&X.length===Y.maxAge&&Me(1),oe===X.length-1&&oe++;const ft=le++;Q[ft]=K,X=[...X,ft],st=X.length-1;break}case IMPORT_STATE:({monitorState:ue,actionsById:Q,nextActionId:le,stagedActionIds:X,skippedActionIds:q,committedState:ee,currentStateIndex:oe,computedStates:be,isLocked:Oe,isPaused:Xe}=K.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:st=0,Y.maxAge&&X.length>Y.maxAge&&(be=recomputeStates(be,st,ie,ee,Q,X,q,F,Xe),Me(X.length-Y.maxAge),st=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(be.filter(_t=>_t.error).length>0)st=0,Y.maxAge&&X.length>Y.maxAge&&(be=recomputeStates(be,st,ie,ee,Q,X,q,F,Xe),Me(X.length-Y.maxAge),st=1/0);else{if(!Xe&&!Oe){oe===X.length-1&&oe++;const _t=le++;Q[_t]=new PerformAction(K,+Date.now()),X=[...X,_t],st=X.length-1,be=recomputeStates(be,st,ie,ee,Q,X,q,F,Xe)}be=be.map(_t=>({..._t,state:ie(_t.state,RECOMPUTE_ACTION)})),oe=X.length-1,Y.maxAge&&X.length>Y.maxAge&&Me(X.length-Y.maxAge),st=1/0}break;default:st=1/0}return be=recomputeStates(be,st,ie,ee,Q,X,q,F,Xe),ue=C(ue,K),{monitorState:ue,actionsById:Q,nextActionId:le,stagedActionIds:X,skippedActionIds:q,committedState:ee,currentStateIndex:oe,computedStates:be,isLocked:Oe,isPaused:Xe}}}let StoreDevtools=(()=>{class Z{constructor(F,C,Y,ie,ge,K,ue,Q){const le=liftInitialState(ue,Q.monitor),X=liftReducerWith(ue,le,K,Q.monitor,Q),q=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(C.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),ie.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),F,ie.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),ee=Y.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(X)),oe=injectZoneConfig(Q.connectOutsideZone),be=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1);this.liftedStateSubscription=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(ee),emitInZone(oe),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Me},[ct,st])=>{let ft=st(Me,ct);return ct.type!==PERFORM_ACTION&&shouldFilterActions(Q)&&(ft=filterLiftedState(ft,Q.predicate,Q.actionsSafelist,Q.actionsBlocklist)),ie.notify(ct,ft),{state:ft,action:ct}},{state:le,action:null})).subscribe(({state:Me,action:ct})=>{be.next(Me),ct.type===PERFORM_ACTION&&ge.next(ct.action)}),this.extensionStartSubscription=ie.start$.pipe(emitInZone(oe)).subscribe(()=>{this.refresh()});const Oe=be.asObservable(),Xe=Oe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));Object.defineProperty(Xe,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.O4)(Xe,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=F,this.liftedState=Oe,this.state=Xe}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(F){this.dispatcher.next(F)}next(F){this.dispatcher.next(F)}error(F){}complete(){}performAction(F){this.dispatch(new PerformAction(F,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(F){this.dispatch(new ToggleAction(F))}jumpToAction(F){this.dispatch(new JumpToAction(F))}jumpToState(F){this.dispatch(new JumpToState(F))}importState(F){this.dispatch(new ImportState(F))}lockChanges(F){this.dispatch(new LockChanges(F))}pauseRecording(F){this.dispatch(new PauseRecording(F))}static#e=this.\u0275fac=function(C){return new(C||Z)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))};static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Z,factory:Z.\u0275fac})}return Z})();function emitInZone({ngZone:Z,connectOutsideZone:z}){return F=>z?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(C=>F.subscribe({next:Y=>Z.run(()=>C.next(Y)),error:Y=>Z.run(()=>C.error(Y)),complete:()=>Z.run(()=>C.complete())})):F}const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Z,z){return!!Z||z.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Z="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[Z]<"u"?window[Z]:null}function provideStoreDevtools(Z={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Z},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(Z){return Z.state}let StoreDevtoolsModule=(()=>{class Z{static instrument(F={}){return{ngModule:Z,providers:[provideStoreDevtools(F)]}}static#e=this.\u0275fac=function(C){return new(C||Z)};static#t=this.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Z});static#n=this.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({})}return Z})()},4221:(Z,z,F)=>{F.d(z,{UO:()=>nt,qg:()=>rt,Y6:()=>Li,mK:()=>We,n$:()=>se,Y$:()=>bt,FR:()=>Bs,yh:()=>rc,CK:()=>dc,Aw:()=>bS,cr:()=>Sh,wb:()=>pt,PH:()=>Xe,Lq:()=>Br,on:()=>OS,Ky:()=>Me});var C=F(5879),Y=F(5619),ie=F(5592),ge=F(8645),K=F(2381),ue=F(3093),Q=F(2460),le=F(6699),X=F(7398),ee=F(3997),oe=F(1993);const be={};function Xe(j,we){if(be[j]=(be[j]||0)+1,"function"==typeof we)return st(j,(...pe)=>({...we(...pe),type:j}));switch(we?we._as:"empty"){case"empty":return st(j,()=>({type:j}));case"props":return st(j,pe=>({...pe,type:j}));default:throw new Error("Unexpected config.")}}function Me(){return{_as:"props",_p:void 0}}function st(j,we){return Object.defineProperty(we,"type",{value:j,writable:!1})}const rt="@ngrx/store/init";let nt=(()=>{class j extends Y.X{constructor(){super({type:rt})}next(te){if("function"==typeof te)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof te>"u")throw new TypeError("Actions must be objects");if(typeof te.type>"u")throw new TypeError("Actions must have a type property");super.next(te)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(pe){return new(pe||j)};static#t=this.\u0275prov=C.Yz7({token:j,factory:j.\u0275fac})}return j})();const Xt=[nt],$t=new C.OlP("@ngrx/store Internal Root Guard"),Sn=new C.OlP("@ngrx/store Internal Initial State"),Li=new C.OlP("@ngrx/store Initial State"),Vs=new C.OlP("@ngrx/store Reducer Factory"),ic=new C.OlP("@ngrx/store Internal Reducer Factory Provider"),Hr=new C.OlP("@ngrx/store Initial Reducers"),Nl=new C.OlP("@ngrx/store Internal Initial Reducers"),hh=new C.OlP("@ngrx/store Store Features"),ve=new C.OlP("@ngrx/store Internal Store Reducers"),me=new C.OlP("@ngrx/store Internal Feature Reducers"),De=new C.OlP("@ngrx/store Internal Feature Configs"),Ee=new C.OlP("@ngrx/store Internal Store Features"),Ue=new C.OlP("@ngrx/store Internal Feature Reducers Token"),je=new C.OlP("@ngrx/store Feature Reducers"),ut=new C.OlP("@ngrx/store User Provided Meta Reducers"),Ze=new C.OlP("@ngrx/store Meta Reducers"),Ei=new C.OlP("@ngrx/store Internal Resolved Meta Reducers"),At=new C.OlP("@ngrx/store User Runtime Checks Config"),_n=new C.OlP("@ngrx/store Internal User Runtime Checks Config"),Ft=new C.OlP("@ngrx/store Internal Runtime Checks"),wn=new C.OlP("@ngrx/store Check if Action types are unique");function Rn(j,we={}){const te=Object.keys(j),pe={};for(let et=0;et<te.length;et++){const Zt=te[et];"function"==typeof j[Zt]&&(pe[Zt]=j[Zt])}const ze=Object.keys(pe);return function(Zt,An){Zt=void 0===Zt?we:Zt;let kn=!1;const Pt={};for(let Ut=0;Ut<ze.length;Ut++){const En=ze[Ut],ki=Zt[En],Eh=(0,pe[En])(ki,An);Pt[En]=Eh,kn=kn||Eh!==ki}return kn?Pt:Zt}}function co(...j){return function(we){if(0===j.length)return we;const te=j[j.length-1];return j.slice(0,-1).reduceRight((ze,et)=>et(ze),te(we))}}function Oa(j,we){return Array.isArray(we)&&we.length>0&&(j=co.apply(null,[...we,j])),(te,pe)=>{const ze=j(te);return(et,Zt)=>ze(et=void 0===et?pe:et,Zt)}}new C.OlP("@ngrx/store Root Store Provider"),new C.OlP("@ngrx/store Feature State Provider");class se extends ie.y{}class We extends nt{}const pt="@ngrx/store/update-reducers";let Ne=(()=>{class j extends Y.X{get currentReducers(){return this.reducers}constructor(te,pe,ze,et){super(et(ze,pe)),this.dispatcher=te,this.initialState=pe,this.reducers=ze,this.reducerFactory=et}addFeature(te){this.addFeatures([te])}addFeatures(te){const pe=te.reduce((ze,{reducers:et,reducerFactory:Zt,metaReducers:An,initialState:kn,key:Pt})=>{const Ut="function"==typeof et?function Hs(j){const we=Array.isArray(j)&&j.length>0?co(...j):te=>te;return(te,pe)=>(te=we(te),(ze,et)=>te(ze=void 0===ze?pe:ze,et))}(An)(et,kn):Oa(Zt,An)(et,kn);return ze[Pt]=Ut,ze},{});this.addReducers(pe)}removeFeature(te){this.removeFeatures([te])}removeFeatures(te){this.removeReducers(te.map(pe=>pe.key))}addReducer(te,pe){this.addReducers({[te]:pe})}addReducers(te){this.reducers={...this.reducers,...te},this.updateReducers(Object.keys(te))}removeReducer(te){this.removeReducers([te])}removeReducers(te){te.forEach(pe=>{this.reducers=function Ni(j,we){return Object.keys(j).filter(te=>te!==we).reduce((te,pe)=>Object.assign(te,{[pe]:j[pe]}),{})}(this.reducers,pe)}),this.updateReducers(te)}updateReducers(te){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:pt,features:te})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(pe){return new(pe||j)(C.LFG(We),C.LFG(Li),C.LFG(Hr),C.LFG(Vs))};static#t=this.\u0275prov=C.Yz7({token:j,factory:j.\u0275fac})}return j})();const Rt=[Ne,{provide:se,useExisting:Ne},{provide:We,useExisting:nt}];let bt=(()=>{class j extends ge.x{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(){let te;return function(ze){return(te||(te=C.n5z(j)))(ze||j)}}();static#t=this.\u0275prov=C.Yz7({token:j,factory:j.\u0275fac})}return j})();const Tn=[bt];class Bs extends ie.y{}let Ao=(()=>{class j extends Y.X{static#e=this.INIT=rt;constructor(te,pe,ze,et){super(et);const Pt=te.pipe((0,ue.Q)(K.N)).pipe((0,Q.M)(pe)).pipe((0,le.R)(Fn,{state:et}));this.stateSubscription=Pt.subscribe(({state:Ut,action:En})=>{this.next(Ut),ze.next(En)}),this.state=(0,oe.O4)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(pe){return new(pe||j)(C.LFG(nt),C.LFG(se),C.LFG(bt),C.LFG(Li))};static#n=this.\u0275prov=C.Yz7({token:j,factory:j.\u0275fac})}return j})();function Fn(j={state:void 0},[we,te]){const{state:pe}=j;return{state:te(pe,we),action:we}}const ho=[Ao,{provide:Bs,useExisting:Ao}];let rc=(()=>{class j extends ie.y{constructor(te,pe,ze){super(),this.actionsObserver=pe,this.reducerManager=ze,this.source=te,this.state=te.state}select(te,...pe){return fh.call(null,te,...pe)(this)}selectSignal(te,pe){return(0,C.Flj)(()=>te(this.state()),{equal:pe?.equal||((ze,et)=>ze===et)})}lift(te){const pe=new j(this,this.actionsObserver,this.reducerManager);return pe.operator=te,pe}dispatch(te){this.actionsObserver.next(te)}next(te){this.actionsObserver.next(te)}error(te){this.actionsObserver.error(te)}complete(){this.actionsObserver.complete()}addReducer(te,pe){this.reducerManager.addReducer(te,pe)}removeReducer(te){this.reducerManager.removeReducer(te)}static#e=this.\u0275fac=function(pe){return new(pe||j)(C.LFG(Bs),C.LFG(nt),C.LFG(Ne))};static#t=this.\u0275prov=C.Yz7({token:j,factory:j.\u0275fac})}return j})();const Nn=[rc];function fh(j,we,...te){return function(ze){let et;if("string"==typeof j){const Zt=[we,...te].filter(Boolean);et=ze.pipe(function q(...j){const we=j.length;if(0===we)throw new Error("list of properties cannot be empty.");return(0,X.U)(te=>{let pe=te;for(let ze=0;ze<we;ze++){const et=pe?.[j[ze]];if(!(typeof et<"u"))return;pe=et}return pe})}(j,...Zt))}else{if("function"!=typeof j)throw new TypeError(`Unexpected type '${typeof j}' in select operator, expected 'string' or 'function'`);et=ze.pipe((0,X.U)(Zt=>j(Zt,we)))}return et.pipe((0,ee.x)())}}const dn="https://ngrx.io/guide/store/configuration/runtime-checks";function oc(j){return void 0===j}function kl(j){return null===j}function sc(j){return Array.isArray(j)}function gh(j){return"object"==typeof j&&null!==j}function Gl(j){return"function"==typeof j}function Mo(j){return j instanceof C.OlP?(0,C.f3M)(j):j}function Aa(j,we){return we.map((te,pe)=>{if(j[pe]instanceof C.OlP){const ze=(0,C.f3M)(j[pe]);return{key:te.key,reducerFactory:ze.reducerFactory?ze.reducerFactory:Rn,metaReducers:ze.metaReducers?ze.metaReducers:[],initialState:ze.initialState}}return te})}function os(j){return j.map(we=>we instanceof C.OlP?(0,C.f3M)(we):we)}function yr(j){return"function"==typeof j?j():j}function rn(j,we){return j.concat(we)}function xa(){if((0,C.f3M)(rc,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Ma(j){Object.freeze(j);const we=Gl(j);return Object.getOwnPropertyNames(j).forEach(te=>{if(!te.startsWith("\u0275")&&function Xm(j,we){return Object.prototype.hasOwnProperty.call(j,we)}(j,te)&&(!we||"caller"!==te&&"callee"!==te&&"arguments"!==te)){const pe=j[te];(gh(pe)||Gl(pe))&&!Object.isFrozen(pe)&&Ma(pe)}}),j}function fo(j,we=[]){return(oc(j)||kl(j))&&0===we.length?{path:["root"],value:j}:Object.keys(j).reduce((pe,ze)=>{if(pe)return pe;const et=j[ze];return function Vl(j){return Gl(j)&&j.hasOwnProperty("\u0275cmp")}(et)?pe:!(oc(et)||kl(et)||function qm(j){return"number"==typeof j}(et)||function _S(j){return"boolean"==typeof j}(et)||function ph(j){return"string"==typeof j}(et)||sc(et))&&(function is(j){if(!function vh(j){return gh(j)&&!sc(j)}(j))return!1;const we=Object.getPrototypeOf(j);return we===Object.prototype||null===we}(et)?fo(et,[...we,ze]):{path:[...we,ze],value:et})},!1)}function js(j,we){if(!1===j)return;const te=j.path.join("."),pe=new Error(`Detected unserializable ${we} at "${te}". ${dn}#strict${we}serializability`);throw pe.value=j.value,pe.unserializablePath=te,pe}function mh(j){return(0,C.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...j}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function yh({strictActionSerializability:j,strictStateSerializability:we}){return te=>j||we?function Up(j,we){return function(te,pe){we.action(pe)&&js(fo(pe),"action");const ze=j(te,pe);return we.state()&&js(fo(ze),"state"),ze}}(te,{action:pe=>j&&!jl(pe),state:()=>we}):te}function Wp({strictActionImmutability:j,strictStateImmutability:we}){return te=>j||we?function Bl(j,we){return function(te,pe){const ze=we.action(pe)?Ma(pe):pe,et=j(te,ze);return we.state()?Ma(et):et}}(te,{action:pe=>j&&!jl(pe),state:()=>we}):te}function jl(j){return j.type.startsWith("@ngrx")}function Ul({strictActionWithinNgZone:j}){return we=>j?function lc(j,we){return function(te,pe){if(we.action(pe)&&!C.R0b.isInAngularZone())throw new Error(`Action '${pe.type}' running outside NgZone. ${dn}#strictactionwithinngzone`);return j(te,pe)}}(we,{action:te=>j&&!jl(te)}):we}function zp(j){return[{provide:_n,useValue:j},{provide:At,useFactory:SS,deps:[_n]},{provide:Ft,deps:[At],useFactory:mh},{provide:Ze,multi:!0,deps:[Ft],useFactory:Wp},{provide:Ze,multi:!0,deps:[Ft],useFactory:yh},{provide:Ze,multi:!0,deps:[Ft],useFactory:Ul}]}function uc(){return[{provide:wn,multi:!0,deps:[Ft],useFactory:cc}]}function SS(j){return j}function cc(j){if(!j.strictActionTypeUniqueness)return;const we=Object.entries(be).filter(([,te])=>te>1).map(([te])=>te);if(we.length)throw new Error(`Action types are registered more than once, ${we.map(te=>`"${te}"`).join(", ")}. ${dn}#strictactiontypeuniqueness`)}function Ch(j={},we={}){return[{provide:$t,useFactory:xa},{provide:Sn,useValue:we.initialState},{provide:Li,useFactory:yr,deps:[Sn]},{provide:Nl,useValue:j},{provide:ve,useExisting:j instanceof C.OlP?j:Nl},{provide:Hr,deps:[Nl,[new C.tBr(ve)]],useFactory:Mo},{provide:ut,useValue:we.metaReducers?we.metaReducers:[]},{provide:Ei,deps:[Ze,ut],useFactory:rn},{provide:ic,useValue:we.reducerFactory?we.reducerFactory:Rn},{provide:Vs,deps:[ic,Ei],useFactory:Oa},Xt,Rt,Tn,ho,Nn,zp(we.runtimeChecks),uc()]}function wh(j,we,te={}){return[{provide:De,multi:!0,useValue:j instanceof Object?{}:te},{provide:hh,multi:!0,useValue:{key:j instanceof Object?j.name:j,reducerFactory:te instanceof C.OlP||!te.reducerFactory?Rn:te.reducerFactory,metaReducers:te instanceof C.OlP||!te.metaReducers?[]:te.metaReducers,initialState:te instanceof C.OlP||!te.initialState?void 0:te.initialState}},{provide:Ee,deps:[De,hh],useFactory:Aa},{provide:me,multi:!0,useValue:j instanceof Object?j.reducer:we},{provide:Ue,multi:!0,useExisting:we instanceof C.OlP?we:me},{provide:je,multi:!0,deps:[me,[new C.tBr(Ue)]],useFactory:os},uc()]}let Sh=(()=>{class j{constructor(te,pe,ze,et,Zt,An){}static#e=this.\u0275fac=function(pe){return new(pe||j)(C.LFG(nt),C.LFG(se),C.LFG(bt),C.LFG(rc),C.LFG($t,8),C.LFG(wn,8))};static#t=this.\u0275mod=C.oAB({type:j});static#n=this.\u0275inj=C.cJS({})}return j})(),dc=(()=>{class j{constructor(te,pe,ze,et,Zt){this.features=te,this.featureReducers=pe,this.reducerManager=ze;const An=te.map((kn,Pt)=>{const En=pe.shift()[Pt];return{...kn,reducers:En,initialState:yr(kn.initialState)}});ze.addFeatures(An)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(pe){return new(pe||j)(C.LFG(Ee),C.LFG(je),C.LFG(Ne),C.LFG(Sh),C.LFG(wn,8))};static#t=this.\u0275mod=C.oAB({type:j});static#n=this.\u0275inj=C.cJS({})}return j})(),bS=(()=>{class j{static forRoot(te,pe){return{ngModule:Sh,providers:[...Ch(te,pe)]}}static forFeature(te,pe,ze={}){return{ngModule:dc,providers:[...wh(te,pe,ze)]}}static#e=this.\u0275fac=function(pe){return new(pe||j)};static#t=this.\u0275mod=C.oAB({type:j});static#n=this.\u0275inj=C.cJS({})}return j})();function OS(...j){return{reducer:j.pop(),types:j.map(pe=>pe.type)}}function Br(j,...we){const te=new Map;for(const pe of we)for(const ze of pe.types){const et=te.get(ze);te.set(ze,et?(An,kn)=>pe.reducer(et(An,kn),kn):pe.reducer)}return function(pe=j,ze){const et=te.get(ze.type);return et?et(pe,ze):pe}}},7582:(Z,z,F)=>{function oe(ve,me,De,Ee){return new(De||(De=Promise))(function(je,ut){function Ze(_n){try{At(Ee.next(_n))}catch(Ft){ut(Ft)}}function Ei(_n){try{At(Ee.throw(_n))}catch(Ft){ut(Ft)}}function At(_n){_n.done?je(_n.value):function Ue(je){return je instanceof De?je:new De(function(ut){ut(je)})}(_n.value).then(Ze,Ei)}At((Ee=Ee.apply(ve,me||[])).next())})}function he(ve){return this instanceof he?(this.v=ve,this):new he(ve)}function Pe(ve,me,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,Ee=De.apply(ve,me||[]),je=[];return Ue={},ut("next"),ut("throw"),ut("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function ut(wn){Ee[wn]&&(Ue[wn]=function(qn){return new Promise(function(Di,Rn){je.push([wn,qn,Di,Rn])>1||Ze(wn,qn)})})}function Ze(wn,qn){try{!function Ei(wn){wn.value instanceof he?Promise.resolve(wn.value.v).then(At,_n):Ft(je[0][2],wn)}(Ee[wn](qn))}catch(Di){Ft(je[0][3],Di)}}function At(wn){Ze("next",wn)}function _n(wn){Ze("throw",wn)}function Ft(wn,qn){wn(qn),je.shift(),je.length&&Ze(je[0][0],je[0][1])}}function Le(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,me=ve[Symbol.asyncIterator];return me?me.call(ve):(ve=function Me(ve){var me="function"==typeof Symbol&&Symbol.iterator,De=me&&ve[me],Ee=0;if(De)return De.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&Ee>=ve.length&&(ve=void 0),{value:ve&&ve[Ee++],done:!ve}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),De={},Ee("next"),Ee("throw"),Ee("return"),De[Symbol.asyncIterator]=function(){return this},De);function Ee(je){De[je]=ve[je]&&function(ut){return new Promise(function(Ze,Ei){!function Ue(je,ut,Ze,Ei){Promise.resolve(Ei).then(function(At){je({value:At,done:Ze})},ut)}(Ze,Ei,(ut=ve[je](ut)).done,ut.value)})}}}F.d(z,{FC:()=>Pe,KL:()=>Le,mG:()=>oe,qq:()=>he}),"function"==typeof SuppressedError&&SuppressedError}},Z=>{Z(Z.s=3338)}]);